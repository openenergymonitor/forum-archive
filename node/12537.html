<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/12537 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:04:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Water Meter Guide Updated v2.0 | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Water Meter Guide Updated v2.0</h3>
        <span class="submitted">Submitted by <a href="../user/8948.html" title="View user profile.">smitt1979</a> on Thu, 21/04/2016 - 21:23</span>
        <div class="content"><p><strong>Update</strong></p>
<p>Please note that there was a problem in the way the water meter usage was being log to emoncms. I have tried as many ways as I could think of to used to current input and logging that is built in to emoncms to calculate the usage but all had a common problem that cause to feeds to log incorrect data if the system was rebooted</p>
<p>I am reluctantly going to have to update the guide to&nbsp;incorporate node-red to do some of the function</p>
<p>Why reluctantly you ask this is not a problem with using node-red (I love node-red) I want to make any guides that I write to be accessible to all used from the novice to the experts and I don&rsquo;t wont to discourage the novice with complicated setup but in this case I&rsquo;m going to have to use a more complex setup</p>
<p>I have updated the guide with a much detail as I can but if you are having problems please let me known &nbsp;&nbsp;</p>
<p>Please also note you will need to be running one of the later software images that includes node-red</p>
<p><strong>Water Meter Guide</strong></p>
<p>This guide is to show the setup of a water meter with a pulse output. I will be using the pulse input on an EmonTH in this guide but there is no reason the setup will not work with other products in the OEM family that have a pulse input e.g. (Emonpi, etc).</p>
<p>My reason for using the EmonTH is the location of the meter and the pulse input on my Emonpi already being used for monitoring a gas meter (Guide to follow for this too).</p>
<p>Things you will need, where I got mine and costs.</p>
<p>Water meter with pulse output</p>
<p>I&rsquo;m using a Bell Single-jet Cold Water Meter that cost &pound;25.00 from ebay which pulses once for every 10 litres of water used.</p>
<p>The meter info;</p>
<p><a href="http://www.bellflowsystems.co.uk/single-jet-cold-water-meter-alfa-sj-sdc15.html" title="http://www.bellflowsystems.co.uk/single-jet-cold-water-meter-alfa-sj-sdc15.html">http://www.bellflowsystems.co.uk/single-jet-cold-water-meter-alfa-sj-sdc...</a></p>
<p>The meter on ebay;</p>
<p><a href="http://www.ebay.co.uk/itm/WRAS-approved-15mm-1-2-Cold-Water-Meter-Optional-Pulse-Output-/261176216220?var=&amp;hash=item3ccf50ca9c:m:mEoSVGRsQBANJMdSQ5J74QQ" title="http://www.ebay.co.uk/itm/WRAS-approved-15mm-1-2-Cold-Water-Meter-Optional-Pulse-Output-/261176216220?var=&amp;hash=item3ccf50ca9c:m:mEoSVGRsQBANJMdSQ5J74QQ">http://www.ebay.co.uk/itm/WRAS-approved-15mm-1-2-Cold-Water-Meter-Option...</a></p>
<p>​EmonTH (As I needed a battery power device for the location and an additional pulse input) I got the DTH22 - Temperature &amp; Humdity with case for &pound;36.36 (inc VAT) you can get the EmonTH cheaper with no case and humidity sensor for &pound;28.56 (inc VAT) &nbsp;</p>
<p>EmonTH on OEM site;</p>
<p><a href="https://shop.openenergymonitor.com/emonth-no-rf-temperature-humidity-node/" title="https://shop.openenergymonitor.com/emonth-no-rf-temperature-humidity-node/">https://shop.openenergymonitor.com/emonth-no-rf-temperature-humidity-node/</a></p>
<p>10k Resistor &pound;0.29 from maplins;</p>
<p><a href="http://www.maplin.co.uk/p/metal-film-06w-10k-ohm-resistor-m10k" title="http://www.maplin.co.uk/p/metal-film-06w-10k-ohm-resistor-m10k">http://www.maplin.co.uk/p/metal-film-06w-10k-ohm-resistor-m10k</a></p>
<p>The install:</p>
<p><strong>Water Meter</strong></p>
<p><img alt="" src="../sites/default/files/watermeter.png" style="width: 277px; height: 768px;" /></p>
<p><strong>EmonTH wiring a resistor configuration</strong></p>
<p>The water meter only has two cables (Red &amp; Black) the red goes to the 3.3v on the screwed terminal block, the black goes to the D3 on the screwed terminal block.&nbsp; The resistor is installed between the GND &amp; D3 on the screwed terminal block, the resistor keeps the pulse input at 0 this stops any unwanted additions to your usage if you reboot the EmonTH.</p>
<p><img alt="" src="../sites/default/files/20160420_152813.jpg" style="width: 700px; height: 394px;" /></p>
<p><img alt="" src="../sites/default/files/EmonTH.jpg" style="width: 700px; height: 635px;" /></p>
<p><strong>EmonTH back in case</strong></p>
<p><img alt="" src="../sites/default/files/20160420_153509.jpg" style="width: 700px; height: 687px;" /></p>
<p><strong>Finished Install</strong></p>
<p><img alt="" src="../sites/default/files/20160420_153745.jpg" style="width: 432px; height: 768px;" /></p>
<p><strong>​</strong></p>
<p>Open red-node in your browser by going to http://(your-ip):1880</p>
<p>Create a new flow and paste the following code</p>
<p>[{&quot;id&quot;:&quot;1cf92367.a0b1ad&quot;,&quot;type&quot;:&quot;mqtt-broker&quot;,&quot;z&quot;:&quot;&quot;,&quot;broker&quot;:&quot;127.0.0.1&quot;,&quot;port&quot;:&quot;1883&quot;,&quot;clientid&quot;:&quot;&quot;,&quot;usetls&quot;:false,&quot;verifyservercert&quot;:true,&quot;compatmode&quot;:true,&quot;keepalive&quot;:&quot;15&quot;,&quot;cleansession&quot;:true,&quot;willTopic&quot;:&quot;&quot;,&quot;willQos&quot;:&quot;0&quot;,&quot;willRetain&quot;:null,&quot;willPayload&quot;:&quot;&quot;,&quot;birthTopic&quot;:&quot;&quot;,&quot;birthQos&quot;:&quot;0&quot;,&quot;birthRetain&quot;:null,&quot;birthPayload&quot;:&quot;&quot;},{&quot;id&quot;:&quot;5ec639ac.78fec8&quot;,&quot;type&quot;:&quot;mqtt&nbsp;in&quot;,&quot;z&quot;:&quot;536ce9ff.5df118&quot;,&quot;name&quot;:&quot;Emonpi&quot;,&quot;topic&quot;:&quot;emon/emonth5/pulsecount&quot;,&quot;broker&quot;:&quot;1cf92367.a0b1ad&quot;,&quot;x&quot;:490,&quot;y&quot;:320,&quot;wires&quot;:[[&quot;c34c254a.da8ab8&quot;]]},{&quot;id&quot;:&quot;c34c254a.da8ab8&quot;,&quot;type&quot;:&quot;function&quot;,&quot;z&quot;:&quot;536ce9ff.5df118&quot;,&quot;name&quot;:&quot;X 10&quot;,&quot;func&quot;:&quot;msg.payload = msg.payload * 10;\nreturn&nbsp;msg;&quot;,&quot;outputs&quot;:1,&quot;noerr&quot;:0,&quot;x&quot;:650,&quot;y&quot;:320,&quot;wires&quot;:[[&quot;810e7aa6.0ff5d8&quot;,&quot;3ab09144.40de7e&quot;]]},{&quot;id&quot;:&quot;810e7aa6.0ff5d8&quot;,&quot;type&quot;:&quot;mqtt&nbsp;out&quot;,&quot;z&quot;:&quot;536ce9ff.5df118&quot;,&quot;name&quot;:&quot;Water&nbsp;Litres&quot;,&quot;topic&quot;:&quot;emon/Water/Litres&quot;,&quot;qos&quot;:&quot;&quot;,&quot;retain&quot;:&quot;&quot;,&quot;broker&quot;:&quot;1cf92367.a0b1ad&quot;,&quot;x&quot;:830,&quot;y&quot;:320,&quot;wires&quot;:[]},{&quot;id&quot;:&quot;3ab09144.40de7e&quot;,&quot;type&quot;:&quot;function&quot;,&quot;z&quot;:&quot;536ce9ff.5df118&quot;,&quot;name&quot;:&quot;X 1000&quot;,&quot;func&quot;:&quot;msg.payload = msg.payload * 1000;\nreturn&nbsp;msg;&quot;,&quot;outputs&quot;:1,&quot;noerr&quot;:0,&quot;x&quot;:660,&quot;y&quot;:380,&quot;wires&quot;:[[&quot;73d59f42.b6d44&quot;]]},{&quot;id&quot;:&quot;73d59f42.b6d44&quot;,&quot;type&quot;:&quot;mqtt&nbsp;out&quot;,&quot;z&quot;:&quot;536ce9ff.5df118&quot;,&quot;name&quot;:&quot;Water&nbsp;Litres&nbsp;A Day&quot;,&quot;topic&quot;:&quot;emon/Water/LitresDay&quot;,&quot;qos&quot;:&quot;&quot;,&quot;retain&quot;:&quot;&quot;,&quot;broker&quot;:&quot;1cf92367.a0b1ad&quot;,&quot;x&quot;:850,&quot;y&quot;:380,&quot;wires&quot;:[]}]</p>
<p>You should see the follow flow<img alt="" src="../sites/default/files/WaterNodeRed.png" style="width: 581px; height: 257px;" /></p>
<p>Double click on the EmonTH node</p>
<p><img alt="" src="../sites/default/files/EmonTHmqtt.png" style="width: 496px; height: 275px;" /></p>
<p>Click on the pen icon next to the server input box and then go to security tab and enter your mqtt username and password then click update (You can find the username and password for MQTT in the emonhub config file)</p>
<p>Repeat this process for Water Litres &amp; Water Litres A Day nodes&nbsp; and then click Deploy If all goes well all three node should now say connected</p>
<p>How the flow works</p>
<p><strong>EmonTH</strong></p>
<p>This node connects to the EmonTH pulse counter and returns the value</p>
<p><strong>X 10</strong></p>
<p>This node times the pulse counter value by 10 as 1 is = to 10 litres of water</p>
<p><img alt="" src="../sites/default/files/x10.png" style="width: 494px; height: 560px;" /></p>
<p><strong>X 1000</strong></p>
<p>This node times the X 10 value by 1000 this is so 10 litres is = to 10 kWh when displayed in a zoom graph &nbsp;</p>
<p><img alt="" src="../sites/default/files/x1000.png" style="width: 489px; height: 556px;" /></p>
<p><strong>Water Litres</strong></p>
<p>This node sends the value from X 10 back to emoncms</p>
<p><strong>Water Litres A Day</strong></p>
<p>This node sends the value from X 1000 back to emoncms</p>
<p>And thats the node-red bit done ;-)</p>
<p>You should now have a Water Node in inputs on emoncms</p>
<p>​<img alt="" src="../sites/default/files/Waternode.png" style="width: 700px; height: 17px;" /></p>
<p><strong>Emoncms inputs configuration</strong></p>
<p>Add a Wh Accumulator to the Water Litres node (Logs your water usage)</p>
<p>Add a Total pulse count to pulse increment to the Water LitresDay node (Increment water used)</p>
<p>Add a &nbsp;Wh increments to kWh/d to the Water LitresDay node (logs litres used per day)</p>
<p><img alt="" src="../sites/default/files/Waterinput_0.png" style="width: 700px; height: 42px;" /></p>
<p>Emoncms Feeds</p>
<p><img alt="" src="../sites/default/files/Waterfeed_0.png" style="width: 700px; height: 69px;" /></p>
<p><strong>Dashboard Example</strong></p>
<p><img alt="" src="../sites/default/files/WaterDash.png" style="width: 700px; height: 116px;" /></p>
<p><img alt="" src="../sites/default/files/WaterZoom.png" style="width: 611px; height: 271px;" /></p>
<p>This is my first guide on OEM so any feedback is welcome I&rsquo;m more than happy to edit if anyone has a better way of setting this up</p>
<p>Thanks Steve</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12564.html" class="topic-previous" title="Go to previous forum topic">‹ Calibration constants</a>
              <a href="12542.html" class="topic-next" title="Go to next forum topic">Send current power from efergy unit to emoncms? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-41325"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8797.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="M0n0wall&#039;s picture" title="M0n0wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water Meter Guide Updated v2.0</h3>

    <div class="submitted">Submitted by <a href="../user/8797.html" title="View user profile.">M0n0wall</a> on Thu, 21/04/2016 - 21:37.</div>
    <div class="content">
     <p>Hi Steve</p>
<p>Thank you for taking the time in producing this well documented project.</p>
<p>&nbsp;</p>
<p>Regards</p>
<p>Dave</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41327"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8066.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="firefox7518&#039;s picture" title="firefox7518&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water Meter Guide Updated v2.0</h3>

    <div class="submitted">Submitted by <a href="../user/8066.html" title="View user profile.">firefox7518</a> on Fri, 22/04/2016 - 05:28.</div>
    <div class="content">
     <p>Perfect Steve!&nbsp;</p>
<p>I just started to use EmonCMS for ou&nbsp;towns Water treatment. Just waiting for internet in the reservoir so that I can send the data out to my main server.</p>
<p>We have a Siemens Simatic with ModbusTCP which I read out and send the data to a local EmonCMS in the operations control room. Next thing I also wanted to add is a pluse counter which reads the water outflow from the both reservoirs where maybe your guide will become handy for that :-)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41329"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water Meter Guide Updated v2.0</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Fri, 22/04/2016 - 07:57.</div>
    <div class="content">
     <p>Hi</p>
<p>Great guide !</p>
<p>You should add what sketch must be used.</p>
<p>Eric</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41335"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8948.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="smitt1979&#039;s picture" title="smitt1979&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water Meter Guide Updated v2.0</h3>

    <div class="submitted">Submitted by <a href="../user/8948.html" title="View user profile.">smitt1979</a> on Fri, 22/04/2016 - 09:43.</div>
    <div class="content">
     <p>Hi Eric</p>
<p>All stock&nbsp;sketch no mod of any kind I like to try and use the default system setup so it accessible to a user&#39;s</p>
<p>Thanks Steve</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41336"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water Meter Guide Updated v2.0</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Fri, 22/04/2016 - 11:01.</div>
    <div class="content">
     <p>Ok but it doesn&#39;t tell us which sketch it is.</p>
<p>For old and coming users, it would be difficult to use your guide because the &quot;main&quot; sketch of the EmonTH changed many time in the past and it will change for sure in the future.</p>
<p>Again, great guide except that point.</p>
<p>Eric</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41340"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water Meter Guide Updated v2.0</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Fri, 22/04/2016 - 13:29.</div>
    <div class="content">
     <p>Nice guide!&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41361"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8948.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="smitt1979&#039;s picture" title="smitt1979&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water Meter Guide Updated v2.0</h3>

    <div class="submitted">Submitted by <a href="../user/8948.html" title="View user profile.">smitt1979</a> on Sat, 23/04/2016 - 22:34.</div>
    <div class="content">
     <p>Hi all</p>
<p>Please note a change in the&nbsp;Emoncms inputs configuration as there was a error in the&nbsp;usage if you rebooted to system</p>
<p>Guide has been updated</p>
<p>Steve</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/12537"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-qbe5eg2SJDAKRM4XLLgdZ7P82sxjFeXRwwMSk2uSxYQ" value="form-qbe5eg2SJDAKRM4XLLgdZ7P82sxjFeXRwwMSk2uSxYQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
