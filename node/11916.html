<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11916 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:56:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>RSSI values always reporting as  &quot;RSSI: -2147483648&quot; - Unreliable content? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">RSSI values always reporting as  &quot;RSSI: -2147483648&quot; - Unreliable content?</h3>
        <span class="submitted">Submitted by <a href="../user/9051.html" title="View user profile.">gregl</a> on Sat, 02/01/2016 - 09:31</span>
        <div class="content"><p>Hi everyone - Happy New Year!</p>
<p>Im a newbie to OEM, and getting through it slowly...great learning experience!</p>
<p>I&#39;ve one TX and two Shields. ( 433mhz ) and all three appear to be working correctly, as in they are sending voltage/temp and power etc... but the RSSI data is not...In the Nodes view all three report as</p>
<p>&quot;RSSI: -2147483648&quot;</p>
<p>Below is emonhub log, which reports all the RSSI&nbsp;packets as Unreliable?</p>
<p>Any ideas as to what ive done wrong???</p>
<blockquote><p>016-01-02 09:28:46,140 DEBUG RFM2Pi 2968 From Node : 11 2016-01-02 09:28:46,154 DEBUG RFM2Pi 2968 Values : [0, 0, 0, 0, 236.64000000000001] 2016-01-02 09:28:46,161 DEBUG RFM2Pi 2968 RSSI : -4281139232 2016-01-02 09:28:46,169 INFO RFM2Pi Publishing: emonhub/rx/11/values 0,0,0,0,236.64 2016-01-02 09:28:46,183 INFO RFM2Pi Publishing: emonhub/rx/11/rssi -4281139232 2016-01-02 09:28:46,193 DEBUG RFM2Pi 2968 adding frame to buffer =&gt; [1451726926, 11, 0, 0, 0, 0, 236.64000000000001, -4281139232L] 2016-01-02 09:28:46,196 DEBUG RFM2Pi 2968 Sent to channel&#39; : ToEmonCMS 2016-01-02 09:28:46,317 DEBUG RFM2Pi Discarding RX frame &#39;unreliable content&#39;? 12 167 129 24 0 100 191 123 251 25 246 249 203 125 132 219 69 148 45 129 219 (-4281139275) 2016-01-02 09:28:46,629 DEBUG RFM2Pi 2969 NEW FRAME : OK 12 0 0 0 0 0 0 0 0 56 90 (-4281139229) 2016-01-02 09:28:46,635 DEBUG RFM2Pi 2969 Timestamp : 1451726926.63 2016-01-02 09:28:46,637 DEBUG RFM2Pi 2969 From Node : 12 2016-01-02 09:28:46,641 DEBUG RFM2Pi 2969 Values : [0, 0, 0, 0, 230.96] 2016-01-02 09:28:46,643 DEBUG RFM2Pi 2969 RSSI : -4281139229 2016-01-02 09:28:46,647 INFO RFM2Pi Publishing: emonhub/rx/12/values 0,0,0,0,230.96 2016-01-02 09:28:46,652 INFO RFM2Pi Publishing: emonhub/rx/12/rssi -4281139229 2016-01-02 09:28:46,658 DEBUG RFM2Pi 2969 adding frame to buffer =&gt; [1451726926, 12, 0, 0, 0, 0, 230.96, -4281139229L] 2016-01-02 09:28:46,660 DEBUG RFM2Pi 2969 Sent to channel&#39; : ToEmonCMS 2016-01-02 09:28:52,023 DEBUG RFM2Pi Discarding RX frame &#39;unreliable content&#39;? 4 116 163 124 12 180 245 17 3 230 79 12 193 122 63 84 14 65 45 6 144 (-4281139276) 2016-01-02 09:28:52,135 DEBUG RFM2Pi 2970 NEW FRAME : OK 11 0 0 0 0 0 0 0 0 146 92 (-4281139231) 2016-01-02 09:28:52,141 DEBUG RFM2Pi 2970 Timestamp : 1451726932.13 2016-01-02 09:28:52,144 DEBUG RFM2Pi 2970 From Node : 11 2016-01-02 09:28:52,146 DEBUG RFM2Pi 2970 Values : [0, 0, 0, 0, 236.98000000000002] 2016-01-02 09:28:52,149 DEBUG RFM2Pi 2970 RSSI : -4281139231 2016-01-02 09:28:52,152 INFO RFM2Pi Publishing: emonhub/rx/11/values 0,0,0,0,236.98 2016-01-02 09:28:52,157 INFO RFM2Pi Publishing: emonhub/rx/11/rssi -4281139231 2016-01-02 09:28:52,163 DEBUG RFM2Pi 2970 adding frame to buffer =&gt; [1451726932, 11, 0, 0, 0, 0, 236.98000000000002, -4281139231L] 2016-01-02 09:28:52,166 DEBUG RFM2Pi 2970 Sent to channel&#39; : ToEmonCMS 2016-01-02 09:28:52,499 DEBUG RFM2Pi 2971 NEW FRAME : OK 12 0 0 0 0 0 0 0 0 77 90 (-4281139230)<br />
&nbsp;</p>
</blockquote>
  <div class="forum-topic-navigation clear-block">
          <a href="11728.html" class="topic-previous" title="Go to previous forum topic">‹ how does the button widget work ?</a>
              <a href="11919.html" class="topic-next" title="Go to next forum topic">2 Phase Monitoring? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-37743"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 02/01/2016 - 11:42.</div>
    <div class="content">
     <p>Hi Greg, Happy New Year to you !</p>
<p>At first glance I would say there was an issue in the rfm receiver firmware or at least a misunderstanding between it and emonhub. I can tell you are using the emon-pi variant of emonhub from the logs but cannot tell what hardware that is on, I assume a Pi but is it an emonPi or do you have a RFM2Pi board attached?</p>
<p>Did you use a pre-built image, use a guide to roll your own or do your own thing? Have you run any updates etc?</p>
<p>Looking at your log (in future <em>please </em>try and either attach a file so the line endings are in-tact or cut &amp;&nbsp;paste with the lines wrapped to make reading easier) they are neither&nbsp;all &quot;unreliable content&quot; or all&nbsp;&quot;rssi:&nbsp;-2147483648&quot; in fact none of the sample you attached have that rssi so for the moment I think the &quot;In the Nodes view all three report as&quot; maybe a red herring and it was just coincidental at that time they happened to be the same, perhaps you can confirm that for us as that may signify another issue if the rssi&#39;s are being&nbsp;shared etc.</p>
<p>The rssi&#39;s are definitely wrong and as far as I can tell appear to be arriving that way. The &quot;unreliable content&quot; however is probably a little noise, the &quot;?&quot; is the indicator for it to be discarded as it failed crc checks, these are not uncommon so can be ignored for the moment until the rssi issue is resolved.</p>
<p>What sort of range are your devices working over? would you expect them to be similar and or strong/weak etc?</p>
<p>Looking at the rssi numbers last 2&nbsp;bytes (rather than what appears to be a unsigned Long with a &quot;-&quot; prefixed or a Signed LongLong) they are 32, 75, 29, 76, 31 and 30 for each of the 6 packets shown below, the 2nd and 4th are considerably higher numbers (weaker signals) so do seem to be based on the correct values although somewhat distorted.&nbsp;</p>
<p>2016-01-02 09:28:46,140 DEBUG RFM2Pi 2968 From Node : 11&nbsp;<br />
2016-01-02 09:28:46,154 DEBUG RFM2Pi 2968 Values : [0, 0, 0, 0, 236.64000000000001]&nbsp;<br />
2016-01-02 09:28:46,161 DEBUG RFM2Pi 2968 RSSI : -4281139232&nbsp;<br />
2016-01-02 09:28:46,169 INFO RFM2Pi Publishing: emonhub/rx/11/values 0,0,0,0,236.64&nbsp;<br />
2016-01-02 09:28:46,183 INFO RFM2Pi Publishing: emonhub/rx/11/rssi -4281139232&nbsp;<br />
2016-01-02 09:28:46,193 DEBUG RFM2Pi 2968 adding frame to buffer =&gt; [1451726926, 11, 0, 0, 0, 0, 236.64000000000001, -4281139232L]&nbsp;<br />
2016-01-02 09:28:46,196 DEBUG RFM2Pi 2968 Sent to channel&#39; : ToEmonCMS</p>
<p>​2016-01-02 09:28:46,317 DEBUG RFM2Pi Discarding RX frame &#39;unreliable content&#39;? 12 167 129 24 0 100 191 123 251 25 246 249 203 125 132 219 69 148 45 129 219 (-4281139275)&nbsp;</p>
<p>2016-01-02 09:28:46,629 DEBUG RFM2Pi 2969 NEW FRAME : OK 12 0 0 0 0 0 0 0 0 56 90 (-4281139229)&nbsp;<br />
2016-01-02 09:28:46,635 DEBUG RFM2Pi 2969 Timestamp : 1451726926.63&nbsp;<br />
2016-01-02 09:28:46,637 DEBUG RFM2Pi 2969 From Node : 12&nbsp;<br />
2016-01-02 09:28:46,641 DEBUG RFM2Pi 2969 Values : [0, 0, 0, 0, 230.96]&nbsp;<br />
2016-01-02 09:28:46,643 DEBUG RFM2Pi 2969 RSSI : -4281139229&nbsp;<br />
2016-01-02 09:28:46,647 INFO RFM2Pi Publishing: emonhub/rx/12/values 0,0,0,0,230.96&nbsp;<br />
2016-01-02 09:28:46,652 INFO RFM2Pi Publishing: emonhub/rx/12/rssi -4281139229&nbsp;<br />
2016-01-02 09:28:46,658 DEBUG RFM2Pi 2969 adding frame to buffer =&gt; [1451726926, 12, 0, 0, 0, 0, 230.96, -4281139229L]&nbsp;<br />
2016-01-02 09:28:46,660 DEBUG RFM2Pi 2969 Sent to channel&#39; : ToEmonCMS&nbsp;</p>
<p>2016-01-02 09:28:52,023 DEBUG RFM2Pi Discarding RX frame &#39;unreliable content&#39;? 4 116 163 124 12 180 245 17 3 230 79 12 193 122 63 84 14 65 45 6 144 (-4281139276)&nbsp;</p>
<p>2016-01-02 09:28:52,135 DEBUG RFM2Pi 2970 NEW FRAME : OK 11 0 0 0 0 0 0 0 0 146 92 (-4281139231)&nbsp;<br />
2016-01-02 09:28:52,141 DEBUG RFM2Pi 2970 Timestamp : 1451726932.13&nbsp;<br />
2016-01-02 09:28:52,144 DEBUG RFM2Pi 2970 From Node : 11&nbsp;<br />
2016-01-02 09:28:52,146 DEBUG RFM2Pi 2970 Values : [0, 0, 0, 0, 236.98000000000002]&nbsp;<br />
2016-01-02 09:28:52,149 DEBUG RFM2Pi 2970 RSSI : -4281139231&nbsp;<br />
2016-01-02 09:28:52,152 INFO RFM2Pi Publishing: emonhub/rx/11/values 0,0,0,0,236.98&nbsp;<br />
2016-01-02 09:28:52,157 INFO RFM2Pi Publishing: emonhub/rx/11/rssi -4281139231&nbsp;<br />
2016-01-02 09:28:52,163 DEBUG RFM2Pi 2970 adding frame to buffer =&gt; [1451726932, 11, 0, 0, 0, 0, 236.98000000000002, -4281139231L] 2016-01-02 09:28:52,166 DEBUG RFM2Pi 2970 Sent to channel&#39; : ToEmonCMS&nbsp;</p>
<p>2016-01-02 09:28:52,499 DEBUG RFM2Pi 2971 NEW FRAME : OK 12 0 0 0 0 0 0 0 0 77 90 (-4281139230)</p>
<p>Let us know what hardware/firmware you are using so we can look at the code.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37750"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9051.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gregl&#039;s picture" title="gregl&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/9051.html" title="View user profile.">gregl</a> on Sat, 02/01/2016 - 12:08.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>Thanks for your reply.&nbsp;Understood about the pasting the logs.</p>
<p>Apologies for not posting my emonbase hardware which is a Rpi Rev2 Model B. It has the&nbsp;RFM69Pi&nbsp;&shy; base fron the shop.</p>
<p>I&#39;m using the v9 image &quot;emonSD-18Dec2015.img&quot; , Its showing &quot;Emoncms Version low-write 9.2 | 2015.12.10&quot;.</p>
<p>I ran the update from (<a href="http://emonpi/emoncms/admin/view" title="http://emonpi/emoncms/admin/view">http://emonpi/emoncms/admin/view</a>)...but i guess that does not update the RFM69pi firmware....</p>
<p>With the RSSI value, in the Nodes view (<a href="http://emonpi/emoncms/nodes/view" title="http://emonpi/emoncms/nodes/view">http://emonpi/emoncms/nodes/view</a>) all three do report the same value...&quot;&nbsp;-2147483648&quot; - even after a reboot of the Rpi...so i guess this value is not originating from any data from the radio??</p>
<p>The EmonTX is already commissioned in my powerbox, which is probably over 10m away from the EmonBase, but the two emonTXshields are only about 1200cm away from the base.</p>
<p>Thanks again for your help ;-)</p>
<p>Edit: Over the past week ive never seen a valid value for RSSI. I wasnt worried about it at that time, only getting good data for power/voltage.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37755"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 02/01/2016 - 12:49.</div>
    <div class="content">
     <p>Are you able to use a serial console like minicom&nbsp;or similar to get a sample of data direct from the serial port?</p>
<p>The RFM69Pi&nbsp;firmware has been around a while and there have been no similar reports so that casts some doubt on the packets arriving &quot;distorted&quot; but doesn&#39;t absolutely rule it out.</p>
<p>The nodes all sharing a fixed rssi&nbsp;is probably a&nbsp;different issue, but as the &quot;publishing&nbsp;rssi&quot; code is a relatively new addition&nbsp;I do not know how tried and tested it is or how it would react to the value being so far out of scope, it maybe coincidental but the binary for &quot;-2147483648&quot; is 10000000 00000000 00000000 00000000 and since the leading bit is usually&nbsp;the sign&nbsp;I wonder if it is attempting a &quot;-0&quot; representation as used by the emonPi?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37756"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7218.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="emjay&#039;s picture" title="emjay&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/7218.html" title="View user profile.">emjay</a> on Sat, 02/01/2016 - 13:10.</div>
    <div class="content">
     <p>@gregl,</p>
<p>For what it&#39;s worth, -2147483648 is a slightly confused mapping of 4 empty bytes to decimal.</p>
<p>Oops, crossed with Paul&#39;s more erudite email.</p>
<p>Also curious is the pseudo precision of for example 236.98000000000002 when 236.98 is an exact mapping...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37757"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 02/01/2016 - 14:55.</div>
    <div class="content">
     <p>@emjay, Happy New Year to you,</p>
<p>I was also intrigued&nbsp;by the additional &quot;0.00000000000002&quot;, I assume&nbsp;it is a quirk of using float&nbsp;due to this line in emonhub.</p>
<p>​<a href="https://github.com/openenergymonitor/emonhub/blob/emon-pi/src/interfacers/emonhub_interfacer.py#L252">val = decoded[i] * float(x)</a></p>
<p>where val is the result of multiplying (usually) an&nbsp;Int or Long by the float&nbsp;&quot;scale&quot; of (usually) 0.01 or 0.1, (I&#39;m not a fan of floats and they always seem broken to me) I guess&nbsp;a &quot;rounding&quot; of the result to the same number of decimal places as the &quot;scale&quot; may be in order since it can never actually (accurately?) be to a higher precision.</p>
<p>Perhaps change this line</p>
<p><a href="https://github.com/openenergymonitor/emonhub/blob/emon-pi/src/interfacers/emonhub_interfacer.py#L256">decoded[i] = float(val)</a></p>
<p>to <strong>decoded[i] =&nbsp;round(float(val),len(x)-x.rfind(&quot;.&quot;)-1)</strong></p>
<p>Since x (the &quot;scale&quot;)&nbsp;has been read from the conf it is a string, we can&nbsp;minus the index of the &quot;.&quot; character&nbsp;from the length ( and -1 correction for the zero index) to find the decimal places for round().</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37779"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9051.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gregl&#039;s picture" title="gregl&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/9051.html" title="View user profile.">gregl</a> on Sun, 03/01/2016 - 00:25.</div>
    <div class="content">
     <p>Thanks again for your help gents.&nbsp;Here is the output from minicom.</p>
<p>&nbsp;? 174 108 167 152 100 112 168 6 5 184 132 238 99 133 205 250 200 13 119 52 108 (-4281139279)<br />
&nbsp;? 171 130 243 142 45 204 175 210 253 (-4281139275)<br />
OK 12 0 0 0 0 0 0 0 0 77 90 (-4281139236)<br />
OK 11 0 0 0 0 0 0 0 0 119 92 (-4281139237)<br />
OK 12 0 0 0 0 0 0 0 0 71 90 (-4281139236)<br />
&nbsp;? 133 187 53 237 221 131 (-4281139278)<br />
OK 11 0 0 0 0 0 0 0 0 134 92 (-4281139235)<br />
&nbsp;? 161 88 243 22 154 162 20 93 79 59 137 133 228 252 77 157 150 61 42 14 50 (-4281139275)<br />
OK 12 0 0 0 0 0 0 0 0 74 90 (-4281139242)<br />
OK 11 0 0 0 0 0 0 0 0 130 92 (-4281139238)<br />
&nbsp;? 137 147 235 254 136 200 249 59 236 190 48 117 128 53 164 155 163 162 15 230 25 (-4281139277)<br />
OK 12 0 0 0 0 0 0 0 0 116 90 (-4281139234)<br />
&nbsp;? 32 97 28 206 54 157 185 88 167 185 157 231 70 4 36 88 26 58 (-4281139277)<br />
&nbsp;? 11 0 0 0 0 0 0 0 126 92 222 (-4281139234)<br />
OK 8 4 0 56 1 196 1 0 0 202 92 184 11 184 11 184 11 184 11 184 11 184 11 1 0 0 0 (-4281139266)<br />
&nbsp;? 178 78 157 189 87 191 242 201 33 243 188 45 7 57 229 208 239 103 12 191 178 (-4281139276)<br />
&nbsp;? 143 213 197 129 112 19 122 142 99 127 89 178 183 213 134 35 128 158 29 151 51 (-4281139273)<br />
OK 11 0 0 0 0 0 0 0 0 131 92 (-4281139234)<br />
&nbsp;? 142 27 77 200 66 104 236 151 220 243 236 92 90 238 207 210 81 100 233 109 222 (-4281139278)<br />
OK 12 0 0 0 0 0 0 0 0 94 90 (-4281139235)<br />
&nbsp;? 63 192 156 108 118 210 152 44 16 131 167 158 111 225 96 89 143 227 115 244 197 (-4281139276)<br />
&nbsp;? 11 0 0 0 0 0 0 0 46 92 226 (-4281139249)<br />
&nbsp;? 181 195 229 80 104 126 110 221 5 152 215 209 135 46 126 27 16 239 20 138 18 (-4281139277)<br />
&nbsp;? 142 116 203 35 143 253 46 230 239 238 227 82 146 63 94 175 90 37 5 82 98 (-4281139275)<br />
&nbsp;? 3 199 29 85 138 110 76 203 50 58 67 188 206 124 132 22 137 236 191 78 62 (-4281139276)<br />
&nbsp;? 11 0 0 0 0 0 0 0 0 128 92 (-4281139236)<br />
OK 8 2 0 57 1 194 1 0 0 193 92 184 11 184 11 184 11 184 11 184 11 184 11 1 0 0 0 (-4281139267)<br />
OK 12 0 0 0 0 0 0 0 0 101 90 (-4281139236)<br />
&nbsp;? 11 0 0 0 0 0 0 0 134 92 157 (-4281139236)<br />
OK 12 0 0 0 0 0 0 0 0 117 90 (-4281139236)<br />
&nbsp;? 44 208 70 30 14 245 79 158 175 226 255 134 20 149 91 125 132 34 143 54 174 (-4281139276)<br />
OK 11 0 0 0 0 0 0 0 0 108 92 (-4281139237)<br />
OK 12 0 0 0 0 0 0 0 0 57 90 (-4281139237)<br />
OK 11 0 0 0 0 0 0 0 0 112 92 (-4281139234)<br />
OK 12 0 0 0 0 0 0 0 0 84 90 (-4281139236)<br />
&nbsp;? 11 0 0 0 0 0 0 0 124 92 223 (-4281139234)<br />
OK 12 0 0 0 0 0 0 0 0 101 90 (-4281139235)</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>is there a way i can see what version of firmware has been loaded onto th RFM69PI?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37780"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 03/01/2016 - 00:37.</div>
    <div class="content">
     <p>If you look in emonhub.log back to when it was started last or just&nbsp;restart emonhub&nbsp;it is logged at start-up.</p>
<p>Or if you still have minicom&nbsp;connected you can just send a &quot;?&quot; which will result in a help text being printed which will include the version.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37783"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9051.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gregl&#039;s picture" title="gregl&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/9051.html" title="View user profile.">gregl</a> on Sun, 03/01/2016 - 06:45.</div>
    <div class="content">
     <p>Here is emonhub.log from a fresh reboot.</p>
<p>&nbsp;</p>
<p>2016-01-03 06:40:09,567 INFO &nbsp; &nbsp; MainThread EmonHub emonHub &#39;emon-pi&#39; variant v1.1<br />
2016-01-03 06:40:09,593 INFO &nbsp; &nbsp; MainThread Opening hub...<br />
2016-01-03 06:40:09,596 INFO &nbsp; &nbsp; MainThread Logging level set to DEBUG<br />
2016-01-03 06:40:09,621 INFO &nbsp; &nbsp; MainThread Creating EmonHubJeeInterfacer &#39;RFM2Pi&#39;&nbsp;<br />
2016-01-03 06:40:09,664 DEBUG &nbsp; &nbsp;MainThread Opening serial port: /dev/ttyAMA0 @ 38400 bits/s<br />
2016-01-03 06:40:11,707 INFO &nbsp; &nbsp; MainThread RFM2Pi device firmware version: [RF12demo.12]<br />
2016-01-03 06:40:11,716 INFO &nbsp; &nbsp; MainThread RFM2Pi device current settings: &nbsp;@ i0 g210 @ 433 MHz<br />
2016-01-03 06:40:11,731 INFO &nbsp; &nbsp; MainThread Setting RFM2Pi quiet: 0 (0q)<br />
2016-01-03 06:40:12,735 INFO &nbsp; &nbsp; MainThread Setting RFM2Pi baseid: 5 (5i)<br />
2016-01-03 06:40:13,739 INFO &nbsp; &nbsp; MainThread Setting RFM2Pi calibration: 230V (1p)<br />
2016-01-03 06:40:14,743 DEBUG &nbsp; &nbsp;MainThread Setting RFM2Pi subchannels: [&#39;ToRFM12&#39;]<br />
2016-01-03 06:40:14,747 DEBUG &nbsp; &nbsp;MainThread Interfacer: Subscribed to channel&#39; : ToRFM12<br />
2016-01-03 06:40:14,770 DEBUG &nbsp; &nbsp;MainThread Setting RFM2Pi pubchannels: [&#39;ToEmonCMS&#39;]<br />
2016-01-03 06:40:14,774 DEBUG &nbsp; &nbsp;MainThread Interfacer: Subscribed to channel&#39; : ToRFM12<br />
2016-01-03 06:40:14,788 INFO &nbsp; &nbsp; MainThread Creating EmonHubMqttInterfacer &#39;MQTT&#39;&nbsp;<br />
2016-01-03 06:40:14,803 INFO &nbsp; &nbsp; MainThread MQTT Init mqtt_host=127.0.0.1 mqtt_port=1883 mqtt_user=&nbsp;<br />
2016-01-03 06:40:14,821 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &gt; 0q<br />
2016-01-03 06:40:14,842 DEBUG &nbsp; &nbsp;MainThread MQTT Subscribed to channel&#39; : ToEmonCMS<br />
2016-01-03 06:40:14,857 INFO &nbsp; &nbsp; MainThread Creating EmonHubEmoncmsHTTPInterfacer &#39;emoncmsorg&#39;&nbsp;<br />
2016-01-03 06:40:14,868 DEBUG &nbsp; &nbsp;MainThread emoncmsorg Subscribed to channel&#39; : ToEmonCMS<br />
2016-01-03 06:40:14,973 INFO &nbsp; &nbsp; MQTT &nbsp; &nbsp; &nbsp; Connecting to MQTT Server<br />
2016-01-03 06:40:15,040 INFO &nbsp; &nbsp; MQTT &nbsp; &nbsp; &nbsp; connection status: Connection successful<br />
2016-01-03 06:40:15,054 DEBUG &nbsp; &nbsp;MQTT &nbsp; &nbsp; &nbsp; CONACK =&gt; Return code: 0<br />
2016-01-03 06:40:15,051 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &gt; 5i<br />
2016-01-03 06:40:15,183 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; device settings updated: E i5 g210 @ 433 MHz<br />
2016-01-03 06:40:15,202 INFO &nbsp; &nbsp; MQTT &nbsp; &nbsp; &nbsp; on_subscribe<br />
2016-01-03 06:40:15,322 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 2 NEW FRAME : OK 12 0 0 0 0 0 0 0 0 7 90 (-4281139233)<br />
2016-01-03 06:40:15,377 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 2 Timestamp : 1451803215.32<br />
2016-01-03 06:40:15,410 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 2 From Node : 12<br />
2016-01-03 06:40:15,413 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 2 &nbsp; &nbsp;Values : [0, 0, 0, 0, 230.47]<br />
2016-01-03 06:40:15,415 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 2 &nbsp; &nbsp; &nbsp;RSSI : -4281139233<br />
2016-01-03 06:40:15,419 INFO &nbsp; &nbsp; RFM2Pi &nbsp; &nbsp; Publishing: emonhub/rx/12/values 0,0,0,0,230.47<br />
2016-01-03 06:40:15,491 INFO &nbsp; &nbsp; RFM2Pi &nbsp; &nbsp; Publishing: emonhub/rx/12/rssi -4281139233<br />
2016-01-03 06:40:15,496 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 2 adding frame to buffer =&gt; [1451803215, 12, 0, 0, 0, 0, 230.47, -4281139233L]<br />
2016-01-03 06:40:15,498 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 2 Sent to channel&#39; : ToEmonCMS<br />
2016-01-03 06:40:15,632 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &gt; 1p<br />
2016-01-03 06:40:15,976 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &lt;nn&gt; i &nbsp; &nbsp; - set node ID (standard node ids are 1..30)<br />
2016-01-03 06:40:16,099 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &lt;n&gt; b &nbsp; &nbsp; &nbsp;- set MHz band (4 = 433, 8 = 868, 9 = 915)<br />
2016-01-03 06:40:16,287 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &lt;nnnn&gt; o &nbsp; - change frequency offset within the band (default 1600)<br />
2016-01-03 06:40:16,604 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &lt;nnn&gt; g &nbsp; &nbsp;- set network group (RFM12 only allows 212, 0 = any)<br />
2016-01-03 06:40:16,717 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &lt;n&gt; c &nbsp; &nbsp; &nbsp;- set collect mode (advanced, normally 0)<br />
2016-01-03 06:40:16,982 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: ...,&lt;nn&gt; a - send data packet to node &lt;nn&gt;, request ack<br />
2016-01-03 06:40:17,108 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: ...,&lt;nn&gt; s - send data packet to node &lt;nn&gt;, no ack<br />
2016-01-03 06:40:17,246 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &lt;n&gt; q &nbsp; &nbsp; &nbsp;- set quiet mode (1 = don&#39;t report bad packets)<br />
2016-01-03 06:40:17,392 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &lt;n&gt; x &nbsp; &nbsp; &nbsp;- set reporting format (0: decimal, 1: hex, 2: hex+ascii)<br />
2016-01-03 06:40:17,800 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &lt;hchi&gt;,&lt;hclo&gt;,&lt;addr&gt;,&lt;cmd&gt; f &nbsp; &nbsp; - FS20 command (868 MHz)<br />
2016-01-03 06:40:17,928 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; acknowledged command: &lt;addr&gt;,&lt;dev&gt;,&lt;on&gt; k &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- KAKU command (433 MHz)<br />
2016-01-03 06:40:18,180 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; device settings updated: E i5 g210 @ 433 MHz<br />
2016-01-03 06:40:18,438 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; Discarding RX frame &#39;unreliable content&#39;? 58 136 117 143 244 31 108 243 33 227 199 240 70 215 11 175 120 160 144 79 245 (-4281139276)<br />
2016-01-03 06:40:18,607 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; Discarding RX frame &#39;unreliable content&#39;? 153 249 142 174 218 249 244 30 183 149 156 164 81 101 237 236 16 99 152 18 240 (-4281139274)<br />
2016-01-03 06:40:18,776 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 9 NEW FRAME : OK 11 0 0 0 0 0 0 0 0 46 92 (-4281139247)<br />
2016-01-03 06:40:18,823 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 9 Timestamp : 1451803218.78<br />
2016-01-03 06:40:18,826 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 9 From Node : 11<br />
2016-01-03 06:40:18,828 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 9 &nbsp; &nbsp;Values : [0, 0, 0, 0, 235.98000000000002]<br />
2016-01-03 06:40:18,861 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 9 &nbsp; &nbsp; &nbsp;RSSI : -4281139247<br />
2016-01-03 06:40:18,864 INFO &nbsp; &nbsp; RFM2Pi &nbsp; &nbsp; Publishing: emonhub/rx/11/values 0,0,0,0,235.98<br />
2016-01-03 06:40:18,898 INFO &nbsp; &nbsp; RFM2Pi &nbsp; &nbsp; Publishing: emonhub/rx/11/rssi -4281139247<br />
2016-01-03 06:40:18,910 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 9 adding frame to buffer =&gt; [1451803218, 11, 0, 0, 0, 0, 235.98000000000002, -4281139247L]<br />
2016-01-03 06:40:18,913 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 9 Sent to channel&#39; : ToEmonCMS<br />
2016-01-03 06:40:19,034 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 10 NEW FRAME : OK 12 0 0 0 0 0 0 0 0 19 90 (-4281139239)<br />
2016-01-03 06:40:19,048 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 10 Timestamp : 1451803219.03<br />
2016-01-03 06:40:19,050 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 10 From Node : 12<br />
2016-01-03 06:40:19,053 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 10 &nbsp; &nbsp;Values : [0, 0, 0, 0, 230.59]<br />
2016-01-03 06:40:19,072 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 10 &nbsp; &nbsp; &nbsp;RSSI : -4281139239<br />
2016-01-03 06:40:19,075 INFO &nbsp; &nbsp; RFM2Pi &nbsp; &nbsp; Publishing: emonhub/rx/12/values 0,0,0,0,230.59<br />
2016-01-03 06:40:19,113 INFO &nbsp; &nbsp; RFM2Pi &nbsp; &nbsp; Publishing: emonhub/rx/12/rssi -4281139239<br />
2016-01-03 06:40:19,144 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 10 adding frame to buffer =&gt; [1451803219, 12, 0, 0, 0, 0, 230.59, -4281139239L]<br />
2016-01-03 06:40:19,146 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 10 Sent to channel&#39; : ToEmonCMS<br />
2016-01-03 06:40:19,330 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 11 NEW FRAME : OK 8 1 0 144 1 189 1 0 0 119 92 184 11 184 11 184 11 184 11 184 11 184 11 1 0 0 0 (-4281139266)<br />
2016-01-03 06:40:19,341 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 11 Timestamp : 1451803219.32<br />
2016-01-03 06:40:19,343 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 11 From Node : 8<br />
2016-01-03 06:40:19,345 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 11 &nbsp; &nbsp;Values : [1, 400, 445, 0, 236.71, 300, 300, 300, 300, 300, 300, 1]<br />
2016-01-03 06:40:19,348 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 11 &nbsp; &nbsp; &nbsp;RSSI : -4281139266<br />
2016-01-03 06:40:19,371 INFO &nbsp; &nbsp; RFM2Pi &nbsp; &nbsp; Publishing: emonhub/rx/8/values 1,400,445,0,236.71,300,300,300,300,300,300,1<br />
2016-01-03 06:40:19,376 INFO &nbsp; &nbsp; RFM2Pi &nbsp; &nbsp; Publishing: emonhub/rx/8/rssi -4281139266<br />
2016-01-03 06:40:19,432 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 11 adding frame to buffer =&gt; [1451803219, 8, 1, 400, 445, 0, 236.71, 300, 300, 300, 300, 300, 300, 1, -4281139266L]<br />
2016-01-03 06:40:19,442 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 11 Sent to channel&#39; : ToEmonCMS<br />
2016-01-03 06:40:19,617 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; Discarding RX frame &#39;unreliable content&#39;? 59 125 188 176 239 137 127 155 206 95 30 251 111 119 143 162 214 103 71 143 219 (-4281139275)<br />
2016-01-03 06:40:19,942 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; Discarding RX frame &#39;unreliable content&#39;? 3 50 47 135 141 11 194 17 254 6 63 68 40 197 190 247 231 2 231 229 121 (-4281139276)<br />
2016-01-03 06:40:20,058 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; Discarding RX frame &#39;unreliable content&#39;? 11 0 0 0 0 0 0 0 8 92 248 (-4281139248)<br />
2016-01-03 06:40:20,275 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; Discarding RX frame &#39;unreliable content&#39;? 21 190 125 244 211 116 125 101 120 142 74 238 11 186 74 249 249 135 117 120 223 (-4281139276)<br />
2016-01-03 06:40:20,457 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 12 NEW FRAME : OK 12 0 0 0 0 0 0 0 0 3 90 (-4281139239)<br />
2016-01-03 06:40:20,474 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 12 Timestamp : 1451803220.46<br />
2016-01-03 06:40:20,476 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 12 From Node : 12<br />
2016-01-03 06:40:20,509 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 12 &nbsp; &nbsp;Values : [0, 0, 0, 0, 230.43]<br />
2016-01-03 06:40:20,512 DEBUG &nbsp; &nbsp;RFM2Pi &nbsp; &nbsp; 12 &nbsp; &nbsp; &nbsp;RSSI : -4281139239</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37788"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 03/01/2016 - 10:46.</div>
    <div class="content">
     <p>Line six of your log says the rfm69pi is running firmware &quot;RF12demo.12&quot;, that was expected, however there have been some revisions in that version so it doesn&#39;t&nbsp;pin it down exactly and as this issue is almost definitely caused by the rfm69pi it may turn out&nbsp;best to load a known good firmware if no other progress is made.</p>
<p>Line 7 is odd, it logs the current settings of the rfm69pi&nbsp;and reveals the current nodeid&nbsp;(baseid) as 0, I think this is likely to be the device forgetting who it is at boot and the zero signifies an absent nodeid&nbsp;rather than it being set as zero since 0 is not a valid nodeid.</p>
<p>Line 8 is setting quiet mode to off and is the reason you can see the &quot;unreliable content&quot; marked for discarding with a &quot;?&quot;, since these are not of interest right now and only clutter the logs you could set &quot;quiet = true&quot; in the [[RFM2Pi]] settings in emonhub.conf. It is really a lost packet debugging tool and can be enabled again later if you wish.</p>
<p>Line 9 is setting the rfm69pi&nbsp;baseid to node 5, the emonPi&nbsp;nodeid, whilst it isn&#39;t stricktly&nbsp;&quot;right&quot; it causes no problem. You can change to&nbsp;&quot;baseid = 15&quot;&nbsp;in [[RFM2Pi]] in emonhub.conf it you prefer.</p>
<p>Line 10&nbsp;should not be there, it is the method used to set the emonPi&nbsp;for&nbsp;&quot;USA&quot; voltages, it is not used by the rfm2pi, rfm69pi or any &quot;Jee&quot; devices, at best it causes a lot of unnecessary serial traffic and log entries. The &quot;acknowledged commands&quot; from line 36 are the direct result of this setting as valid commands are returned prefixed with a &quot;&gt;&quot; there are many other lines that will&nbsp;have been silently discarded as they did&nbsp;not contain the &quot;&gt;&quot; char. To fix this just delete the &quot;calibration = &quot; line from [[RFM2Pi]] in emonhub.conf.</p>
<p>So none of this tells us why the rssi&nbsp;is wrong and it does highlight a potential&nbsp;firmware issue with the nodeid, You could try the settings I&#39;ve mentioned above and see if a fresh &quot;power down&quot; reboot helps the rfm69pi. it will at least tidy the logs so any&nbsp;other anomalies may be easier to spot. But I think it&#39;s heading towards a firmware update.</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37791"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7218.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="emjay&#039;s picture" title="emjay&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/7218.html" title="View user profile.">emjay</a> on Sun, 03/01/2016 - 11:36.</div>
    <div class="content">
     <p>Something to come back to when RSSI reporting starts to behave itself. In the previous trace, there are several nodeid 11 packets of adequate strength that are failing with bit synch slip (the known issue with runs of null bytes in the packet).</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37793"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9051.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gregl&#039;s picture" title="gregl&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/9051.html" title="View user profile.">gregl</a> on Sun, 03/01/2016 - 12:37.</div>
    <div class="content">
     <p>Its working!</p>
<p>In the end it appears to be the firmware!</p>
<p>I made the changes to emonhub.conf as you suggested Paul, including&nbsp;a full powered down restart, but no cigar....</p>
<p>So i then tried updating the firmware and bam...RSSI&nbsp;data now looks good... The EmonTX i have inside my galvanised steel powerbox&nbsp;reports ~ -61 , -63 or so...</p>
<p>The emonShields are reporting - 32 pr so....</p>
<p>Happy days!</p>
<p>Thanks for your help again ;-)</p>
<p>FWIW, i ordered my bits at teh start of December...im guessing the RFM69pi I received&nbsp;was an older firmware version ??</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37796"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 03/01/2016 - 13:33.</div>
    <div class="content">
     <p>That&#39;s good news, I do wish we had more details on the how and why the rssi issue was happening eg an exact version or build date, but the main thing is you are up and running. Would you confirm which firmware you have installed?</p>
<p>Further to emjay&#39;s comments both your shields appear to have no ct&#39;s connected, hopefully that is just a temporary thing, if you are not using the shields for power the sketches could do with modifying to avoid the long runs of zeros, as this is known to cause packet loss due to the receiver not being able to use the bits to manage the timing, eg a long run of 16 0&#39;s is no different to 15 or 17 0&#39;s except&nbsp;for duration they span and the longer the run the more prone to discrepancies the payload is. the 4 unused power values are 32 0&#39;s.</p>
<p>The run of 300&#39;s you see is the fix for unused temp sensors rather than use 0 for unused circuits, an out of scope 300 is used. unfortunately the emonTx devices test for CT&#39;s at boot and the unused channels remain fixed&nbsp;at 0 for a&nbsp;better looking packet&nbsp;&nbsp;I tend to remove that code so that all the channels are monitored and the &quot;noise&quot; of 1 or 2 watts then prevents any unnecessary packet loss.</p>
<p>Try to break up the unused channels eg&nbsp;If you plan to just use just 2 channels on each then use 1 and 3. If you do not intend&nbsp;using the ct channels then I would recommend editing the sketch to either use non-zero&#39;s or if it&#39;s a permanent choice then just remove the unused power values to reduce&nbsp;the payload therefore the transmissions time therefore the rf collisions.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37821"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9051.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gregl&#039;s picture" title="gregl&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/9051.html" title="View user profile.">gregl</a> on Sun, 03/01/2016 - 23:43.</div>
    <div class="content">
     <p>I used the instructions at the bottom of this page to get and flash the latest firmware&nbsp;:&nbsp;http://wiki.openenergymonitor.org/index.php/RFM69Pi_V3</p>
<p>I think it would be a good idea to print out the exact version of the sketch, which can then be logged...likewise it would be cool if all the node&nbsp;sketch versions were transmitted back to the emonhub, which is then used to automatically populate the &quot;node firmware&quot; field on the &nbsp;http://emonpi/emoncms/nodes/view. Or even set the &quot;name&quot;.. but anyway im happy its working.</p>
<p>Id be happy to try flashing the last few versions of the firmware onto my rfm69pi&nbsp;to see if we can determine the bad version... but im not sure how to get the previous versions from GIT ( newbie here too! ) - If you can assist with url&#39;s to the previous firmwares ill have a go and see if i can reproduce.</p>
<p>I do have one CT connected to each shield, however there is no current flowing through them, but many thanks for the advice on spreading the channels. - i intend on using all, in fact the two shields are installed into the&nbsp;same project box, and share the same AC-AC feed for voltage calibration. This seems to be working ok on my desk. I did need to calibrate each arduino&nbsp;with different voltage calibration values, but the Vrms&nbsp;values now sent are within .5v of each other&nbsp;and CT&#39;s connected to the same test load ( at the same time) are within 5w..</p>
<p>My biggest concern was the radios interfering with one another, but so far this doesnt seem to be an issue...Ill see when i install it into the sub-board.</p>
<p>See attached photos.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37831"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RSSI values always reporting as  "RSSI: -2147483648" - Unreliable content?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 04/01/2016 - 12:15.</div>
    <div class="content">
     <p>In time the &quot;firmware&quot; field is intended to be used to identify the firmware to be installed&nbsp;and with an additional&nbsp;&quot;version&quot; field,&nbsp;monitored for version changes.</p>
<p>Thanks for the offer to seek out the offending firmware, but that probably won&#39;t&nbsp;be an easy task and if it&#39;s not an issue in later firmware it maybe of little or no use. It would have been interesting to know, and easier to find had there been a better version id.</p>
<p>I recently installed 3 emonTx&#39;s&nbsp;in a single box all using rf (in fact the Pi and rfm69pi where in the same box too) and the results are better than I expected, (although not as good as I would have liked either). I don&#39;t think there is any &quot;interference&quot; par se, the problem is the receiver can only receive from one at a time and there is no synchronization or order, so blocking occurs. keeping packets short minimizes this.</p>
<p>Paul&nbsp;&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11916"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-qWsMTnBHWbfuotxrwGOt5di-HdN_WEX5pag9Em83QR4" value="form-qWsMTnBHWbfuotxrwGOt5di-HdN_WEX5pag9Em83QR4"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/11916 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:56:09 GMT -->
</html>
