<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/12571 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:08:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>3 Phase Current measurement - negative values | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">3 Phase Current measurement - negative values</h3>
        <span class="submitted">Submitted by <a href="../user/9856.html" title="View user profile.">fototeddy</a> on Wed, 27/04/2016 - 16:08</span>
        <div class="content"><p>Hello</p>
<p>I bought an emonTX Shield and its running with an Arduino. I first tried the serial only firmware and it seems to work at first look. Then I installed the 3 clamps for each phase. Now starts the strange behaviour.</p>
<p>When I turn on my hot water, everything seems fine. All 3 Phases throw out some data that could be correct. But when i turn off my hot water and there is a low consumption on the phases, 2 of them are running sometime into negative values. so between -60 and +120 an ct(number).realPower</p>
<p>​The ct1.Vrms drops out a value that fits to my system.</p>
<p>So the question is: is ct.realPower the right thing to get the Watt consumption in my house or what do i need to read on each phase?</p>
<p>Second question: what is it about the running around positive and neagtive values?</p>
<p>Could someone here help me with that stuff?</p>
<p>Cheers</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12585.html" class="topic-previous" title="Go to previous forum topic">‹ Soil moisture measurements integration</a>
              <a href="2447.html" class="topic-next" title="Go to next forum topic">firmware for SCT-013-030 ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-41455"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase Current measurement - negative values</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Wed, 27/04/2016 - 21:04.</div>
    <div class="content">
     <p>Have you seen the building-blocks article on how to measure 3-phase power?</p>
<p><a href="https://learn.openenergymonitor.org/?redirect=3-phase-power">https://openenergymonitor.org/emon/buildingblocks/3-phase-power</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41463"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9856.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fototeddy&#039;s picture" title="fototeddy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase Current measurement - negative values</h3>

    <div class="submitted">Submitted by <a href="../user/9856.html" title="View user profile.">fototeddy</a> on Thu, 28/04/2016 - 04:20.</div>
    <div class="content">
     <p>Ok i have read the article but honestly I do not understand how this should help me with interpreting the negative values I have got. Could you please explained it to me?</p>
<p>the only thing i can see, is that the 3 vaoltages firmware for emonTX V3.4 is very different to the serial only is used. so i think i can gave that other firmware a try.</p>
<p>&nbsp;</p>
<p>thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41479"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9856.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fototeddy&#039;s picture" title="fototeddy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase Current measurement - negative values</h3>

    <div class="submitted">Submitted by <a href="../user/9856.html" title="View user profile.">fototeddy</a> on Thu, 28/04/2016 - 15:14.</div>
    <div class="content">
     <p>now i&#39;m using the 3.4 firmware. First of all i had to set the voltage calibration value to 345 to get an shown voltage of 228V&nbsp;what is also the value i figured out with my Multimeter.</p>
<p>The second thing is that the Watts shown stil are partly negativ values. is this right? Please help me. I also see the the Ampere value is going up but Watts are still negativ. (acutally i think that i do not understand enough about energy supply ;)</p>
<p>even if i change the 3 CT sensors it still the same, CT1 is always positiv and CT2 and CT3 are running around in positiv and negativ values.</p>
<p>Voltage Ampere and Voltampere are always positiv&nbsp;but sometime the PowerFactor is going negativ and the truning the watt negativ</p>
<p>​even if i turn on my hot water and the Ampere on all 3 Lines is very high one line still remains negativ in lower Watts.</p>
<p><a href="../../../up.picr.de/25358680xk.png" target="_blank"><img alt="" src="../../../up.picr.de/25358680xk.png" style="width: 300px; height: 254px;" /></a></p>
<p>When i understood the Building Bricks right it is not important an which pysical cable the CTs are clamped, right?</p>
<p>Just cann someone tell me if this is supposed to be so or if i did something wrong</p>
<p>&nbsp;</p>
<p>Cheers and thx</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41486"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase Current measurement - negative values</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 28/04/2016 - 23:00.</div>
    <div class="content">
     <p>Have you read the comments at the beginning of the sketch? And calibrated your Shield according to the instructions there?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41489"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9856.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fototeddy&#039;s picture" title="fototeddy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase Current measurement - negative values</h3>

    <div class="submitted">Submitted by <a href="../user/9856.html" title="View user profile.">fototeddy</a> on Fri, 29/04/2016 - 07:59.</div>
    <div class="content">
     <p>i read the comments in the sketch and set it up to use emontx_shield with 3 CTs.</p>
<p>i calibratet the Voltage.</p>
<p>To calibrate the current vor all 3 lines i&#39;m still wating&nbsp;for my device to measure the current. But i think i can only measure von Line 1 and Line 2 cause Line 3 seems only to be used for hot water and cooking plates.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41509"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase Current measurement - negative values</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 30/04/2016 - 13:07.</div>
    <div class="content">
     <p>&quot;<em>When i understood the Building Bricks right it is not important an which pysical cable the CTs are clamped, right?&quot;</em></p>
<p>NO, WRONG! It is&nbsp;<strong>most</strong>&nbsp;important that the CTs are on the correct phases relative to the phase to which your a.c. adapter is connected, and that the CTs face in the correct direction. If you are in the EU, the phases are coloured brown, black, grey. It makes no difference which phase you start with, but the sequence must always be that. Therefore brown -&nbsp;black - grey,&nbsp;&nbsp;black&nbsp;-&nbsp;grey&nbsp;-&nbsp;brown and grey&nbsp;-&nbsp;brown&nbsp;-&nbsp;black are all equivalent.<br />
If your a.c. adapter is on the first&nbsp;phase, CT1 must be on the same;&nbsp;CT2 must be on the next;&nbsp;CT3 must be on the last in the list.&nbsp;</p>
<p>&quot;<em>But i think i can only measure von Line 1 and Line 2 cause Line 3 seems only to be used for hot water and cooking plates.&quot;</em></p>
<p>Again, wrong. You can measure all three phases, but if you have a load that is switched rapidly, for example an induction cooker, then the values that you measure will be erratic. That is a problem with all &quot;discrete sample&quot; sketches. If you have a high power load that is switched rapidly, sometimes the sketch will measure full power and sometimes it will measure zero. The value must be averaged over time to read correctly.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41510"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9856.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fototeddy&#039;s picture" title="fototeddy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase Current measurement - negative values</h3>

    <div class="submitted">Submitted by <a href="../user/9856.html" title="View user profile.">fototeddy</a> on Sat, 30/04/2016 - 13:17.</div>
    <div class="content">
     <p>ok i think i understand what you mean.</p>
<p>unfortunately my 3 phases are black - brown - black, due to i have a very old electric installation in my flat.</p>
<p>in the second part i thought that i need to calibrate all 3 phases sepperatly.&nbsp;</p>
<p>ok so i have to find out on which phase my AC is and then put the CTs in the correct order that is good to know.&nbsp;</p>
<p>i will try that when i&#39;m at home and hope to get my energymeter&nbsp;for calibration soon</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41516"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase Current measurement - negative values</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 01/05/2016 - 00:20.</div>
    <div class="content">
     <p>These&nbsp;pages <a href="../../../webspace.webring.com/people/gl/lemagicien/elecpage/3phase/fasimetro1.gif" title="http://webspace.webring.com/people/gl/lemagicien/elecpage/3phase/fasimetro1.gif">http://webspace.webring.com/people/gl/lemagicien/elecpage/3phase/fasimet...</a> &amp; <a href="http://www.electronicshub.org/phase-sequence-meter/" title="http://www.electronicshub.org/phase-sequence-meter/">http://www.electronicshub.org/phase-sequence-meter/</a> describe ways to test the phase sequence using a capacitor and lamps. If you try to build the circuit as it is shown, you&nbsp;<strong><em>must</em></strong>&nbsp;be certain that every component, especially the capacitor, is rated for mains operation and at least to the full mains voltage between phases - 440 V a.c. &nbsp;Alternatively, for the first circuit using incandescent filament lamps, you could use three step-down transformers or a three-phase transformer to reduce the voltages to a safe value, but that might mean a very large capacitor is required. In each case, you must include low current fuses for protection in case of a fault.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/12571"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-DyEtsu2BArQ2AlEbB6DD44PQJcgq6BB-4GuTp4Scoq8" value="form-DyEtsu2BArQ2AlEbB6DD44PQJcgq6BB-4GuTp4Scoq8"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
