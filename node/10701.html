<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10701 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:24:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Should I use separate inputs or stack multiple process steps in one input?  | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Should I use separate inputs or stack multiple process steps in one input? </h3>
        <span class="submitted">Submitted by <a href="../user/8057.html" title="View user profile.">Ian Davies</a> on Wed, 13/05/2015 - 23:06</span>
        <div class="content"><p>Hi,</p>
<p>Apologies if this is a dumb question, but I am still new at this. I&#39;ve got an emontxv3 and RPi and using it to monitor whole house usage as well as PV generation. I have one CT on the Solar generation, and one CT on the Grid import / export, and uploading the data to emoncms.org</p>
<p>I now realise I need to add the PV Generation to the Grid import / export to get total house usage, but I am getting confused on best way to do that. I think I have seen examples of using the input process assigned to&nbsp; PV Gen, logging to feed, and then adding Grid import, and then logging that to a feed, and I have also seen it the opposite way around, by updating the input for Grid use and adding Solar gen and logging that to a feed. And I also think I saw a suggestion of using a completely separate input, and adding the Solar Gen together with Grid input, and logging that to a feed.</p>
<p>Is there a preference? Is it simpler to use a separate input for each of them ? i.e. input 1 for PV Gen, input 2 for Grid, input 3 for combination of both? Is there a performance benefit in adding lots of process steps to one input, or is it better to have more inputs, with less process steps for each of them?</p>
<p>And if this is covered in a newbie document, please point me at it as I haven&#39;t found it on the emoncms documentation on github</p>
<p>Ian</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10696.html" class="topic-previous" title="Go to previous forum topic">‹ Not able to make feeds public V8.4.0</a>
              <a href="10698.html" class="topic-next" title="Go to next forum topic">Pi2 with mass storage (USB Stick or SD card) ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-30324"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Should I use separate inputs or stack multiple process steps in one input? </h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 13/05/2015 - 23:21.</div>
    <div class="content">
     <p>I'm pretty sure it won't be documented to that level, and I doubt whether you'll see a difference in performance. So I'd advise you to use the one you're most comfortable with. The only thing I'd consider is what information do you think you're likely to want in the future: only 'feeds' are stored, anything else is lost instantly.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30328"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Should I use separate inputs or stack multiple process steps in one input? </h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 14/05/2015 - 07:31.</div>
    <div class="content">
     <p>The predominant factor to consider when planning your processlists it that the processing&nbsp;is triggered by the update of the input and the inputs are processed in the order received&nbsp;by emoncms. so due to the way emoncms receives&nbsp;most of its data the inputs are updated (and therefore processed) sequentially in numerical order, this won&#39;t be the case if data is supplied as key&nbsp;value&nbsp;pairs (eg power1 = 100 etc).</p>
<p>The reason I mention this is because you may wish to have any processing that includes multiple inputs located in the later of those inputs to ensure the new values are used. when input 1 is processed if it includes &quot;add input 2&quot; that will use the previously received value as input 2 will not have been freshly updated yet.</p>
<p>The triggering by input update makes the use of a &quot;separate&nbsp;input&quot; to tally 2 inputs a little more complicated to implement as it would rely on the update&nbsp;of that &quot;separate&nbsp;input&quot; to update the total.</p>
<p>So in your example I would be inclined to have the totaling in input 2&#39;s processlist.</p>
<p>​Another recommendation is to &quot;log to feed&quot; each input ( I prefer variable interval to log receipts rather than trends) and then use &quot;add feed&quot; rather than &quot;add input&quot; as it is far more robust.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10701"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-mhLpjmatRwLajneS0gAuxUmwlz23aj-0E7An1V-tFa8" value="form-mhLpjmatRwLajneS0gAuxUmwlz23aj-0E7An1V-tFa8"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/10701 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:24:13 GMT -->
</html>
