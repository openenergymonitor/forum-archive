<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/6240 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:06:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>RF Antenna Tuning Help | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">RF Antenna Tuning Help</h3>
        <span class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Thu, 04/12/2014 - 11:27</span>
        <div class="content"><p>The new RFM69CW RF modules has got an RSSI (received signal strength indication), this gives us an indication as to the strength of the RF signal&nbsp;being received. This is great as it allows us to qualitatively compare RF antenna setups. I looked into this briefly a while back when we started using SMA antenna on the emonTx V3:&nbsp;<a href="http://wiki.openenergymonitor.org/index.php?title=EmonTx_V3#Antenna">http://wiki.openenergymonitor.org/index.php?title=EmonTx_V3#Antenna</a>. I measured what I expected that using SMA antenna results in slightly&nbsp;poorer performance&nbsp;than whip antennas.&nbsp;</p>
<p>The emonTx V3.4 has got an edge mounted SMA antenna with the RFM69CW&nbsp;soldered directly onto the PCB, with a fat PCB trace going to the ANT pin on the module through a series DC blocking&nbsp;22pF&nbsp;cap. RSSI values from this setup seem to be reasonable.&nbsp;</p>
<p><img alt="" src="../../../lh4.googleusercontent.com/-cu5LehLVAtw/VHyvqU8k3NI/AAAAAAAABH8/ou-A_lLgokc/w1172-h879-no/DSCF6074.JPG" style="height:300px; width:400px" /></p>
<p>However I would like to do some more qualitative&nbsp;testing. I don&#39;t know much about RF antenna matching, I would be interested to hear from anyone who has experience in the field, especially&nbsp;if you have access to RF measurement requirement! On the emonTx V3.4 PCB I have added in a footprint to add in an inductor to GND (incorrectly marked on PCB as C20). C19 / C16 are either or, rotating the 22pF cap by 90 degrees gives to option of using a pad on the board for whip antenna connection of edge SMA. I would love to hear for anyone who would be interested to help us tune the antenna network to improve performance. I&#39;m happy to make hardware available for testing.&nbsp;</p>
<p><a href="../sites/default/files/emonTx_V3.4_ant_sch.png"><img alt="" src="../sites/default/files/emonTx_V3.4_ant_sch.png" style="height:299px; width:400px" /></a></p>
<p>We recently had some EMC testing done (we passed :-) ), while we were in the lab we took the opportunity to do some quick measurements of RF power output. Here are the results below, it&#39;s interesting to compare RFM12B and RFM69CW, the modulation techniques used by the two modules are obviously&nbsp;different looking at the scope traces. It&#39;s interesting that the RFM12B&nbsp;seem to measure a higher power output then the RFM1269CW even though the datasheet indicates that the RFM69CW should have a higher power output, see comparison table:&nbsp;<a href="https://learn.openenergymonitor.org/?redirect=rfm69cw">http://openenergymonitor.org/emon/buildingblocks/rfm69cw</a>. Could it be I wonder if the RFM69CW&nbsp;RF network is just more focused, outputting more power at the tuned frequency (where it matters). This could go someway to&nbsp;explain why with the RFM12B it&#39;s possible to force a module in software to work on a different frequency to what it&#39;s RF network is tuned for and performance is reasonable, however doing this on the RFM69CW results in unusable short range.&nbsp;</p>
<p>﻿.<a href="../sites/default/files/RFM12B_VS_RFM69CW_OP_Power2.jpg"><img alt="" src="../sites/default/files/RFM12B_VS_RFM69CW_OP_Power2.jpg" style="height:182px; width:500px" /></a></p>
<p>emonTx V3.2 (old unit)&nbsp;- powered by AC-AC with RFM12B with whip antenna - in aluminum case<br />
97.32 dBuV=-9.69dBm = 107.4uW</p>
<p>emonTx V3.4 (new unit)&nbsp;- powered by AC-AC with RFM69CW - with zero gain edge SMA antenna - in aluminum case<br />
93.5 dBuV = - 13.4 dBm = 43.65 uW&nbsp;</p>
<p>emonTH V1.5 - powered by rechargeable batteries of unknown voltage with RFM69CW in plastic case<br />
96 DBuV = -10.7 DBm = 85.114uW</p>
<p><strong><em>Note: the measurement figures above should be taken as 100% accurate, they were conducted quickly at the end of the day &#39;just to take a look&#39;.&nbsp;</em></strong></p>
<p>Finally here&#39;s an interesting&nbsp;plot of RSSI values from three units in about the same location. An emonTH with RFM12B, (yellow) emonTH with RFM69CW (blue) and emonTx V3.4 with RFM69CW (red). Keeping in mind that the higher the RSSI the better (lower negative number). Its seems there is a lot of fluctuation (maybe due to temperature / humidity), &nbsp;in a steady state as seen for past day or two the emonTH&nbsp;with RFM69CW with whip ant is performing best, followed by the emonTH with RFM12B and the worst performer is the emonTx V3.4 with SMA antenna.&nbsp;</p>
<p><a href="../sites/default/files/Screenshot%202014-12-04%20at%2011.46.20.png"><img alt="" src="../sites/default/files/Screenshot%202014-12-04%20at%2011.46.20.png" style="height:273px; width:700px" /></a></p>
<p><strong><em><img alt="" src="../sites/default/files/Screenshot%202014-12-04%20at%2011.50.34.png" style="height:369px; width:700px" /></em></strong></p>
  <div class="forum-topic-navigation clear-block">
          <a href="6239.html" class="topic-previous" title="Go to previous forum topic">‹ emonTH in high humidity area?</a>
              <a href="6217.html" class="topic-next" title="Go to next forum topic">Real power is coming negative on a 40W bulb(load)  when tried with Allegro ACS712 module and Voltage divider circuit ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
