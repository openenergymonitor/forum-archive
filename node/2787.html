<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2787 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:03:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Emoncms and Rain Gauge | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Emoncms and Rain Gauge</h3>
        <span class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Sun, 08/09/2013 - 09:10</span>
        <div class="content"><p>Hi</p>
<p>I have wanted to log rain fall for some time in connection with our solar powered irrigation system. I asked on the forum about using a wireless Oregon gauge we already have but hooking it up to the emoncms radio system seemed like a lot of work. I then considered hacking an emontx into the Oregon but soon&nbsp;realised&nbsp;there would be waterproofing issues.</p>
<p>I then found a rain gauge available as a spare at a very reasonable price.</p>
<p>Available here:- <a href="http://www.radioworld.co.uk/" title="http://www.radioworld.co.uk">http://www.radioworld.co.uk</a></p>
<p>Search for&nbsp;8681-RGC</p>
<p>It has a long cable with just 2 wires. The device contains what I think is a reed switch that sends a pulse every time one of 2 little buckets fills and tips the second bucket into the monitoring position. I already have the pulses reading into a battery powered&nbsp;emontx. The next step is calibration and then setting up the feed. I already have a waterproof &nbsp;emontx&nbsp;monitoring outside temperature. I hope to be able to combine rain gauging and temperature reading into a single unit.</p>
<p>I thought this may be of interest to others.</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5613.html" class="topic-previous" title="Go to previous forum topic">‹ PV surplus load control for heat pump</a>
              <a href="5609.html" class="topic-next" title="Go to next forum topic">Emoncms and Nagios ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-14963"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3657.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3657.jpg" alt="Mattia Rossi&#039;s picture" title="Mattia Rossi&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/3657.html" title="View user profile.">Mattia Rossi</a> on Sun, 08/09/2013 - 13:30.</div>
    <div class="content">
     <p>Hi Ian, nice find.</p>
<p>I bought the whole sensor lot (less the base station) for 40 euro shipped, and then paid less than 10 for a rfm01&nbsp;receiver to read the data .. And i didn&#39;t have a waterproof emontx on hand. But 10 pounds is really hard to beat as a base price...</p>
<p>It would be great if when you&#39;re done you posted the code you wrote to keep as a reference.</p>
<p>Regards</p>
<p>Mattia</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14966"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2867.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="9fingers&#039;s picture" title="9fingers&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/2867.html" title="View user profile.">9fingers</a> on Sun, 08/09/2013 - 14:33.</div>
    <div class="content">
     <p>The Radio world shipping adds nearly 50% to the price.</p>
<p>&nbsp;</p>
<p>The same part is available including UK shipping for &pound;8 here</p>
<p><a href="http://www.ebay.co.uk/itm/Spare-Rain-Gauge-For-Use-With-Wireless-Weather-Stations-N25FR-N96FY-N96GY-/400544486128?pt=UK_Home_Garden_Weather_Stations&amp;hash=item5d424fd2f0" title="http://www.ebay.co.uk/itm/Spare-Rain-Gauge-For-Use-With-Wireless-Weather-Stations-N25FR-N96FY-N96GY-/400544486128?pt=UK_Home_Garden_Weather_Stations&amp;hash=item5d424fd2f0">http://www.ebay.co.uk/itm/Spare-Rain-Gauge-For-Use-With-Wireless-Weather...</a></p>
<p>&nbsp;</p>
<p>Bob</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14987"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4277.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4277.jpg" alt="warlock&#039;s picture" title="warlock&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/4277.html" title="View user profile.">warlock</a> on Mon, 09/09/2013 - 11:16.</div>
    <div class="content">
     <p>This looks really interesting, I would be keen t see this work, and for a pounds from Maplin this is a real bargin.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23222"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4277.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4277.jpg" alt="warlock&#039;s picture" title="warlock&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/4277.html" title="View user profile.">warlock</a> on Wed, 20/08/2014 - 07:41.</div>
    <div class="content">
     <p>Hey Guys,</p>
<p>&nbsp;</p>
<p>Has anyone managed to get this working and connected to an emonTX v2, I would like to do this but not really sure where to start, I have the rain gauage, so next step would be to connect to the emonTX, I assume to 1 of the analog inputs ?.</p>
<p>Any&nbsp;help would be appreciated, with some sketch information too.</p>
<p>Thanks in advance.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>
	<img alt="" src="../../../www.argentdata.com/catalog/images/raingauge.jpg" style="width: 400px; height: 331px;" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23236"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Wed, 20/08/2014 - 19:33.</div>
    <div class="content">
     <p>Hi</p>
<p>It needs to be connected to a digital input. I found I had to use hardware debounce&nbsp;as the reed switch is very noisy.</p>
<p>I can upload my sketch if it is of interest ( its not elegant but it seems to work )</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23237"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Wed, 20/08/2014 - 20:12.</div>
    <div class="content">
     <p>I would be very interested to see your sketch Ian - I have one of these rain gauges from an old weather station and would love to hook it up to an Arduino to monitor rain fall.</p>
<p>Cheers,</p>
<p>Ben</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23240"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 20/08/2014 - 20:42.</div>
    <div class="content">
     <p><em>It needs to be connected to a digital input. I found I had to use hardware debounce as the reed switch is very noisy.</em></p>
<p>I&#39;ve just had the same issue except whilst reading a microswitch. I overcame contact bounce <a href="http://arduino.cc/en/Tutorial/Debounce">by using this software example</a>, which is simple and worked very well, and stops the state from changing for a predetermined time. I found 20 milliseconds worked fine for me.</p>
<p>&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23269"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4277.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4277.jpg" alt="warlock&#039;s picture" title="warlock&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/4277.html" title="View user profile.">warlock</a> on Thu, 21/08/2014 - 12:44.</div>
    <div class="content">
     <p>Hey Ian,</p>
<p>&nbsp;</p>
<p>I would really appreciate it if you could upload your sketch, aslo I suppose I can use the spare digital inputs ?</p>
<p>for example I would connect the 2 wires from the raid gauge to say DI06 and GND ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23303"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Sat, 23/08/2014 - 15:44.</div>
    <div class="content">
     <p>Paul</p>
<p>I tried software debounce with very little success. I then read this thread:-</p>
<p>
	<a href="5022.html" title="http://openenergymonitor.org/emon/node/5022">http://openenergymonitor.org/emon/node/5022</a></p>
<p>It suggests software debounce should not be used in interrupts.</p>
<p>Warlock</p>
<p>Code attached.</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23305"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms and Rain Gauge</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 23/08/2014 - 16:34.</div>
    <div class="content">
     <p>Ian, I used the software debounce to halt and put the processor to sleep, rather than wake it up! So yes I can see the difficulty.</p>
<div>
	&nbsp;</div>
<div>
	Paul</div>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2787"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-pFCPUcz_He6MdoJvr2r8eumq26pKmJSHXgGFc7--PU8" value="form-pFCPUcz_He6MdoJvr2r8eumq26pKmJSHXgGFc7--PU8"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/2787 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:03:08 GMT -->
</html>
