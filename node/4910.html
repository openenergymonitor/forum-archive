<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/4910 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:47:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Converting a 0.01m3 input to kWh... any ideas? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Converting a 0.01m3 input to kWh... any ideas?</h3>
        <span class="submitted">Submitted by <a href="../user/5906.html" title="View user profile.">Keen2bGreen</a> on Fri, 04/04/2014 - 18:28</span>
        <div class="content"><p>My Gas bill tells me they calculate kWh from gas readings as:</p>
<p>Units consumed (m3) * Calorific value (39.2) * Volume Correction (1.02264) / 3.6</p>
<p>I am successfully recording an input which registers meter increment pulses at 0.01m3 since last read (using rate of change). &nbsp;How do I take that value and create a kWh value for the number of pulses received? &nbsp;I&#39;d like to record how much kWh per day, week, month, etc also, like we do with Watts.&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="3379.html" class="topic-previous" title="Go to previous forum topic">‹ emoncms.org visualization problems</a>
              <a href="4827.html" class="topic-next" title="Go to next forum topic">Make / install timestore? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-20430"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 04/04/2014 - 18:48.</div>
    <div class="content">
     <p>Can&#39;t you just do the sum and enter it as a fixed value x&nbsp;0.1113541 and log to feed kwh &amp; kwh/d etc ?</p>
<p>(0.01 x 39.2 x 1.02264 / 3.6 = 0.1113541)</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20441"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 04/04/2014 - 19:58.</div>
    <div class="content">
     <p>No Actually it&#39;s 0.111354<u>133</u> when not rounded off by calculator :-)</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20445"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5906.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Keen2bGreen&#039;s picture" title="Keen2bGreen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/5906.html" title="View user profile.">Keen2bGreen</a> on Fri, 04/04/2014 - 20:20.</div>
    <div class="content">
     <p>Thanks Paul. &nbsp;I guess I should be a but more specific. &nbsp;I&#39;ve never performed a calculation on a feed before - so a bit of a basic use question... How do I take the count multiply by the result, and convert to a kWh feed?</p>
<p>I&#39;ve had a go, but not sure I&#39;m doing it right. &nbsp;My attempt attached.</p>
<p>Thanks again for you help.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20450"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 04/04/2014 - 21:15.</div>
    <div class="content">
     <p>Am I being thick, but surely the meter pulses already represent energy (not power) so can you not leave out both the rate of change and the final Power to kWh? It seems silly to me to differentiate energy to get a power, and then integrate to get back to energy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20452"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5906.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Keen2bGreen&#039;s picture" title="Keen2bGreen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/5906.html" title="View user profile.">Keen2bGreen</a> on Fri, 04/04/2014 - 21:42.</div>
    <div class="content">
     <p>I dont think that will work as the sensor send cumulative clicks so far, not clicks since last send. &nbsp;So I need to use the rate of change to determine how many clicks since the last read. &nbsp;I then need to calculate on the clicks.</p>
<p>I like to chart on kWh per day, so that&#39;s why I use that final step.</p>
<p>Am I duplicating?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20456"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 04/04/2014 - 22:24.</div>
    <div class="content">
     <p>Does the &quot;rate of change&quot; part work ok? it&#39;s not something I&#39;ve used. but once you have &quot;clicks new&quot; that figure will represent 10&#39;s of watt/hrs (0.01Kw/hrs) multiplied by 0.111354133 for a kw/hr value and just &quot;log to feed&quot; NOT &quot;Power to kwh&quot;, as Robert says that bit is already done, then I think you&#39;ll able to log that to a &quot;kwh to kwh/d&quot; for a day by day total.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20457"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5906.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Keen2bGreen&#039;s picture" title="Keen2bGreen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/5906.html" title="View user profile.">Keen2bGreen</a> on Fri, 04/04/2014 - 22:48.</div>
    <div class="content">
     <p>rate of change works very well. &nbsp;Reports 0 in no change since last read (0 watts), and the number of clicks since the last read - so perfect for this sensor. &nbsp;Updated to attached... just need some gas to burn now to check if its working</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20458"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 04/04/2014 - 23:09.</div>
    <div class="content">
     <p>I&#39;m not so sure &quot;log to feed&quot; will work now I think about it some more. can you add these 2 lines to the same input after the &quot;kWh Gas&quot; test them at the same time?</p>
<p>accumulator &nbsp; &nbsp; call it &quot;kwh gas 2&quot;</p>
<p>kwh to kWh/d &nbsp; call it &quot;kwh gas today&quot;</p>
<p>Maybe an experienced&nbsp;pulse counter will chip in and confirm if we&#39;re doing the right thing</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20459"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Fri, 04/04/2014 - 23:15.</div>
    <div class="content">
     <p>Three steps I&#39;d recommend:</p>
<p>log to feed - instantaneous pulses</p>
<p>accumulator - total pulses ever</p>
<p>kwh to kwh/d - pulses per day</p>
<p>&quot;pulses&quot; can be anything though, so just perform an initial calibration of x0.111354133 (or whatever) before the first step (log to feed) and all three will be recording kWh and not 0.01m<sup>3</sup></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20477"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3240.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="john.b&#039;s picture" title="john.b&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/3240.html" title="View user profile.">john.b</a> on Sat, 05/04/2014 - 10:28.</div>
    <div class="content">
     <p>I think its worth logging m^3 first because the calorific value of the gas may change.&nbsp; My bills frequently show different gas calorific value, so to keep track of emoncms measurement accuracy vs the meter I log m^3 first then convert to KWh.</p>
<p>And as Robert has said there is no point calculating rate of change if you want energy.&nbsp; The pulse is already a measure of energy; you just need to convert from m^3 to kWh.</p>
<p>However if you want to know the average power (i.e. kW) between pulses then you could log the rate of change to a feed, but using it to calculate energy is just increasing inaccuracy.</p>
<p>John</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20546"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5906.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Keen2bGreen&#039;s picture" title="Keen2bGreen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/5906.html" title="View user profile.">Keen2bGreen</a> on Sun, 06/04/2014 - 23:16.</div>
    <div class="content">
     <p>Well - after a lot of playing, I&#39;ve settled on t the attached. &nbsp;It gives the total count so far and the interval gas consumption in Watts. &nbsp;It seems to do what I want, and gives flexibility for changing the calculation to match my bill as suggested by John.</p>
<p>I&#39;ll confess I&#39;m not sure how this feed processing really works. &nbsp;The logic does seem odd to me. &nbsp;I assume that when you log to feed the current calculated value is saved to a feed argument. &nbsp;But that&#39;s not really what I experienced.</p>
<p>My theory was:</p>
<p>Register total counts so far (Log to feed-&gt; Total Gas)</p>
<p>How many 0.01m3 since last read? (Total pulse count to pulse increment -&gt; Gas Used)</p>
<p>Convert 0.01m3 gas to watts (calibrate X conversion factor 111.354133)</p>
<p>Register Watts consumed in last interval (log to feed -&gt; Gas Watts)</p>
<p>Update total Gas Watts today (Power to kWh/d-&gt; Gas kWhd)</p>
<p>but putting that first log to feed seems to produce some weird values. &nbsp;So I&#39;m obviously not understanding the process properly. &nbsp;Is there a comprehensive tutorial on this key function?</p>
<p>Thanks again for your interest and help.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20561"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3240.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="john.b&#039;s picture" title="john.b&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/3240.html" title="View user profile.">john.b</a> on Mon, 07/04/2014 - 09:46.</div>
    <div class="content">
     <p>Mike,</p>
<p>I&#39;m not sure I can help you with a comprehensive tutorial, I use emoncms mainly to log my energy use, temperatures etc, then I use an Excel model to analyse it all.&nbsp; So in the case of gas I just log the m^3 used.</p>
<p>Looking at your solution I can see you are possibly getting confused with power and energy.&nbsp; Power would normally be measured in the units of Watts (W) or kilowatts (kW) and energy in Wh or kWh.</p>
<p>The pulse from the meter is a measure of gas used in 0.01m^3.&nbsp; By multiplying the pulse by the conversion factor 111.354133 your feed will be a measure of energy in Watt-hour (Wh), not power or Gas Watts as you have called it.&nbsp; You might think this is pedantic, but it is important.</p>
<p>So if you are looking to log energy in Watt-hours (Wh), (although kWh would normally be shown on your bill), then your last processes should be something like this.</p>
<p><strong><em>Energy Used today </em></strong>(<strong><em>kWh to kWh/d-</em></strong>&gt; <strong><em>Daily Energy Wh/d)</em></strong></p>
<p>Note the process type is not Power to kWh/d anymore, but kWh to kWh/d.&nbsp; Clearly your feed will be in Wh/d if you use 111.354133 as the conversion factor.</p>
<p>Hopefully this will be the solution you are looking for.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20565"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5906.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Keen2bGreen&#039;s picture" title="Keen2bGreen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Converting a 0.01m3 input to kWh... any ideas?</h3>

    <div class="submitted">Submitted by <a href="../user/5906.html" title="View user profile.">Keen2bGreen</a> on Mon, 07/04/2014 - 09:58.</div>
    <div class="content">
     <p>Thank you John - that is very helpful.</p>
<p>Just to clarify what I&#39;m trying to do. &nbsp;I&#39;m trying to measure both really. &nbsp;m3 to validate my remore reading with the physical meter, and kWh to monitor actual cost. &nbsp;So that&#39;s why I&#39;m trying to register the number of clicks (1/100 m3) and then calculate the kWh equivalent.</p>
<p>Cheers</p>
<p>Mike</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/4910"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-PE8jTaH8nACsbYTcyGtykt3XNKck6RDYdpO7bSJk-X0" value="form-PE8jTaH8nACsbYTcyGtykt3XNKck6RDYdpO7bSJk-X0"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/4910 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:47:14 GMT -->
</html>
