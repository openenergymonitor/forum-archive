<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3762 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:26:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Setup help of new system required | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/8.html">Archived:  For Sale / Wanted / Services Offered </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Setup help of new system required</h3>
        <span class="submitted">Submitted by <a href="../user/5447.html" title="View user profile.">evgeny</a> on Mon, 03/02/2014 - 07:58</span>
        <div class="content"><p>Hi,</p>
<p>&nbsp;</p>
<p>i bought the system and started to configure it, but realized that it might be beyond my capabilities or i don&#39;t have enough time to do it.</p>
<p>will be happy to pay a reasonable rate for some quality&nbsp;help.</p>
<p>what i have:</p>
<ul>
<li>
		emonTx&nbsp;v3 - fully assembled</li>
<li>
		temperature sensor</li>
<li>
		4 x CT sensors</li>
<li>
		NanodeRF board - pre-assembled</li>
<li>
		USB 5V FTDI cable to program the board&nbsp;</li>
</ul>
<p>i&#39;ve setup a linux&nbsp;server with emoncms on it on the local network, that seems to have worked quite well, so now i need to configue&nbsp;Tx to talk to NanodeRF and NanodeRF to send data to local emoncms server.</p>
<p>please contact me for more details.</p>
<p>thanks</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2674.html" class="topic-previous" title="Go to previous forum topic">‹ PCB for a maximum of 3x CT&#039;s and 3x Voltage for sale</a>
              <a href="2637.html" class="topic-next" title="Go to next forum topic">Emon package : complet pack for starting at sell ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-18147"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Setup help of new system required</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 03/02/2014 - 13:43.</div>
    <div class="content">
     <p>The normal way people get help is through these forums. If you&#39;re prepared to persevere, we can probably get you going.</p>
<p>Your emonTx V3, current transformers and temperature sensor should work straight away. If you do not have the ac adapter or batteries, you need a separate 5 V USB adapter to power the emonTx, otherwise it will only work while it is connected to the programmer and your computer.</p>
<p>So your first step is to install the Arduino IDE on your computer. If you&#39;ve got emonCMS installed, you clearly know what you are doing there so just follow the instructions here: <a href="https://learn.openenergymonitor.org/?redirect=setting-up-the-arduino-environment%c2%a0" title="http://openenergymonitor.org/emon/buildingblocks/setting-up-the-arduino-environment ">http://openenergymonitor.org/emon/buildingblocks/setting-up-the-arduino-...</a> When you have done that, you should be able to connect to your emonTx and see some output from it. It should have a default sketch ready loaded that will work as soon as you connect it. That will assure you that at least the measurement part of it is working. We&#39;ll test the radio part with the NanodeRF.</p>
<p>Next you need to program the NanodeRF. First, try the test sketch attached. It makes no attempt to send data via the Ethernet, but it will prove that it can receive transmissions from the emonTx. You&#39;ll need to look at the sketch and set the radio frequency in software to match that of the emonTx (and the NanodeRF will be the same - it must be) in the line like this:</p>
<p>#define freq RF12_868MHZ</p>
<p>Then load it into the NanodeRF. If you get a green flash in time with the flashes on the emonTx, then the radio is working and you will see the numbers in the serial window.</p>
<p>Try this so far and let me know how you get on.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18331"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5447.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="evgeny&#039;s picture" title="evgeny&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Setup help of new system required</h3>

    <div class="submitted">Submitted by <a href="../user/5447.html" title="View user profile.">evgeny</a> on Tue, 11/02/2014 - 08:46.</div>
    <div class="content">
     <p>Hi Robert,</p>
<p>thanks for the answer.<br />
	&nbsp;</p>
<p>as i mention, i have been able to setup emonCMS server on the local LAN.&nbsp;</p>
<p>when i try to load the attached ino file i get an error message:</p>
<p>Ethernet has not been declared.</p>
<p>&nbsp;</p>
<p>it is the same error if i load the recommended file from here:</p>
<p><a href="../emonBase/NanodeRF.html" title="http://openenergymonitor.org/emon/emonBase/NanodeRF">http://openenergymonitor.org/emon/emonBase/NanodeRF</a></p>
<p>the first one, multinode.</p>
<p>&nbsp;</p>
<p>do you know what could be the problem?</p>
<p>&nbsp;</p>
<p>thank you.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18337"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1741.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1741.jpg" alt="ukmoose&#039;s picture" title="ukmoose&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Setup help of new system required</h3>

    <div class="submitted">Submitted by <a href="../user/1741.html" title="View user profile.">ukmoose</a> on Tue, 11/02/2014 - 12:21.</div>
    <div class="content">
     <p>Rather than waiting for Robert,</p>
<p>&nbsp;Have you opened the sketch in a text editor ?</p>
<p>As there are some settings you will need to add to get it working</p>
<p><strong>Step 1,</strong> Can you confirm that you have downloaded the following libraries and that they are in your arduino library folder, and that you have restarted the Arduino&nbsp;IDE?</p>
<p>&nbsp; Libraries in the standard arduino libraries folder:</p>
<p>- JeeLib&nbsp; <a href="https://github.com/jcw/jeelib" title="https://github.com/jcw/jeelib">https://github.com/jcw/jeelib</a><br />
	- EtherCard&nbsp; <a href="https://github.com/jcw/ethercard/" title="https://github.com/jcw/ethercard/">https://github.com/jcw/ethercard/</a></p>
<p><strong>Step 2</strong></p>
<p>Can you confirm that you have added the IP address of your server and that you have changed the line:</p>
<p>boolean use_hisip = false; &nbsp;to&nbsp;boolean use_hisip = true;</p>
<p><strong>Step 3&nbsp;</strong></p>
<p>That you have added your Emoncms API key.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18353"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Setup help of new system required</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 12/02/2014 - 01:41.</div>
    <div class="content">
     <p>Steps 2 &amp; 3 don&#39;t apply to my Basic RX Only sketch, because it has no active Ethernet communications. It will not even attempt to communicate with emonCMS. The purpose of that sketch was to prove the RF was working without the confusion of simultaneously trying to get the Ethernet side working as well.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18528"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5447.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="evgeny&#039;s picture" title="evgeny&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Setup help of new system required</h3>

    <div class="submitted">Submitted by <a href="../user/5447.html" title="View user profile.">evgeny</a> on Tue, 18/02/2014 - 23:55.</div>
    <div class="content">
     <p>Hi Robert,</p>
<p>&nbsp;</p>
<p>i don&#39;t understand: if we don&#39;t setup the IP address, how can we verify that there is communications between TX and RF?</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18530"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5447.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="evgeny&#039;s picture" title="evgeny&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Setup help of new system required</h3>

    <div class="submitted">Submitted by <a href="../user/5447.html" title="View user profile.">evgeny</a> on Tue, 18/02/2014 - 23:58.</div>
    <div class="content">
     <p>Hi ukmoose,</p>
<p>&nbsp;</p>
<p>I have not opened the sketch files in notepad, i open them in Arduino</p>
<p>i also found that Ethernet libraries are inside Arduino folder.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18533"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5447.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="evgeny&#039;s picture" title="evgeny&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Setup help of new system required</h3>

    <div class="submitted">Submitted by <a href="../user/5447.html" title="View user profile.">evgeny</a> on Wed, 19/02/2014 - 00:22.</div>
    <div class="content">
     <p>i&#39;m a little lost here.</p>
<p>could someone compile me a Sketch, that i can load into the board?</p>
<p>i&#39;ll provide all settings.</p>
<p>as i mentioned - i&#39;m happy to pay for it (within reason)</p>
<p>please send me an email if interested: <a href="mailto:eshilov@gmail.com">eshilov@gmail.com</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18534"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Setup help of new system required</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 19/02/2014 - 00:24.</div>
    <div class="content">
     <p><em>&quot;i don&#39;t understand: if we don&#39;t setup the IP address, how can we verify that there is communications between TX and RF?&quot;</em></p>
<p>As I wrote &quot;If you get a green flash in time with the flashes on the emonTx, then the radio is working and you will see the numbers in the serial window.&quot;&nbsp; The Radio does not depend on the Internet connection, but the Internet connection not working will reset the NanodeRF continually and confuse you.</p>
<p>I want you to run that test sketch so that you can see if the NanodeRF is receiving the data. If that is OK, you edit the multinode sketch and put the same settings that worked for the radio into that, then you can be reasonably sure the radio will work. Then you can change the setting for the Internet to get that to work.</p>
<p>The Arduino IDE does include a text editor, so it is OK to use that to change the settings in the sketch.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18751"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5447.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="evgeny&#039;s picture" title="evgeny&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Setup help of new system required</h3>

    <div class="submitted">Submitted by <a href="../user/5447.html" title="View user profile.">evgeny</a> on Tue, 25/02/2014 - 10:13.</div>
    <div class="content">
     <p>Hi Robert,</p>
<p>apologies for the delay in responses, i&#39;m travelling for work and it makes it difficult for me to work on this project as well.</p>
<p>i have just tried to upload your sketch, and it comes up with &quot;Ethernet&quot; has not been defined</p>
<p>&nbsp;</p>
<p>i think it&#39;s something to do with the ethernet library that i have installed on my PC.</p>
<p>i have downloaded Arduino 1.0.5-r2 and have not changed any of the default settings</p>
<p>&nbsp;</p>
<p>Please let me know what i can do next.</p>
<p>thank you</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/3762"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-6wHx8y_LqYz4cC-deKwN5AVWaiEKMwD4bHdfgwHTLOg" value="form-6wHx8y_LqYz4cC-deKwN5AVWaiEKMwD4bHdfgwHTLOg"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
