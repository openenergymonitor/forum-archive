<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10324 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:04:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Belkin WeMo - integrate to emoncms | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Belkin WeMo - integrate to emoncms</h3>
        <span class="submitted">Submitted by <a href="../user/4638.html" title="View user profile.">borpin123</a> on Sun, 15/03/2015 - 19:39</span>
        <div class="content"><p>Having a quick look at Belkin&#39;s WeMo. &nbsp;I wonder if it would be possible to integrate the WeMo elements into emoncms either as switch control or energy usage monitoring.</p>
<p>I&#39;ve long been interested in a plug-in device that could measure energy use and provide a switch functionality but I would rather it was via powerline rather than WiFi. &nbsp;This is the closest I have come across.</p>
<p>There is an opensource&nbsp;project to access and control WeMo. &nbsp;Just wondered if anyone had linked them to emoncms :)</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12540.html" class="topic-previous" title="Go to previous forum topic">‹ Detailed heating (radiator) monitoring</a>
              <a href="12486.html" class="topic-next" title="Go to next forum topic">Development: Updating the documentation for Solar PV monitoring + updates to MySolarPV Web App ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-29329"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7846.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="RichardG&#039;s picture" title="RichardG&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/7846.html" title="View user profile.">RichardG</a> on Thu, 02/04/2015 - 11:44.</div>
    <div class="content">
     <p>Great idea...</p>
<p>I&#39;ve been playing with an out-of-the-box system called GEO Solo II which is easy to set up and provides ability to monitor&nbsp;consumption from a single CT clamp AND switch on/off and monitor&nbsp;up to 6 individual 13A sockets. The web-based reporting is not bad, but could be vastly improved.</p>
<p>You might find it interesting to have a quick look at</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-29965"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Tue, 28/04/2015 - 03:59.</div>
    <div class="content">
     <p>I have looked for a well priced EoP based switch but have found nothing.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33931"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Mon, 07/09/2015 - 10:01.</div>
    <div class="content">
     <p>I have been doing a little experimenting with managing the WeMo via the ouimeaux system and I am make some progress.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41166"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Fri, 15/04/2016 - 09:16.</div>
    <div class="content">
     <p>I hope to get a wemo insight to play with. It would be interested in getting power consumption data into Emoncms.&nbsp;</p>
<p>It looks like <em>ouimeaux</em>&nbsp;should make this possible&nbsp;</p>
<p><a href="http://ouimeaux.readthedocs.org/" title="http://ouimeaux.readthedocs.org/">http://ouimeaux.readthedocs.org/</a></p>
<p>It looks like it should be easy to control the plug and get the energy data via openHAB binding. Maybe openHAB could publish the energy data to MQTT&nbsp;</p>
<p><a href="https://github.com/openhab/openhab/wiki/Wemo-Binding" title="https://github.com/openhab/openhab/wiki/Wemo-Binding">https://github.com/openhab/openhab/wiki/Wemo-Binding</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41167"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Fri, 15/04/2016 - 09:17.</div>
    <div class="content">
     <p>Looks like it&#39;s already been done:</p>
<p><a href="11612.html" title="https://openenergymonitor.org/emon/node/11612">https://openenergymonitor.org/emon/node/11612</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41252"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8839.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="joyrider3774&#039;s picture" title="joyrider3774&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/8839.html" title="View user profile.">joyrider3774</a> on Tue, 19/04/2016 - 09:13.</div>
    <div class="content">
     <p>i have created a (windows) program in delphi that connects to the wemo insight and gets the usage data and posts it to emoncms. I have been using it with 3 wemo insights. It&#39;s not really that hard to do it.</p>
<p>My program only has one flaw though, the wemo insight siwtches don&#39;t work of a fixed port every once in a while they switch ports and i have to edit my program&#39;s config for that plug to adopt to the new port. I have not gotten the time nor the willingness to update the app to try and connect to a diffrent port after some failed attempts. Mostly because i have set up the program in such a way that it quits whenever it gets an error in combination with a batch file that restarts it indefinatly.</p>
<p>The ouimeaux thing does not have that problem as far as i can remember as it does a upnp scan to find the device instead of working with ip + port in the config. if i remember correctly home assistant also uses that same library.</p>
<p>Further on i had also modified the button widget and so that it changes a feed value from 1 to 0 and from 0 to 1. that in combination with node red to read the feed value and based on the value enable / disable the wemo insight switch. works ok but has a few flaws (espicialy if you also use home assistant). The nodes in node red also tend to have problems sometimes connecting to emoncms at least the ones i&#39;m using and when looking at node red log.</p>
<p>I can try to upload the delphi sources to github if you want so you can see how i did it.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41263"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Tue, 19/04/2016 - 13:06.</div>
    <div class="content">
     <p>Hi</p>
<p>The latest NodeRed&nbsp;Wemo node seems to handle the fact that the wemos&nbsp;sometimes change ports. Would that be an easier way to integrate a wemo&nbsp;into emoncms?</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41265"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8839.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="joyrider3774&#039;s picture" title="joyrider3774&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/8839.html" title="View user profile.">joyrider3774</a> on Tue, 19/04/2016 - 15:40.</div>
    <div class="content">
     <p>If the wemo node allows reading the current useage watt useage it might be possible to create a flow that:</p>
<p>1) read value every X seconds / minutes from wemo</p>
<p>2) does an http get to emoncms using the input api and the key, or see if one of the emoncms nodes can be used as an output. Can&#39;t remember exactly if there was such one, but the http get / post does work&nbsp; from within node red</p>
<p>this way you only need node red, a wemo insight, and emoncms. It&#39;s probably not so hard to create that flow.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41268"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8839.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="joyrider3774&#039;s picture" title="joyrider3774&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/8839.html" title="View user profile.">joyrider3774</a> on Wed, 20/04/2016 - 08:18.</div>
    <div class="content">
     <p abp="907">I just checked and updated my node-red to see the new wemo nodes. Unfortunatly, there&#39;s a problem. They use a notifications system instead of polling system. For one thing, the notification system does not seem to work for me. It does not react to wemo insight being switched on / off. Besides that, there&#39;s another problem that makes it (currently) not possible to use node-red to read the wemo insight data and post it to an emoncms node. When I tested it, it&#39;s not possible to check every x seconds for the power. When you do get a notification from wemo insight, the object does contain the power value, but there&#39;s no way, or at least I could not find a way, to read it every X seconds and send it to emoncms. The emoncms nodes work just fine, you don&#39;t need the input api, the node does it for you.</p>
<p abp="907">So as far as i can see, without modifcations to the wemo nodes source, it&#39;s not possible to trigger / force read the power value on demand. It could be it&#39;s just a simple modification, but I would contact the author of the wemo nodes and ask them if it&#39;s possible to change it so a node can be triggered on demand and read the state of the wemo (insight) switch. Once that&#39;s available, it&#39;s possible to use node red to post wemo insight power values to emoncms. (might be a good idea the useage case like as in posting the data to emoncms (node))</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41269"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8839.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="joyrider3774&#039;s picture" title="joyrider3774&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/8839.html" title="View user profile.">joyrider3774</a> on Tue, 19/04/2016 - 22:07.</div>
    <div class="content">
     <p abp="896">I emailed the author asking if it was somehow possible to get the state of the wemo insight by a trigger like a timer or a repeating message, explaining what we want to do.</p>
<p abp="896">If I get a message back, I&#39;ll report here.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41274"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Wed, 20/04/2016 - 02:01.</div>
    <div class="content">
     <p>Nice, good work&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41285"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8839.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="joyrider3774&#039;s picture" title="joyrider3774&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Belkin WeMo - integrate to emoncms</h3>

    <div class="submitted">Submitted by <a href="../user/8839.html" title="View user profile.">joyrider3774</a> on Wed, 20/04/2016 - 19:56.</div>
    <div class="content">
     <p abp="952">I haven&#39;t gotten any email back from the node read wemo nodes author, but i&nbsp;did upload&nbsp;my delphi xe&nbsp;source as well as a precompiled Release (exe) to github of the little tool i created.&nbsp;It&#39;s what i&#39;m using for monitoring my wemo insight&#39;s on&nbsp;a intel nuc running windows 10. It has the flaw of having to change the ports manually whenever the wemo switches ports but, at least for me, it does not seem to happen that frequently and i get emails whenever there&#39;s no more input from emoncms.</p>
<p abp="952"><a abp="968" href="https://github.com/joyrider3774/Wemo_Insight_Emoncms">https://github.com/joyrider3774/Wemo_Insight_</a><a abp="971">Emoncms</a></p>
<p abp="952">nothing special and probably not so well coded but i did not want to spend much time on it and i might be switching to node red if the author of the node red wemo nodes makes it possible to ask the wemo insight info anytime you want</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10324"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-4N_cq2kLQ6_Qa9FCW2uS6XvRad0sg0iXmdRppQZGgns" value="form-4N_cq2kLQ6_Qa9FCW2uS6XvRad0sg0iXmdRppQZGgns"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
