<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3297 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:23:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>SIGNIFICANTLY INACCURATE emonTxV3_4chan_continuous | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">SIGNIFICANTLY INACCURATE emonTxV3_4chan_continuous</h3>
        <span class="submitted">Submitted by <a href="../user/3309.html" title="View user profile.">mpower</a> on Sat, 07/12/2013 - 09:58</span>
        <div class="content"><p>I am collecting my data from 3 cts + 1 ac-ac adaptor connected to an emonTx with emonTxV3_4chan_continuous fw, it is connected to emoncms through Nanode with NanodeRF_multinode, my emoncms uid is mpower.</p>
<p>My readings are significantly inaccurate.</p>
<p>First: I have 3 CTs connected to Node:10, name 2, 3 &amp; 4; nevertheless I am getting an input on name 5, even with ALL CTs disconnected, i still keep getting an input on name 5. Can you assist in troubleshooting this??</p>
<p>Second: From reading the code, i understand that name 1 field is the msgNumber value, is this correct, then what is the point of transmitting the msgNumber value??</p>
<p>Third: I am logging the input in Node: 10 name 2 and converting this feed to power, I am getting significantly wide readings compared to my mains meter reader, e.g at the moment, Node 10 name 2 is reading value of 42, while my mains meter is showing a consumption of 290 watts. What could be causing the wide discrepancy??</p>
<p>Fourth: My other two connected CTs may not be accurate or close to accurate as well. as comparing the inputs and load connected to them. Could you please advise on how i can verify the readings??</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1102.html" class="topic-previous" title="Go to previous forum topic">‹ Growatt and ecocms</a>
              <a href="3301.html" class="topic-next" title="Go to next forum topic">How does the meter know whether power is being consumed or generated? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-16603"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SIGNIFICANTLY INACCURATE emonTxV3_4chan_continuous</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Sat, 07/12/2013 - 12:13.</div>
    <div class="content">
     <p>We have not properly tested or calibrated the&nbsp;4chan_continuous&nbsp;code on the emonTx&nbsp;V3 as is stated in the comment at the beginning of the sketch. The main firmware we have released with the emonTx V3 is the discrete sampling&nbsp;<span style="font-size: 12px;">&nbsp;https://github.com/</span>openenergymonitor<span style="font-size: 12px;">/</span>emonTxFirmware<span style="font-size: 12px;">/tree/master/</span>emonTxV3<span style="font-size: 12px;">/</span>RFM12B<span style="font-size: 12px;">/</span>emonTxV3_RFM12B_DiscreteSampling<span style="font-size: 12px;">. Please contribute back if</span><span style="font-size: 12px;"> you do manage to calibrate the continuous sampling. I will try and make this more clear in the</span><span style="font-size: 12px;">&nbsp;</span>gitHub<span style="font-size: 12px;"> </span>readme</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16608"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SIGNIFICANTLY INACCURATE emonTxV3_4chan_continuous</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Sat, 07/12/2013 - 18:33.</div>
    <div class="content">
     <p>Github readme documents have now been updated&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16645"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SIGNIFICANTLY INACCURATE emonTxV3_4chan_continuous</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 08/12/2013 - 17:18.</div>
    <div class="content">
     <p>Hello mpower, I have fixed and updated the calibration constants in the example, the calibration constants now use the theoretical calibration value determined from the component values. The updated example is up here:</p>
<p><a href="https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxV3/RFM12B/Examples/emonTxV3_continuous/emonTxV3_continuous.ino" title="https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxV3/RFM12B/Examples/emonTxV3_continuous/emonTxV3_continuous.ino">https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxV3...</a></p>
<p>Lines 113 to 118 now read:</p>
<p>	const float powerCal_CT1 = (276.9*(3.3/1023))*(90.9*(3.3/1023)); // &lt;---- powerCal value<br />
	const float powerCal_CT2 = (276.9*(3.3/1023))*(90.9*(3.3/1023)); // &lt;---- powerCal value<br />
	const float powerCal_CT3 = (276.9*(3.3/1023))*(90.9*(3.3/1023)); // &lt;---- powerCal value<br />
	const float powerCal_CT4 = (276.9*(3.3/1023))*(16.6*(3.3/1023)); // &lt;---- powerCal value (2000 / 120R burden resistor)</p>
<p>To add: the channels read a little high when no CT is connected but if the CT is plugged in and no power is flowing the measurement does go to zero.</p>
<p>Edit: Voltage calibration constant was also incorrect and has been updated to 276.9 which is the calibration constant as determined theoretically (230V x 13) / (9V x 1.2) = 276.9. Where 13 is the voltage divider reduction factor and 1.2 accounts for 20% increase in voltage adapter output voltage as its not being loaded (open circuit)</p>
<p>The measurements are now agreeing within 5-10W @ 3kW with my reference meter here.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16677"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3309.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mpower&#039;s picture" title="mpower&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SIGNIFICANTLY INACCURATE emonTxV3_4chan_continuous</h3>

    <div class="submitted">Submitted by <a href="../user/3309.html" title="View user profile.">mpower</a> on Mon, 09/12/2013 - 12:56.</div>
    <div class="content">
     <p>Thanks guys for the updates;&nbsp; I am getting ~10 - 12W @ &lt;0.2kW when compared to the billing meter.</p>
<p>&nbsp;</p>
<p>Anybody using the emonTx V2 should remember to set the pins correctly.</p>
<p>----------------------------------------------------------------------------------------------------</p>
<p>// analogue input pins (for emonTx V2):<br />
	const byte voltageSensor = 2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // analogue<br />
	const byte currentSensor_CT1 = 3;&nbsp;&nbsp; // analogue<br />
	const byte currentSensor_CT2 = 0;&nbsp;&nbsp; // analogue<br />
	const byte currentSensor_CT3 = 1;&nbsp;&nbsp; // analogue<br />
	const byte currentSensor_CT4 = 4;&nbsp;&nbsp; // analogue</p>
<p>-----------------------------------------------------------------------------------------------------</p>
<p>&nbsp;</p>
<p>Could you please confirm if the below convention also valid for the emonTx V2??</p>
<p>--------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<p>//emonTxV3 CT channel will read ADC 0 when nothing is connected due to switched jack plugs connecting ADC to 0V when no jack is inserted<br />
	&nbsp; if (analogRead(1) &gt; 0) CT1 = 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //check to see if CT is connected to CT1 input, if so enable that channel<br />
	&nbsp; if (analogRead(2) &gt; 0) CT2 = 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //check to see if CT is connected to CT2 input, if so enable that channel<br />
	&nbsp; if (analogRead(3) &gt; 0) CT3 = 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //check to see if CT is connected to CT3 input, if so enable that channel<br />
	&nbsp; if (analogRead(4) &gt; 0) CT4 = 1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //check to see if CT is connected to CT4 input, if so enable that channel</p>
<p>---------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<p>&nbsp;</p>
<p>Finally i tried to UNSUCCESFULLY to add collecting of Vrms in emonTxV3_4chan_continuous by adding the following bits within the code. Do you have any hints on how i can get it to work??</p>
<p>____________________________________________________________________________________________</p>
<p>#include &quot;EmonLib.h&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Include Emon Library&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	EnergyMonitor ct1;</p>
<p>/*<br />
	typedef struct { byte dumpState; int msgNumber; } Tx_struct;&nbsp;&nbsp;&nbsp; //&nbsp; data for RF comms<br />
	Tx_struct tx_data;<br />
	*/<br />
	typedef struct {<br />
	&nbsp;&nbsp; int msgNumber;<br />
	&nbsp;&nbsp; int Vrms;<br />
	&nbsp;&nbsp; int power_CT1;<br />
	&nbsp;&nbsp; int power_CT2;<br />
	&nbsp;&nbsp; int power_CT3;<br />
	&nbsp;&nbsp; int power_CT4; } Tx_struct;&nbsp;&nbsp;&nbsp; // revised data for RF comms<br />
	Tx_struct tx_data;</p>
<p>void allGeneralProcessing()<br />
	{<br />
	&nbsp; static int samplesDuringThisCycle;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // for normalising the power in each mains cycle<br />
	&nbsp; static long sumP_CT1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // for per-cycle summation of &#39;real power&#39;<br />
	&nbsp; static long sumP_CT2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // for per-cycle summation of &#39;real power&#39;<br />
	&nbsp; static long sumP_CT3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // for per-cycle summation of &#39;real power&#39;<br />
	&nbsp; static long sumP_CT4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // for per-cycle summation of &#39;real power&#39;<br />
	&nbsp; static enum polarities polarityOfLastSampleV;&nbsp; // for zero-crossing detection<br />
	&nbsp; static long cumVdeltasThisCycle_long;&nbsp;&nbsp;&nbsp; // for the LPF which determines DC offset (voltage)<br />
	&nbsp; static long lastSampleVminusDC_long;&nbsp;&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp;&nbsp; for the phaseCal algorithm<br />
	&nbsp; static int Vrms;<br />
	&nbsp; static int msgNumber = 0;</p>
<p>if ((cycleCount % 50) == 0)<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tx_data.msgNumber = msgNumber++; // increment<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tx_data.Vrms = ct1.Vrms*100;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tx_data.power_CT1 = energyInBucket_long_CT1 * (powerCal_CT1/50);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tx_data.power_CT2 = energyInBucket_long_CT2 * (powerCal_CT2/50);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tx_data.power_CT3 = energyInBucket_long_CT3 * (powerCal_CT3/50);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tx_data.power_CT4 = energyInBucket_long_CT4 * (powerCal_CT4/50);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; send_rf_data();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.print(tx_data.power_CT1);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; energyInBucket_long_CT1 = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.print(&quot;, &quot;);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.print(tx_data.power_CT2);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; energyInBucket_long_CT2 = 0;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.print(&quot;, &quot;);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.print(tx_data.power_CT3);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; energyInBucket_long_CT3 = 0;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.print(&quot;, &quot;);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.print(tx_data.power_CT4);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; energyInBucket_long_CT4 = 0;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.print(&quot;, &quot;);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.println(tx_data.Vrms);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.print(&quot;, &quot;);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Serial.println(samplesDuringThisCycle);<br />
	&nbsp;&nbsp;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; digitalWrite(LedPin, tx_data.msgNumber &amp; 0x01);</p>
<p>_______________________________________________________________________________________|</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16678"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SIGNIFICANTLY INACCURATE emonTxV3_4chan_continuous</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 09/12/2013 - 13:17.</div>
    <div class="content">
     <p>First, anyone with an emonTx V2 should stay with the emonTxV2 sketches - these are tried and tested on the V2, else as you point out the pin allocations are wrong. The convention for turning on various sections of code has changed over time so it&#39;s not safe to make general assumptions, you need to look at and understand the particular sketch.</p>
<p>Second, your Vrms problem:&nbsp; In what way is it not working? Is there a sensible value in ct1.Vrms? You might like to look at&nbsp; <a href="https://learn.openenergymonitor.org/?redirect=rfm12b2">RFM12B - Part 2 - Sending Data Between Modules</a>.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/3297"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-n61pVwv-8tuRrBV642sijD8znccY7-lyv8bD7HNnCJI" value="form-n61pVwv-8tuRrBV642sijD8znccY7-lyv8bD7HNnCJI"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
