<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11961 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:56:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>RFM12Pi and group 0 causes emonhub to discard data | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">RFM12Pi and group 0 causes emonhub to discard data</h3>
        <span class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sat, 09/01/2016 - 14:28</span>
        <div class="content"><p>Think this one is for you Paul (pb66) &nbsp; :-)</p>
<p>I have had a system running for a long time and have rebuilt it with the latest software. The old rfm<strong>12</strong>pi used to work fine and is actually working OK except that it is set to group 0 in the config settings. Which if you read the old code in the demo sketch seems to be an acceptable value.</p>
<p>Excerpt from the rfm12&nbsp;Demo sketch</p>
<p>Available commands:</p>
<p>&quot; &lt;nnn&gt; g - set network group (RFM12 only allows 212, 0 = any)&quot; &quot;\n&quot;</p>
<p>If the config setting for group is 0, then the code appends a &#39;G&#39; in front of the received data and then of course emonhub discards it because it is non numeric.&nbsp;I can see from my emonhub log that data is being received and the data looks OK as below:</p>
<p>WARNING 219 Discarded RX frame &#39;non-numerical content&#39; : [&#39;G&#39;, &#39;210&#39;, &#39;10&#39;, &#39;35&#39;, &#39;1&#39;, &#39;82&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;0&#39;, &#39;51&#39;, &#39;93&#39;, &#39;132&#39;, &#39;1&#39;, &#39;214&#39;, &#39;1&#39;, &#39;132&#39;, &#39;1&#39;, &#39;93&#39;, &#39;2&#39;, &#39;26&#39;, &#39;2&#39;]</p>
<p>I&#39;m in a quandary as to whether to simply set config&nbsp;for group to 210 (not sure I&nbsp;understand the comment in the code about the RFM12 only allowing 212, think it should be up to 212). Or whether this should be something that should be fixed in emonhub, i.e. to accept any data appended with a G as this simply indicates a config setting of the group to 0, i.e. any&nbsp;in the RFM12.</p>
<p>I can&#39;t be alone in having an RFM12 which has it&#39;s group set to zero in the config. Can&#39;t ever remember having set this at any stage.&nbsp;</p>
<p>Anyway, I&#39;d be interested in your thoughts. To get things running again on this system, I&#39;ll go in and set the group in the config using minicom but should emonhub allow this as a G indicates a group of any, i.e. zero in the RFM12&nbsp;config settings.</p>
<p>Simon</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11982.html" class="topic-previous" title="Go to previous forum topic">‹ Event module builder UI</a>
              <a href="11971.html" class="topic-next" title="Go to next forum topic">emonBase local emonCMS database and logging ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-38063"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 09/01/2016 - 14:41.</div>
    <div class="content">
     <p>Hi Simon,&nbsp;</p>
<p>The reference to &quot;212&quot; is the early rfm12pi&#39;s&nbsp;could only use upto&nbsp;212 groups (255 are now available)&nbsp;hence the OEM standard of group 210. group 0 is promiscuous&nbsp;mode and should not really be used for a operational setup, it is a mode rather than a group id.&nbsp;</p>
<p>When setting group 0 you are removing a huge chunk of filtering, the byte&nbsp;used to define the group has to matched in any incoming packet so it effectively extends the crc by another byte, setting group 0 doesn&#39;t&nbsp;mean match the &quot;0&quot; setting but ignores that byte so you may not only start receiving&nbsp;&quot;other groups&quot; if there are any to be found but significantly increase the chance of rogue packets getting through.</p>
<p>I do intend to make emonhub&nbsp;fit better with jeelib and will almost definitely accommodate&nbsp;the group 0 setting, but that will probably be in a debugging mode rather than allowing any group to be openly used.</p>
<p>I would be interested to see your emonhub.log at start up to see why the group is not being set by emonhub,</p>
<p>Is it set in the [[RFM2Pi]] [[[runtimesettings]]] in emonhub.conf?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38066"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sat, 09/01/2016 - 14:59.</div>
    <div class="content">
     <p>I used minicom to make the change and the data is now landing fine &nbsp;:-)</p>
<p>Here&#39;s my listener section of emonhub.conf</p>
<p>[[RFM2Pi]]<br />
&nbsp; &nbsp; Type = EmonHubJeeInterfacer<br />
&nbsp; &nbsp; [[[init_settings]]]<br />
&nbsp; &nbsp; &nbsp; &nbsp; com_port = /dev/ttyAMA0<br />
&nbsp; &nbsp; &nbsp; &nbsp; com_baud = 9600<br />
&nbsp; &nbsp; [[[runtimesettings]]]<br />
&nbsp; &nbsp; &nbsp; &nbsp; group = 210<br />
&nbsp; &nbsp; &nbsp; &nbsp; frequency = 868<br />
&nbsp; &nbsp; &nbsp; &nbsp; baseid = 10</p>
<p>Here&#39;s some of the log file from earlier. Doesn&#39;t seem as if emonhub is making any impression on the RFM12Pi</p>
<p>This repeats for quite a while before the log turns over to reporting the non numeric error because of the &#39;G&#39;</p>
<p>2016-01-09 09:55:55,796 DEBUG 61 NEW FRAME : 1452333355.8 Available commands:<br />
2016-01-09 09:55:56,142 WARNING 61 Discarded RX frame &#39;non-numerical content&#39; : [&#39;Available&#39;, &#39;commands:&#39;]<br />
2016-01-09 09:55:56,435 DEBUG 62 NEW FRAME : 1452333356.43 &nbsp; 123 x &nbsp; &nbsp; &nbsp;- Toggle configuration change protection, 1=Unlocked<br />
2016-01-09 09:55:56,438 WARNING 62 Discarded RX frame &#39;non-numerical content&#39; : [&#39;123&#39;, &#39;x&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;Toggle&#39;, &#39;configuration&#39;, &#39;change&#39;, &#39;protection,&#39;, &#39;1=Unlocked&#39;]<br />
2016-01-09 09:55:56,687 DEBUG 63 NEW FRAME : 1452333356.69 &nbsp; &lt;nn&gt; i &nbsp; &nbsp; - set node ID (standard node ids are 1..26)<br />
2016-01-09 09:55:56,690 WARNING 63 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;nn&gt;&#39;, &#39;i&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;set&#39;, &#39;node&#39;, &#39;ID&#39;, &#39;(standard&#39;, &#39;node&#39;, &#39;ids&#39;, &#39;are&#39;, &#39;1..26)&#39;]<br />
2016-01-09 09:55:56,953 DEBUG RFM2Pi device settings updated: &nbsp; &lt;n&gt; b &nbsp; &nbsp; &nbsp;- set MHz band (4 = 433, 8 = 868, 9 = 915)<br />
2016-01-09 09:55:57,196 DEBUG 64 NEW FRAME : 1452333357.2 &nbsp; &lt;nnn&gt; g &nbsp; &nbsp;- set network group (RFM12 only allows 212, 0 = any)<br />
2016-01-09 09:55:57,200 WARNING 64 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;nnn&gt;&#39;, &#39;g&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;set&#39;, &#39;network&#39;, &#39;group&#39;, &#39;(RFM12&#39;, &#39;only&#39;, &#39;allows&#39;, &#39;212,&#39;, &#39;0&#39;, &#39;=&#39;, &#39;any)&#39;]<br />
2016-01-09 09:55:57,482 DEBUG 65 NEW FRAME : 1452333357.48 &nbsp; &lt;n&gt; c &nbsp; &nbsp; &nbsp;- set collect mode (advanced, normally 0)<br />
2016-01-09 09:55:57,485 WARNING 65 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;n&gt;&#39;, &#39;c&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;set&#39;, &#39;collect&#39;, &#39;mode&#39;, &#39;(advanced,&#39;, &#39;normally&#39;, &#39;0)&#39;]<br />
2016-01-09 09:55:57,727 DEBUG 66 NEW FRAME : 1452333357.73 &nbsp; ...,&lt;nn&gt; a - send data packet to node &lt;nn&gt;, with ack<br />
2016-01-09 09:55:57,731 WARNING 66 Discarded RX frame &#39;non-numerical content&#39; : [&#39;...,&lt;nn&gt;&#39;, &#39;a&#39;, &#39;-&#39;, &#39;send&#39;, &#39;data&#39;, &#39;packet&#39;, &#39;to&#39;, &#39;node&#39;, &#39;&lt;nn&gt;,&#39;, &#39;with&#39;, &#39;ack&#39;]<br />
2016-01-09 09:55:57,975 DEBUG 67 NEW FRAME : 1452333357.97 &nbsp; ...,&lt;nn&gt; s - send data packet to node &lt;nn&gt;, no ack<br />
2016-01-09 09:55:57,978 WARNING 67 Discarded RX frame &#39;non-numerical content&#39; : [&#39;...,&lt;nn&gt;&#39;, &#39;s&#39;, &#39;-&#39;, &#39;send&#39;, &#39;data&#39;, &#39;packet&#39;, &#39;to&#39;, &#39;node&#39;, &#39;&lt;nn&gt;,&#39;, &#39;no&#39;, &#39;ack&#39;]<br />
2016-01-09 09:55:58,239 DEBUG 68 NEW FRAME : 1452333358.24 &nbsp; &lt;n&gt; l &nbsp; &nbsp; &nbsp;- turn activity LED on DIG8 on or off<br />
2016-01-09 09:55:58,243 WARNING 68 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;n&gt;&#39;, &#39;l&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;turn&#39;, &#39;activity&#39;, &#39;LED&#39;, &#39;on&#39;, &#39;DIG8&#39;, &#39;on&#39;, &#39;or&#39;, &#39;off&#39;]<br />
2016-01-09 09:55:58,475 DEBUG 69 NEW FRAME : 1452333358.47 Current configuration:<br />
2016-01-09 09:55:58,478 WARNING 69 Discarded RX frame &#39;non-numerical content&#39; : [&#39;Current&#39;, &#39;configuration:&#39;]<br />
2016-01-09 09:55:58,741 DEBUG RFM2Pi device settings updated: 74 i10 g0 @ 868 MHz &nbsp;Lock: 1<br />
2016-01-09 09:55:59,233 DEBUG RFM2Pi acknowledged command: &gt; 0y<br />
2016-01-09 09:55:59,563 WARNING Discarded empty frame<br />
2016-01-09 09:55:59,826 DEBUG 70 NEW FRAME : 1452333359.83 Available commands:<br />
2016-01-09 09:55:59,831 WARNING 70 Discarded RX frame &#39;non-numerical content&#39; : [&#39;Available&#39;, &#39;commands:&#39;]<br />
2016-01-09 09:56:00,119 DEBUG 71 NEW FRAME : 1452333360.12 &nbsp; 123 x &nbsp; &nbsp; &nbsp;- Toggle configuration change protection, 1=Unlocked<br />
2016-01-09 09:56:00,122 WARNING 71 Discarded RX frame &#39;non-numerical content&#39; : [&#39;123&#39;, &#39;x&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;Toggle&#39;, &#39;configuration&#39;, &#39;change&#39;, &#39;protection,&#39;, &#39;1=Unlocked&#39;]</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38070"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 09/01/2016 - 19:05.</div>
    <div class="content">
     <p>We need to know what version of emonhub&nbsp;you are using and if the term &quot;listener &quot; was a slip of the tongue.&nbsp; Are you running a very old version? Emonhub&nbsp;had &quot;listeners&quot; like oemgateway&nbsp;had&nbsp;when it was first put together, but that changed to interfacers&nbsp;in the very early days. Actually, I think you must have an &quot;[interfacers]&quot; section, because the underscore&nbsp;was dropped from runtime_settings at the same time, and you have &quot;runtimesettings&quot;.</p>
<p>To see exactly what version you have, and whether the settings get loaded correctly, use these 2 lines</p>
<p>sudo&nbsp;<s>emonhub service</s>&nbsp;service emonhub&nbsp;restart</p>
<p>tail -f /var/log/emonhub/emonhub.log</p>
<p>By using the &quot;tail&quot; immediately after the &quot;restart&quot;, we will get to see the version and each of the interfacers created and the&nbsp;settings applied. let it run until it settles and then ctrl-c to exit. if you attach or cut and paste the&nbsp;log from the restart it should tell us more.</p>
<p>The log you supplied does show emonhub&nbsp;discarding the helptext&nbsp;generated by the rfm2pi, but it doesn&#39;t go far enough back to show what triggered it.</p>
<p>Nor does it show any runtime settings being passed and the responses from the rfm2pi.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38071"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sat, 09/01/2016 - 17:55.</div>
    <div class="content">
     <p>Hi Paul, should have said that this is on my fresh re-install, so it&#39;s the latest emonhub. And it was &nbsp;aslip of the tongue - apologies for that. I meant interfacers of course.</p>
<p>Like you slip of the tongue with emonhub service restart &nbsp;;-)</p>
<p>In the end I did the following - I wasn&#39;t fast enough with 2 commands &nbsp;in a row! &nbsp;:-) &nbsp; &nbsp;The early stuff is just waht was happening before the restart of course.</p>
<p>pi@Homepi-emoncms:~ $ sudo service emonhub restart &amp;&amp; tail -f /var/log/emonhub/emonhub.log<br />
2016-01-09 17:51:38,977 INFO emonCMS sending: http://emoncms.org/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1452361898.85,10,625,0,0,0,24131,426,500,388,649,495]]&amp;sentat=1452361898<br />
2016-01-09 17:51:39,004 INFO emonCMSlocal sending: http://localhost/emoncms/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1452361898.85,10,625,0,0,0,24131,426,500,388,649,495]]&amp;sentat=1452361899<br />
2016-01-09 17:51:43,981 INFO emonCMSlocal sending: http://localhost/emoncms/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1452361903.83,10,627,0,0,0,24127,426,500,388,649,495]]&amp;sentat=1452361903<br />
2016-01-09 17:51:43,980 INFO emonCMS sending: http://emoncms.org/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1452361903.83,10,627,0,0,0,24127,426,500,388,649,495]]&amp;sentat=1452361903<br />
2016-01-09 17:51:48,918 INFO emonCMSlocal sending: http://localhost/emoncms/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1452361908.8,10,627,0,0,0,24126,426,500,388,648,495]]&amp;sentat=1452361908<br />
2016-01-09 17:51:48,988 INFO emonCMS sending: http://emoncms.org/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1452361908.8,10,627,0,0,0,24126,426,500,388,648,495]]&amp;sentat=1452361908<br />
2016-01-09 17:51:53,951 INFO emonCMSlocal sending: http://localhost/emoncms/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1452361913.82,10,626,0,0,0,24130,426,500,388,648,491]]&amp;sentat=1452361913<br />
2016-01-09 17:51:53,992 INFO emonCMS sending: http://emoncms.org/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1452361913.82,10,626,0,0,0,24130,426,500,388,648,491]]&amp;sentat=1452361913<br />
2016-01-09 17:51:55,551 INFO Exiting hub...<br />
2016-01-09 17:51:55,596 INFO Exit completed<br />
2016-01-09 17:51:57,724 INFO EmonHub Pre-Release Development Version (rc1.2)<br />
2016-01-09 17:51:57,729 INFO Opening hub...<br />
2016-01-09 17:51:57,734 INFO Creating EmonHubEmoncmsReporter &#39;emonCMS&#39;<br />
2016-01-09 17:51:57,742 INFO Set up reporter &#39;emonCMS&#39; (buffer: memory | size: 1000)<br />
2016-01-09 17:51:57,748 INFO Setting emonCMS url: <a href="http://emoncms.org/" title="http://emoncms.org">http://emoncms.org</a><br />
2016-01-09 17:51:57,752 INFO Setting emonCMS apikey: set<br />
2016-01-09 17:51:57,756 INFO Creating EmonHubEmoncmsReporter &#39;emonCMSlocal&#39;<br />
2016-01-09 17:51:57,763 INFO Set up reporter &#39;emonCMSlocal&#39; (buffer: memory | size: 1000)<br />
2016-01-09 17:51:57,768 INFO Setting emonCMSlocal url: <a href="http://localhost/emoncms" title="http://localhost/emoncms">http://localhost/emoncms</a><br />
2016-01-09 17:51:57,772 INFO Setting emonCMSlocal apikey: set<br />
2016-01-09 17:51:57,778 INFO Creating EmonHubJeeInterfacer &#39;RFM2Pi&#39;<br />
2016-01-09 17:51:59,797 INFO RFM2Pi device firmware version &amp; configuration: not available<br />
2016-01-09 17:51:59,805 INFO Setting RFM2Pi frequency: 868 (8b)<br />
2016-01-09 17:52:00,815 INFO Setting RFM2Pi group: 210 (210g)<br />
2016-01-09 17:52:01,820 INFO Setting RFM2Pi quiet: 1 (1q)<br />
2016-01-09 17:52:02,826 INFO Setting RFM2Pi baseid: 10 (10i)<br />
2016-01-09 17:52:04,301 WARNING Discarded empty frame<br />
2016-01-09 17:52:04,532 WARNING 1 Discarded RX frame &#39;non-numerical content&#39; : [&#39;Available&#39;, &#39;commands:&#39;]<br />
2016-01-09 17:52:04,769 WARNING 2 Discarded RX frame &#39;non-numerical content&#39; : [&#39;123&#39;, &#39;x&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;Toggle&#39;, &#39;configuration&#39;, &#39;change&#39;, &#39;protection,&#39;, &#39;1=Unlocked&#39;]<br />
2016-01-09 17:52:05,006 WARNING 3 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;nn&gt;&#39;, &#39;i&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;set&#39;, &#39;node&#39;, &#39;ID&#39;, &#39;(standard&#39;, &#39;node&#39;, &#39;ids&#39;, &#39;are&#39;, &#39;1..26)&#39;]<br />
2016-01-09 17:52:05,582 WARNING 4 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;nnn&gt;&#39;, &#39;g&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;set&#39;, &#39;network&#39;, &#39;group&#39;, &#39;(RFM12&#39;, &#39;only&#39;, &#39;allows&#39;, &#39;212,&#39;, &#39;0&#39;, &#39;=&#39;, &#39;any)&#39;]<br />
2016-01-09 17:52:05,841 WARNING 5 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;n&gt;&#39;, &#39;c&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;set&#39;, &#39;collect&#39;, &#39;mode&#39;, &#39;(advanced,&#39;, &#39;normally&#39;, &#39;0)&#39;]<br />
2016-01-09 17:52:06,121 WARNING 6 Discarded RX frame &#39;non-numerical content&#39; : [&#39;...,&lt;nn&gt;&#39;, &#39;a&#39;, &#39;-&#39;, &#39;send&#39;, &#39;data&#39;, &#39;packet&#39;, &#39;to&#39;, &#39;node&#39;, &#39;&lt;nn&gt;,&#39;, &#39;with&#39;, &#39;ack&#39;]<br />
2016-01-09 17:52:06,366 WARNING 7 Discarded RX frame &#39;non-numerical content&#39; : [&#39;...,&lt;nn&gt;&#39;, &#39;s&#39;, &#39;-&#39;, &#39;send&#39;, &#39;data&#39;, &#39;packet&#39;, &#39;to&#39;, &#39;node&#39;, &#39;&lt;nn&gt;,&#39;, &#39;no&#39;, &#39;ack&#39;]<br />
2016-01-09 17:52:06,602 WARNING 8 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;n&gt;&#39;, &#39;l&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;turn&#39;, &#39;activity&#39;, &#39;LED&#39;, &#39;on&#39;, &#39;DIG8&#39;, &#39;on&#39;, &#39;or&#39;, &#39;off&#39;]<br />
2016-01-09 17:52:06,850 WARNING 9 Discarded RX frame &#39;non-numerical content&#39; : [&#39;Current&#39;, &#39;configuration:&#39;]<br />
2016-01-09 17:52:07,551 WARNING Discarded empty frame<br />
2016-01-09 17:52:07,811 WARNING 10 Discarded RX frame &#39;non-numerical content&#39; : [&#39;Available&#39;, &#39;commands:&#39;]<br />
2016-01-09 17:52:08,060 WARNING 11 Discarded RX frame &#39;non-numerical content&#39; : [&#39;123&#39;, &#39;x&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;Toggle&#39;, &#39;configuration&#39;, &#39;change&#39;, &#39;protection,&#39;, &#39;1=Unlocked&#39;]<br />
2016-01-09 17:52:08,294 WARNING 12 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;nn&gt;&#39;, &#39;i&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;set&#39;, &#39;node&#39;, &#39;ID&#39;, &#39;(standard&#39;, &#39;node&#39;, &#39;ids&#39;, &#39;are&#39;, &#39;1..26)&#39;]</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38072"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 09/01/2016 - 19:03.</div>
    <div class="content">
     <p>Can we see a bit more log?</p>
<p>The log shows pretty much what I expected to see, the non-numerical content warnings up&nbsp;to&nbsp;&quot;WARNING 9&quot; are fine there are no errors as such, the first helpfile&nbsp;text may be in response to the attempt to read the configuration and firmware version which is done by sending a &quot;v&quot; command and this is not recognized by early rfm12 rfm2pi&#39;s, hence the &quot;config&nbsp;and version info unavailable&quot; message, but after the first helptext it appears to start again in the last few&nbsp;lines</p>
<p>2016-01-09 17:52:07,551 WARNING Discarded empty frame<br />
2016-01-09 17:52:07,811 WARNING 10 Discarded RX frame &#39;non-numerical content&#39; : [&#39;Available&#39;, &#39;commands:&#39;]<br />
2016-01-09 17:52:08,060 WARNING 11 Discarded RX frame &#39;non-numerical content&#39; : [&#39;123&#39;, &#39;x&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;Toggle&#39;, &#39;configuration&#39;, &#39;change&#39;, &#39;protection,&#39;, &#39;1=Unlocked&#39;]<br />
2016-01-09 17:52:08,294 WARNING 12 Discarded RX frame &#39;non-numerical content&#39; : [&#39;&lt;nn&gt;&#39;, &#39;i&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;-&#39;, &#39;set&#39;, &#39;node&#39;, &#39;ID&#39;, &#39;(standard&#39;, &#39;node&#39;, &#39;ids&#39;, &#39;are&#39;, &#39;1..26)&#39;]</p>
<p>But there isn&#39;t enough to be sure the expected responses to the commands 8b, 210g, 1g and 10i aren&#39;t&nbsp;going to follow. If you were able to set the group to 210 in minicom, we have no reason to believe emonhub&nbsp;isn&#39;t able to do the same, but I cannot see a valid response or enough log to know there was no response.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38080"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sun, 10/01/2016 - 09:27.</div>
    <div class="content">
     <p>Paul,</p>
<p>I have attached 2 files. The first one is a copy of the log from before I used minicom to change the group to 210. You can see the responses from the RFM12 with the command options. These come a couple of times. You can also see emonhub saying it is going to set the group to 210 but that never happens in the RFM12. The proof of this is in the &#39;G&#39; prefix to the data at the end of the file.</p>
<p>The second file is a fuller version of what I put in the earlier post, so up to and including the point where the system settles. In this case of course the group has already been set to 210 using minicom, so the command to the RFM12 could of course still be being ignored. Although of course now the system works because the RFM12 code doesn&#39;t drop in the &#39;G&#39; prefix.</p>
<p>Simon</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38087"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 10/01/2016 - 13:02.</div>
    <div class="content">
     <p>Looking at the first log there are 2 &quot;configuration confirmations&quot; and both say the settings are locked, that would prevent emonhub from changing them. I suspect when you changed the group in minicom you unlocked using &quot;123x&quot; before&nbsp;changing&nbsp;the group, there are&nbsp;no configuration confirmations in the second log but I&#39;m guessing you locked the settings again after setting the group, which maybe why there are no responses from the rfm2pi&nbsp;when emonhub sends commands.</p>
<p>This will also explain why emonhub&nbsp;wasn&#39;t able to correct the group 0 in the first place. I cannot say why node 0 got set, maybe a glitch in the firmware, but emonhub may have been able to rectify it had the settings not been locked.&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38091"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sun, 10/01/2016 - 16:26.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>I didn&#39;t unlock it, just set the group id with minicom.</p>
<p>Do you mean this line in the 1st log?</p>
<p>2016-01-09 10:05:59,261 DEBUG RFM2Pi device settings updated: 74 i10 g0 @ 868 MHz Lock: 1</p>
<p>Because if you look at the help info on the commands a bit earlier in the file the command for locking/unlocking says that unlocked =1.</p>
<p>So emonhub should be able to make the changes. All a bit odd.....</p>
<p>Simon</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38093"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 10/01/2016 - 16:59.</div>
    <div class="content">
     <p>I did see the &quot;unlocked = 1&quot; but that didn&#39;t make any sense since the &quot;Lock: 1&quot; is not normally seen in normal operation and running correctly ie no message = unlocked, if you didn&#39;t unlock it then that undermines that idea anyways.</p>
<p>Are you able to change the group by editing emonhub.conf? can you try and then change it back?</p>
<p>If you watch this is the emonhub.log you should see a response from the rfm2pi.</p>
<p>I&#39;m really not understanding how there could be an issue, the bracketed value at the end of each command in the log is the serial command echo&#39;d&nbsp;via print, it is not&nbsp;hard written text eg &quot;Setting RFM2Pi group: 210 (210g)&quot; means that &quot;210g&quot; was sent to the serial port, it is there for debugging. if it worked from minicom it must work from emonhub.</p>
<p>Is this on a Pi? how old&nbsp;is the rfm2pi? is it possible it&#39;s some very early lesser known firmware that I haven&#39;t encountered?</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38131"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Mon, 11/01/2016 - 10:32.</div>
    <div class="content">
     <p>Paul, see attached file with logs and minicom output</p>
<p>Briefly I changed emonhub from 210 and 10 to 200 and 15 and transmissions stopped.</p>
<p>Changing back again didn&#39;t restart transmissions. On investigating with minicom, the group was set at 120. At first I thought this was a typo, but emonhub was set to 210.</p>
<p>Using minicom I reset the RFM12Pi to 210 and transmissions restarted.</p>
<p>Thought I&#39;d try just setting the group, so set it to 123. emonhub reports sending the group on restart but it obviously doesn&#39;t as transmissions continue and minicom says that the RFM12Pi is set to 210.</p>
<p>All very odd. I now have a functioning system on group 210, node 10 but with emonhub set to 123 and 10.... &nbsp;So somehow the g command isn&#39;t getting across.</p>
<p>This is on a Pi of course and the RFM12Pi is one of the old ones with Martin Harizanovs name on as well as openenergymonitor.</p>
<p>Simon</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38136"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 11/01/2016 - 13:31.</div>
    <div class="content">
     <p>Both the rfm2pi v1 and v2 had Martins name on, is it a &quot;SMT&quot; (surface mounted)&nbsp;ATmega328p&nbsp;or a &quot;DIL&quot; (dual in line through hole&quot; chip? not that it should make any difference if they were fully compatible, buth I have zero experience with the v1 and have never tested or even tried one.</p>
<p>I can see no evidence of any serial commands being confirmed by the rfm2pi in the emonhub logs, but the fact that there are 3 lines logged with bracketed commands means they were sent. <a href="https://github.com/emonhub/emonhub/blob/development/src/emonhub_interfacer.py#L581-L584">these lines from emonhub</a></p>
<blockquote><p>self._log.info(&quot;Setting &quot; + self.name + &quot; %s: %s&quot; % (key, setting) + &quot; (&quot; + <strong>command </strong>+ &quot;)&quot;)<br />
self._ser.write(<strong>command</strong>)<br />
# Wait a sec between two settings<br />
time.sleep(1)</p>
</blockquote>
<p>show how the same variable (eg 210g) get printed in the log and written to the serial port, then a 1 sec wait before the next setting. Your logs show 3 consecutive setting logs each separated by 1 second, without any errors or crashes.<span style="line-height: 1.6;">&nbsp;</span></p>
<p>I do not understand why minicom would be different and can only assume the line endings or serial settings may be slightly different, or there is a permission issue that isn&#39;t causing a error.</p>
<p>Also you say the &quot;g&quot; command is ignored and do not mention changing the node id back from 15 to 10 on the rfm2pi can you confirm if it&#39;s just the group that isn&#39;t being set or all the settings?</p>
<p>Could you also try setting a different group from within emonhub?&nbsp;The attempt to set group 200 resulting in a group of 120 has thrown me. I see no links&nbsp;between the numbers 200 and 120 ( eg bitshifted). If the group did change then would suggest there is an ability to write to the rfm2pi, but the group is read wrong, so why is the quiet or node not being set (even if incorrectly)?</p>
<p>Assuming you installed emonhub with the installer there should be a emonhub user belonging to&nbsp;both the tty and dialout&nbsp;groups.</p>
<p>Is this on &quot;Jessie&quot; ? again I&#39;m unaware of any compatibility issues concerning emonhub but it&#39;s still early days and I wouldn&#39;t say &quot;Jessie&quot; compatibility is tried and tested enough to be confident with it yet.</p>
<p>As a side note almost&nbsp;definitely&nbsp;unrelated to this issue, the node id&#39;s are supposed to be unique on an RFM network, you can use any from 1 to 30, you only have 2 devices they shouldn&#39;t both be 10, the OEM standard is to set the&nbsp;rfm2pi&nbsp;as node 15 (baseid).</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38140"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Mon, 11/01/2016 - 14:26.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>This is on a my trusty old&nbsp;PiB with a fresh install of Jessie Lite and emoncms and emonhub following the Raspi installation guide. The RFM12Pi is the SMD version.&nbsp;Everything working perfectly since I made the change from group 0 to 210 with minicom, which is where this thread started.&nbsp;</p>
<p>Couple of side notes - there is only one device on the RFM network sending data, so no confusion over the node ids. And the reason I&#39;m persevering with this is that for me the Pi2 with Jessie and an RFM69&nbsp;regularly fails, either the 69 stops delivering data or the wifi goes down.</p>
<p>Just for refernce, these&nbsp;are the settings in emonhub.conf</p>
<p>[[RFM2Pi]]<br />
&nbsp; &nbsp; Type = EmonHubJeeInterfacer<br />
&nbsp; &nbsp; [[[init_settings]]]<br />
&nbsp; &nbsp; &nbsp; &nbsp; com_port = /dev/ttyAMA0<br />
&nbsp; &nbsp; &nbsp; &nbsp; com_baud = 9600<br />
&nbsp; &nbsp; [[[runtimesettings]]]<br />
&nbsp; &nbsp; &nbsp; &nbsp; group = 210<br />
&nbsp; &nbsp; &nbsp; &nbsp; frequency = 868<br />
&nbsp; &nbsp; &nbsp; &nbsp; baseid = 10</p>
<p>Anyway back to the testing...</p>
<p>I have tried setting baseid to 15, no change in the RFM12, I still keep on receiving data.</p>
<p>Any change to the group likewise, data still keeps on being received.</p>
<p>So for each of these scenarios, the RFM12 settings didn&#39;t&nbsp;change, which is odd because earlier today they did change.&nbsp;The logs for these look just the same as the ones I&#39;ve already shared with you of course.</p>
<p>So this seems to intermittently work, which would suggest some kind of comms failure. Something else that might point to this is the fact that the log shows several instances of the RFM12Pi sending the help text for the commands (which are of course rejected by emonhub as not valid data). So the RFM12Pi is seeing something from emonhub but not anything it can recognise as a command. At least I guess that&#39;s what&#39;s happening.</p>
<p>Without some kind of protocol analyzer we&#39;ll probably never get to the bottom of this. I&#39;m happy the system is working and will rely on minicom if I ever need to make any changes. And I guess we can park this issue until such time as someone else with a similar setup has the same problem. Unless you have some fancy way of intercepting the actual comms between emonhub and the RFM12Pi.</p>
<p>Thanks for persevering with this this far.</p>
<p>Simon</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38189"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Tue, 12/01/2016 - 14:22.</div>
    <div class="content">
     <p>Although it may not be causing any issue the rfm2pi&nbsp;is itself a node, currently you have&nbsp;node 10 (emonTx) &nbsp;transmitting data that is being received by node 10 (the rfm2pi).</p>
<p>At this point, if it were me I would do 2 things update the firmware in the rfm2pi&nbsp;to ensure I knew what firmware was installed and try installing to &quot;Full Jessie&quot; I have recently been burnt&nbsp;by chasing&nbsp;wifi issues and then path issues in minibian. (you also had some issues with wget&nbsp;I recall)</p>
<p>If you remove just&nbsp;the games and wolfram engine from the full version you get a full working &quot;Jessie&quot; with all the tools and settings we are familiar with.&nbsp;</p>
<p>You could set up some sort of serial monitor but it&#39;s not guaranteed to highlight the issue and you will still be running old&nbsp;firmware of an&nbsp;unknown&nbsp;vintage&nbsp;and an less&nbsp;familiar (unpredictable) OS image.</p>
<p>If it&#39;s working you could just run with it until we are more sure of Jessie and how/if it effects emonhub and the serial port. but in the scale of unknowns the full jessie is lower than lite and your rfm2pi firmware,&nbsp;so far ( I have my fingers crossed while i say this)&nbsp;no other users (of full jessie, rfm2pi and v1.2 emonhub) have reported any issues.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38191"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Wed, 13/01/2016 - 09:01.</div>
    <div class="content">
     <p><em>no other users (of full jessie, rfm2pi and v1.2 emonhub) have reported any issues. &nbsp;</em>Yet! &nbsp; ;-) &nbsp;:-)</p>
<p>To be honest, from my reading of the posts about issues with wifi etc. they&nbsp;are all from folks using the SD card image which is based on minbian <strong>not</strong> Jessie Lite. I have worked all the time from Jessie Lite&nbsp;(apart from one tryout of the SD card image)&nbsp;and although there&#39;s no real documentation as to what&#39;s not included, I&#39;m guessing it&#39;s just minus the games, Wolfram etc. (as you say)&nbsp;<em>and the browser</em>. Not having the browser does make setting up wifi&nbsp;a bit trickier but I have found that a simple two line addition to the wpa_supplicant file gets wifi going straight away.</p>
<p>Minibian&nbsp;must have been chosen for a reason, I&#39;m not going to get into that one, all I know is that Jessie Lite is working fine. (I ought to say - touch wood - of course...)</p>
<p>As for updating the firmware on the RFM12Pi, I&#39;m loathe to do that. That old system of PiB + RFM12Pi has functioned without any hitches for a couple of years and while I may not know exactly which version of firmware is in the RFM, I do know it works. I had originally intended to move everything to a Pi2 with a new RFM69 but this has proved so unreliable that I&#39;ve given up on it. I have had all sorts of issues with the RFM69 (I put it down to that but it could be somewhere else). The system will just stop recording data and the only way to revive it is to do a reboot and I&#39;m not going to put an auto reboot in every few hours...</p>
<p>As I said I can live with having to change the group and node with minicom if I ever need to. But being back to a stable system, I&#39;m never going to need to do that.</p>
<p>SimonSimon</p>
<p>EDIT The issues with WGET were actually an issue at my ISP with their DNS hijacking the github address for some reason. I worked this out with the help of the raspberry pi forum folks. So no issue with Jessie Lite.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38194"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi and group 0 causes emonhub to discard data</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Tue, 12/01/2016 - 15:17.</div>
    <div class="content">
     <p>paul, the penny has just dropped for me as well.</p>
<p>You said:&nbsp;<em>Although it may not be causing any issue the rfm2pi&nbsp;is itself a node, currently you have&nbsp;node 10 (emonTx) &nbsp;transmitting data that is being received by node 10 (the rfm2pi)</em></p>
<p>I had understood the following</p>
<p># This interfacer manages the RFM2Pi module<br />
[[RFM2Pi]]<br />
&nbsp; &nbsp; Type = EmonHubJeeInterfacer<br />
&nbsp; &nbsp; [[[init_settings]]]<br />
&nbsp; &nbsp; &nbsp; &nbsp; com_port = /dev/ttyAMA0<br />
&nbsp; &nbsp; &nbsp; &nbsp; com_baud = 9600<br />
&nbsp; &nbsp; [[[runtimesettings]]]<br />
&nbsp; &nbsp; &nbsp; &nbsp; group = 210<br />
&nbsp; &nbsp; &nbsp; &nbsp; frequency = 868<br />
&nbsp; &nbsp; &nbsp; &nbsp; baseid = 10</p>
<p>To mean that the interfacer is looking for data from an attached device g210, f868, nodeid 10.</p>
<p>What your statement says is that my interfacer should have a unique id of it&#39;s own. This is new to me. We do need some documentation! &nbsp; It&#39;s obvious when you state it but when you are just using one remote device it isn&#39;t clear at all. &nbsp;At least it wasn&#39;t to me. A duh! moment&nbsp;&nbsp;:-)</p>
<p>Simon</p>
<p>PS At least we know it works even if they do have the same ids... &nbsp; :-)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11961"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-30R-crWQN0Fmi5fABEyYyGoI1bHxhJJZYmUvOyNdsJw" value="form-30R-crWQN0Fmi5fABEyYyGoI1bHxhJJZYmUvOyNdsJw"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/11961 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:56:08 GMT -->
</html>
