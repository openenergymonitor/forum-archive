<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/4070 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:39:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>(SORTED) v8.0 - still cannot create feeds | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">(SORTED) v8.0 - still cannot create feeds</h3>
        <span class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 15/03/2014 - 23:43</span>
        <div class="content"><p>After clearing out the browser cache I thought that the migration to v8.0 had been successful, but...<br />
	I&#39;m still having problems creating feeds and am presented with an error message box each time I try, stating;</p>
<p><strong>The page at 192.168.1.72 says:<br />
	ERROR: Feed could not be created, undefined</strong></p>
<p>The Read-me unfortunately does not include any information about &#39;upgrading&#39; from v7.0 to v8.0, so I don&#39;t know if it&#39;s a straight &#39;git pull&#39; update or not.</p>
<p>Also see&nbsp;<a href="4049.html">http://openenergymonitor.org/emon/node/4049</a> - same problem?</p>
<p>Paul</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="4888.html" class="topic-previous" title="Go to previous forum topic">‹ How to post new code</a>
              <a href="4913.html" class="topic-next" title="Go to next forum topic">Double click needed to make feeds public ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-19299"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sun, 16/03/2014 - 07:00.</div>
    <div class="content">
     <p>What type of feed are you trying to create? If it&#39;s one of the new ones, PHPFINA etc., make sure you&#39;ve run:</p>
<p>sudo mkdir /var/lib/phpfiwa<br />
	sudo mkdir /var/lib/phpfina<br />
	sudo mkdir /var/lib/phptimeseries</p>
<p>sudo chown www-data:root /var/lib/phpfiwa<br />
	sudo chown www-data:root /var/lib/phpfina<br />
	sudo chown www-data:root /var/lib/phptimeseries</p>
<p>I had similar errors creating some feed types until I&#39;d done this (from the <a href="https://github.com/emoncms/emoncms/blob/616a42d383a81c4d04dbb0daf9bbdb6893f31962/readme.md">current&nbsp;v8 readme</a>).</p>
<p>However, I have the same error if I try to create PHPTIMESTORE. I just fixed that by deducing</p>
<p>sudo chown www-data:root /var/lib/timestore/</p>
<p>You should be able to verify your issue by looking in /var/log/apache2/error.log and see if you can see things like this:</p>
<p>PHP Warning:&nbsp; fopen(/var/lib/timestore/0000000000000045.tsdb): failed to open stream: Permission denied in /usr/share/emoncms/www/Modules/feed/engine/PHPTimestore.php</p>
<p>PHP Warning:&nbsp; fopen(/var/lib/phpfiwa/38.meta): failed to open stream: No such file or directory in /usr/share/emoncms/www/Modules/feed/engine/PHPFiwa.php</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19307"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 16/03/2014 - 09:57.</div>
    <div class="content">
     <p>Thanks Dave, that has got the feeds working again!</p>
<p>Do your realtime graphs still work?</p>
<p>Mine don&#39;t seem to be since the update.</p>
<p>&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19308"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sun, 16/03/2014 - 10:08.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>Glad to be of help... realtime also looks broken to me :(</p>
<p>Sadly I know virtually nothing about visualisation / graphics.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19316"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 16/03/2014 - 14:04.</div>
    <div class="content">
     <p>I&#39;ve just pushed up a fix for the realtime graphs. I will add a note to documentation about ensuring permissions are correct for timestore data dir.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19317"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 16/03/2014 - 14:44.</div>
    <div class="content">
     <p>That&#39;s helped Trystan, however I think that there is still something adrift.</p>
<p>When you look at a realtime graph, and select 30 minute view, no data nodes are shown for the previous 3 or 4 minutes, and you just get a straight line.</p>
<p><img alt="" src="../sites/default/files/Emoncms%20(5).png" style="width: 184px; height: 197px;" /></p>
<p>But if you then return to a 5 minute view of the same graph, you can see the data which was displayed as a line in the 30 minute view;</p>
<p><img alt="" src="../sites/default/files/Emoncms%20(6).png" style="width: 660px; height: 233px;" /></p>
<p>&nbsp;</p>
<p>I&#39;ve cleared the browser cache, but it re-occurs everytime&nbsp;you switch to a view of 15 minutes or longer.&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19319"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 16/03/2014 - 15:50.</div>
    <div class="content">
     <p>Thanks Paul, Il look into that.</p>
<p>I&#39;ve also fixed now the divide by zero error on the other visualisations that used daily kwh/d data: zoom, stacked, stackedsolar &amp; orderbars</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19337"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 17/03/2014 - 07:15.</div>
    <div class="content">
     <p>For those who may be using the debian packaged version already, what&#39;s been fixed so far is included in version 8.0.1</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19339"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 17/03/2014 - 07:35.</div>
    <div class="content">
     <p>I&#39;ve got another feed-creation related issue. I can create feeds (choice of FINA, FIWA, and phptimeseries&nbsp;only), in the sense that they show up in the interface, have a lastvalue etc., but I can&#39;t view them in visualisations.&nbsp;</p>
<p>When I visualise&nbsp;one of the new feeds, here&#39;s the result from apache&#39;s errorlog:</p>
<pre>
[Mon Mar 17 07:29:41 2014] [error] [client 192.168.1.8] PHP Warning:  
fopen(/var/lib/phpfiwa/53_1.dat): failed to open stream: No such file 
or directory in /usr/share/emoncms/www/Modules/feed/engine/PHPFiwa.php 
on line 352, referer: <a href="http://192.168.1.210/emoncms/vis/auto?feedid=53" title="http://192.168.1.210/emoncms/vis/auto?feedid=53">http://192.168.1.210/emoncms/vis/auto?feedid=53</a>

[Mon Mar 17 07:29:41 2014] [error] [client 192.168.1.8] PHP Warning:  
fseek() expects parameter 1 to be resource, boolean given in 
/usr/share/emoncms/www/Modules/feed/engine/PHPFiwa.php on line 353, 
referer: <a href="http://192.168.1.210/emoncms/vis/auto?feedid=53" title="http://192.168.1.210/emoncms/vis/auto?feedid=53">http://192.168.1.210/emoncms/vis/auto?feedid=53</a>

[Mon Mar 17 07:29:41 2014] [error] [client 192.168.1.8] PHP Warning:  
fread() expects parameter 1 to be resource, boolean given in 
/usr/share/emoncms/www/Modules/feed/engine/PHPFiwa.php on line 354, 
referer: <a href="http://192.168.1.210/emoncms/vis/auto?feedid=53" title="http://192.168.1.210/emoncms/vis/auto?feedid=53">http://192.168.1.210/emoncms/vis/auto?feedid=53</a>

[Mon Mar 17 07:29:41 2014] [error] [client 192.168.1.8] PHP Warning:  
fclose() expects parameter 1 to be resource, boolean given in 
/usr/share/emoncms/www/Modules/feed/engine/PHPFiwa.php on line 355, 
referer: http://192.168.1.210/emoncms/vis/auto?feedid=53</pre><p>And then on the filesystem:</p>
<pre>
pi@raspberrypi ~/tmp $ ls -al /var/lib/phpfiwa/53_1.dat
ls: cannot access /var/lib/phpfiwa/53_1.dat: No such file or directory
pi@raspberrypi ~/tmp $ ls -al /var/lib/phpfiwa/
total 40
drwxr-xr-x  2 www-data root     4096 Mar 17 07:12 .
drwxr-xr-x 49 root     root     4096 Mar 16 06:53 ..
-rw-r--r--  1 www-data www-data   36 Mar 16 06:57 44.meta
-rw-r--r--  1 www-data www-data   36 Mar 16 22:40 47.meta
-rw-r--r--  1 www-data www-data   36 Mar 16 22:41 48.meta
-rw-r--r--  1 www-data www-data   36 Mar 16 22:42 49.meta
-rw-r--r--  1 www-data www-data   36 Mar 16 22:44 50.meta
-rw-r--r--  1 www-data www-data   36 Mar 16 22:44 51.meta
-rw-r--r--  1 www-data www-data   36 Mar 16 22:46 52.meta
-rw-r--r--  1 www-data www-data   36 Mar 17 07:12 53.meta</pre><p>So it looks like some part of creating / using these feeds isn&#39;t working, but I guess it&#39;s not a permissions issue, since the meta files are being created OK. Any thoughts?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19350"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 17/03/2014 - 20:07.</div>
    <div class="content">
     <p>Same result even if I chmod the directories to 777.</p>
<p>I&#39;m not sure why there would be an issue reading the file with fopen (rb), but nothing in the logs from the update_layer function failing to fopen&nbsp;(c+)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19353"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 17/03/2014 - 21:33.</div>
    <div class="content">
     <p>Interestingly, I can create a PHPTIMESERIES&nbsp;which seems to write to disk (and my existing TIMESERIES&nbsp;/ MYSQL feeds are working fine) but I can&#39;t necessarily visualise&nbsp;the PHPTIMESERIES feeds - they work in raw data but not in multigraph, for instance.</p>
<p>I think I might have to downgrade to v7&nbsp;to set up a few more feeds, as I&#39;m in the process of trying to commission a couple of new 5+ sensor emonTHs :\</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19355"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 17/03/2014 - 21:52.</div>
    <div class="content">
     <p>Dave, on the inputs page, how is the &#39;Key&#39; described, for the input that you wish to create a feed.<br />
	Is it a numerical value, incrementing with each input within the node?</p>
<p>ie, like this;</p>
<p><img alt="" src="../sites/default/files/Emoncms%20(3).png" style="width: 235px; height: 263px;" /></p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19356"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 17/03/2014 - 23:33.</div>
    <div class="content">
     <p>Yep - nodes and keys look normal. I&#39;m trying to get log4php&nbsp;up and running so I can add a bit of debug.</p>
<p>Interestingly, while my chromebook doesn&#39;t offer me any &quot;other...&quot; feed types, chrome on my mac allows the option to create the old feed types, so I may be able to get by.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19358"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Tue, 18/03/2014 - 00:43.</div>
    <div class="content">
     <p>It hadn&#39;t occurred to me to just try manually posting things to the feed. When I do that, I can visualise the data I submitted on PHPFINA feeds (the only one I&#39;ve tried) and it does create the expected .dat file</p>
<p>It seems then that when the input updates, this isn&#39;t passed on to PHPFINA&nbsp;feeds, but is to PHPTIMESERIES.</p>
<p>Aha. If I restart rfm12piphp... it looks happy. What a fail!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20381"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 03/04/2014 - 22:09.</div>
    <div class="content">
     <p>Hi.</p>
<p>I (at last) migrated to v8 (master).</p>
<p>Before trying new stuff (FIWA, redis,...), I&#39;d like to reproduce my old setup, with only mySQL.</p>
<p>When creating a new feed, I&#39;m not offered MYSQL, but only FIWA, FINA, VINA.</p>
<p>I set</p>
<pre>
$redis_enabled = false;</pre><p>I didn&#39;t touch</p>
<pre>
$feed_settings = array(

        &#39;creatable_engines&#39;=&gt;array(&#39;MYSQL&#39;,&#39;TIMESTORE&#39;,&#39;PHPTIMESERIES&#39;,&#39;GRAPHITE&#39;,&#39;PHPTIMESTORE&#39;),

&#39;timestore&#39;=&gt;array(
            &#39;adminkey&#39;=&gt;&quot;_TS_ADMINKEY_&quot;
        ),

        &#39;graphite&#39;=&gt;array(
            &#39;port&#39;=&gt;0,
            &#39;host&#39;=&gt;0
        ),

        // The default data directory is /var/lib/phpfiwa,phpfina,phptimeseries on windows or shared hosting you will likely need to specify a different data directory.
        // Make sure that emoncms has write permission&#39;s to the datadirectory folders

        &#39;phpfiwa&#39;=&gt;array(
            //&#39;datadir&#39;=&gt;&#39;/home/username/emoncmsdata/phpfiwa/&#39;
        ),
        &#39;phpfina&#39;=&gt;array(
            //&#39;datadir&#39;=&gt;&#39;/home/username/emoncmsdata/phpfina/&#39;
        ),
        &#39;phptimeseries&#39;=&gt;array(
            //&#39;datadir&#39;=&gt;&#39;/home/username/emoncmsdata/phptimeseries/&#39;
        )
    );</pre><p>Should I do something specific ? Do I have to use FIWA, FINA, VINA ? What about old feeds ? They seem to work.</p>
<p>Other questions :</p>
<pre>
$enable_password_reset = _ENABLE_PASSWORD_RESET_;</pre><p>What if I don&#39;t want that ? Should I write this ?</p>
<pre>
$enable_password_reset = _DISABLE_PASSWORD_RESET_;</pre><p>And what about this ?</p>
<pre>
// Log4PHP configuration
    $log4php_configPath = &#39;/etc/emoncms/emoncms_log4j.xml&#39;;</pre><p>Isn&#39;t this specific to the .deb version ?</p>
<p>Thanks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20394"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 04/04/2014 - 09:36.</div>
    <div class="content">
     <p>Hello Jerome, yes you can add the option to save to MYSQL by modifying the engines available property for the different input processors in: Modules/input/process_model.php. For example to enable MYSQL as an option for the power_to_kwhd input processor, change the line:</p>
<p>$list[5] = array(_(&quot;Power to kWh/d&quot;),ProcessArg::FEEDID,&quot;power_to_kwhd&quot;,1,DataType::DAILY,&quot;Power&quot;,array(Engine::PHPFINA));</p>
<p>to:</p>
<p>$list[5] = array(_(&quot;Power to kWh/d&quot;),ProcessArg::FEEDID,&quot;power_to_kwhd&quot;,1,DataType::DAILY,&quot;Power&quot;,array(Engine::PHPFINA,Engine::MYSQL));</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20395"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 04/04/2014 - 09:39.</div>
    <div class="content">
     <p>$enable_password_reset should be set to false if you don&#39;t want it and true if you do. _DISABLE_PASSWORD_RESET_ is associated with the deb installer.</p>
<p>Dave (schism): is $log4php_configPath = &#39;/etc/emoncms/emoncms_log4j.xml&#39;; ignored on non debian systems?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20397"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Fri, 04/04/2014 - 10:06.</div>
    <div class="content">
     <p>Hi Trystan. Thank you for the answers.</p>
<p>I now understand a bit better how available feed engines are defined. I suppose I have no reason not to move on to PHPFINA, so I&#39;ll give it a try. I don&#39;t mind losing my old data, anyway, this is just a test setup. I just wanted to know where I was stepping in. Out of curiosity, is there a possible migration for people moving from MYSQL to anything else and wanting to keep their data ? Or more generally to change from an engine to another ?</p>
<p>And now, I also understand that all variables appearing with underscores are meant to be filled by the installation script when installing through apt (.deb). Perhaps the version in master, the one pulled from github, could be kept as it was for users configuring manually. I felt this was misleading.</p>
<p>Or if we don&#39;t want to maintain two versions, deal with merges and all, just add comments like</p>
<pre>
// To enable / disable
// $enable_password_reset = true
// $enable_password_reset = false
$enable_password_reset = _ENABLE_PASSWORD_RESET_;</pre><p>(BTW, I noticed emails from me being marked as spam by gmail in a friend&#39;s mailbox, so you may not have seen my reply to your email request.)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20538"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: (SORTED) v8.0 - still cannot create feeds</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sun, 06/04/2014 - 21:26.</div>
    <div class="content">
     <p>The logging is available to git&nbsp;and apt installations alike, but only if you also install log4php&nbsp;and point the config file at a valid log configuration. It&#39;s not a dependency, so if you don&#39;t do this it will just be ignored (like redis, except you don&#39;t need to supply explicit true/false).</p>
<p>--</p>
<p>The difficulty with the config file placeholders in general is a question of maintenance responsibility:</p>
<p>We could have two config files, one held in emoncms/emoncms and the other in pkg-emoncms, but it would require someone from the emoncms repo to submit a pull request against pkg-emoncms to update the duplicate&nbsp;config file every time it changes.</p>
<p>My original thinking was that since /something/ needs to go in the bundled config file, it may as well be a placeholder that the debian installer can seek out, so long as it&#39;s also human readable. This means that I can run just a couple of dumb commands when emoncms 8.0.10 is released and it will immediately be available to apt installs, and we avoid tricky bugs where people have odd behaviour due to outdated / mismatched config.</p>
<p>It would be simple enough to have a section in the readme listing the different placeholders to be filled out. Alternatively we could revert it and try to maintain a duplicate in the other repo. I don&#39;t really mind trying either way.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/4070"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-1-2QCaDjSGHRupNjQivKTkI5xPj6QL5z4-bz9dcGBhc" value="form-1-2QCaDjSGHRupNjQivKTkI5xPj6QL5z4-bz9dcGBhc"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/4070 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:39:37 GMT -->
</html>
