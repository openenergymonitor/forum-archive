<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5133 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:27:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Emoncms.org server outage [SOLVED] | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Emoncms.org server outage [SOLVED]</h3>
        <span class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 03/05/2014 - 18:42</span>
        <div class="content"><p>While doing a server update and upgrade today at 18:40 (uk) to emoncms.org, I needed to reboot the server, unfortunately the server hasnt come back online. I&#39;ve contact the technical support at the server hosting and they are looking into it. I will update with progress as soon as I can.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="3926.html" class="topic-previous" title="Go to previous forum topic">‹ kwh/w kwh/m</a>
              <a href="5136.html" class="topic-next" title="Go to next forum topic">New feed, existing input data not processed? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-21204"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 03/05/2014 - 20:03.</div>
    <div class="content">
     <p>The server company are running hardware diagnostic tests. Im waiting for the conclusion</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21211"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 04/05/2014 - 05:58.</div>
    <div class="content">
     <p>Ok, the machine has been upgraded with a DRAC enterprise card which gives me virtual KVM access to the server, its getting to the boot os selection screen where you can either boot normally into ubuntu which fails or boot into recovery mode which gets a bit further before stopping at a warning that the RAID is degraded, I&#39;ve sent another ticket to the server company and will update as this progresses.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21212"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 04/05/2014 - 06:58.</div>
    <div class="content">
     <p>Progress, after booting in degraded mode, I now have normal ssh access to the server and it all looks fine. Now I need to work out why one of the disks was degraded either fix it or move the whole server to a new one.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21213"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Sun, 04/05/2014 - 08:05.</div>
    <div class="content">
     <p>Hi Tristan,</p>
<p>I am running emoncms on a Raspberry Pi, and forwarding to emoncms.org</p>
<p>Last night, I noticed that emoncms on the Raspberry Pi was sometimes reporting that the RFM12 to Pi interface was not running, and the inputs were not updating - sometimes for several tens of minutes.</p>
<p>I eventually tracked down the rfm12piphp.log and realised that it was full of errors trying to open the socket to emoncms.org (and I then found this thread on the forum!).</p>
<p>Is there anyway in which emoncms could be made more responsive in this scenario, as I lost a lot of data during the downtime?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21216"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 04/05/2014 - 09:03.</div>
    <div class="content">
     <p>Same here emgeeaitch, it&#39;s not very often that emoncms.org goes down, but whenever it does, my system also grinds to a halt too.</p>
<p>I lost about 3hrs of local data, before I returned home and removed the API key.</p>
<div>
	&nbsp;</div>
<div>
	Paul</div>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21217"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3148.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bakerA01&#039;s picture" title="bakerA01&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3148.html" title="View user profile.">bakerA01</a> on Sun, 04/05/2014 - 09:06.</div>
    <div class="content">
     <p>Trysyan,</p>
<p>&nbsp;</p>
<p>Sorry to hear that you are having server problems. &nbsp;Emoncms is great!</p>
<p>One thought, it appears if you are using the RaspberryPI with emoncms it stops polling for data from the Arduinos if the *main* Emoncms server is down. &nbsp;</p>
<p>Would it be possible in a later RaspberryPI software revision to get the RaspberryPI (running emoncms) to continue to poll and log locally if the main emon server is down?</p>
<p>&nbsp;</p>
<p>Best</p>
<p><span style="background-color: transparent;">Andy</span></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21219"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 04/05/2014 - 10:05.</div>
    <div class="content">
     <p>Yes I think we need to add a timeout to the rfm12piphp script, so that it doesnt keep waiting on the connection, Im not sure if this is an issue with the python gateway however?</p>
<p>To be safe, I&#39;ve ordered and am now configuring a new server that has hardware rather than software raid and a few other improvements, double the disk capacity. I hope to get this up in the next few hours.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21221"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5911.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gggsartori&#039;s picture" title="gggsartori&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/5911.html" title="View user profile.">gggsartori</a> on Sun, 04/05/2014 - 10:22.</div>
    <div class="content">
     <p>The problem is the timeout connection in oemgatewaybuffer.py :</p>
<p>result = urllib2.urlopen(url_string, timeout=60);</p>
<p>either you change it with shorter value i.e 10 seconds or it should be done in a separated thread but it involves different management of the buffer.</p>
<p>Ciao.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21223"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 04/05/2014 - 12:51.</div>
    <div class="content">
     <p>Yes a separate thread would be a good way to do it, Il add an issue to the new emonhub development repo to discuss it.</p>
<p>Server migration is going well, 45GB o 63GB has been copied, there&#39;s a lot of small files which makes it relatively slow.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21226"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 04/05/2014 - 14:04.</div>
    <div class="content">
     <p>Getting very close now, just doing final testing to ensure everything is working as it should before I reconfigure the dns records to point to the new server</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21227"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 04/05/2014 - 14:46.</div>
    <div class="content">
     <p>Im happy to say emoncms.org is back online! sorry for the interruption</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21229"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 04/05/2014 - 15:12.</div>
    <div class="content">
     <p>and thankyou everyone for your patience</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21232"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3464.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3464.jpg" alt="Bra1n&#039;s picture" title="Bra1n&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/3464.html" title="View user profile.">Bra1n</a> on Sun, 04/05/2014 - 16:09.</div>
    <div class="content">
     <p>Thanks for your efforts Trystan you could probably do with a kip now :)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21233"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5870.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="pentala&#039;s picture" title="pentala&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/5870.html" title="View user profile.">pentala</a> on Sun, 04/05/2014 - 17:03.</div>
    <div class="content">
     <p>Thanks for all the time and effort you have put into restoring what is after all a free service. I&#39;m sure you&#39;ve probably got better things to be doing on a Bank Holiday weekend.</p>
<p>Andy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21234"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5911.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gggsartori&#039;s picture" title="gggsartori&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/5911.html" title="View user profile.">gggsartori</a> on Sun, 04/05/2014 - 18:39.</div>
    <div class="content">
     <p>Servers&nbsp; are like children: they always feel sick during the night or in the week ,</p>
<p>;-)</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21236"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms.org server outage [SOLVED]</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 04/05/2014 - 22:36.</div>
    <div class="content">
     <p>.....or when Glyn&nbsp;goes climbing mountains!</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5133"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-yWSKh2ZYgh8_Q3K4huD_O_ZGAEoECOXd6cAw5vQotRo" value="form-yWSKh2ZYgh8_Q3K4huD_O_ZGAEoECOXd6cAw5vQotRo"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
