<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/12070 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:12:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Help with Project | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Help with Project</h3>
        <span class="submitted">Submitted by <a href="../user/9366.html" title="View user profile.">abh015</a> on Sun, 24/01/2016 - 16:51</span>
        <div class="content"><p>Hi, i need to do a project where i can measure power consumption&nbsp;and power factor in order to take some actions and to display it. &nbsp;I have none experience working with Arduino or Raspbery&nbsp;Pi.</p>
<p>I would like some advice in this aspects:</p>
<p>-Which devices i can use to accomplish&nbsp;it. I mean what kind of Arduino, if they have analog inputs and with what kind of CT&#39;s are they compatible with.</p>
<p>-What can i read in order to have the required knowledge to develop this and the code i need too, if they are programmed in C++, Python, if i can use Matlab, etc.</p>
<p>I would appreciate any help.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11824.html" class="topic-previous" title="Go to previous forum topic">‹ Emon not processing all frames from node</a>
              <a href="12096.html" class="topic-next" title="Go to next forum topic">Jessie &amp; GPIO Pin 17 ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-38668"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with Project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 24/01/2016 - 18:15.</div>
    <div class="content">
     <p>What actions do you want to take? Will that be done only in software (e.g. send a message to somewhere) or in hardware (operate one or&nbsp;many relays - how many)?</p>
<p>There are so many permutations available to you that without knowing more about what you wish to accomplish, it is very hard to advise you which might be the best for you.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38673"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9366.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="abh015&#039;s picture" title="abh015&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with Project</h3>

    <div class="submitted">Submitted by <a href="../user/9366.html" title="View user profile.">abh015</a> on Sun, 24/01/2016 - 20:15.</div>
    <div class="content">
     <p>The action would be to activate a&nbsp;thyristor based capacitor bank in order to enhanced the power factor of a circuit.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38686"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with Project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 24/01/2016 - 22:33.</div>
    <div class="content">
     <p>I shall mention some of the things that have been reported here in the forums.</p>
<p>Your starting point will be one of the Arduino&nbsp;assemblies. I do not know details of the range, I think your needs are fairly modest so most likely one of the simpler variants will be enough. You can add a serial display on which you can present text, for example power, power factor and whether the capacitor bank is active.</p>
<p>As far as I know, all Arduinos have analogue inputs. You will need two, voltage and current (maybe times 3 if you have a 3-phase supply, so 6 in all), and you&#39;ll find examples of the input circuit that you need to build, along with a description, here in Resources. If only one voltage input is needed, you can probably use our emonTx Shield, which you can buy from the on-line shop.&nbsp;Resources, and Building Blocks in particular, contains most if not all of the theory and practical information that you&#39;ll need.&nbsp;You&#39;ll also find a software library, emonLib, that does all the calculations for you. All the programming is done in C++, there are many examples here to help you.</p>
<p>The sensors feeding&nbsp;your analogue front end will be a voltage isolating transformer to give a safe isolated low voltage - we use ones with 9 V secondaries&nbsp;but any voltage greater than 1.5 V is satisfactory with&nbsp;one resistor changed to suit. Current transformers are rather harder because to fully load the analogue input, about 1.6 V output is required. Our standard is a 100 A split core (see the on-line shop again) but any CT with an adequate VA rating can usually be accommodated. Others are listed on the &quot;North America&quot; page - you may need those as you will have fatter cables given your 110 V supply.</p>
<p>In terms of output, I&#39;d recommend that you drive a triac or power FET&nbsp;(though this depends very much on what your capacitor bank requires) via an opto-isolator. If you look at the energy diverter projects, you can see how it&#39;s done there.</p>
<p>And of course you have the forums here where you can ask questions.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38911"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9366.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="abh015&#039;s picture" title="abh015&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with Project</h3>

    <div class="submitted">Submitted by <a href="../user/9366.html" title="View user profile.">abh015</a> on Sat, 30/01/2016 - 17:09.</div>
    <div class="content">
     <p>Thank You Very Much, i have investigated and effectivly&nbsp;what i need is an arduino, i have read the input circuits here in the page and they are pretty simple. &nbsp;</p>
<p>If i want to do the calculations on my own, could it be very hard??, I was reading about doing it measuring the time of the offset between Voltage and Current. Any Suggerence.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38913"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with Project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 30/01/2016 - 21:07.</div>
    <div class="content">
     <p>If you wish, you can of course write your own sketch from the beginning. But the easy way will be to use emonLib.</p>
<p>I suggest you design your hardware, the input circuits, and get it working with emonLib. <span style="line-height: 18.9091px;">If it does not work,&nbsp;then&nbsp;</span><span style="line-height: 18.9091px;">you&nbsp;</span><span style="line-height: 18.9091px;">know</span><span style="line-height: 18.9091px;">&nbsp;the mistake is in your hardware, or in the way you have used&nbsp;</span>emonLib<span style="line-height: 18.9091px;">. I</span><span style="line-height: 1.6;">f you get the correct results,&nbsp;you will know that the hardware is correct. </span><span style="line-height: 1.6;">&nbsp;</span><span style="line-height: 1.6;">Then&nbsp;you can write your own sketch, and you know that any mistake is only in your sketch.</span></p>
<p>&quot;<em>I was reading about doing it measuring the time of the offset between Voltage and Current&quot;</em><br />
Ideally, you would measure the voltage and the current at the same instant. Unfortunately, many of the Arduino&nbsp;versions have only one analogue to digital converter, so you must measure voltage and&nbsp;&nbsp;current alternately. That means that there is always a small time difference between measurements that should have been made at the same instant in time. emonLib tries to remove this error with &quot;phasecal&quot;. How it does that is explained in Building Blocks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/12070"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-Kd-yFS1pYhN8Hqiie0UtS8u79sRlMKRv6wIIUQ2l7mg" value="form-Kd-yFS1pYhN8Hqiie0UtS8u79sRlMKRv6wIIUQ2l7mg"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
