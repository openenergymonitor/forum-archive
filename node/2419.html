<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2419 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:32:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>EmonGlcd relay | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">EmonGlcd relay</h3>
        <span class="submitted">Submitted by <a href="../user/3775.html" title="View user profile.">zeno</a> on Thu, 30/05/2013 - 07:56</span>
        <div class="content"><p>Is possible insered a relay in EmonGlcd</p>
<p>Thank</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2389.html" class="topic-previous" title="Go to previous forum topic">‹ Using &#039;Pulse&#039; Jack for DHT22 Hmidity and Temperature Monitoring on Low Power emonTX</a>
              <a href="2063.html" class="topic-next" title="Go to next forum topic">emonGLCD PCB layout fault found ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-12470"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonGlcd relay</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 30/05/2013 - 14:43.</div>
    <div class="content">
     <p>DIO8 is available on the JeePort expansion connector, so yes, it is possible to connect a suitable driver and a relay.</p>
<p>(It is wrongly labelled &quot;DIO6&quot; on Versions 1.3 and 1.4 of the pcb, and <a href="2063.html">see here</a> how to correct a manufacturing error on those boards.)&nbsp; Version 1.5 of the pcb is correct.</p>
<p>(Martin: you got there while I was editing this!)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12471"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1824.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="MartinR&#039;s picture" title="MartinR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonGlcd relay</h3>

    <div class="submitted">Submitted by <a href="../user/1824.html" title="View user profile.">MartinR</a> on Thu, 30/05/2013 - 14:48.</div>
    <div class="content">
     <p>Be aware of the bug shorting out DI08 on version 1.4 of the PCB though.</p>
<p>see: <a href="2063.html">http://openenergymonitor.org/emon/node/2063</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12480"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3775.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="zeno&#039;s picture" title="zeno&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonGlcd relay</h3>

    <div class="submitted">Submitted by <a href="../user/3775.html" title="View user profile.">zeno</a> on Fri, 31/05/2013 - 09:41.</div>
    <div class="content">
     <p>I have this relay<br />
<a href="http://www.ethermania.com/shop/index.php?main_page=product_info&amp;cPath=91_110&amp;products_id=505" title="http://www.ethermania.com/shop/index.php?main_page=product_info&amp;cPath=91_110&amp;products_id=505">http://www.ethermania.com/shop/index.php?main_page=product_info&amp;cPath=91...</a></p>
<p>Connect DI08 to relay pin enable,<br />
Vcc and grd relay to vcc and grd EmonGlcd</p>
<p>For sketch solarpv, where is the pin for relay control?</p>
<p>Button 2 (switch2) pin 15 is not used. I use this for relay. </p>
<p>I want to change a emoncms to turn off/on the relay.</p>
<p>Thak</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12484"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonGlcd relay</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 31/05/2013 - 12:42.</div>
    <div class="content">
     <p><em>&quot;For sketch solarpv, where is the pin for relay control?&quot;</em></p>
<p>There is no pin already defined in the emonGLCD_SolarPV.ino sketch. You must add it - like &quot;const int RelayPin=8;&quot; and &quot;pinMode(RelayPin, OUTPUT);&quot;&nbsp; then turn the relay on and off with &quot;digitalWrite(DIO8_pin,1);&quot; and &quot;digitalWrite(DIO8_pin,0);&quot;</p>
<p>The guaranteed minimum output from DIO8 in the HIGH condition is 2 V, and the guaranteed maximum output from DIO8 in the LOW condition is 1 V;&nbsp; your relay must turn on with an input signal of 2 V or more and turn off with an input signal of 1 V or less.</p>
<p>&nbsp;</p>
<p><em>&quot;Button 2 (switch2) pin 15 is not used. I use this for relay.&quot; </em><br />
	<em>&quot;I want to change a emoncms to turn off/on the relay.&quot;</em></p>
<p>I do not understand. Do you want to</p>
<p>(1) operate the switch by hand to turn the relay on and off, or</p>
<p>(2) do you want your server and the computer program emoncms to turn the relay on and off automatically, or</p>
<p>(3) do you want to write code in your emonGLCD sketch to turn the relay on and off automatically?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12487"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3775.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="zeno&#039;s picture" title="zeno&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonGlcd relay</h3>

    <div class="submitted">Submitted by <a href="../user/3775.html" title="View user profile.">zeno</a> on Fri, 31/05/2013 - 16:10.</div>
    <div class="content">
     <p>I want to turn relay on-Off to botton on EmonGlcd and via web with emoncms.</p>
<p>I want to test my relay to swich a signal on 2 volt.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12490"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonGlcd relay</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 31/05/2013 - 20:00.</div>
    <div class="content">
     <p>You will need to copy the switch de-bounce code from a sketch such as SolarPV.ino to work the relay from the GLCD, but working it from emoncms will be harder. At the GLCD, you must write some code (like detecting the time message from emoncms) to turn the relay on and off. I do not know enough about emoncms to be able to help you with writing the routines that you will need to add to emoncms to generate the message.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12492"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3775.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="zeno&#039;s picture" title="zeno&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonGlcd relay</h3>

    <div class="submitted">Submitted by <a href="../user/3775.html" title="View user profile.">zeno</a> on Fri, 31/05/2013 - 21:18.</div>
    <div class="content">
     <p>thank Robert</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2419"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-Vo8be-TtE3BYM7gQBx0kBnoLkqvPk8cU0Gv4aQziD5Q" value="form-Vo8be-TtE3BYM7gQBx0kBnoLkqvPk8cU0Gv4aQziD5Q"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
