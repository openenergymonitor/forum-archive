<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/4017 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:43:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Limiting heat pump inrush current surge with zeners ? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Limiting heat pump inrush current surge with zeners ?</h3>
        <span class="submitted">Submitted by <a href="../user/5422.html" title="View user profile.">argofanatic</a> on Wed, 05/03/2014 - 21:20</span>
        <div class="content"><p>Hello again.</p>
<p>I want to monitor my heat pump using a CT. The inrush current is over 150A!!!</p>
<p>Will it be detrimental to the measurements if I put in two 2.5v zeners&nbsp;clamp the output voltage to 5v pp&nbsp;?</p>
<p>I want to make sure I don&#39;t blow the adc channel.</p>
<p>Thanks again.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="3992.html" class="topic-previous" title="Go to previous forum topic">‹ EmonTH - detect extractor on/off</a>
              <a href="4018.html" class="topic-next" title="Go to next forum topic">Question about emonTx V3 sampling method ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-19021"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Limiting heat pump inrush current surge with zeners ?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 05/03/2014 - 22:28.</div>
    <div class="content">
     <p>Which ct are you using, which input circuit? (EmonTx - which, Arduino, or what?)</p>
<p>Two 2.5 V zeners WON&#39;T clamp it to 5 V - think what the reverse characteristic of a zener is. But depending on the input circuitry, it might not be necessary and almost certainly won&#39;t be the best way.</p>
<p>The analogue input has protection diodes built in, and these have a maximum <strong><em>current</em></strong> rating of 40 mA, so it is the current, not the voltage, that you need to limit. You need to calculate or measure the peak voltage you get from your ct (see my report on the YHDC one to see what the shape of the burden voltage might be) and use a series resistor between the burden and the input to limit that current. That resistor is already present in the emonTx V3. The maximum recommended value according to the Atmel data sheet is 10 k&Omega;, which should be more than enough without having a significant effect on the accuracy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19023"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5422.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="argofanatic&#039;s picture" title="argofanatic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Limiting heat pump inrush current surge with zeners ?</h3>

    <div class="submitted">Submitted by <a href="../user/5422.html" title="View user profile.">argofanatic</a> on Wed, 05/03/2014 - 23:02.</div>
    <div class="content">
     <p>Which CT circuit?</p>
<p>&nbsp;</p>
<p>Well, a homebrew actually. I&#39;m using 40A&nbsp;CR8448-2500-N CT&#39;s feeding into multiple ADS1015 i2c converters running at 5v.</p>
<p>The ADS1015 specifically states that no voltage over VDD+0.3 should be applied to any pin.</p>
<p>Built around the building blocks documentation on this site. Using 10k voltage divider with 10uF ceramic bypass and 110 ohm burden resistor (4.97Vpp).</p>
<p>Sorry for throwing a curve ball, but I appreciate the help.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19024"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5422.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="argofanatic&#039;s picture" title="argofanatic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Limiting heat pump inrush current surge with zeners ?</h3>

    <div class="submitted">Submitted by <a href="../user/5422.html" title="View user profile.">argofanatic</a> on Wed, 05/03/2014 - 23:44.</div>
    <div class="content">
     <p>Hmm, just came back from learning about the drawbacks of using zeners in this type of application.</p>
<p>Plan B:</p>
<p>Purchase and design around a 200A CT to ensure I don&#39;t exceed the input voltage then use the adjustable gain of the ADC to increase resolution once the startup surge has subsided.</p>
<p>Unless of course there are other suggestions ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19025"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Limiting heat pump inrush current surge with zeners ?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 06/03/2014 - 00:07.</div>
    <div class="content">
     <p>I&#39;ve got to come back to what I wrote above. Just look at the data sheet, page 9 - the inputs are shown with protection diodes!&nbsp; And you didn&#39;t read this bit properly either: &quot;To prevent the ESD diodes from turning on, the absolute voltage on any input must stay within the following range:&nbsp; GND &ndash; 0.3V &lt; AINx &lt; VDD + 0.3V&quot;</p>
<p>That &quot;GND &ndash; 0.3V&quot; and &quot;V<sub>DD</sub> + 0.3 V&quot; are entirely reasonable since a voltage source is expected to be able to supply infinite current. Hence anything more than 0.3 V outside the supply rails will source an unacceptably high current into the diode. The data sheet tells you what the acceptable limit is, in Absolute Maximum Ratings.&nbsp; As the input impedance is in the megohm region, there is of course only one way to get that sort of input current. So now it should be very obvious, especially when you read all of page 9, what you need to do.</p>
<p>I think that if you limit the current to, say, 2-3 mA, you will be perfectly safe.</p>
<p>And don&#39;t expect to see 18 V p-p out of the ct either, since even though it is revenue grade, it will be starting to saturate at 3.75 x rated current.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19026"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5422.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="argofanatic&#039;s picture" title="argofanatic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Limiting heat pump inrush current surge with zeners ?</h3>

    <div class="submitted">Submitted by <a href="../user/5422.html" title="View user profile.">argofanatic</a> on Thu, 06/03/2014 - 00:33.</div>
    <div class="content">
     <p>Gee, can it be as simple as adding a (1.7k which I have plenty of) resistor in series with the input to limit the current and let the internal diodes do their thing ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19038"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Limiting heat pump inrush current surge with zeners ?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 06/03/2014 - 11:02.</div>
    <div class="content">
     <p>There&#39;s an old saying that goes something like this: &quot;Engineers can do for pennies what everybody else does for pounds.&quot; [Insert the appropriate units for your currency.]&nbsp;&nbsp; I&#39;m an engineer.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19051"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5422.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="argofanatic&#039;s picture" title="argofanatic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Limiting heat pump inrush current surge with zeners ?</h3>

    <div class="submitted">Submitted by <a href="../user/5422.html" title="View user profile.">argofanatic</a> on Thu, 06/03/2014 - 14:23.</div>
    <div class="content">
     <p>Your help is very much appreciated. My interpretation of datasheet&nbsp;subtleties has also improved with your guidance.</p>
<p>Thank you.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/4017"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-jI4rMJUKBOt9DWu82zmIL5PyOJIYMAspNmqvSady2iY" value="form-jI4rMJUKBOt9DWu82zmIL5PyOJIYMAspNmqvSady2iY"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
