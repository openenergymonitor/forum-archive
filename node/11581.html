<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11581 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:13:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Error compiling EmonGLCD sketch | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Error compiling EmonGLCD sketch</h3>
        <span class="submitted">Submitted by <a href="../user/8991.html" title="View user profile.">Chris41</a> on Thu, 12/11/2015 - 23:23</span>
        <div class="content"><p>For some time I discovered Arduino and I did a little &#39;bones with small simple projects and then sketches very simple and hassle, now I would like to go one step further and found a project that I would like to do, I have already created the pcb and soldered the components now I&#39;m trying to program the microprocessor atmega 328 using compiler as Arduino.</p>
<p>
Here is all the documentation and the sketch to be inserted into the chip with the various libraries and directories so far say I&#39;ve gotten I downloaded the various libraries, but when I try to check the sketch gives me an error and I do not know what to do, tells me :<br />
expected primary-expression before &quot;)&quot; token</p>
<p>On line 63 of the program</p>
<p>63 DallasTemperature sensors (&amp; OneWire);</p>
<p>&nbsp;</p>
<p>Thank you all</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11617.html" class="topic-previous" title="Go to previous forum topic">‹ NanodeRF Compile Issues on Arduino 1.6.6 &amp; NanodeRF_multinode</a>
              <a href="11604.html" class="topic-next" title="Go to next forum topic">CT Voltage sensing ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-35854"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Error compiling EmonGLCD sketch</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 12/11/2015 - 23:34.</div>
    <div class="content">
     <p>Without knowing which sketch, I'm guessing that you don't have the 'OneWire' library installed.</p>
<p><a href="https://learn.openenergymonitor.org/?redirect=installing-arduino-libraries" title="http://openenergymonitor.org/emon/buildingblocks/installing-arduino-libraries">http://openenergymonitor.org/emon/buildingblocks/installing-arduino-libr...</a></p>
<p>What the compiler is telling you is it does not understand "&amp;oneWire", and I know that is a variable that is defined in that library. NOTE: it is "oneWire", not "OneWire". Here, "OneWire" is the <i>type</i> (like "int" or "double") and "oneWire" is a particular instance of that (like "y" or "Irms").</p>
<p>Line 63: "OneWire oneWire(ONE_WIRE_BUS);" is <i>declaring</i> an instance "oneWire" of some type "OneWire" that had been <i>defined</i> elsewhere - in fact it is a Class and it's defined in the library file OneWire.h.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35883"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8991.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Chris41&#039;s picture" title="Chris41&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Error compiling EmonGLCD sketch</h3>

    <div class="submitted">Submitted by <a href="../user/8991.html" title="View user profile.">Chris41</a> on Fri, 13/11/2015 - 19:41.</div>
    <div class="content">
     <p>Hello Robert<br />
I installed the library in the library OneWire Arduino but nothing gives me the same error</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35884"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Error compiling EmonGLCD sketch</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 13/11/2015 - 19:56.</div>
    <div class="content">
     <p><img alt="" float:="" src="../sites/default/files/MindreaderSmall.png" style="width: 237px; height: 198px; float: right;" /></p>
<h1 style="color:blue">To help us - help you...</h1>
<p>I'm not this guy. You need to tell me more, like which sketch are you using.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35885"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8991.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Chris41&#039;s picture" title="Chris41&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Error compiling EmonGLCD sketch</h3>

    <div class="submitted">Submitted by <a href="../user/8991.html" title="View user profile.">Chris41</a> on Fri, 13/11/2015 - 20:29.</div>
    <div class="content">
     <p>//------------------------------------------------------------------------------------------------------------------------------------------------<br />
// emonGLCD Home Energy Monitor example<br />
// to be used with nanode Home Energy Monitor example</p>
<p>// Uses power1 variable - change as required if your using different ports</p>
<p>// emonGLCD documentation <a href="../emonglcd.html" title="http://openEnergyMonitor.org/emon/emonglcd">http://openEnergyMonitor.org/emon/emonglcd</a></p>
<p>// RTC to reset Kwh counters at midnight is implemented is software.<br />
// Correct time is updated via NanodeRF which gets time from internet<br />
// Temperature recorded on the emonglcd is also sent to the NanodeRF for online graphing</p>
<p>// GLCD library by Jean-Claude Wippler: JeeLabs.org<br />
// 2010-05-28 &lt;jcw@equi4.com&gt; <a href="http://opensource.org/licenses/mit-license.php" title="http://opensource.org/licenses/mit-license.php">http://opensource.org/licenses/mit-license.php</a><br />
//<br />
// Authors: Glyn Hudson and Trystan Lea<br />
// Part of the: openenergymonitor.org project<br />
// Licenced under GNU GPL V3<br />
// <a href="../license.html" title="http://openenergymonitor.org/emon/license">http://openenergymonitor.org/emon/license</a></p>
<p>// THIS SKETCH REQUIRES:</p>
<p>// Libraries in the standard arduino libraries folder:<br />
//<br />
// - OneWire library <a href="http://www.pjrc.com/teensy/td_libs_OneWire.html" title="http://www.pjrc.com/teensy/td_libs_OneWire.html">http://www.pjrc.com/teensy/td_libs_OneWire.html</a><br />
// - DallasTemperature <a href="http://download.milesburton.com/Arduino/MaximTemperature" title="http://download.milesburton.com/Arduino/MaximTemperature">http://download.milesburton.com/Arduino/MaximTemperature</a><br />
//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; or <a href="https://github.com/milesburton/Arduino-Temperature-Control-Library" title="https://github.com/milesburton/Arduino-Temperature-Control-Library">https://github.com/milesburton/Arduino-Temperature-Control-Library</a><br />
// - JeeLib <a href="https://github.com/jcw/jeelib" title="https://github.com/jcw/jeelib">https://github.com/jcw/jeelib</a><br />
// - RTClib <a href="https://github.com/jcw/rtclib" title="https://github.com/jcw/rtclib">https://github.com/jcw/rtclib</a><br />
// - GLCD_ST7565 <a href="https://github.com/jcw/glcdlib" title="https://github.com/jcw/glcdlib">https://github.com/jcw/glcdlib</a><br />
//<br />
// Other files in project directory (should appear in the arduino tabs above)<br />
// - icons.ino<br />
// - templates.ino<br />
//<br />
//-------------------------------------------------------------------------------------------------------------------------------------------------</p>
<p>#define RF69_COMPAT 0 // set to 1 to use RFM69CW<br />
#include &lt;JeeLib.h&gt;&nbsp;&nbsp; // make sure V12 (latest) is used if using RFM69CW<br />
#include &lt;GLCD_ST7565.h&gt;<br />
#include &lt;avr/pgmspace.h&gt;<br />
GLCD_ST7565 glcd;</p>
<p>#include &lt;OneWire.h&gt; &nbsp;&nbsp;&nbsp; // <a href="http://www.pjrc.com/teensy/td_libs_OneWire.html" title="http://www.pjrc.com/teensy/td_libs_OneWire.html">http://www.pjrc.com/teensy/td_libs_OneWire.html</a><br />
#include &lt;DallasTemperature.h&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // <a href="http://download.milesburton.com/Arduino/MaximTemperature/" title="http://download.milesburton.com/Arduino/MaximTemperature/">http://download.milesburton.com/Arduino/MaximTemperature/</a> (3.7.2 Beta needed for Arduino 1.0)</p>
<p>#include &lt;RTClib.h&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Real time clock (RTC) - used for software RTC to reset kWh counters at midnight<br />
#include &lt;Wire.h&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Part of Arduino libraries - needed for RTClib<br />
RTC_Millis RTC;</p>
<p>//--------------------------------------------------------------------------------------------<br />
// RFM12B Settings<br />
//--------------------------------------------------------------------------------------------<br />
#define MYNODE 20&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Should be unique on network, node ID 30 reserved for base station<br />
#define RF_freq RF12_433MHZ&nbsp;&nbsp;&nbsp;&nbsp; // frequency - match to same frequency as RFM12B module (change to 868Mhz or 915Mhz if appropriate)<br />
#define group 210</p>
<p>#define ONE_WIRE_BUS 5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // temperature sensor connection - hard wired</p>
<p>unsigned long fast_update, slow_update;</p>
<p>OneWire oneWire(ONE_WIRE_BUS);<br />
DallasTemperature sensors(&amp;oneWire);<br />
double temp,maxtemp,mintemp;</p>
<p>//---------------------------------------------------<br />
// Data structures for transfering data between units<br />
//---------------------------------------------------<br />
typedef struct { int power1, power2, power3, Vrms; } PayloadTX;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // neat way of packaging data for RF comms<br />
PayloadTX emontx;</p>
<p>typedef struct { int temperature; } PayloadGLCD;<br />
PayloadGLCD emonglcd;</p>
<p>int hour = 12, minute = 0;<br />
double usekwh = 0;</p>
<p>const int greenLED=6;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Green tri-color LED<br />
const int redLED=9;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Red tri-color LED<br />
const int LDRpin=4;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // analog pin of onboard lightsensor<br />
int cval_use;</p>
<p>//--------------------------------------------------------------------------------------------<br />
// Flow control<br />
//--------------------------------------------------------------------------------------------<br />
unsigned long last_emontx;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Used to count time from last emontx update<br />
unsigned long last_emonbase;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Used to count time from last emontx update</p>
<p>//--------------------------------------------------------------------------------------------<br />
// Setup<br />
//--------------------------------------------------------------------------------------------<br />
void setup()<br />
{<br />
&nbsp; delay(500); &nbsp;&nbsp; //wait for power to settle before firing up the RF<br />
&nbsp; rf12_initialize(MYNODE, RF_freq,group);<br />
&nbsp; delay(100); &nbsp;&nbsp; //wait for RF to settle befor turning on display<br />
&nbsp; glcd.begin(0x19);<br />
&nbsp; glcd.backLight(200);<br />
&nbsp;<br />
&nbsp; sensors.begin();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // start up the DS18B20 temp sensor onboard&nbsp;<br />
&nbsp; sensors.requestTemperatures();<br />
&nbsp; temp = (sensors.getTempCByIndex(0));&nbsp;&nbsp;&nbsp;&nbsp; // get inital temperture reading<br />
&nbsp; mintemp = temp; maxtemp = temp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // reset min and max</p>
<p>&nbsp; pinMode(greenLED, OUTPUT);<br />
&nbsp; pinMode(redLED, OUTPUT);<br />
}</p>
<p>//--------------------------------------------------------------------------------------------<br />
// Loop<br />
//--------------------------------------------------------------------------------------------<br />
void loop()<br />
{<br />
&nbsp;<br />
&nbsp; if (rf12_recvDone())<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if (rf12_crc == 0 &amp;&amp; (rf12_hdr &amp; RF12_HDR_CTL) == 0)&nbsp; // and no rf errors<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int node_id = (rf12_hdr &amp; 0x1F);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (node_id == 10) {emontx = *(PayloadTX*) rf12_data; last_emontx = millis();}&nbsp; //Assuming 10 is the emonTx NodeID<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (node_id == 15) //Assuming 15 is the emonBase node ID<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RTC.adjust(DateTime(2012, 1, 1, rf12_data[1], rf12_data[2], rf12_data[3]));<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; last_emonbase = millis();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;</p>
<p>
&nbsp; }</p>
<p>&nbsp; //--------------------------------------------------------------------------------------------<br />
&nbsp; // Display update every 200ms<br />
&nbsp; //--------------------------------------------------------------------------------------------<br />
&nbsp; if ((millis()-fast_update)&gt;200)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; fast_update = millis();<br />
&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp; DateTime now = RTC.now();<br />
&nbsp;&nbsp;&nbsp; int last_hour = hour;<br />
&nbsp;&nbsp;&nbsp; hour = now.hour();<br />
&nbsp;&nbsp;&nbsp; minute = now.minute();</p>
<p>&nbsp;&nbsp;&nbsp; usekwh += (emontx.power1 * 0.2) / 3600000;<br />
&nbsp;&nbsp;&nbsp; if (last_hour == 23 &amp;&amp; hour == 00) usekwh = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //reset Kwh/d counter at midnight<br />
&nbsp;&nbsp;&nbsp; cval_use = cval_use + (emontx.power1 - cval_use)*0.50;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //smooth transitions<br />
&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp; draw_power_page( &quot;POWER&quot; ,cval_use, &quot;USE&quot;, usekwh);<br />
&nbsp;&nbsp;&nbsp; draw_temperature_time_footer(temp, mintemp, maxtemp, hour,minute);<br />
&nbsp;&nbsp;&nbsp; glcd.refresh();</p>
<p>&nbsp;&nbsp;&nbsp; int LDR = analogRead(LDRpin);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Read the LDR Value so we can work out the light level in the room.<br />
&nbsp;&nbsp;&nbsp; int LDRbacklight = map(LDR, 0, 1023, 50, 250);&nbsp;&nbsp;&nbsp; // Map the data from the LDR from 0-1023 (Max seen 1000) to var GLCDbrightness min/max<br />
&nbsp;&nbsp;&nbsp; LDRbacklight = constrain(LDRbacklight, 0, 255);&nbsp;&nbsp; // Constrain the value to make sure its a PWM value 0-255<br />
&nbsp;&nbsp;&nbsp; if ((hour &gt; 22) ||&nbsp; (hour &lt; 5)) glcd.backLight(0); else glcd.backLight(LDRbacklight);&nbsp;<br />
&nbsp; }<br />
&nbsp;<br />
&nbsp; if ((millis()-slow_update)&gt;10000)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; slow_update = millis();</p>
<p>&nbsp;&nbsp;&nbsp; sensors.requestTemperatures();<br />
&nbsp;&nbsp;&nbsp; temp = (sensors.getTempCByIndex(0));<br />
&nbsp;&nbsp;&nbsp; if (temp &gt; maxtemp) maxtemp = temp;<br />
&nbsp;&nbsp;&nbsp; if (temp &lt; mintemp) mintemp = temp;<br />
&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp; emonglcd.temperature = (int) (temp * 100);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // set emonglcd payload<br />
&nbsp;&nbsp;&nbsp; rf12_sendNow(0, &amp;emonglcd, sizeof emonglcd);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //send temperature data via RFM12B using new rf12_sendNow wrapper -glynhudson<br />
&nbsp;&nbsp;&nbsp; rf12_sendWait(2);&nbsp;&nbsp;&nbsp;<br />
&nbsp; }<br />
}</p>
<p>This is the sketch that I am using</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35886"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8991.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Chris41&#039;s picture" title="Chris41&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Error compiling EmonGLCD sketch</h3>

    <div class="submitted">Submitted by <a href="../user/8991.html" title="View user profile.">Chris41</a> on Fri, 13/11/2015 - 20:34.</div>
    <div class="content">
     <p>// RFM12B Settings<br />
//--------------------------------------------------------------------------------------------<br />
#define MYNODE 20&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Should be unique on network, node ID 30 reserved for base station<br />
#define RF_freq RF12_433MHZ&nbsp;&nbsp;&nbsp;&nbsp; // frequency - match to same frequency as RFM12B module (change to 868Mhz or 915Mhz if appropriate)<br />
#define group 210</p>
<p>#define ONE_WIRE_BUS 5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // temperature sensor connection - hard wired</p>
<p>unsigned long fast_update, slow_update;</p>
<h1>OneWire oneWire(ONE_WIRE_BUS);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt;&lt;&lt;&lt;&lt;<br />
I have here the error in this line</h1>
<p>
DallasTemperature sensors(&amp;oneWire);<br />
double temp,maxtemp,mintemp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35888"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Error compiling EmonGLCD sketch</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 13/11/2015 - 22:29.</div>
    <div class="content">
     <p>That still points to the compiler not being able to find the library. I have just copied your sketch from your post above, copied the two other .ino files (icons &amp; templates) and it compiled immediately for me.</p>
<p>Is your OneWire library in the same Libraries directory as JeeLib and Emonlib? Have you shut down the Arduino IDE <b>COMPLETELY</b> since you installed OneWire? (The libraries are read at start-up and held in memory. Leaving any IDE Window open means that the IDE does not start from nothing and does <u>not</u> read the libraries, which now include the new library, from disc.) </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35969"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8991.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Chris41&#039;s picture" title="Chris41&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Error compiling EmonGLCD sketch</h3>

    <div class="submitted">Submitted by <a href="../user/8991.html" title="View user profile.">Chris41</a> on Mon, 16/11/2015 - 16:28.</div>
    <div class="content">
     <p>&nbsp;</p>
<p>Hello Robert</p>
<p>Today I could try to compile the program on another PC and everything worked properly , I can not understand why on my home PC is not working and it&#39;s all the same to this pc of my work , however, it does nothing I program it from here , the only thing tells me that memory is low and may not work properly .</p>
<p>Thanks again for your courtesy .</p>
<p>Christian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35970"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Error compiling EmonGLCD sketch</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 16/11/2015 - 17:21.</div>
    <div class="content">
     <p>It should be possible for you to take the compiler output from your work PC as a .hex file and load that into your GLCD using avrdude. However, I have never needed to do that so I cannot tell you the exact procedure. </p>
<p>If you can load on your work computer the drivers that the programmer needs, then you can of course take the GLCD to work and program it there.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11581"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-N0p-G23M54zWsIyebRZqPNrvwEqRIU4XcWpQ2j2-enU" value="form-N0p-G23M54zWsIyebRZqPNrvwEqRIU4XcWpQ2j2-enU"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/11581 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:13:29 GMT -->
</html>
