<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10562 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:59:58 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>EmonTx Arduino Shield SMT - Not getting reading | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">EmonTx Arduino Shield SMT - Not getting reading</h3>
        <span class="submitted">Submitted by <a href="../user/7450.html" title="View user profile.">b.downey</a> on Tue, 05/05/2015 - 02:20</span>
        <div class="content"><p>I have been struggling for weeks on this and cannot seem to get valid current readings out of the EmonTx Arduino Shield SMT&nbsp;on an Ardunio&nbsp;Leonardo. &nbsp; I have been using Ardunio&#39;s and PI&#39;s for a couple of years. &nbsp;but this has me stumped.</p>
<p>The CT is attached to the hot lead running into a plug via a Kill A Watt. &nbsp; The &nbsp;CT is Model:&nbsp;&nbsp;sct013&nbsp;from&nbsp;ygdc. &nbsp; It is&nbsp;marked&nbsp;100A:50ma &nbsp;&nbsp;The load is attached to the socket. &nbsp; &nbsp;The CT is attached to just the Hot, &nbsp; not the neutral. &nbsp;</p>
<p>The Kill A Watt reads 16 Watts, 25VA, .2 Amps, 120Volts (USA),</p>
<p>I am using the standard Arduino&nbsp;Stech&nbsp;from the Open Energy Web site for Current Only. &nbsp; I did modify&nbsp;the 230 value to 120 for US operation</p>
<p>The readings from the emon via the Arduino seems to jump all over the place. &nbsp;sometimes as low as 0.25 &nbsp;but also goes up to over 10. &nbsp; &nbsp;As an experiment, &nbsp; I removed the CT from the load and it does not seem to make a difference. The numbers are all over the place. &nbsp; &nbsp;Seems like I am actually picking up noise rather than any real measurements</p>
<p>I do have a Dallas DS1820&nbsp;soldered on to the same&nbsp;emon and that work perfectly.&nbsp;&nbsp;</p>
<p>I have also use 3 of the 4 CT ports with similar results</p>
<p>Should I expect a Zero reading when there is no cuurent going thru the CT? &nbsp;Do I need more current going thru the CT to get a reading?</p>
<p>&nbsp;</p>
<p>Any help would be appreciated</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;Bill</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10454.html" class="topic-previous" title="Go to previous forum topic">‹ Event not working, please help me</a>
              <a href="10540.html" class="topic-next" title="Go to next forum topic">Help! Get Compiling error on Sketch&#039;s &quot;Mk2_PVrouter_Multiload_CAT5_vX&quot; when trying to Verify ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-30104"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7167.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7167.jpg" alt="pb&#039;s picture" title="pb&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTx Arduino Shield SMT - Not getting reading</h3>

    <div class="submitted">Submitted by <a href="../user/7167.html" title="View user profile.">pb</a> on Tue, 05/05/2015 - 02:31.</div>
    <div class="content">
     <p>Check you have installed the 3.5mm headphone jacks on the correct side of the board. &nbsp;The design is a bit unusual in that the connectors are on the bottom of the board to save on overall height. &nbsp;A common mistake is to solder them on the top side.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30108"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTx Arduino Shield SMT - Not getting reading</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 05/05/2015 - 10:17.</div>
    <div class="content">
     <p>If you have got the sockets on the wrong side, the fix is to either transfer the white wire from tip to the ring of the plug, or to link the tip and ring tags on the sockets.</p>
<p>You should read <i>something</i> with a low power (i.e. less than a couple of hundred watts) load, but accuracy at less than about 1 A is not good. You can 'multiply' the sensitivity by passing several turns of wire through the CT, i.e. 10 turns carrying 1 A will read 10 A (and 1.2 kW if you are on 120 V).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30112"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="b.downey&#039;s picture" title="b.downey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTx Arduino Shield SMT - Not getting reading</h3>

    <div class="submitted">Submitted by <a href="../user/7450.html" title="View user profile.">b.downey</a> on Tue, 05/05/2015 - 13:06.</div>
    <div class="content">
     <p>Thank you both for your&nbsp;reply.&nbsp;&nbsp;&nbsp; I did make the mistake by putting the 3.5 MM CT jacks on the wrong side of the emon board.&nbsp;&nbsp;&nbsp; With the use of a solder sucker, I was able to remove them and place them on the correct side of the board.&nbsp;&nbsp; They are now installed per the directions and as shown on the very accurate pictures on the web site. (I wish I had looked at the directions and pictures a little more closely.&nbsp; It would have saved by a lot of time and frustration)</p>
<p>I did have the the emon on a 240V&nbsp;&nbsp;&nbsp;Mini Split Heat Pump that does draw more current and had similar results as outlined in by original message.&nbsp; The Mini Split has 2 legs at 120V each&nbsp;with a CT on each leg.&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>I will try the suggestion proved by Robert to see if I get different results.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30128"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="b.downey&#039;s picture" title="b.downey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTx Arduino Shield SMT - Not getting reading</h3>

    <div class="submitted">Submitted by <a href="../user/7450.html" title="View user profile.">b.downey</a> on Wed, 06/05/2015 - 00:34.</div>
    <div class="content">
     <p>I increased the wattage.&nbsp;&nbsp; I am now using a 75 Watt incandescent bulb.&nbsp;&nbsp;</p>
<p>The Kill A Watt shows:</p>
<ul>
<li>70.5 Watts</li>
<li>0.57 Amps</li>
<li>60 Hz</li>
<li>PF .99</li>
<li>123.4 VAC</li>
</ul>
<p>Clearly all values from the Kill A Watt are as expected.</p>
<p>I am using the Starter sketch from the EMON web site&nbsp;for two CT.&nbsp;&nbsp;&nbsp; I have one CT on the HOT lead and the other on the Neural.&nbsp;&nbsp; I have done this for comparison as I would expect both CTs to produce the same value.</p>
<p>Here are the values that I am getting</p>
<p>irms1, irms2, Apparent Pwr 1, Apparent Pwr2</p>
<p>0.00 0.25 0.00 29.43<br />
0.00 0.13 0.00 15.63<br />
0.00 0.03 0.00 3.72<br />
0.00 0.01 0.00 1.03<br />
0.00 0.01 0.00 0.92<br />
0.00 0.01 0.00 0.92<br />
0.00 0.01 0.00 0.92<br />
0.00 0.01 0.00 0.92<br />
0.00 0.01 0.00 0.92<br />
0.00 0.01 0.00 0.92<br />
0.00 0.13 0.00 15.33<br />
0.00 0.01 0.00 1.56<br />
0.00 0.01 0.00 0.92<br />
0.00 0.01 0.00 0.92<br />
0.00 0.01 0.00 0.92<br />
0.00 0.01 0.00 0.92<br />
0.00 0.14 0.00 17.15<br />
0.00 0.00 2 0.00 2.34</p>
<p>
Swamping the CT1 and CT2 Barrel connectors does not change the results.&nbsp; Removing the CT Barrel connectors does not change the results either</p>
<p>I don&#39;t know if this matter,&nbsp; but I <u>don&#39;t</u> have a RFM12M radio module installed on the emon.</p>
<p>Any help to resolve this issue would be greatly appreciated.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30137"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTx Arduino Shield SMT - Not getting reading</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 06/05/2015 - 09:02.</div>
    <div class="content">
     <p>Have you changed the I/O pins to suit the Shield? Try "Shield_CT1234_Voltage_SerialOnly" from GitHub. That does not have the code for the radios.</p>
<p>(If you use a sketch that wants to use the radios, it will hang and you will get nothing at all. At least the sketch you have appears to be working but not reading the correct input(s). The 3 values at the beginning are from the software filter settling, the other isolated values are, I guess, noise spikes.)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30149"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="b.downey&#039;s picture" title="b.downey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTx Arduino Shield SMT - Not getting reading</h3>

    <div class="submitted">Submitted by <a href="../user/7450.html" title="View user profile.">b.downey</a> on Wed, 06/05/2015 - 19:36.</div>
    <div class="content">
     <p>Thanks for the response.&nbsp;&nbsp; The code sample that I am using does not have any refrences to the radio either.&nbsp;&nbsp;</p>
<p>I did review the code that you suggest, Shield_CT1234_Voltage_Serial, and it is a bit different that the other sample code on the site.&nbsp;&nbsp;</p>
<p>I will try the code that is on GitHub tonight.&nbsp;&nbsp;&nbsp;&nbsp; Thanks for you imput!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30154"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="b.downey&#039;s picture" title="b.downey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTx Arduino Shield SMT - Not getting reading</h3>

    <div class="submitted">Submitted by <a href="../user/7450.html" title="View user profile.">b.downey</a> on Thu, 07/05/2015 - 00:54.</div>
    <div class="content">
     <p>I tried the code that you suggested from GitHub and it work perfectly on both the UNO and the Leonardo with the 75 Watt bulb. &nbsp; I am getting the same measurement as the Kill A Watt. &nbsp; &nbsp;Thank you for the redirection from the other code on GitHub</p>
<p>&nbsp;</p>
<p>Bill</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10562"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-abu2hB7h7T60MiHtopEZChX7Dsq05Gty5f7bABHukl0" value="form-abu2hB7h7T60MiHtopEZChX7Dsq05Gty5f7bABHukl0"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
