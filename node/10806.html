<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10806 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:59:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>emonPi - Locked out of emonCMS | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">emonPi - Locked out of emonCMS</h3>
        <span class="submitted">Submitted by <a href="../user/8265.html" title="View user profile.">Q-Branch</a> on Sat, 06/06/2015 - 20:52</span>
        <div class="content"><p>Hello!<br />
I am a noob user to the OEM project, having recently taken delivery of my (Kickstarter) emonPi.</p>
<p>I have successfully installed the hardware in my home (Grid and Solar CTs), and have now tried to start using the emonCMS environment.&nbsp; The road has become rather rocky before I expected it to, and I would appreciate some advice in return for my initial feedback please.</p>
<p>Feedback from the noob perspective:</p>
<ul>
<li>I installed the HW without any problem, but didn&#39;t find the installation notes very clear about the need to polarise the CT sensors to make sure that the values were represented correctly +ve / -ve.&nbsp; Some additional documentation would be ideal here please.</li>
<li>The emonPi connected to my network without any trouble, but the IP address which is shown on line 2 of the display does not have enough digits to correctly display all forms of IP addresses.&nbsp; In my case the DHCP server assigned my emonPi the address of 192.168.10.107, but the display did not have enough characters to display the final &quot;7&quot;, thus leaving me confused as to which address to use in my browser.&nbsp; Naturally I dug around in the DCHP assignment tables of my router and found the solution, but the formatting of line 2 of the display would benefit from an update please.&nbsp; If you change the &quot;IP:&quot; prefix to &quot;I:&quot;, then the display would have sufficient characters to display any IP address with three digits in each of the IP four address fields xxx.xxx.xxx.xxx.</li>
</ul>
<p>Questions and problems:</p>
<ul>
<li>I seem to have managed to lock myself out of the emonCMS interface.&nbsp; When I initially registered my first username, I allowed my password manager to generate and store a secure password for my local user account, which was 20 digits in length comprised of upper and lower alpha, numeric, and symbols.&nbsp; Having logged out and tried to log back in again, I now can&#39;t get back in and the register button is no longer available.&nbsp; The username and password is definately correct, becuase it was automatically stored by the password manager.
<ul>
<li>I suspect that there might be a limitation in the password length and/or accepted character set.&nbsp; Is this so, and how do I now get myself either logged in, or re-registered as a user on emonCMS please?&nbsp; Please don&#39;t tell me that I have to take the case apart to re-image the SD card; that would be very disappointing.</li>
</ul>
</li>
<li>When I was installing the CT sensors, I noticed a metallic buzzing coming from the sensor coils before the CT sensors had been plugged into the emonPi.&nbsp; Having knowledge of electronics I was careful not to touch the exposed contacts on the 3.5mm plugs.&nbsp; Are the supplied sensors fitted with suitable protection resistors to protect the user while handling the unplugged CTs?&nbsp; A current is obviously induced in the transformers even when they are unplugged, and the noise I heard worries me for the safety of those who might not be so wary of the potential dangers.</li>
<li>As a new user it took me quite a few attempts to set up the nodes / feeds correctly, before I understood sufficiently to get things how I wanted them.&nbsp; After a few experiments where I could generate graphs etc, I decided to delete all of the feeds and nodes and start again with fresh data.&nbsp; I also had to reverse the polarity of some of the CTs to get the figures reported correctly.
<ul>
<li>I re-created the feeds but the graphs didn&#39;t appear in the vis, even after I had waited a good long while for the data to accumulate.&nbsp; Concerned that the graph rendering might have simply got itself in a knot, I decided to log out of CMS and back in again to see if the graphs came back to life.&nbsp; That&#39;s when I got locked out.</li>
<li>There&#39;s a good chance that I used identical names for the feeds on my second and third attempts.&nbsp; Is this OK to do, because I certainly wasn&#39;t having any luck.&nbsp;&nbsp; A testing issue perhaps?</li>
</ul>
</li>
</ul>
<p>I hope that someone with more experience can guide me, and I hope that the feedback from a new user is valuable in some way.&nbsp; I&#39;m looking forward to some good experiences when I can get it up and running properly, but I suspect there are still some early gremlins which need to be ironed out.</p>
<p>Kind regards,<br />
Rich</p>
<p><em>Title edited by Moderator - Paul</em></p>
  <div class="forum-topic-navigation clear-block">
          <a href="10768.html" class="topic-previous" title="Go to previous forum topic">‹ Can I buy the emon tx v2 kit shown in build instructions?</a>
              <a href="10748.html" class="topic-next" title="Go to next forum topic">Multigraph timeout on Raspberry Pi ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-30981"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonPi - Locked out of emonCMS</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 06/06/2015 - 21:40.</div>
    <div class="content">
     <p>Hello Rich,</p>
<p>Thankyou for the feedback</p>
<p>Perhaps the easiest way if you havent yet logged a lot of data and dont mind starting a fresh is to do a &quot;factory reset&quot;. If you can login to the raspberrypi with SSH (using putty on windows or from terminal on linux):</p>
<p>ssh pi@192.168.10.107</p>
<p>(default password: raspberry)</p>
<p>Then:</p>
<p>sudo emonpi/factoryreset</p>
<p>will restore the pi to a clean install, removes the user account and deletes all feed data. I can see that a password reset feature via SSH could be useful if even to give a temporary password for a one time login. Il have a think about how to do that.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30989"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8265.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8265.gif" alt="Q-Branch&#039;s picture" title="Q-Branch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonPi - Locked out of emonCMS</h3>

    <div class="submitted">Submitted by <a href="../user/8265.html" title="View user profile.">Q-Branch</a> on Sat, 06/06/2015 - 22:18.</div>
    <div class="content">
     <p>Hello Trystan,<br />
Thank you for your quick reply.&nbsp; A factory reset has gotten me back up and running so thank you for that.</p>
<p>However, a few more notes for you:</p>
<ul>
<li>The factory reset didn&#39;t <u>quite</u> get rid of everything.&nbsp; I noticed that the old feeds were still listed when I clicked the &quot;spanner&quot; icon next to the emonPi node.&nbsp; They seemed to have broken links to the feed data (sorry, I didn&#39;t think to capture the precise wording of what was reported or take a screenshot before I deleted them), so I had to manually remove them and re-create the feeds I wanted.
<ul>
<li>Should the factory reset get rid of the old feeds?&nbsp; A bug fix required here perhaps?</li>
<li>These broken links / references to the old feed data was what I saw before when I tried to tidy things up after my initial experimentation.&nbsp; I am not yet familiar enough with the CMS environment to be 100% clear about what I am describing.&nbsp; Apologies for that - I&#39;m learning rapidly.</li>
</ul>
</li>
<li>I used a more simple password for my user account this time, rather than letting the password manager generate something complicated.&nbsp; What is the limitation, if any, about CMS password length and character set?&nbsp; Are the passwords hashed?&nbsp; If so, then it shouldn&#39;t matter what a user entered because it&#39;d all end up as a hashed value of a fixed length.&nbsp; I&#39;d need to understand more about the coding implementation of the un/password database before I could suggest anything here.&nbsp; I&#39;ve not yet trawled through the code.</li>
</ul>
<p>I&#39;ve set up a few basic feeds and I shall leave it running for a week or so to see what data I get.&nbsp; Should be interesting!</p>
<p>Thanks and kind regards,<br />
Rich</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30992"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonPi - Locked out of emonCMS</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 06/06/2015 - 22:59.</div>
    <div class="content">
     <p>CT orientation and voltages:</p>
<p>You obviously missed this in the installation and calibration instructions. These do state that you should connect the CT before installing it on its cable, but there is a pair of zener diodes in the recommended CT that should protect you (but might not protect the input circuits). They also tell you our convention and which way round to install the CT:</p>
<p style="margin-left:2em">"(a) Single phase supply: Plug the lead from the CT into the EmonTx and then clip the CT around one cable that runs from the meter to the consumer unit. If you use the line cable (normally the outside one of the four coming out of the meter, red or brown insulation might be visible where the cable enters the meter terminal block), the face of the CT marked “ SCT-013-000” should point towards the meter. It is possible to install the CT on the supply side of the meter, in that case the face of the CT marked “SCT-013-000” should point away from the meter. This will ensure that imported power is shown as positive. If you use the neutral cable (normally the inner), then the face of the CT marked “SCT-013-000” should point the opposite way: away from the meter on the load side or towards the meter on the supply side. Do not put both cables through the CT."</p>
<p>The paragraph but one after that tells you how to orientate the PV CT.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30996"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8265.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8265.gif" alt="Q-Branch&#039;s picture" title="Q-Branch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonPi - Locked out of emonCMS</h3>

    <div class="submitted">Submitted by <a href="../user/8265.html" title="View user profile.">Q-Branch</a> on Sun, 07/06/2015 - 06:42.</div>
    <div class="content">
     <p>Hello Robert,</p>
<p>Yes, I definitely missed that.&nbsp;After a good degree of searching I have now found the page that you&#39;re quoting from. When I installed the product I was using the get started --&gt; &nbsp;emon pi setup&nbsp;guide (which seemed logical! &lt;smile&gt;), &nbsp;so perhaps a good modification to the setup guide would be to link to&nbsp;this excellent CT information so that new users know where to find it.&nbsp;</p>
<p>I appreciate your feedback though, thank you,&nbsp;and I&#39;m sure that together we can&nbsp;make the out-of-the-box experience better for future users. &nbsp;I&#39;ve found&nbsp;with my own product&nbsp;development and documentation, that as things become less modular and more of a single purchase product, then it is necessary to adjust the style of documentation and guidance. &nbsp;</p>
<p>Thanks again, kind regards,</p>
<p>Rich</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31036"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8204.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8204.png" alt="Rich.T.&#039;s picture" title="Rich.T.&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonPi - Locked out of emonCMS</h3>

    <div class="submitted">Submitted by <a href="../user/8204.html" title="View user profile.">Rich.T.</a> on Mon, 08/06/2015 - 01:21.</div>
    <div class="content">
     <blockquote><p>The emonPi connected to my network without any trouble, but the IP address which is shown on line 2 of the display does not have enough digits to correctly display all forms of IP addresses.&nbsp; In my case the DHCP server assigned my emonPi the address of 192.168.10.107, but the display did not have enough characters to display the final &quot;7&quot;, thus leaving me confused as to which address to use in my browser.&nbsp; Naturally I dug around in the DCHP assignment tables of my router and found the solution, but the formatting of line 2 of the display would benefit from an update please.&nbsp; If you change the &quot;IP:&quot; prefix to &quot;I:&quot;, then the display would have sufficient characters to display any IP address with three digits in each of the IP four address fields xxx.xxx.xxx.xxx.</p>
</blockquote>
<p>That just got fixed in the latest update; go to Admin -&gt; Update emonPi in emonCMS.</p>
<blockquote><p>I used a more simple password for my user account this time, rather than letting the password manager generate something complicated.&nbsp; What is the limitation, if any, about CMS password length and character set?&nbsp; Are the passwords hashed?&nbsp; If so, then it shouldn&#39;t matter what a user entered because it&#39;d all end up as a hashed value of a fixed length.&nbsp; I&#39;d need to understand more about the coding implementation of the un/password database before I could suggest anything here.&nbsp; I&#39;ve not yet trawled through the code.</p>
</blockquote>
<p>I managed to get away with a lastpass-generated 30 character random password with special characters. I too, however, would like to know what the length limit is.</p>
<p>&nbsp;</p>
<p>A loosely related issue I'm currently having is that the emonCMS.org website is not letting me log in, even when I request a new password and use the new one that was emailed to me.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10806"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-gRUlpsnX6mhaT5gelN7apLcd6mpXAZ5f9TciB1aki_Q" value="form-gRUlpsnX6mhaT5gelN7apLcd6mpXAZ5f9TciB1aki_Q"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
