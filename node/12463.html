<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/12463 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:04:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Water meter for water consumption monitoring | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Water meter for water consumption monitoring</h3>
        <span class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Mon, 04/04/2016 - 07:00</span>
        <div class="content"><p>I have read that there are folks here that are monitoring their water consumption which I would like to do here at home. I want to set up two meters for monitoring, one for &quot;whole house&quot; and the second just for irrigation (as a subset of &quot;whole house&quot;.</p>
<p>I am looking at various water meters and I see several reasonable priced meters <a href="https://www.nextcenturymeters.com/img/marketing/NextCentury - M201C Meter Specification Sheet - ver 02.05.16.pdf" target="_blank">such as this one</a>&nbsp;that show they have pulse output (in this case 1 pulse = 10 gallons) and according to what I have read here, we can measure and then track those pulses to get the data that I am interested in seeing, namely how much water am I using?</p>
<p>So I was wondering if that is the type of meter that I need and secondly, what would I then use with openenergy&nbsp;to monitor it as I do not see any specific hardware offered for pulse counting.</p>
<p>Thanks</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12586.html" class="topic-previous" title="Go to previous forum topic">‹ Solved -- EmonHub working fine - EmonCMS data freezes/gaps</a>
              <a href="12460.html" class="topic-next" title="Go to next forum topic">Emoncms &#039;cloud&#039; backup to Dropbox - Updated 23/4 ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-40865"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/04/2016 - 10:55.</div>
    <div class="content">
     <p>You need to find out exactly what they mean by&nbsp;&quot;Pulse Output&quot;. If it&#39;s a reed switch operated by a magnet (&quot;volt-free contacts&quot; as I would put it, and that&#39;s what I would expect) then you can connect that to your Pi or one of your emonTx&#39;s. There&#39;s a lot here about gas and water meters and pulse inputs (and the various difficulties that some users have experienced) so a little more reading around those topics could be useful.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40871"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Mon, 04/04/2016 - 15:39.</div>
    <div class="content">
     <p>Hi,</p>
<p>&quot;you can connect that to your Pi or one of your emonTx&#39;s&quot;</p>
<p>An EmonTh powered by battery can do it also. See <a href="12165.html" title="https://openenergymonitor.org/emon/node/12165">https://openenergymonitor.org/emon/node/12165</a> . You will find a sketch for EmonTH V1.4 and V1.5.</p>
<p>Eric</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40875"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Mon, 04/04/2016 - 16:40.</div>
    <div class="content">
     <p>Hi again Robert -&nbsp;</p>
<p>As I said&nbsp;in my other post on the electrical you are helping me with, I am new to this stuff. I have read every post I could find on water consumption monitoring and did not find a solution that really spelled out how it was done.</p>
<p>I was using <a href="../applications/water.html" target="_blank">this post</a> as a sort of blueprint to get me going and since my main water meter does not look ike it can be monitored, I will contact the manufacturer of the water meter and ask them about the pulse output!</p>
<p>Thanks!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40877"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Mon, 04/04/2016 - 16:57.</div>
    <div class="content">
     <p>Hi Eric -&nbsp;</p>
<p>Looking at the <a href="https://wiki.openenergymonitor.org/index.php/EmonTH_V1.5#Pulse_Sensor_Connection" target="_blank">specs</a> on the EmonTh, it looks like it only supports a single meter, is that correct?</p>
<p>Many Thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40886"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Mon, 04/04/2016 - 19:49.</div>
    <div class="content">
     <p>OK, I contacted the manufacturer of the water meters I am looking at and they said that the units were 2-wire, no polarity,&nbsp;dry contact operated by a magnet.&nbsp; The standard output is 1 pulse per 10 US gallons.</p>
<p>This is the meter: <a href="http://nextcenturymeters.com/img/marketing/NextCentury - M201CH Meter Specification Sheet - ver 10.7.15.pdf" target="_blank">HERE</a></p>
<p>Does it look like this meter would work with the EmonTh?</p>
<p>Thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40890"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/04/2016 - 22:43.</div>
    <div class="content">
     <p>The &quot;dry reed&quot; bit is what we needed to know. Yes, that will work with any emonPi, emonTx or emonTH. But you can have only one per sensor node.</p>
<p>There&#39;s no fundamental difference between that reed switch&nbsp;and the sort of switch that you&#39;d attach to a gas meter, and I think you&#39;ll find quite a lot of information about that. <a href="5022.html">This</a><a href="5022.html"> thread</a> is likely to be the most comprehensive.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40895"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Tue, 05/04/2016 - 04:34.</div>
    <div class="content">
     <p>Robert - Awesome! Thanks! I will give it a try and report back here!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40925"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Tue, 05/04/2016 - 19:00.</div>
    <div class="content">
     <p>Hi,</p>
<p>Both sketches for emonTH1.4 and 1.5, given <a href="12165.html">here</a>, only support one reed switch.</p>
<p>I just realized that I forgot to mention that one resistor (&gt;10K) is required between D3 (D2 for EmonTH1.4) and GND. Then you have to connect the reed switch between D3&nbsp;(D2 for EmonTH1.4) and VCC.</p>
<p>Both sketches can be modified to support two meters at the same time</p>
<p>Eric</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40996"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Fri, 08/04/2016 - 03:30.</div>
    <div class="content">
     <p>Thanks Eric -&nbsp;</p>
<p>As soon as I get all the hardware I wil start playing with this!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41133"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Thu, 14/04/2016 - 07:28.</div>
    <div class="content">
     <p>Hi Eric -&nbsp;</p>
<p>Just thought I would report back here. I received everything and it using the 1.5 sketch you point me to I have the emonTH&nbsp;reading pulse counts off one of my water meters.</p>
<p>You had mentioned that the sketches could be modified to support two meters at the same time. I would love to do this as I have two meter right next to each other that I need to monitor.&nbsp;</p>
<p>Can you point me in the direction I need to go to figure out how to support two meters on a single emonTH?&nbsp;</p>
<p>&nbsp;</p>
<p>I am not a programmer, so looking over the code did not insight any grand ideas on my part to make a second one work!</p>
<p>&nbsp;</p>
<p>Thanks</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41254"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Tue, 19/04/2016 - 10:20.</div>
    <div class="content">
     <p>Hi,</p>
<p>You said you&#39;re not a programmer but can you read and understand the piece of code bellow ?&nbsp;&nbsp; This is an extract of the EmonTH1.5 sketch you are using.</p>
<p>&nbsp;//delay loop, wait for time_between_reading minutes &nbsp;<br />
&nbsp; for (int i=0; i&lt;time_between_readings; i++) &nbsp;<br />
&nbsp; { &nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; for (int j=0; j&lt;55000/polling_period; j++) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //1 minute should be 60000 but is not because of variation of internal time source &nbsp;<br />
&nbsp;&nbsp;&nbsp; //caution parameter cannot be more than 65000, maybe find better solution &nbsp;<br />
&nbsp;&nbsp;&nbsp; //due to internal time source 60000 is longer than 1 minute. so 55s is used. &nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inputHistory = (inputHistory &lt;&lt; 1) + ((digitalRead(PULSEPIN)==HIGH) ? 1 : 0);&nbsp;&nbsp; // use as shift register - clock switch state through right-left &nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (inputHistory == 0x0F) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // look for pattern 0 0 0 0 1 1 1 1,&nbsp; i.e. LOW for 2 s, then HIGH for 2 s if the polling_period is 500ms &nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; emonth.pulse++; &nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dodelay(polling_period); // im ms &nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; } &nbsp;<br />
&nbsp; }</p>
<p>The arduino polls the value of D3 (PULSEPIN=3) and looks for pattern 00001111. This can de duplicated to make it poll the value of two pins at the same time.</p>
<p>What are you expecting exactly ? Do you want some help to modify the code yourself ?</p>
<p>Or are you asking me to modify it ? If yes, I can do it but I am not sure what other pins may be used on EmonTH1.5. And how to setup the pull-up or pull-down resistors. Can someone help us on that point ?</p>
<p>Eric</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41286"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Wed, 20/04/2016 - 20:08.</div>
    <div class="content">
     <p>Hi Eric -&nbsp;</p>
<p>I&#39;m not a programmer, but given some direction I can usually beat my head against a wall long enough to make something work, and I enjoy the challenge.&nbsp;</p>
<p>The piece I was missing was that I could just use another pin at the same time and modify the code above to read them both. I assume I can use any other &quot;D&quot; pin as I assume that is a &#39;digital&#39; pin instead of analog (thinking of using D6 as this EmonTh&nbsp;does not have the onboard temp/humidity sensor.&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41334"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Fri, 22/04/2016 - 08:32.</div>
    <div class="content">
     <p>Hi</p>
<p><em>I&#39;m not a programmer, but given some direction I can usually beat my head against a wall long enough to make something work, and I enjoy the challenge.&nbsp;</em></p>
<p>OK, now I am sure to understand your need ;)</p>
<p><em>The piece I was missing was that I could just use another pin at the same time and modify the code above to read them both. I assume I can use any other &quot;D&quot; pin as I assume that is a &#39;digital&#39; pin instead of analog (thinking of using D6 as this EmonTh&nbsp;does not have the onboard temp/humidity sensor.&nbsp;</em></p>
<p>Some inputs :</p>
<p>0. You should clean the sketch and delete everything related to temperature or humidity. Those part of the code already use some pins like D6 or D5</p>
<p>1. Data sent by the EmonTH is organized in a &#39;struct&#39; named payload :</p>
<p>&nbsp;&nbsp;&nbsp; typedef struct {int temp; int temp_external; int humidity; int pulse; int battery; } Payload;</p>
<p>&nbsp;&nbsp; You have to modify it to be able to have two counters, let say pulse and pulse2.</p>
<p>2. You have to declare and use two history</p>
<p>&nbsp; static char inputHistory = 0; --&gt; used to increment &quot;pulse&quot;&nbsp; (emonth.pulse++;)</p>
<p>&nbsp; static char inputHistory2 = 0; --&gt; used to increment &quot;pulse2&quot; (emonth.pulse2++;)</p>
<p>3. You have to declare and use two PINS : PULSEPIN and PULSEPIN2</p>
<p>Regarding the choice of the second pin, I can&#39;t help you because I have difficulties in reading electrical schemes (see the <a href="https://wiki.openenergymonitor.org/index.php/EmonTH_V1.5">wiki</a>). You have&nbsp; two find two free and accessible pins. And you have to take care of existing pull-up, pull-down resisors.</p>
<p>&nbsp;</p>
<p>Eric</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41344"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Fri, 22/04/2016 - 18:46.</div>
    <div class="content">
     <p>Eric -&nbsp;</p>
<p>Thanks. This is a great help and will get me started in the right direction! I&#39;ll let you know how I make out!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41346"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Sat, 23/04/2016 - 20:59.</div>
    <div class="content">
     <p>Eric -&nbsp;</p>
<p>&nbsp;</p>
<p>Here it is....works great! Thanks for the pointers....</p>
<p>&nbsp;</p>
<p>DIP Switch #1 Position: 1<br />
DIP Switch #2 Position: 1<br />
0 = UP(LOW), 1 = DOWN(HIGH)</p>
<p>emonTH_dual_REEDSWITCH V1.0<br />
OpenEnergyMonitor.org<br />
RFM69CW Init&gt;&nbsp;<br />
Node: 23 Freq: 433Mhz Network: 210</p>
<p>You are currently configured to transmit data every 1 minute(s).</p>
<p>Here is the data that we are transmitting:<br />
Total pulses pulse1: 0P, Total pulses pulse2: 0P, Battery voltage: 3.20V<br />
Total pulses pulse1: 1P, Total pulses pulse2: 0P, Battery voltage: 3.20V<br />
Total pulses pulse1: 1P, Total pulses pulse2: 0P, Battery voltage: 3.20V</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41391"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Mon, 25/04/2016 - 20:22.</div>
    <div class="content">
     <p>Congratulations !</p>
<p>Now, you &#39;re a programmer ;)</p>
<p>Eric</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41462"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Thu, 28/04/2016 - 00:43.</div>
    <div class="content">
     <p>hahahah....well I wouldn&#39;t go that far...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41514"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9729.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rjsears&#039;s picture" title="rjsears&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Water meter for water consumption monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9729.html" title="View user profile.">rjsears</a> on Sat, 30/04/2016 - 23:39.</div>
    <div class="content">
     <p>OK, so another quick question. One of the meters I am getting pulses 10 times for every gallon of water which will give me very good resolution on near instantaneous water usage, but only if I can get that data back to emon&nbsp;quick enough.</p>
<p>My max usage I have seen on my system is about 30GPM which would equate to 300 pulses per minute which is only 5 pulses per second or one pulse per 200 ms. I just could not find any information on how quickly the emonTH could read pulses.&nbsp;</p>
<p>&nbsp;</p>
<p>I was also wondering just how quickly (or how often) I can transmit back to the emonpi&nbsp;to get decent resolution. Once per minute seems a bit slow for any kind of leak detection, but maybe not.&nbsp;</p>
<p>&nbsp;</p>
<p>If I do transmit back once per minute, will all 300 pulses make it back?</p>
<p>&nbsp;</p>
<p>Thanks&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/12463"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-0ilXLZcDhlYX6AEQ6sksOwpXq8HasjI8i4b3nxjsEiU" value="form-0ilXLZcDhlYX6AEQ6sksOwpXq8HasjI8i4b3nxjsEiU"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
