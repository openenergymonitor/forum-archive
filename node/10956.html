<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10956 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:58:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Need help with logging to local emoncms instance | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Need help with logging to local emoncms instance</h3>
        <span class="submitted">Submitted by <a href="../user/8417.html" title="View user profile.">baldockery</a> on Tue, 07/07/2015 - 16:06</span>
        <div class="content"><p>Quick summary of what I am trying to do: I want to use a Raspberry Pi as a local emoncms server to log inputs from PHP scripts I&#39;ve created. I can&#39;t seem to get the emoncms set up to listen for my API calls.</p>
<p>Here&#39;s what I&#39;ve tried:</p>
<p>I created an SD card from &quot;emonbase ready-to-go SD card image&quot; posted June 17 2015.(<a href="10729.html" title="http://openenergymonitor.org/emon/node/10729">http://openenergymonitor.org/emon/node/10729</a>)</p>
<p>I booted up my RPi and created an account on the local emoncms instance. I have not connected to an emonTx or emonTH. (I plan to do try this eventually, but I have data that I can get locally by parsing information from my inverter, as well as from Weather Underground.)</p>
<p>To begin posting data to my local emoncms, I would like to begin using&nbsp;a url such as this one, which works for my online emoncms.org account:</p>
<p>http://emoncms.org/input/post.json?json={power:200}&amp;apikey=cc3eddc6c4629bfa4088a59exxxxxxxx</p>
<p>But I would like to log data locally, so I substitue my localhost and the API Key from the Admin page.</p>
<p>Problems:</p>
<p>1. The &quot;Input API&quot; page is not available on my local emoncms server. So knowing how exactly to construct my URL.</p>
<p>2. I&#39;m suspicious that a few times I&#39;ve created a valid URL to post data to my local emoncms, but it doesn&#39;t seem to go anywhere.</p>
<p>3. All my nodes on the &quot;Nodes&quot; page show &quot;Inactive&quot;.</p>
<p>4. I have had trouble reading the documentation and others&#39; posts to understand if I need to create a node and/or a reporter, and if so how to do it, and if there is more that needs to be done before the node can accept input.</p>
<p>I&#39;d appreciate help. I&#39;ve really searched the forums and read a number of posts, and it is difficult for me to get a sense for how to proceed.</p>
<p>Thanks</p>
<p>Brandon</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><i>[APIkey obscured for confidentiality - Moderator (RW)]</i></p>
  <div class="forum-topic-navigation clear-block">
          <a href="10985.html" class="topic-previous" title="Go to previous forum topic">‹ Has anyone used additional 1Wire sensors directly on the Pi?</a>
              <a href="10986.html" class="topic-next" title="Go to next forum topic">Auto Feed creation and default settings of feeds ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-32180"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8417.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="baldockery&#039;s picture" title="baldockery&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Need help with logging to local emoncms instance</h3>

    <div class="submitted">Submitted by <a href="../user/8417.html" title="View user profile.">baldockery</a> on Mon, 13/07/2015 - 21:07.</div>
    <div class="content">
     <p>It turns out there are three versions of emoncms.</p>
<p>1. Emoncms &ndash; the main branch for the full emoncms server<br />
2. Extended<br />
3. Low-write &ndash; designed for running on SD cards for emonBase/emonPi\</p>
<p>The instruction on OpenEnergyMonitor.org &gt; Get Started &gt; emonPi/emonBase provide a link to an SD card image that has the low-write version. If you flash an SD card with this image and boot it up on your Pi, you have an emonBase, ready to start receiving input from an emonTx and communicating it to an emoncms server, like emoncms.org, or your own that you create. What you don&#39;t have is a full emoncms server ready to receive input from API calls.</p>
<p>The three branches are all available and discussed on GitHub/emoncms: <a href="https://github.com/emoncms/emoncms">https://github.com/emoncms/emoncms</a></p>
<p>All my questions were answered by figuring out the difference between these branches. Posting input to a local emoncms server with API calls requires a full emoncms server.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32211"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Need help with logging to local emoncms instance</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Tue, 14/07/2015 - 11:06.</div>
    <div class="content">
     <p>Hi Brandon</p>
<p>Sorry I missed your OP, your findings are <em>mostly</em> correct, however the changes to low-write version to use a &quot;nodes&quot; rather than &quot;inputs&quot; input stage was very recent and the previous low-write&nbsp;versions prior to the emonPi launch&nbsp;had the full input api.&nbsp;</p>
<p>I&#39;m not familiar enough with the new set up to say what is needed or when/if it will develop but personally, I would expect it to have a functioning input API soon.</p>
<p>In the mean time you can use the pre-emonPi image as in the&nbsp;<a href="10163.html">OLD: Raspberry Pi 2 pre-built SD card image (emonSD-13-03-15.img) BETA</a>&nbsp;thread. You do not need to have a full emoncms&nbsp;install to use the input API&#39;s..</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10956"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-vhqj7agOfc-eqse1Rd5BbqyzSQ5zTv5Onz3hSLAt2js" value="form-vhqj7agOfc-eqse1Rd5BbqyzSQ5zTv5Onz3hSLAt2js"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
