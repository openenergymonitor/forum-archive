<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/4078 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:50:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>SORTED -v8.0.2 - Dial Widget showing NaNW | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">SORTED -v8.0.2 - Dial Widget showing NaNW</h3>
        <span class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 17/03/2014 - 21:34</span>
        <div class="content"><p>Since upgrading to v8.0, I&#39;ve noticed that the dial widget displays NaNW whenever the corresponding feed value (Timestore) is zero (0.0).&nbsp;</p>
<p>It displays OK when any other value.</p>
<p><img alt="" src="../sites/default/files/Emoncms%20(2).png" />&nbsp;<img alt="" src="../sites/default/files/Emoncms_1.png" style="width: 196px; height: 173px;" />&nbsp;<img alt="" src="../sites/default/files/Emoncms%20(1)_0.png" /></p>
<p>For example, when my solar PV is not producing energy;</p>
<p><img alt="" src="../sites/default/files/Emoncms%20(1)_2.png" style="width: 222px; height: 269px;" /></p>
<p>&nbsp;</p>
<p>Paul</p>
<p><em>Edited 22/3/14 - additional screenshot added</em></p>
  <div class="forum-topic-navigation clear-block">
          <a href="4333.html" class="topic-previous" title="Go to previous forum topic">‹ RFM2Pi on Synology NAS to forward serial data to emon</a>
              <a href="4270.html" class="topic-next" title="Go to next forum topic">EMON CMS manual input entry time  ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-19658"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 23/03/2014 - 10:56.</div>
    <div class="content">
     <p>Im having difficulty replicating this, do you see any errors in your console window?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19659"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 11:19.</div>
    <div class="content">
     <p>Console window? Not sure what you mean.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19661"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 23/03/2014 - 11:33.</div>
    <div class="content">
     <p>Just updated master with a type cast for rawValue to float which should do it. Not sure why it didnt show as an issue on my machine</p>
<p>The browser console window, is usually accessible under Developer tools, for your dashboards it showed the error:</p>
<p>TypeError: rawValue.toFixed is not a function</p>
<p>which can only happen if rawValue is not a number, adding the type cast should ensure it is a number and hopefully fix the problem.</p>
<p>Thanks for testing and flagging it, much appreciated</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19665"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 12:37.</div>
    <div class="content">
     <p>Just updated, rebooted &amp; cleared browser cache - still the same.</p>
<p>Checked developer tools which shows error;</p>
<p><strong>Uncaught TypeError; Object 660.1 has no method &#39;to fixed&#39;</strong></p>
<p>&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19667"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 23/03/2014 - 15:05.</div>
    <div class="content">
     <p>Hmm strange, I&#39;ve made some more changes, can you try again now?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19670"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 15:51.</div>
    <div class="content">
     <p>OK Back home now.</p>
<p>No, still not working. The correct values (if any) are not being displayed in the dials, and the developer console still showing errors.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19672"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 15:58.</div>
    <div class="content">
     <p>For me, values below -10.0 W just disappear (empty text).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19673"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 16:07.</div>
    <div class="content">
     <p>Thanks&nbsp;J&ouml;rg - at least it&#39;s not just mine!</p>
<p>Screenshot of the errors</p>
<p><img alt="" src="../sites/default/files/errors.jpg" /></p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19674"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 16:40.</div>
    <div class="content">
     <p>I think, if else should be used in the calculations. If rawvalue is e.g. -20W then it is converted to a string already by the line</p>
<p>if(rawvalue&lt;10) rawValue = rawvalue.tofixed();</p>
<p>Then in the next line .tofixed is used on a string which does not work.</p>
<p>Does this make sense (I have no idea about js).</p>
<p>EDIT:</p>
<p>I did it like this now (and it seems to work for me):</p>
<p>if (rawValue&gt;=100)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(0);<br />
	&nbsp; else if (rawValue&gt;=10)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(1);<br />
	&nbsp; else if (rawValue&lt;=-100)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(0);<br />
	&nbsp; else if (rawValue&lt;=-10)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(1);<br />
	&nbsp; else&nbsp;<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(2);</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19675"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 16:23.</div>
    <div class="content">
     <p>Well the update just now appears to have fixed the dials, <strike>but the Realtime graphs have stopped working (I think they stopped with the merge before this one!)</strike>&nbsp; &nbsp;&nbsp;<em>Edit - a reboot got them working again!</em></p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19676"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 23/03/2014 - 16:25.</div>
    <div class="content">
     <p>Managed to replicate the issue, I needed to test with a feed value above 100 to make the bug appear. I&#39;ve have pushed up the change to github</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19678"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 17:12.</div>
    <div class="content">
     <p><em>in fact Raw graphs have stopped</em> ...</p>
<p>Raw graphs still work for me. But realtime does not. Funny stuff ....</p>
<p>&nbsp;</p>
<p>Edit:<strike> is there something wrong with using &#39;else&#39; in js?</strike> (No, I have just seen it is used everywhere in the code)&nbsp; Should reduce processing time compared to your version, Trystan.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19679"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 16:53.</div>
    <div class="content">
     <p>The current code:</p>
<p>if (isNaN(rawValue)) rawValue = 0;<br />
	&nbsp; if (rawValue&gt;=10) rawValue = rawValue.toFixed(1);<br />
	&nbsp; if (rawValue&gt;=100) rawValue = parseInt(rawValue);<br />
	&nbsp; if (rawValue&lt;10) rawValue = rawValue.toFixed(2);<br />
	&nbsp; if (rawValue&lt;=-10) rawValue = rawValue.toFixed(1);<br />
	&nbsp; if (rawValue&lt;=-100) rawValue = parseInt(rawValue);</p>
<p>still doesn&#39;t work. Any value less <strike>than</strike> or equal -10 produces the same error.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19686"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 19:23.</div>
    <div class="content">
     <p>Despite a little earlier confusion! <em>(working from an iPhone, etc...)</em></p>
<p>Everything is working fine now, graphs &amp; dials, with the exception that as&nbsp;J&ouml;rg&nbsp;has pointed out, any value less or equal to -10 stops the dial functioning and results in no value being displayed.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19687"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 19:50.</div>
    <div class="content">
     <p>Paul,</p>
<p>did you try my code instead (combined with Trystans first line to cope with NaN values)?</p>
<p>if (isNaN(rawValue)) rawValue = 0;</p>
<p>if (rawValue&gt;=100)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(0);<br />
	else if (rawValue&gt;=10)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(1);<br />
	else if (rawValue&lt;=-100)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(0);<br />
	else if (rawValue&lt;=-10)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(1);<br />
	else<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(2);</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19688"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 23/03/2014 - 19:54.</div>
    <div class="content">
     <p>Fixed the below -10 issue, I better not say anything too soon but it seemed that:</p>
<p>rawValue = (rawValue*1).toFixed(1)</p>
<p>works ok while</p>
<p>rawValue = rawValue * 1;<br />
	rawValue = rawValue.toFixed(0)</p>
<p>gives errors.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19689"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 20:04.</div>
    <div class="content">
     <p>Yes! I can confirm - fixed and everything back working.</p>
<p>Tested from +1000 to -1000</p>
<p>&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19690"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 23/03/2014 - 20:19.</div>
    <div class="content">
     <p>Can you see any other visualisation errors that would be good to fix while Im at it? I tried all the other widgets and they seemed to work ok. checked the realtime graphs working ok here I think.</p>
<p>I will tag the result of this as v8.0.3</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19691"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 20:48.</div>
    <div class="content">
     <p>Wouldn&#39;t it be nice to have the same number displayed in dials as in feedvalues? At the moment, feedvalues have maximum 1 decimal place (9.1W) whereas dial values have two decimal places (9.14W). This is not a big deal, but it is also not difficult to correct.</p>
<p>And the behavior of feedvalues is also not consistent. Values &gt;100W are shown without decimal places (105W), values &lt;-100W with one decimal place (-105.2W).</p>
<p>Same for bar values. Again a different behaviour. All values below 10 are shown with two decimal places (also -120.45W).</p>
<p>Why not use the same code for all?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19692"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 20:48.</div>
    <div class="content">
     <p>J&ouml;rg, my preference would be to have the same number displayed in feedvalues as dials!</p>
<p>&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19693"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 21:13.</div>
    <div class="content">
     <p><em>J&ouml;rg, my preference would be to have the same number displayed in feedvalues as dials!</em></p>
<p>... and in bar values, too!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19695"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 21:03.</div>
    <div class="content">
     <p>I would use this everywhere:</p>
<p>if (isNaN(rawValue)) rawValue = 0;</p>
<p>if (rawValue&gt;=100)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(0);<br />
	else if (rawValue&gt;=10)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(1);<br />
	else if (rawValue&lt;=-100)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(0);<br />
	else if (rawValue&lt;=-10)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(1);<br />
	else<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(2);</p>
<p>&nbsp;</p>
<p>Gives&nbsp;&nbsp;&nbsp; -102W, -99.5W, -0.01W, 0.00W, 0,01W, 99.5W, 102W.</p>
<p>&nbsp;</p>
<p>Or:</p>
<p>if (isNaN(rawValue))&nbsp; rawValue = 0;</p>
<p><strong>else </strong>if (rawValue&gt;=100)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(0);<br />
	else if (rawValue&gt;=10)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(1);<br />
	else if (rawValue&lt;=-100)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(0);<br />
	else if (rawValue&lt;=-10)<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(1);<br />
	else<br />
	&nbsp;&nbsp;&nbsp; rawValue = rawValue.toFixed(2);</p>
<p>Which gives&nbsp;&nbsp; -102W, -99.5W, -0.01W, <strong>0W</strong>, 0,01W, 99.5W, 102W.</p>
<p>And which I like even better.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19701"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 23/03/2014 - 21:36.</div>
    <div class="content">
     <p>Ok great, Il add that in</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19703"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 21:58.</div>
    <div class="content">
     <p><em>checked the realtime graphs working ok here I think.</em></p>
<p>After updating the realtime.php it works for me, too. Must have missed that somehow.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19704"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 22:06.</div>
    <div class="content">
     <p>Everything working here too, thanks for your efforts today Trystan.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19708"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 22:32.</div>
    <div class="content">
     <p>Paul, Trystan, It is a bit off-topic here, but we have already spoken about it ... so:</p>
<p>I still have a problem with realtime graphs and the &#39;1 min&#39; window. In Firefox and Chrome I see no data and I get an error in the console that the datalength is not defined (datalength is 0 and the code wants to access data[datalength-1]).</p>
<p>Do you see the same thing?</p>
<p>I can solve this if i change line 40 in realtime.php from:</p>
<p>&lt;button class=&quot;viewWindow&quot; time=&quot;0.01&quot;&gt;1 &lt;?php echo _(&#39;min&#39;) ?&gt;&lt;/button&gt;</p>
<p>to</p>
<p>&lt;button class=&quot;viewWindow&quot; time=&quot;0.017&quot;&gt;1 &lt;?php echo _(&#39;min&#39;) ?&gt;&lt;/button&gt;</p>
<p>Trystan, is this ok? 1 minute is 0.016666 * 1 hour.</p>
<p>&nbsp;</p>
<p>And yes, Trystan, thank you very much for all your efforts!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19710"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 22:56.</div>
    <div class="content">
     <p>Seems to work OK for me, Chrome browser&nbsp;Version 33.0.1750.154 &nbsp;&amp; Firefox v26.0</p>
<p>&nbsp;</p>
<p>Paul</p>
<p>&nbsp;</p>
<p><img alt="" src="../sites/default/files/Emoncms%20(2)_1.png" style="width: 700px; height: 328px;" /></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19711"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 23:40.</div>
    <div class="content">
     <p>I am using exactly the same Version 33.0.1750.154 m (and Firefox 28.0). Hmmm......</p>
<p>Your feed seems to get a new value every 4 to 5 seconds, my feed gets a new value every 10 seconds. Does this make a difference?</p>
<p>Ok, and your &#39;window&#39; width is not 1 min but only ~35-40s. This would get fixed by my small change above.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19713"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 23/03/2014 - 23:26.</div>
    <div class="content">
     <p><em>Your feed seems to get a new value every 4 to 5 seconds, my feed gets a new value every 10 seconds. Does this make a difference?</em></p>
<p>No, mine also works fine on a temperature sensor that updates every 20 seconds too.</p>
<p>But yes, it should display 60 seconds of data, but as the screenshot shows - it doesn&#39;t.<br />
	Why not make a pull-request via Github to make the change?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19714"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sun, 23/03/2014 - 23:51.</div>
    <div class="content">
     <p>&Auml;hem, I am not used to Github, pull requests and the like ...</p>
<p>I think the changes to do are quite clear:</p>
<p>lines 39 and 40 should be changed to:</p>
<p>&lt;button class=&quot;viewWindow&quot; time=&quot;<strong>0.083333</strong>&quot;&gt;5 &lt;?php echo _(&#39;min&#39;) ?&gt;&lt;/button&gt;<br />
	&lt;button class=&quot;viewWindow&quot; time=&quot;<strong>0.01666</strong>&quot;&gt;1 &lt;?php echo _(&#39;min&#39;) ?&gt;&lt;/button&gt;</p>
<p>The &#39;default&#39; should be&nbsp; a &#39;5 min&#39; window (agreed ? At the moment it is 6 minutes), so line 53 should be changed to:</p>
<p>var timeWindow = (3600000*<strong>0.083333</strong>);&nbsp;&nbsp; //Initial time window</p>
<p>&nbsp;</p>
<p>Can you do this, please? Or Trystan?</p>
<p>&nbsp;</p>
<p>EDIT: I think I understand where the problem lies in my realtime graphs. The database and Emoncms is running on my server and I am using Chrome or Firefox on another computer. If there is a system time difference between the two computers, then there is a chance that the web server is requesting data from the server for a time window that lies completely in the future. And then it will get no data at all. Is this feasible? I found this by &#39;adjusting&#39; the system time on the server. Is this something that has to be solved?&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19727"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 24/03/2014 - 09:29.</div>
    <div class="content">
     <p>I&#39;ve added your code in Jorg with the (val*1) and tested, also corrected the realtime time window values.</p>
<p>Yes I think your right about the server vs system time issue for the realtime graph. Not sure how to fix it, maybe the browser needs to get the server time and calculate an offset.</p>
<p>By bar values do you mean the bar graph statistics?</p>
<p>At the moment the following rule&#39;s apply:</p>
<p>if ((item.datapoint[1]) &lt; 1)<br />
	{<br />
	&nbsp; $(&quot;#stats&quot;).html(((item.datapoint[1]) * 1000 ).toFixed(1)+&quot;Wh | &quot;+mdate.format(&quot;ddd, mmm dS, yyyy&quot;));<br />
	}<br />
	else<br />
	{<br />
	&nbsp; $(&quot;#stats&quot;).html((item.datapoint[1]).toFixed(2)+&quot;kWh | &quot;+mdate.format(&quot;ddd, mmm dS, yyyy&quot;));<br />
	}</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19735"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Mon, 24/03/2014 - 10:32.</div>
    <div class="content">
     <p>Trystan,</p>
<p>why is the (val*1) necessary?&nbsp; Is it for some browsers? After checking that val is not NaN, it should not be necessary to convert it to a number explicitly.</p>
<p>With bar values I mean the bar widget. It also shows a numerical value similar to dial and feedvalue. Code is in bar_render.js.</p>
<p>BR, J&ouml;rg.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19749"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 24/03/2014 - 13:26.</div>
    <div class="content">
     <p>Yes, strange behavior, see the post Sun, 23/03/2014 - 20:54 above, it was this that caused a lot of the problem yesterday, (val*1) seemed to fix it, I dont remember this being a problem before though..</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19750"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Mon, 24/03/2014 - 13:45.</div>
    <div class="content">
     <p>Yes, but at that time your code was just wrong (sorry to say that).</p>
<p>If you do the decision without else clauses, then rawValue is evaluated several times.&nbsp;</p>
<p>if (isNaN(rawValue)) rawValue = 0;<br />
	&nbsp; if (rawValue&gt;=10) rawValue = rawValue.toFixed(1);<br />
	&nbsp; if (rawValue&gt;=100) rawValue = parseInt(rawValue);<br />
	&nbsp; if (rawValue&lt;10) rawValue = rawValue.toFixed(2);<br />
	&nbsp; if (rawValue&lt;=-10) rawValue = rawValue.toFixed(1);<br />
	&nbsp; if (rawValue&lt;=-100) rawValue = parseInt(rawValue);</p>
<p>Take -120W as an example.</p>
<p>Then if(rawValue&lt;10) is already true and rawvalue is converted to a string (by the .tofixed() method).</p>
<p>Then the next evaluation is also true (if(rawValue&lt;-10) and .tofixed() is applied to a string, which is not allowed.</p>
<p>(and then, the next comparison is again true and the calculation is done a third time. This is why I said that the construction with else would be more efficient).</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19751"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SORTED -v8.0.2 - Dial Widget showing NaNW</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 24/03/2014 - 13:53.</div>
    <div class="content">
     <p>ah thats it! of course toFixed converts it to a string! that makes sense now.</p>
<p>cool, will remove the (val*1)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/4078"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-BWrFCF_fXBDhYHCjA33YuQQw_PoWHZhR90Glf9FBG2E" value="form-BWrFCF_fXBDhYHCjA33YuQQw_PoWHZhR90Glf9FBG2E"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
