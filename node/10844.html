<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10844 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:59:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Removing suspected noise from CT | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Removing suspected noise from CT</h3>
        <span class="submitted">Submitted by <a href="../user/8286.html" title="View user profile.">wheelbarrowhandle</a> on Fri, 12/06/2015 - 12:23</span>
        <div class="content"><p>Hi Guys,</p>
<p>I have an anomaly where by a circuit&nbsp;which is connected to an Immersun&nbsp;PV Diverter which is in turn connected to the immersion heater, show a small negative watts when the unit is not diverting power.&nbsp;</p>
<p>I have added the &quot;Allow Positive&quot; to the node and it seems to work such that it only reports + numbers.</p>
<p>However i use the - input process on a different node to remove the diverted figure from the power1+power2&nbsp;figure to give me a &quot;true&quot; house reading and it is here where the small negative&nbsp;still has an effect.</p>
<p>Is there a way to use the after processing figure in a feed to create the figure i require.</p>
<p>I have added a simple sreen shot of figures. The &quot;House inc IMM&quot; should be the same as &quot;House&quot; As Immersun is 0</p>
<p>Keep up the great work.</p>
<p>Regards</p>
<p>Paul</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="6333.html" class="topic-previous" title="Go to previous forum topic">‹ Checking the operation of my Mk2 Diverter</a>
              <a href="1418.html" class="topic-next" title="Go to next forum topic">SOLVED: CurrentCost Monitor feed to EmonCMS ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-31238"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Removing suspected noise from CT</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 12/06/2015 - 14:35.</div>
    <div class="content">
     <p>Hi Paul</p>
<p>If you suspect it is noise or just prefer not to see it you can remove or hide it by adjusting the value by a chosen amount (4w) or threshold (5w) before doing the &quot;allow positive&quot; and then adjusting back again by the same amount&nbsp;effectively making a &quot;allow values over 4w&quot;&nbsp;</p>
<p>However the probability is the reading is accurate&nbsp;and the 4w is the draw of the immersun unit itself, since you cannot differentiate between the control circuits consumption and the power it is controlling you could also consider using just a plain +4w on house and -4w on diversion as it is always present 24/7.</p>
<p>Post your processing lists if you need any pointers. or if the math doesn&#39;t stack up as, it maybe the difference is only 2w but adding rather subtracting or vice versa is doubling the difference (if that makes any sense) it&#39;s difficult to tell from the info given</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31239"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8286.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="wheelbarrowhandle&#039;s picture" title="wheelbarrowhandle&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Removing suspected noise from CT</h3>

    <div class="submitted">Submitted by <a href="../user/8286.html" title="View user profile.">wheelbarrowhandle</a> on Fri, 12/06/2015 - 14:57.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>Thanks for taking the time to respond. The problem is that, A) the figure isn&#39;t a constant. and B) it cant be the immersun box as the figure is negative. When the immersun box is working the figures are positive&nbsp;as i would expect.</p>
<p>Here is the processing lists</p>
<p>
emonTx_1/rx/power4&nbsp;config&nbsp;- CT4 around the live wire going to the immersun box.</p>
<p>1 Allow positive<br />
2 Log to feed Immersun (feedvalue:2352.00)<br />
3 Power to kWh Immersun Kwh (feedvalue:4.93)</p>
<p>Then from EmonPI=i</p>
<p>emonPi/rx/power1_plus_power2&nbsp;config</p>
<p>
1 Log to feed House Immersun (feedvalue:2683.00)<br />
2 Power to kWh House Immersun Kwh (feedvalue:132.91)<br />
3 - input emonTx_1/tx/power4 2352<br />
4 Allow positive<br />
5 Power to kWh House Kwh (feedvalue:3.90)<br />
6 Log to feed House (feedvalue:331.00)</p>
<p>As you can see the CT4 around the live lead is +2352 which is fine. It when it off it goes negative. which is cant be as it would still be drawing some power to power it&#39;s self.</p>
<p>Regards</p>
<p>Paul</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31242"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Removing suspected noise from CT</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 12/06/2015 - 16:29.</div>
    <div class="content">
     <p>Ahh ok, i didn&#39;t grasp the &quot;anomaly&quot; was switching direction as I expected the allow positive to remove it, which it does, but then you are using the unprocessed input again rather than the processed result hence your opening question, which now makes perfect sense since the penny has dropped.</p>
<p>Yes you can! -feed is what you need to use rather than -input then select the &quot;Immersun&quot; feed.</p>
<p>Paul</p>
<p>EDIT - Scrap that! the +,-,x,/ feeds didn&#39;t appear to make it into the emonPi&nbsp;version of emoncms. Sorry I hadn&#39;t realized that until I just checked.</p>
<p>EDIT 2 - Figured out why they are not there despite being&nbsp;in v8.5, it&#39;s because of the new &#39;node&#39; input rather than the original input, the &#39;implemented&#39; processes are all repeated in the node module but are not all present.&nbsp;Hopefully the +-x/ feeds will make it into future versions as they are without a doubt far more powerful than the&nbsp;+-x/ inputs and more robust too.</p>
<p>Maybe some calibration might help?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31256"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7997.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sheppy&#039;s picture" title="sheppy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Removing suspected noise from CT</h3>

    <div class="submitted">Submitted by <a href="../user/7997.html" title="View user profile.">sheppy</a> on Fri, 12/06/2015 - 23:26.</div>
    <div class="content">
     <p>I have a similar problem, what I do is use the worse affected input and then add the whole house calculation on top of it. In my case its the solar input and it reads:</p>
<p>Calibration plus (-38)</p>
<p>Calibration multiply (0.92) - I need this to make the calibrated EMONTX agree with the Renesola Monitor</p>
<p>Allow Positive</p>
<p>Log to Feed (Solar_Power)</p>
<p>Plus Input (Grid)</p>
<p>Log to Feed (house_power)</p>
<p>Minus Input (HWC Divert)</p>
<p>Minus Input (Spa Divert)</p>
<p>Calibration Plus (1)</p>
<p>Log to Feed (standby power)</p>
<p>I then use house_power in the solar graphing&nbsp;app and standby power in my dashboard. The last calibration plus 1 is to get around a fairly constant leakage which moves between each of the diverter circuits. This gives me a graph of solar overlaid with grid on the solar app and a dashboard I can quickly check as I leave for things left on.</p>
<p>It will get developed further once I solve the how to get the fridge and PVR PC usage into EMONCMS from my current cost individual appliance monitor question.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10844"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-abIiltcEzzwaLJ3qH7ZN7eV471s3JwEtc32s_TTfAP0" value="form-abIiltcEzzwaLJ3qH7ZN7eV471s3JwEtc32s_TTfAP0"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
