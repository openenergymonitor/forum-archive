<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5503 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:40:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Help - emonGLCD not starting up | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Help - emonGLCD not starting up</h3>
        <span class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Sun, 03/08/2014 - 07:27</span>
        <div class="content"><p>I&#39;ve just completed a build of the GLCD kit. Followed instructions to the letter. ( Thanks to Ian for the excellent write up )</p>
<p>The test sketch works 100%. Everything, incl LEDs, Temp display, LDR and switches function as they should.</p>
<p>However the emonGLCD Home Energy Monitor example does not. It compiles and uploads, then zip. Once ( out of about 100 reboots ), it did display the correct image, but the data wasn&#39;t live. i.e Temp did not rise when I held the sensor and W was on 0</p>
<p>I&#39;ve gone back to tester a couple of times to make sure nothing has broken or blown and its 100%. I&#39;ve tried to program the chip by placing it in an Arduino ( I used to program them like that before I got the programmer ), but result is the same. I&#39;ve also tried different chips.</p>
<p>The only clue I get to something that may be wrong is that the Arduino software displays the line &quot;Low memory available, stability problems may occur&quot; when its finished its upload.</p>
<p>Any assistance would be greatly appreciated.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="6100.html" class="topic-previous" title="Go to previous forum topic">‹ Newbie Question....</a>
              <a href="6104.html" class="topic-next" title="Go to next forum topic">Recommendation of code contribution ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-22865"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6159.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Lionel&#039;s picture" title="Lionel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Sun, 03/08/2014 - 07:40.</div>
    <div class="content">
     <p>Just as an update. I&#39;ve also tried HomeEnergyMonitor_Old example sketch with the same results. i.e No display or any clue that its running.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22868"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 03/08/2014 - 12:28.</div>
    <div class="content">
     <p>Which versions of which libraries are you using? Memory in the GLCD is extremely tight and we recently had problems with the NanodeRF where the Ethercard library had grown over time with various revisions and added &quot;features&quot; and that expansion caused the sketch to fail. I know you&#39;re not using that library but I suspect a very similar problem.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22873"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6159.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Lionel&#039;s picture" title="Lionel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Sun, 03/08/2014 - 14:19.</div>
    <div class="content">
     <p>Hi Robert,</p>
<p>As far as I know, its the latest of everything off&nbsp; the hub. The only one I wasn&#39;t sure of is the link for the Dallas Temp device which points here. <a href="http://download.milesburton.com/Arduino/MaximTemperature/" title="http://download.milesburton.com/Arduino/MaximTemperature/">http://download.milesburton.com/Arduino/MaximTemperature/</a></p>
<p>I wasn&#39;t sure which one to download, so I got it from here instead. <a href="http://milesburton.com/Main_Page?title=Dallas_Temperature_Control_Library" title="http://milesburton.com/Main_Page?title=Dallas_Temperature_Control_Library">http://milesburton.com/Main_Page?title=Dallas_Temperature_Control_Library</a></p>
<p>What you are saying makes sense because I don&#39;t get the warning when loading the tester and that works. Do you think this is simply a case of digging around until I can find the smaller previous versions of the library items ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22877"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/08/2014 - 00:50.</div>
    <div class="content">
     <p>OK, I&#39;ll throw the libraries I&#39;m using into a zip file for you - not now but it will be within 24 hrs.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22878"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6159.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Lionel&#039;s picture" title="Lionel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Mon, 04/08/2014 - 05:14.</div>
    <div class="content">
     <p>Thanks Robert.</p>
<p>Just one Noob question as well. Does it matter if I have other drivers ( libraries ) in the library folder ?&nbsp;</p>
<p>I see I have more than just the 5 required libraries. e.g. GSM, Audio, etc</p>
<p>Does the sketch only load the ones it needs ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22882"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/08/2014 - 10:48.</div>
    <div class="content">
     <p><em>Does it matter if I have other drivers ( libraries ) in the library folder ?</em>&nbsp; No</p>
<p><em>Does the sketch only load the ones it needs ?</em> Yes, <strong>BUT</strong> it seems to ignore folder names. So you cannot rename a directory to (say) jeelib.latest and expect it to be ignored - which any half-decent system would do. If you want to keep the newer libraries, you must zip them and <strong><em>delete</em></strong> the original version.</p>
<p>I don&#39;t promise this will get you going, but it is worth a try. Let me know how you get on. It&#39;s possible to slim down the GLCD sketch if this does not work.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22883"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6159.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Lionel&#039;s picture" title="Lionel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Mon, 04/08/2014 - 11:27.</div>
    <div class="content">
     <p>Hi Robert</p>
<p>I removed all my libraries and replaced with yours.</p>
<p>I now get this bunch of errors when I try to compile</p>
<p>Arduino: 1.5.6-r2 (Windows 8), Board: &quot;Arduino Uno&quot;</p>
<p>C:\Users\Lionel\Documents\Arduino\Sketchbook\libraries\OneWire\x.cpp:252: error: prototype for &#39;void OneWire::select(uint8_t*)&#39; does not match any in class &#39;OneWire&#39;<br />
	C:\Users\Lionel\Documents\Arduino\Sketchbook\libraries\OneWire\/OneWire.h:135: error: candidate is: void OneWire::select(const uint8_t*)<br />
	C:\Users\Lionel\Documents\Arduino\Sketchbook\libraries\OneWire\x.cpp:464: error: prototype for &#39;uint8_t OneWire::crc8(uint8_t*, uint8_t)&#39; does not match any in class &#39;OneWire&#39;<br />
	C:\Users\Lionel\Documents\Arduino\Sketchbook\libraries\OneWire\/OneWire.h:187: error: candidate is: static uint8_t OneWire::crc8(const uint8_t*, uint8_t)<br />
	C:\Users\Lionel\Documents\Arduino\Sketchbook\libraries\OneWire\x.cpp:496: error: prototype for &#39;bool OneWire::check_crc16(uint8_t*, uint16_t, uint8_t*)&#39; does not match any in class &#39;OneWire&#39;<br />
	C:\Users\Lionel\Documents\Arduino\Sketchbook\libraries\OneWire\/OneWire.h:210: error: candidate is: static bool OneWire::check_crc16(const uint8_t*, uint16_t, const uint8_t*, uint16_t)<br />
	C:\Users\Lionel\Documents\Arduino\Sketchbook\libraries\OneWire\x.cpp:502: error: prototype for &#39;uint16_t OneWire::crc16(uint8_t*, uint16_t)&#39; does not match any in class &#39;OneWire&#39;<br />
	C:\Users\Lionel\Documents\Arduino\Sketchbook\libraries\OneWire\/OneWire.h:224: error: candidate is: static uint16_t OneWire::crc16(const uint8_t*, uint16_t, uint16_t)</p>
<p>&nbsp; This report would have more information with<br />
	&nbsp; &quot;Show verbose output during compilation&quot;<br />
	&nbsp; enabled in File &gt; Preferences.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22884"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/08/2014 - 11:38.</div>
    <div class="content">
     <p>There&#39;s obviously something changed in the OneWire library then! Until I check through the libraries, I don&#39;t immediately know what the problem is. The first step is to change just that library back to your &quot;latest&quot; version.</p>
<p>Later, I&#39;ll get the current versions and see how I get on with the HEM sketch.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22885"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6159.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Lionel&#039;s picture" title="Lionel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Mon, 04/08/2014 - 12:35.</div>
    <div class="content">
     <p>Hi. The only way I can get it to compile is to use my OneWire library with everything else from your Zip file. ( The results are the same - No sign of life )&nbsp;</p>
<p>The OneWire Library I used came from this site: <a href="http://www.pjrc.com/teensy/td_libs_OneWire.html" title="http://www.pjrc.com/teensy/td_libs_OneWire.html">http://www.pjrc.com/teensy/td_libs_OneWire.html</a></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22888"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/08/2014 - 14:30.</div>
    <div class="content">
     <p>Ahem....&nbsp; I&#39;d obviously renamed the files inside my OneWire library to disable it, and forgotten to change them back. X.h and X.cpp need to be renamed to OneWire.h and OneWire.cpp&nbsp; (and remember to completely shut down the Arduino IDE and restart it). With that done, the current &quot;HomeEnergyMonitor.ino&quot; compiled for me and appears to run OK (It says 0w and 24&deg;C - the 0w is not surprising as I haven&#39;t got an emonTx running.)</p>
<p>Sorry about that foul-up. I&#39;ll carry on and get the latest libraries and see if I can track down the problem.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22889"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6159.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Lionel&#039;s picture" title="Lionel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Mon, 04/08/2014 - 15:42.</div>
    <div class="content">
     <p>Hi</p>
<p>Did the rename, deleted my directory, copied yours, shut down the IDE and restarted.</p>
<p>No errors on compiling other than Low Memory warning.</p>
<p>But the display is still the same. Dead as a Dodo.</p>
<p>If the test sketch didn&#39;t work I&#39;d be checking my work, but it does everything it should.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22890"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/08/2014 - 16:10.</div>
    <div class="content">
     <p>That the test sketch loads (and works) is a good indication that your construction skills pass! Unfortunately, as you can&#39;t run it with my libraries, I&#39;m a bit puzzled. My build reports &quot;Binary sketch size: 27,260 bytes (of a 32,256 byte maximum)&quot;&nbsp; with no warnings (other than the expected unused variables etc). What numbers do you see? I&#39;m using Arduino IDE V1.0.5 under Ubuntu Linux, not that it should make any difference except that the standard Arduino libraries might have grown bigger too.</p>
<p>[Edit] Under Windoze 8.1, Arduino IDE V1.0.5-r2, I can can still load and run it, sketch size is now 27,240 bytes (? ! ! !)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22892"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/08/2014 - 19:05.</div>
    <div class="content">
     <p>As you don&#39;t need the Beta 1.5.6 version for the Atmel 328P in the emonGLCD, is it worth dropping back to the 1.0.5 release? All the indications are that it should work.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22893"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6159.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Lionel&#039;s picture" title="Lionel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Mon, 04/08/2014 - 19:09.</div>
    <div class="content">
     <p>Hi</p>
<p>I will try that now.</p>
<p>The text below is what appears in the black box of the IDE.</p>
<p>Sketch uses 24,722 bytes (76%) of program storage space. Maximum is 32,256 bytes.<br />
	Global variables use 1,643 bytes (80%) of dynamic memory, leaving 405 bytes for local variables. Maximum is 2,048 bytes.<br />
	Low memory available, stability problems may occur</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22894"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6159.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Lionel&#039;s picture" title="Lionel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Mon, 04/08/2014 - 19:38.</div>
    <div class="content">
     <p>Hi</p>
<p>Removed the latest IDE and installed 1.0.5</p>
<p>I now only get this in the black box</p>
<p>Binary sketch size: 24,700 bytes (of a 32,256 byte maximum)</p>
<p>&nbsp;</p>
<p>I&#39;ve just noticed that you report 27,240 bytes under Win 8.1&nbsp; Why would mine be smaller ?</p>
<p>Maybe we have been chasing a red herring and I&#39;m missing something rather than being over size.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22896"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 05/08/2014 - 00:14.</div>
    <div class="content">
     <p><em>I now only get this in the black box<br />
	&nbsp; Binary sketch size: 24,700 bytes (of a 32,256 byte maximum)</em>&nbsp; That is all you expect to see.</p>
<p>I get 24,700 bytes now - yours was smaller because I&#39;d got the templates.ino file that has the PV and DHW pages in it (same name, different file - Aargh!). But that makes it even more puzzling as my larger file ran quite happily.</p>
<p>Do you still have no display? Or is it no backlight? - The clock starts at midnight and is set by a radio message. The sketch turns the backlight off between 10 pm and 5 am, so you won&#39;t see a backlight for 5 hours unless you set the clock by a radio message from a base/server, although it will flash briefly as the sketch starts.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22897"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 05/08/2014 - 00:28.</div>
    <div class="content">
     <p>If still no joy, in the main sketch comment out:</p>
<p class="rteindent1">rf12_initialize(MYNODE, RF_freq,group);</p>
<p>and</p>
<p class="rteindent1">if (rf12_recvDone())<br />
	{<br />
	&nbsp; ...&nbsp; and the whole of the conditional block it controls<br />
	}</p>
<p>and right at the end</p>
<p class="rteindent1">rf12_sendNow(0, &amp;emonglcd, sizeof emonglcd);&nbsp;<br />
	rf12_sendWait(2);</p>
<p>If the display works now, you might have a soldering fault on the RFM12B module or the module itself may be faulty.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22901"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6159.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Lionel&#039;s picture" title="Lionel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/6159.html" title="View user profile.">Lionel</a> on Tue, 05/08/2014 - 06:22.</div>
    <div class="content">
     <p>Sir, you are an Officer and a Gentleman. You may take the rest of the week off.</p>
<p>As soon as I commented out the initialize the wireless bit, the display started working.</p>
<p>I found the solder pad next to the antennae pad had cracked horizontally breaking the correction. A quick re solder of all the wireless module pads and its working like a charm.</p>
<p>My day job requires me to be logical and methodical, but it made no sense that the test script worked, but the real one didn&#39;t. Until now of course when you realize that the test script doesn&#39;t have any wireless code.</p>
<p>Thanks for sticking with me.</p>
<p>All the best</p>
<p>Lionel</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22905"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 05/08/2014 - 11:21.</div>
    <div class="content">
     <p><em>&quot;Sir, you are an Officer and a Gentleman.&quot; </em>Thank you! You could have added &quot;persistent&quot;. I was thinking I need to figure out a way to test the RFM12B without everything hanging inexplicably, and then sell the idea to Trystan &amp; Glyn.</p>
<p><em>&quot;You may take the rest of the week off.</em>&quot; No chance of that, I fear.</p>
<p>&quot;<em><em>My day job requires me to be logical and methodical&quot;&nbsp; </em></em>Mine used to, and this (almost full time) one still does!</p>
<p>I&#39;ve just checked - that pad was only the 3.3 V supply to the module - which explains a lot.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25086"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7148.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bavitalsign&#039;s picture" title="bavitalsign&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/7148.html" title="View user profile.">bavitalsign</a> on Wed, 12/11/2014 - 10:34.</div>
    <div class="content">
     <p>Hello. I am having a similar problem&nbsp;</p>
<p>I have soldered two GLCDs&nbsp;3 weeks ago. One worked fine for some time as I used &quot;Tester&quot;, &quot;Template&quot; and Energy Monitoring&nbsp;examples and they all showed proper display. But all of a sudden it just stopped working. I didn&#39;t use it for a week or so and afterwards it again started working for a few hours.</p>
<p>The other one only worked when powered with the programmer (USB to serial UART) and not with the usb.&nbsp;Im not sure what is the exact problem.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25089"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 12/11/2014 - 13:29.</div>
    <div class="content">
     <p>Taking the second one first, that's clearly pointing towards a problem with either your USB power supply, your USB lead, the USB connector, or the PCB tracks between that and the point where the FTDI connector joins up. First check your power supply and lead. Then, with the GLCD powered off, you need to use a multimeter to check that you have continuity between the USB GND and all the places marked 0 V, GND, PWR- etc  and similarly between the USB 5 V and all the places marked PWR, PWR+.</p>
<p>The first one sounds as if it could be a temperature problem. What stops working, the display, the LEDs, the backlight, the radio, or everything? Have you checked voltages when it works and when it fails? and is anything getting hot?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25093"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7148.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bavitalsign&#039;s picture" title="bavitalsign&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/7148.html" title="View user profile.">bavitalsign</a> on Wed, 12/11/2014 - 15:31.</div>
    <div class="content">
     <p>For the first one: When for example &nbsp;I use the tester example the LEDs are blinking and the backlight is turned but no display. I am not sure about hte radio.</p>
<p>For the second one: The power cable seems fine as it worked for the first one. LEDs and backlight working as well.&nbsp;Here are the voltages</p>
<p>(W.R.T USB Ground)</p>
<p>GND=0</p>
<p>PWR += 32 mA but reducing</p>
<p>PWR -= 0</p>
<p>(W.R.T USB 5V)</p>
<p>GND= 31</p>
<p>PWR&nbsp;- = 31&nbsp;mA</p>
<p>PWR += 0</p>
<p>It is reducing slowly to zero.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25097"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 12/11/2014 - 15:56.</div>
    <div class="content">
     <p>There is no need to post 4 times. I read the first one and deleted the rest, as they contribute nothing. But it does not help. I asked about voltages and temperatures. 31 mA is about right. </p>
<p>Have you switched your first and second units? Now you have me confused. Which is showing which set of symptoms? Have you looked at the circuit diagram and layout on the Wiki? </p>
<p>The unit that worked with the FTDI programmer and not with the USB supply: The 0 V and 5 V connections are common to both, so the fault has to be either the USB socket or the soldering or the PCB track. A continuity test should reveal it.</p>
<p>The unit that worked for a short time: Are the voltage multiplier electrolytic capacitors all the right way round (C8 - C12)? Check the PCB version against the notes in the construction guide, because there was a layout error in one version that has been corrected.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25098"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7148.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bavitalsign&#039;s picture" title="bavitalsign&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/7148.html" title="View user profile.">bavitalsign</a> on Wed, 12/11/2014 - 16:43.</div>
    <div class="content">
     <p>Ok to make it easy. LCD-A worked for a some time and LED-B only worked with programmer. I am using Version 1.5 GLCD.&nbsp;</p>
<p>​For A:</p>
<p>When for example &nbsp;I use the tester example the LEDs are blinking and the backlight is turned but no display. I am not sure about hte radio. I guess you are referring to electrolytic capacitors C13&nbsp;and&nbsp;C14 but they are corrected in the V 1.5 for may be it is not the problem.</p>
<p>For B:</p>
<p>The voltage voltage is still decreasing and it is now 27 (and still decreasing). I will try to resolder the port and see what happens.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25099"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7148.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bavitalsign&#039;s picture" title="bavitalsign&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/7148.html" title="View user profile.">bavitalsign</a> on Wed, 12/11/2014 - 17:56.</div>
    <div class="content">
     <p>For GLCD A following are the voltages across LCD pins. I am running &quot;tester&quot; from the energy monitoring example lib.</p>
<p>1= 0.57v &nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>2= 0.46v&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
3= 0.47v&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br />
4= 0.53v&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<br />
5= 0.51v&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />
6= 0 v&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br />
7= 1.26v&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />
8= 1.48v&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<br />
9= 1.72v&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<br />
10= 1.43v&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<br />
11= 1.56v&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<br />
12= 0.71v&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />
13= 0v&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br />
14= 3.29v&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;<br />
15= 3.29v&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />
16= 0.01 to 0.04v (Fluctuating)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br />
17= 0.01 to 0.03v&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br />
18= 3.27 to 3.28v&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />
19= 3.27 to 3.28v&nbsp;&nbsp;</p>
<p>20= 0v &nbsp;</p>
<p>These are a little different from&nbsp;http://openenergymonitor.org/emon/node/333.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25100"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 12/11/2014 - 19:48.</div>
    <div class="content">
     <p>GLCD A:<br />
The voltages on pins 1-5 and 10-12 are an obvious concern. These are all part of the step-up circuit and voltage regulator for the LCD and clearly all need to be a lot higher for proper operation. The regulated 3.3 V supply looks OK, so I have to suspect those electrolytics C13-16 and possibly, though less likely, the disc ceramics C8-12. I'd also suggest you carefully examine the PCB for manufacturing defects - a broken track or a whisker of copper (or of solder) though it's going to be very hard to see anything on the display side of the PCB now it's assembled.  </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25104"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7148.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bavitalsign&#039;s picture" title="bavitalsign&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/7148.html" title="View user profile.">bavitalsign</a> on Thu, 13/11/2014 - 11:09.</div>
    <div class="content">
     <p>Well Robert What to say. GLCD A has started to work again. I have just tried to clean the joints and although I could not see anything&nbsp;(like wisker of solder or something) but there must be something so&nbsp;it is working now. The voltages are now much greater on pins 1-5 and 10-12. I will keep it running for some time.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25106"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help - emonGLCD not starting up</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 13/11/2014 - 16:32.</div>
    <div class="content">
     <p>It might be that the GLCD has been damaged in transit, but in my experience something that works intermittently, and especially that works after it's been handled, points to a bad joint. It could be that you have a pin or a component lead that is tarnished and hasn't taken the the solder properly, or the bad joint just might be inside the component itself. I think the capacitors I mentioned, and the GLCD pins they connect to, is where you should be looking.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5503"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-faVdLiZOV_4GJ9BDbClUi6I1JtDJQbEthUiTcOiI_sU" value="form-faVdLiZOV_4GJ9BDbClUi6I1JtDJQbEthUiTcOiI_sU"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
