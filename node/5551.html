<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5551 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:33:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>pcDuino / arduino Due - 32 bit processors for energy monitoring and control | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">pcDuino / arduino Due - 32 bit processors for energy monitoring and control</h3>
        <span class="submitted">Submitted by <a href="../user/6787.html" title="View user profile.">bob teatow</a> on Wed, 13/08/2014 - 17:17</span>
        <div class="content"><p>Thanks for this site and all the hard work and contributions. &nbsp;I stumbled on it (well google) while looking for alternatives to the commercial TED and Brultech&nbsp;products. &nbsp;</p>
<p>Now my question. &nbsp;I noticed that your solution uses &nbsp;Arduino&nbsp;to bit bang/sample current and voltage, etc and then one typically feeds it to a linux box like a PiRaspberry to log (store) the data, serve the data, or otherwise analyze, present...</p>
<p>Good plan -- BUT -<strong> how about using one off-the-shelf little computer to do both?</strong></p>
<p><strong>The pcDuino&nbsp;seems a good bet.</strong> &nbsp;My question is whether I&#39;ll be able to poll the ADCs&nbsp;reliably and consistently enough. &nbsp;The preferred software for pcDuino is Linux - which I&#39;m very familiar with - except in the domain of using it for real-time monitoring. &nbsp;I would hope that since this will be a dedicated little box that will not usually be running heavy graphics - and won&#39;t be servicing interrupts except as needed to collect data and serve that data - I could get &quot;away&quot; with a simple polling program that sleeps between polls and periodically reads a real-time clock to synchronize itself.</p>
<p>Thoughts? Comments? &nbsp;Already BTDoneThat?</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5560.html" class="topic-previous" title="Go to previous forum topic">‹ Using Efergy CT Sensor with EmonTx V3</a>
              <a href="5555.html" class="topic-next" title="Go to next forum topic">EmonTx V2 ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-23034"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: pcDuino / arduino Due - 32 bit processors for energy monitoring and control</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 13/08/2014 - 19:21.</div>
    <div class="content">
     <p><em>&quot;My question is whether I&#39;ll be able to poll the ADCs reliably and consistently enough.</em>&quot; That&#39;s one good question, and it&#39;s pretty important that all the samples are regularly spaced in time, else the rms calculations will be wrong. The other question is how often can you sample all the inputs and convert the values to make them available to a program? Bear in mind there are only 4 inputs that are usable - the 6-bit channels don&#39;t really cut it when we struggle for resolution with the 10-bit Arduino inputs. We manage about 50 sample pairs per mains cycle with the Atmel 328P, which is enough to give good accuracy with all reasonably distorted/chopped current waveforms. Unless you can do at least 30, accuracy will suffer.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23093"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6787.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bob teatow&#039;s picture" title="bob teatow&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: pcDuino / arduino Due - 32 bit processors for energy monitoring and control</h3>

    <div class="submitted">Submitted by <a href="../user/6787.html" title="View user profile.">bob teatow</a> on Fri, 15/08/2014 - 16:05.</div>
    <div class="content">
     <p>Doing some more &quot;research&quot; via Google, Ebay, and Amazon -- and looking more at your great website -- seems to me like <strong>Arduino Due</strong> is the way I&#39;ll go. &nbsp;boredomProjects.net has already blazed the trail - so hardware-wise I&#39;ll just be following his lead. &nbsp;Professionally I work on a project that is hundreds of thousands of lines of C++ code, so comparatively the energy specific Arduino code for the energy meter is a small piece of cake - &nbsp;you guys have figured out a workable, practical way to do the signal processing on the raw sensor data - that&#39;s the part of the software that would have been difficult for me alone.</p>
<p>With 12 analogue inputs, each with 12 bits of precision and and a 32bit&nbsp;ARM processor, &nbsp;not to mention all the digital I/O, &nbsp;the Arduino Due might be viewed as &quot;overkill&quot; - but given that &nbsp;a Chinese source on ebay sells if for less than $20US - why not? &nbsp;I haven&#39;t used 16 bit micros since the early days of the IBM PC (1980s) - so why go backwards when the ARM board is so cheap?</p>
<p>Looks like I can just push data from the Arduino to a local linux host (e.g. Rasp.Pi) &nbsp;via a USB cable - and from there on I know how or can find/adapt software to save, serve and/or plot the data, etc, etc.</p>
<p><strong>Regarding &nbsp;serial output, I</strong> suggest you improve the OpenEnergyMonitor software so<strong> each EnergyMonitor object </strong>has a <strong>name </strong>or identity string field... &nbsp;So the serialprint() method can output that along with the readings. &nbsp;Should also<strong> output a timestamp</strong> with each round of polling the objects, or perhaps with each object reading &nbsp;Thus each output record is self identifying and a slightly smarter data logger and/or plotter can make sense of the data - and immediately display it in a meaningful way. &nbsp; Even better, output&nbsp;<strong>JSON</strong>&nbsp;or similar semi-standard format, so it&#39;s super-easy to parse the data stream. &nbsp;</p>
<p>(If you don&#39;t have true time of day clock onboard your Arduino collector, you can still tick off relative seconds and let the next stage collector adjust the relative time to an absolute UTC time)</p>
<p>In other words, come up with a standard way to tag the data with names and timestamps right at the Arduino collector - and then there less need to customize/configure the data collection software to do something sensible with the data.</p>
<p>&nbsp;Also, &nbsp;after you add sensors in the future, you can still look back and re-plot the old and new data together. &nbsp;For example, this year&#39;s HVAC energy consumption against last year&#39;s - even though you added some extra sensors this year. &nbsp;IOOW - think in terms of<strong> self describing, extensible database schemas</strong>.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5551"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-8TOeR9pINlrZkcxidk_FH3UrM1yXjOUUMCp8AjRERo4" value="form-8TOeR9pINlrZkcxidk_FH3UrM1yXjOUUMCp8AjRERo4"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
