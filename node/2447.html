<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2447 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:08:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>firmware for SCT-013-030 | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">firmware for SCT-013-030</h3>
        <span class="submitted">Submitted by Guest on Fri, 07/06/2013 - 02:16</span>
        <div class="content"><p>I am a fans of openenergymonitor from china. &nbsp;The current transformer &nbsp;i bought was SCT-013-030, which input is 0-30A and 1V for output.&nbsp;</p>
<p>i am now confuse how to write the code for this CT, because i can not use the library :(</p>
<p>Anybody can help me how to write the code for test?</p>
<p>Thanks in advance!</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12571.html" class="topic-previous" title="Go to previous forum topic">‹ 3 Phase Current measurement - negative values</a>
              <a href="10377.html" class="topic-next" title="Go to next forum topic">Which system can monitor enecsys inverters ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-12715"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 07/06/2013 - 13:30.</div>
    <div class="content">
     <p>Yes, you can use the library. The library works for any current transformer.</p>
<p>(1) You have a burden resistor inside the current transformer, so you must not use another one outside on the emonTx or on your plugboard or stripboard - the burden resistor is approximately 15 R or 18 R on the diagrams.</p>
<p>(2) You must change the current calibration in your sketch. Change &nbsp; ct1.currentTX(1, <strong>111.1</strong>);&nbsp; to &nbsp; ct1.currentTX(1, <strong>30</strong>); &nbsp;</p>
<p>See <a class="active" href="https://learn.openenergymonitor.org/?redirect=ct-and-ac-power-adaptor-installation-and-calibration-theory" title="CT and AC power adaptor installation and calibration theory">CT and AC power adaptor installation and calibration theory</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12892"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="komoya&#039;s picture" title="komoya&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by komoya (not verified) on Wed, 12/06/2013 - 08:13.</div>
    <div class="content">
     <p>Thank you very much, Robert Wall. I have finished assembly and test with the code as your guide, it works well.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13477"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mlemos&#039;s picture" title="mlemos&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by mlemos (not verified) on Sun, 07/07/2013 - 13:44.</div>
    <div class="content">
     <p>Hi, I&#39;m with a similar problem, but still didn&#39;t manage to handle and fully understand what is going on.</p>
<p>According to SCT-013-030 datasheet, it has:</p>
<p>- RMS Current: 30 A</p>
<p>- Internal burden resistor: &nbsp;62 R (ohms),</p>
<p>- No. of Turns: 1800</p>
<p>Then, all my calculations results on this:</p>
<p>Primary Peak Current = RMS Current x sort(2) = 30A x 1.414 = 42.42A</p>
<p>Secondary Peak Crurrent = Primary Peak Current / no. of turns = 42.42A / 1800 = 0.0235666A</p>
<p>Ideal burden resistance = (AREF/2) / Secondary peak-current = 2.5 V / 0.0235666A = 106.08 &Omega;</p>
<p>That&#39;s where I got confuse, the calculations results in an ideal burden resistance of 106.08 R. But the internal one is 62 R.</p>
<p>How should I proceed from here?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13480"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 07/07/2013 - 14:29.</div>
    <div class="content">
     <p>Because the 30 A c.t has an internal burden resistor, you don&#39;t need one on the emonTx/Arduino, so you don&#39;t need to calculate its value. From there on in, although your sums are correct, they are the wrong sums! You are calculating the burden resistance for 1.76 V ( = the rms value equivalent to 2.5 V peak) output, not for 1 V.</p>
<p>You must forget all about turns ratio, secondary current and burden resistor and short-cut the calculations because you know the c.t output is 1 V per 30 A (rms, peak or whatever, the ratio is the same), and it is a voltage that the analogue input uses.</p>
<p>(If you think about it, calculating turns ratio and the burden resistor is all about converting the primary current into a voltage.)</p>
<p>All you need to know is the calibration coefficient to use in your sketch is <strong>30</strong>. To see where it comes from, work through <a href="https://learn.openenergymonitor.org/?redirect=ct-and-ac-power-adaptor-installation-and-calibration-theory">CT and AC power adaptor installation and calibration theory </a>but be warned, it gets complicated.</p>
<p>You can adjust the calibration coefficient from that value as necessary to give accurate readings.</p>
<p>If you are worried, using the lower burden resistance (62 &Omega;) means that you are only using 1/1.76 = 57% of the available range of your Arduino. The sketch will still show the correct current though.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13490"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mlemos&#039;s picture" title="mlemos&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by mlemos (not verified) on Sun, 07/07/2013 - 19:29.</div>
    <div class="content">
     <p>Thanks for the explanation.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18521"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5501.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="FidelCastor&#039;s picture" title="FidelCastor&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/5501.html" title="View user profile.">FidelCastor</a> on Tue, 18/02/2014 - 21:49.</div>
    <div class="content">
     <p>Hi,</p>
<p>Before knowing this site i ordered 3 SCT-013-30 in the aim to try to do the same job !</p>
<p>Just after looking at this site i ordered a shield emonTx V2 for Arduino because ( i looked only at the picture) and i thinked that the TC preconised was the same as my previous order.</p>
<p>My question is :</p>
<p>Can i connect the TC to the shield without disconnecting one of the burden resistors ?</p>
<p>If i don&#39;t remove one of the two burden resistors the result is 1/Rburden shield + 1/Rburden tc = 1/R total burden</p>
<p>Isn&#39;t it ?</p>
<p>Is there a calibration coefficient suitable for this case or should i remove the CMS burden resistor located on the emonTx ?</p>
<p>&nbsp;</p>
<p>Thank you in advance for your reply and sorry for my english !</p>
<p>Gerard</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18527"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 18/02/2014 - 23:49.</div>
    <div class="content">
     <p>If you leave the burden resistor on the circuit board, you will have a maximum current of 130 A. At a maximum current of 30 A, you will use only about one quarter of the range of the analogue converter. This is bad, and not what you want. Therefore you must remove the burden resistor on the circuit board and use only the one inside the current transformer.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18542"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5501.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="FidelCastor&#039;s picture" title="FidelCastor&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/5501.html" title="View user profile.">FidelCastor</a> on Wed, 19/02/2014 - 13:54.</div>
    <div class="content">
     <p>Thank you Robert !</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18723"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Yernike&#039;s picture" title="Yernike&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by Yernike (not verified) on Mon, 24/02/2014 - 22:27.</div>
    <div class="content">
     <p>Hi!!</p>
<p>	I have one question... I have the&nbsp;SCT-013-030</p>
<p><u>According to SCT-013-030 datasheet, it has:</u></p>
<p>- RMS Current: 30 A</p>
<p>- Internal burden resistor:&nbsp; 62 R (ohms),</p>
<p>&nbsp;</p>
<p><u>The theoretical CT sensor calibration is:</u></p>
<p><strike>CT Ratio / Burden resistance = (30A / 0.05A) / 62 Ohms = <strong>9.67</strong></strike></p>
<p><strike>Then..&nbsp;the correct value would be <strong><u>9.67, not 30</u></strong> as written in the previous answers....</strike></p>
<p>The Yhdc SCT-013-030 gives 1 V at a rated current of 30 A, so for this transformer you have:<br />
	current constant = 30 &divide; 1 = 30</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18730"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 24/02/2014 - 20:15.</div>
    <div class="content">
     <p>Are you sure the ratio of the 30 A c.t. is 30 A : 50 mA? Why not read all of how the calibration coefficient is derived and read the data sheet again. Those should answer your questions. <a href="https://learn.openenergymonitor.org/?redirect=ct-and-ac-power-adaptor-installation-and-calibration-theory">CT and AC power adaptor installation and calibration theory</a> ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18737"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Yernike&#039;s picture" title="Yernike&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by Yernike (not verified) on Mon, 24/02/2014 - 22:15.</div>
    <div class="content">
     <p>Oks, thanks i had read and it is 30.</p>
<p>	Is it normal that the Irms&nbsp;have the value of 0.10 without any consumption? How I can calibrate it?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18738"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 24/02/2014 - 22:43.</div>
    <div class="content">
     <p>Are you using emonTx V2, V3 or Arduino?&nbsp; Usually, readings like that are due to either electrical noise from the digital circuits transferring in to the analogue to digital converter, or pickup on the input. The emonTx V3 seems to have a much improved performance in this respect, because the analogue and digital parts of the PCB are carefully separated.</p>
<p>However, your 100 mA does seem to be towards the high end of what we normally see, so there may be more than one source of error present.</p>
<p>That &quot;current&quot; can vary from board to board and input to input. There is much written in Building Blocks about this. If it is always 100 mA, you can subtract that constant value.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18741"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 24/02/2014 - 23:12.</div>
    <div class="content">
     <p><em>Is it normal that the Irms&nbsp;have the value of 0.10 without any consumption?</em></p>
<p>Yes, because any small amount of noise in the signal is squared within the RMS calculation, so the sign disappears.&nbsp; Everything adds, nothing subtracts.&nbsp; If real power is calculated by using both voltage and current samples, the result will be much more accurate, especially at low power levels.</p>
<p><em>How I can calibrate it?</em></p>
<p>At higher currents, the noise will be less apparent.&nbsp; But at small or zero currents, I don&#39;t think there&#39;s any easy way of removing this effect.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18774"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Yernike&#039;s picture" title="Yernike&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by Yernike (not verified) on Tue, 25/02/2014 - 19:16.</div>
    <div class="content">
     <p>i.m using Arduino...</p>
<p>if I connect a light bulb 10W consumption is 5W on the monitor and if connect a vacuum of 1600W the consumption is 1300W Are these normal values?</p>
<p>
	Another question, is there any way to stabilize the consumption because in both cases always oscillating between 3W and 7W and 1100W and 1500W.</p>
<p>	Thanks for your responses.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18786"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 25/02/2014 - 23:59.</div>
    <div class="content">
     <p>Is 1600 W the nameplate power of your vacuum? If so, it is entirely possible that the 1300 W you measured is correct. I assume you have calibrated your Arduino correctly to take account of the various tolerances that affect your measurement. If you have not, then your 1300 W is almost certainly wrong, and you need to calibrate it. There&#39;s a page in Building Blocks explaining how the component tolerances affect the accuracy, and there are separate detailed calibration instructions (also in Building Blocks), which, whilst they were written for the emonTx, you should be able to adapt to your Arduino.</p>
<p>The numbers should not change by that much, have you checked that the power really is constant? What happens if you substitute a different test load?</p>
<p>Your 30 A c.t. should have a maximum capacity of 7.2 kW, so you are expecting a lot to read 10 W accurately with a 10-bit ADC digitising the wave and then calculating the power from that.&nbsp; You can read about measuring very small currents in Building Blocks too.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26014"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7387.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ddcarter&#039;s picture" title="ddcarter&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/7387.html" title="View user profile.">ddcarter</a> on Sat, 20/12/2014 - 17:00.</div>
    <div class="content">
     <p>Is it possible to modify the&nbsp;SCT-013-030 to turn it into the equivalent of the&nbsp;SCT-013-000? &nbsp;I have the EmonTX Shield SMT, would prefer not to remove the burden resistor from the shield. Ordered the&nbsp;SCT-013-000 from Amazon, but what was delivered was the&nbsp;SCT-013-030. I&#39;m a bit impatient, would like to wire this thing up &amp; test the Shield sooner rather than later.&nbsp;</p>
<p>I removed the transformer &amp; its attached circuit board from the CT&#39;s housing. The board is a little more complex than I imagined. Is it okay to&nbsp;simply remove the board altogether &amp; attach the output leads directly to the ends of the coil winding wires?&nbsp;</p>
<p>Thanks in advance for any suggestions.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26018"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 20/12/2014 - 19:34.</div>
    <div class="content">
     <p>You can probably convert it (and I've deleted your duplicate post).  I believe the two are identical, except that the -000 has 22 V zener diodes across the coil whereas the -030 has a burden resistor.  If you're prepared to accept possibly painful and probably damaging voltages if you unplug the CT from its on-board burden, then you can do as you suggest. Otherwise, I suggest you replace the resistor(s) with a pair of zener diodes wired in series anode to anode, any value above about 9.1 V should be enough to avoid any trace of distortion due to the zeners conducting on the waveform peaks. Alternatively, as you're using an emonTx shield, you could remove the on-board burden and move it into the CT. There's a picture here of inside the -000  <a href="https://learn.openenergymonitor.org/?redirect=report-yhdc-sct-013-000-current-transformer" title="http://openenergymonitor.org/emon/buildingblocks/report-yhdc-sct-013-000-current-transformer">http://openenergymonitor.org/emon/buildingblocks/report-yhdc-sct-013-000...</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26021"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 20/12/2014 - 21:11.</div>
    <div class="content">
     <p><em>Is it possible to modify the&nbsp;SCT-013-030 to turn it into the equivalent of the&nbsp;SCT-013-000? </em></p>
<p>Yes, here&#39;s one I modified earlier (i.e. removed its internal burden resistor):</p>
<p><img alt="" src="../../../mk2pvrouter.co.uk/mediac/450_0/media/613904921fc8a24affff8051ffffffd3.jpg" style="height:338px; width:450px" /></p>
<p>Here, it was clipped around three circuits: the blue wire was to simulate some PV, the two brown ones were loads.&nbsp; This modified CT behaves just like the standard -000 unit, but doesn&#39;t have any internal protection components.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26022"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 20/12/2014 - 21:44.</div>
    <div class="content">
     <p><em>&quot;You can probably convert it&quot;&nbsp;</em>Meaning if you snag the wire that&#39;s the end of&nbsp;the winding, you can take a turn off. If you catch and snap the wire that&#39;s the start of the winding, you&#39;re likely to be in deep trouble!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35191"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8810.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dave-in-nj&#039;s picture" title="dave-in-nj&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/8810.html" title="View user profile.">dave-in-nj</a> on Wed, 21/10/2015 - 01:09.</div>
    <div class="content">
     <p>my 030 has a very simple circuit board. &nbsp;looks to be made for multiple options.</p>
<p>&nbsp;</p>
<p>one is the resistor.&nbsp;</p>
<p>another looks to be the diodes.</p>
<p>&nbsp;</p>
<p>I am thinking about converting it to a 20 amp. &nbsp;and using it as current only in an Arduino.</p>
<p>my reasoning is that I want to monitor a US residential circuit. &nbsp;NEC says the maximum design current for a 20 A circuit is 16 amps. that allows for a 20% de-rating. &nbsp;so, selecting for 20, but knowing that 16 is probably the maximum&nbsp;normal reading, then this could work fine. &nbsp;here are my calculations :</p>
<p>sqrt(2) = 1.414 &nbsp;x 20 = 28.28</p>
<p>28.28 / 2,000 = 0.01414</p>
<p>then 2.50 &nbsp;/ 0.01414 = 176 ohms</p>
<p>&nbsp;</p>
<p>use 1,800 as the wraps and I get 159 ohms</p>
<p>EA48 resistor (5%) shows 150, 160 or 180</p>
<p>160 looks like the perfect choice.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35208"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 21/10/2015 - 15:16.</div>
    <div class="content">
     <p>That seems a tortuous way to calculate, and there are some numbers I don't understand. </p>
<p>What peak-peak output voltage does you circuit board accept? That is your starting point.<br />
Convert that to rms (divide by 2&radic;2) and subtract say 4% to allow for component tolerances - 1% for your burden resistor and 3% for the CT.</p>
<p>Then calculate the secondary current that your CT will generate at 20 A = 50 mA &times; 20 / 100.<br />
You need the resistor that will generate the voltage you calculated at that current.</p>
<p>But use a 1% resistor if you can, otherwise allow 8% for component tolerances if you are using a 5% resistor. You can eat into the allowance for tolerances if you wish, it's your design decision.</p>
<p>But if your current has a 'peaky' waveform, you must use a smaller burden resistor as the 2&radic;2 will be too low - possibly by quite a large amount, and unless you can see and measure the ratio peak/rms, there's no way of knowing by how much.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35217"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Wed, 21/10/2015 - 20:47.</div>
    <div class="content">
     <p>To demonstrate just how &quot;peaky&quot; a typical house circuit can get, here&#39;s a pic of my lights circuit with a bunch of compact fluros on (143W worth). &nbsp; Irms is almost exactly 1A (997mA) but you can see Ipeak&nbsp;exceeds 3A.</p>
<p>Another one to keep in mind is in-rush current. &nbsp;The second picture is my pool pump circuit. &nbsp;Irms is about 5.8A but you can see&nbsp;Ipeak&nbsp;exceeds 40A, at least for the first 7 or so cycles during startup.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41494"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9874.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mbedross&#039;s picture" title="mbedross&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/9874.html" title="View user profile.">mbedross</a> on Fri, 29/04/2016 - 16:45.</div>
    <div class="content">
     <p>I am also using a&nbsp;SCT-013-030 current transformer and understand that it has its own built in burden resistor of 62 ohms. I also understand that I should not include an external burden resistor in my circuit before it is passed to the arduino.</p>
<p>My question is: Does this CT range in value of 0 to&nbsp;1 V (as it says in the datasheet)&nbsp;or -1 to 1 V. I&#39;m a little confused as to whether this can see negative&nbsp;currents as well. (Intuitively I think the output should range from -1 to 1 unless the CT has some sort of rectifier diode). Also, Since I am excluding an external&nbsp;burden resistor, what would change, if anything, on the rest of the circuit? (ie DC bias part)</p>
<p>&nbsp;</p>
<p>Thanks in advance!</p>
<p><em>Duplicate post deleted - Moderator, BT</em></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41500"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: firmware for SCT-013-030</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 29/04/2016 - 22:33.</div>
    <div class="content">
     <p>The SCT-013-030 is a current transformer with an integral burden, nothing else. Therefore the burden voltage wave shape is an exact replica of the input current (within the limits of its operating range and accuracy), with the exception that no d.c. component is transferred from primary to secondary (as is true for <u><strong>ANY</strong></u>&nbsp;transformer).</p>
<p><em>&quot;burden resistor of 62 ohms&quot;&nbsp;</em>Not necessarily. The manufacturer is likely to&nbsp;adjust the value from batch to batch to obtain the specified performance.</p>
<p>&quot;<em>what would change, if anything, on the rest of the circuit?&quot;</em>&nbsp;Nothing else need change. In fact, nothing has changed, the circuit is exactly the same, all that&#39;s happened is the burden resistor has physically moved from one end of the CT&#39;s cable to the other.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2447"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-pL6oz2Kgd2S-24KQ6x2HKH0egPuE8cUvipYc7DBwGZQ" value="form-pL6oz2Kgd2S-24KQ6x2HKH0egPuE8cUvipYc7DBwGZQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
