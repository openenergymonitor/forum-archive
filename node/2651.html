<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2651 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:46:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Timestore | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Timestore</h3>
        <span class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 03/08/2013 - 13:32</span>
        <div class="content"><p>What is the roadmap for implementing&nbsp;Timestore in stand alone systems? By that I mean if the emoncms&nbsp; git files are updated to Timestore, will existing data be updated in a similar manner to the way in which emoncms.org is currently updating.</p>
<p>Paul</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2899.html" class="topic-previous" title="Go to previous forum topic">‹ - + x /</a>
              <a href="2892.html" class="topic-next" title="Go to next forum topic">Two RPis talking to same emoncms account - will this create an extra burden on your servers? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-14040"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 03/08/2013 - 21:40.</div>
    <div class="content">
     <p>Hello Paul,&nbsp;Thanks for asking. Yes I see the upgrade process working in much the same way. Using the same interval selector interface and then running the conversion script. In a similar way to the emoncmsorg conversion process it would be a matter of using a transitionary emoncms version which allows use of mysql and timestore feeds before moving later to a timestore only version.&nbsp;It still needs a little work to make it an easy conversion, I will be doing a bit of work on it in the next few days.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14058"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1178.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1178.jpg" alt="alco&#039;s picture" title="alco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1178.html" title="View user profile.">alco</a> on Sun, 04/08/2013 - 12:01.</div>
    <div class="content">
     <p>great to hear that Trystan, I&#39;m a Business Intelligence Analyst&nbsp; at an insurance company so I&#39;m used to work with loads of data in a datawarehouse (datavault by Dan Linstad method). So I like to convert my emoncms to a bit more &quot;bigdata&quot; way than the present mysql DB.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14076"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 04/08/2013 - 21:08.</div>
    <div class="content">
     <p>Thanks Trystan. My database is pretty small at the moment, and everything loads quickly, but look forward to the conversion for the sake of data longevity.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14125"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2125.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-2125.jpg" alt="elyobelyob&#039;s picture" title="elyobelyob&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/2125.html" title="View user profile.">elyobelyob</a> on Tue, 06/08/2013 - 12:46.</div>
    <div class="content">
     <p>I am pretty desperate to have this. Firstly, MySQL will likely be a PITA to backup off the RPi&nbsp;I am running it on. My database is 2.2GB, which has been collecting power &amp; temperature data since December 2012. I have previous data in RRDB, which I would like to import, however am concerned r.e. existing size.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14127"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Tue, 06/08/2013 - 14:20.</div>
    <div class="content">
     <p>Nick, just wondering how long it will take your RPi to run the conversion for a 2.2Gb database. That&#39;s a lot of data to munch through!</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14144"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 07/08/2013 - 10:49.</div>
    <div class="content">
     <p>Ok its ready to try, I&#39;ve written up installation steps in the readme of the transitionary&nbsp;emoncms branch (Called emoncmsorg - as its what is running on emoncms.org) &nbsp;here:</p>
<p><a href="https://github.com/emoncms/emoncms/tree/emoncmsorg" title="https://github.com/emoncms/emoncms/tree/emoncmsorg">https://github.com/emoncms/emoncms/tree/emoncmsorg</a></p>
<p>The timestore integration is currently a bit rough around the edges with things like delete feed not yet implemented. I have so far focused on getting feed create, insert_data and get_data to work.</p>
<p>I look forward to hearing what you guys think of it,</p>
<p>thanks,&nbsp;</p>
<p>Trystan.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14166"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2125.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-2125.jpg" alt="elyobelyob&#039;s picture" title="elyobelyob&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/2125.html" title="View user profile.">elyobelyob</a> on Wed, 07/08/2013 - 22:45.</div>
    <div class="content">
     <p>Yeah, I&#39;m thinking of converting on a different machine. I may even consider migrating off the pi, and just relying on the pi sending the readings via MQTT (which I have running as a plugin). A 2.2GB database would probably take some time :)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14188"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 08/08/2013 - 16:37.</div>
    <div class="content">
     <p>Just a heads up: Paul Reed and I have been troubleshooting the&nbsp;transitionary&nbsp;timestore&nbsp;emoncms branch on github here:</p>
<p><a href="https://github.com/emoncms/emoncms/issues/91">https://github.com/emoncms/emoncms/issues/91</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14205"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Thu, 08/08/2013 - 23:35.</div>
    <div class="content">
     <p>Hello Trystan,</p>
<p>I made the conversion to timestore -- the increase in speed is impressive indeed! My database was small - only 18 days of data - so the conversion on my Pi took less than 10 minutes. Dashboard response when displaying a week or month of data is NICE!</p>
<p>Bill Thomson</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14209"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 09/08/2013 - 08:11.</div>
    <div class="content">
     <p>Thanks Bill, that&#39;s great to hear! Its amazing isn&#39;t it being able to zoom through the historical data at that speed. Credit to <a href="http://mikestirling.co.uk/redmine/projects/timestore">Mike Stirling&nbsp;for creating timestore</a></p>
<p>I realize I missed adding in a needed change to raspberrypi_run.php to make it work, are you using the python gateway? Is data coming in ok?</p>
<p>I&#39;ve created a branch of the raspberrypi module that is compatible with the emoncmsorg&nbsp;branch of emoncms that fixes the issue with raspberrypi_run.php, see discussion with Paul Reed here:&nbsp;<a href="https://github.com/emoncms/emoncms/issues/91">https://github.com/emoncms/emoncms/issues/91</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14249"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3227.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3227.jpg" alt="tdereus&#039;s picture" title="tdereus&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3227.html" title="View user profile.">tdereus</a> on Sat, 10/08/2013 - 22:44.</div>
    <div class="content">
     <p>Trystan when do you think timestore will be good to merge in with the master branch (i.e. when will timestore replace mysql)?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14256"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 11/08/2013 - 17:51.</div>
    <div class="content">
     <p>Tim, are you upgrading or is it a new installation?</p>
<p>The rollout of Timestore is being carefully managed by Trystan &amp; Glyn&nbsp;to ensure a smooth transition and prevent data loss, and therefore <u>as I understand it</u>, the upgrade process comes in 2 parts;</p>
<ol>
<li>
		The&nbsp;<a href="https://github.com/emoncms/emoncms/tree/emoncmsorg">Transitionary</a><a href="https://github.com/emoncms/emoncms/tree/emoncmsorg">&nbsp;version</a> which adds Timestore to the MySQL version, and converts existing data into the Timestore&nbsp;format. This ensures that the upgrade runs smoothly and that your historical MySQL data is not deleted until such time as you are happy that the data has been converted OK and Timestore is running.</li>
<li>
		Once existing users have had chance to upgrade to the Transitionary version, the full &#39;Timestore only&#39; &nbsp;version will be available to git pull (probably from Master) which will ensure both existing &#39;Transitionary version&#39; systems and new systems are running the same version.</li>
</ol>
<p>So in short, if you have an existing system and want to upgrade, you need to install the <a href="https://github.com/emoncms/emoncms/tree/emoncmsorg">Transitionary version</a> first, as there will not be a Master git pull to upgrade existing systems.</p>
<p>I&#39;ve just upgraded mine and it&#39;s well worth the effort as the loading speed difference is phenomenal, like the difference between dial-up and broadband!</p>
<p>The upgrade process is not difficult, but a few things that I learnt in doing so was;</p>
<ul>
<li>
		Remember to re-install the Raspberry&nbsp;Pi module, easy to forget when upgrading!</li>
<li>
		Once you have copied your Timestore admin key to your export.php script, <u>DON&#39;T REBOOT</u> before running the script, because the key regenerates on a reboot and they will no longer match, which will result in a 403 error code.</li>
</ul>
<p>Paul&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14278"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3227.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3227.jpg" alt="tdereus&#039;s picture" title="tdereus&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3227.html" title="View user profile.">tdereus</a> on Mon, 12/08/2013 - 09:47.</div>
    <div class="content">
     <p>Hi Paul/Trystan,</p>
<p>I did a db&nbsp;backup on from my active instance and ran emoncms (with timestore) on another server instance.. all good until I hit the export.php step. This is the response from export.php</p>
<pre>
tim@Bender:/usr/timestore/usefulscripts/convert_to_timestore# php export.php
USER: 1</pre><p>Any ideas? &nbsp;I suspect this has something to do with my feeds... but no idea what</p>
<p>Tim</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14281"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 12/08/2013 - 10:36.</div>
    <div class="content">
     <p>Have you submitted the feeds to the conversion queue?<br />
	If not, go to feeds, and you&#39;ll see the &#39;conversion page&#39; link in the blue header, add your feeds, and re-run export.php</p>
<p>Also check that Timestore is actually running;</p>
<pre>
$&nbsp;pidof timestore</pre><p>should return the process ID number, but if not, start the Timestore daemon by;</p>
<pre>
cd /home/pi/timestore/src

sudo ./timestore</pre><p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14291"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3367.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3367.jpg" alt="Dan Woodie&#039;s picture" title="Dan Woodie&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3367.html" title="View user profile.">Dan Woodie</a> on Mon, 12/08/2013 - 13:37.</div>
    <div class="content">
     <p>I have a question to ask with regards to timestore which I could not find reading through the blog entries. It appears that timestore speeds up database queries by using the regular time index as the database table index, allowing you to know what entry to look for index-wise when you know the time you are looking for. Does this system have the capability to take in time values off of the regular series? For example, if you shut your system down for an hour, when you start up, how does the system handle that missing data / time jump? Can you add extra points in if needed? My main concern is setting up a system that relies so heavily on the regular interval between data writes, that any misses / differences on that cause it to have major issues later on.</p>
<p>Forgive me if I am asking a question that is answered elsewhere. BTW, the link to the timestore page on the first blog entry is no longer valid... Thanks for your continued contributions.</p>
<p>Dan</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14299"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 12/08/2013 - 18:15.</div>
    <div class="content">
     <p>Hello Dan, good question, the way it works is that it padds out the missing data with NAN entries. So if a monitor goes down for a month the first datapoint it posts will cause timestore to fill that month with NAN values at the same interval rate. This may sound like a waste of disk space but because timestore does not store timestamps your saving more disk space than you use up from occasional outages when its logging normally as it where.&nbsp;</p>
<p>The thought occurred to me that one could have a solution for longer term outages, where if a new datapoint comes in 6 months after the last one rather than fill that 6 months up it could log a new partition with a second start time to the meta data, not sure how worth it it would be to implement this.</p>
<p>If your logging timestamps (4bytes) and float data values (4bytes) at 10 seconds interval for a year it will use&nbsp;25228800 bytes (24mb)</p>
<p>With timestore a year of 10s data would use half this ~12mb</p>
<p>The monitor would have to be off for 6 months out of 12 for timestore disk use to equall a method where the timestamp is recorded.</p>
<p>I think the benefit of much quicker query speeds and significantly lower disk space in the majority of cases, outweighs the need to padd out missing values.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14313"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3367.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3367.jpg" alt="Dan Woodie&#039;s picture" title="Dan Woodie&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3367.html" title="View user profile.">Dan Woodie</a> on Tue, 13/08/2013 - 14:22.</div>
    <div class="content">
     <p>Trystan,</p>
<p>Thanks for taking the time to explain it. It does sound like a good upgrade and I look forward to being able to implement it on my local server.</p>
<p>Dan</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14393"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sjee&#039;s picture" title="sjee&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by sjee (not verified) on Sat, 17/08/2013 - 08:01.</div>
    <div class="content">
     <p>Hello Trystan. Thanks for the detailed information. The timestore implementation looks very interesting, the speed is impressive and the average layers is perfect. You wrote missing data is filled with NAN values, is this based on the localtime? and is this done&nbsp;for every missing value? What I mean is if I set the interval to 10 seconds and the next value is added after 20 seconds instead of 10 will there be a NAN between the two values and what happens if the value is added after 19 or 21 seconds?</p>
<p>I&#39;m also wondering about data recovery, is there any way to read the content of the database without timestore?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14401"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 17/08/2013 - 12:33.</div>
    <div class="content">
     <p>Hello sjee, yes every missing datapoint is filled with a NAN value, Il draw a diagram to illustrate what happens. Its straightforward to read the data directly from the timestore data files. Each datapoint is a 4 byte float stored one after the other. I implemented a timestore&nbsp;feed exporter that uses php to access the data directly not going through timestore:&nbsp;<a href="https://github.com/emoncms/emoncms/blob/emoncmsorg/Modules/feed/feed_model.php#L673">https://github.com/emoncms/emoncms/blob/emoncmsorg/Modules/feed/feed_model.php#L673</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14520"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4005.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="maze42&#039;s picture" title="maze42&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/4005.html" title="View user profile.">maze42</a> on Fri, 23/08/2013 - 08:08.</div>
    <div class="content">
     <p>What happens if I change the sample interval for a feed after logging for some time?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14521"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 23/08/2013 - 08:42.</div>
    <div class="content">
     <p>I dont think that you can, as the conversion script converts your existing MySQL data to Timestore at the interval which you elect during the conversion process. Once converted, the conversion script is not used again.</p>
<p>If there was a way to later to change the interval, it would surely screw up the timings of your historical data, as there are no time stamps to determine the change of interval.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14540"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 23/08/2013 - 17:26.</div>
    <div class="content">
     <p><strong>Easier timestore installation</strong></p>
<p>This will probably get pulled into the <a href="https://github.com/mikestir/timestore">main timestore repository</a> soon in some form but until then this simplifies installation quite a bit:</p>
<pre>
git clone <a href="https://github.com/TrystanLea/timestore" title="https://github.com/TrystanLea/timestore">https://github.com/TrystanLea/timestore</a>
cd timestore
sudo sh install
</pre><p>If you already have an installation of timestore the easiest option is probably to rename or delete your current timestore folder and start with a clean install.</p>
<p>This update also has a couple of other benefits:</p>
<ul>
<li>
		init script for automatic start on startup and start, stop, restart, status commands:</p>
<ul>
<li>
<p>sudo /etc/init.d/timestore start</p>
</li>
<li>
<p>sudo /etc/init.d/timestore stop</p>
</li>
<li>
<p>sudo /etc/init.d/timestore restart</p>
</li>
<li>
<p>sudo /etc/init.d/timestore status</p>
</li>
</ul>
</li>
<li>
		Mike Stirling has added a change that keeps the adminkey the same if its already been set, so no need to keep checking and changing the adminkey</li>
</ul>
<p>Another thing to note is that the data values are float as default rather than double.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14541"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 23/08/2013 - 17:30.</div>
    <div class="content">
     <p>maze42, yes as Paul said as the moment the interval cant be changed. I think it might be good to have a tool at some point to make it possible to re-compile a timestore feed to a longer time interval. I.e say convert a 10s timestore feed to a 30s timestore feed.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14550"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 23/08/2013 - 21:05.</div>
    <div class="content">
     <p>Trystan, thanks for the above, I upgraded tonight without problem, but how did you get the &nbsp;&#39;min&#39; function to work OK in emoncms.org ?</p>
<p>It didn&#39;t work until about 4 days ago, but now works fine, although no changes have been made to Github for stand alone systems to implement.</p>
<p>Thanks</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14569"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 24/08/2013 - 17:31.</div>
    <div class="content">
     <p>I dont think I&#39;ve made any changes to the min, max functions, the process_model.php code is the same on emoncms.org as it is on the repo.</p>
<p>I have just added the full range of intervals to the create feed interval selector box, just pushed that to the repo. I&#39;m going to look now at all the input processes as I know timestore will break several of them.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14573"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 24/08/2013 - 20:35.</div>
    <div class="content">
     <p>I have 2 functions not working since the Timestore update;</p>
<p>1) The &#39;min&#39; value no longer works on stand alone systems. On the first input being received, the condition -&nbsp;<strong>if ($time_check != $feedtime)</strong> correctly copies the current input value to the feed, but on subsequent inputs the feed value drops &amp; remains at zero (0).<br />
	Emoncms.org also displayed the same problem initially, but began working at the beginning of last week (<a href="2678.html#comment-14471">also noticed and reported by another member</a>).</p>
<p>2) The event module immediately&nbsp;errors and the error message below is displayed on the screen;<br />
	<strong>/var/www/emoncms/Modules/feed/feed_model.php on line 23<br />
	Notice: Undefined variable: timestore in /var/www/emoncms/Modules/feed/feed_model.php on line 26</strong></p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14602"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 26/08/2013 - 14:18.</div>
    <div class="content">
     <p>Just done a little work on the process list interface, when selecting a input process that creates &#39;daily&#39; type data the interval selector is no longer shown. I&#39;ve also refactored the code a bit. <a href="https://github.com/emoncms/emoncms/commit/8e29478bde8271aef01981ed211e1e13356dcd77">Commit details are here</a>.</p>
<p>Paul: Il look into the event module issue and test the min, max processors see if I can work out whats going wrong.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14648"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Wed, 28/08/2013 - 12:07.</div>
    <div class="content">
     <p>Hi</p>
<p>I followed Trystan&#39;s instructions to install Timestore. Seemed to install OK with no error meassages but I did not get an&nbsp;adminkey at the end of the process. I then ran&nbsp;sudo /etc/init.d/timestore status and timstore reported not running. I tried&nbsp;sudo /etc/init.d/timestore start but it did not start so I assumed the install failed. I then saw Paul&#39;s&nbsp;message suggesting</p>
<p>cd /home/pi/timestore/src</p>
<p>sudo ./timestore</p>
<p>This has started timstore. Is there a command I can now use to retrieve the adminkey?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14657"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 28/08/2013 - 19:37.</div>
    <div class="content">
     <p>Ian, I believe&nbsp;that you can find the admin key via;</p>
<pre>
nano /var/lib/timestore/adminkey.txt&nbsp;</pre><p>&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14664"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 29/08/2013 - 00:15.</div>
    <div class="content">
     <p>Many Git changes tonight...</p>
<ul>
<li>
		The Min/Max function has been fixed for Timestore</li>
<li>
		The &#39;Event&#39; module has been fixed for Timestore</li>
<li>
		+ loads of functional, cosmetic &amp; important updates</li>
</ul>
<p>The Github&nbsp;&#39;emoncmsorg&#39; beta has now been merged into the &#39;master&#39;, so Timestore is now the official emoncms standard.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14673"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3371.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bob Smith&#039;s picture" title="Bob Smith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3371.html" title="View user profile.">Bob Smith</a> on Thu, 29/08/2013 - 11:21.</div>
    <div class="content">
     <p>Updated emoncms&nbsp;this morning to the new &#39;master&#39; which cured nearly all my issues after transferring to Timestore last week.</p>
<p>The one problem I have is with the &#39;Event&#39; module where I get the following error message:</p>
<p>line 24</p>
<p>Notice: Undefined variable: timestore_adminkey in /var/www/emoncms/Modules/feed/feed_model.php on line 34</p>
<p>Apart from this, thanks for all the work that has gone into this release.</p>
<p>Bob</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14674"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 29/08/2013 - 11:32.</div>
    <div class="content">
     <p>Hi Bob, have you updated the event module to the latest commit?</p>
<p>Its good to hear that this latest version has made such a difference.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14684"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="cricchetto06&#039;s picture" title="cricchetto06&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by cricchetto06 (not verified) on Thu, 29/08/2013 - 14:09.</div>
    <div class="content">
     <p>Hi everyone!&nbsp;I&#39;m currently using emoncms v5.0 in raspberry system with lighttpd web server. I tried to migrate to emoncms v6 but i&#39;ve problem with timestore. I followed the guide in this link&nbsp;https://github.com/emoncms/emoncms but when i try to run timestore....this is the error:&nbsp;CRITICAL:http.c(405): Couldn&#39;t start http daemon. I&#39;ve before stopped lighttpd but same error&nbsp;appears.Someone have&nbsp;the same problem?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14685"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3371.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bob Smith&#039;s picture" title="Bob Smith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3371.html" title="View user profile.">Bob Smith</a> on Thu, 29/08/2013 - 16:22.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>Was certain that I had, but obviously not...</p>
<p>...no error message now, thank you.</p>
<p>Now if only delete feed worked.</p>
<p>Thanks again</p>
<p>Bob</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14687"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 29/08/2013 - 16:52.</div>
    <div class="content">
     <p>cricchetto: i think CRITICAL:http.c(405): could not start should mean either that its already running or that there could be a firewall in the way. What does running this print out:</p>
<p>sudo /etc/init.d/timestore status</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14688"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 29/08/2013 - 17:08.</div>
    <div class="content">
     <p><i><u>Now if only delete feed worked. -</u></i></p>
<p>Bob, I had a similar problem deleting feeds last night, an although the MySQL feed tables had been deleted, their feed numbers were still present in the feeds table, which I removed manually.</p>
<p>I put the issue down to some development work I had ongoing, but since you are having the same issue&nbsp;I&#39;ll check tonight, to make sure it functions OK.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14691"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 29/08/2013 - 18:42.</div>
    <div class="content">
     <p>Looks like I put a return in the wrong place in the delete function, it was deleting the actual data but not the feeds table meta entry. Just fixed it and pushed the fix to github</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14694"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3371.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bob Smith&#039;s picture" title="Bob Smith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3371.html" title="View user profile.">Bob Smith</a> on Thu, 29/08/2013 - 19:35.</div>
    <div class="content">
     <p>Thank you, delete feed now working and all looking good.</p>
<p>Bob</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14695"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 29/08/2013 - 19:42.</div>
    <div class="content">
     <p>The screenshot below, shows the latest changes as of 29/8/13 to the Feeds page.<br />
	Main changes here are;</p>
<ul>
<li>
		Engine now shows where data is held - MySQL or Timestore</li>
<li>
		Size now shows database size, which is refreshed via button at bottom</li>
</ul>
<p>Paul</p>
<p><a href="../sites/default/files/Timestore.png"><img alt="" src="../sites/default/files/Timestore.png" style="width: 720px; height: 411px;" /></a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14701"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="cricchetto06&#039;s picture" title="cricchetto06&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by cricchetto06 (not verified) on Fri, 30/08/2013 - 07:11.</div>
    <div class="content">
     <p>Fantastic!!!!I&#39;ve rebooted raspberry, and now timestore running correctly!I don&#39;t know why, but now work.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14706"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Fri, 30/08/2013 - 14:02.</div>
    <div class="content">
     <p>Hi</p>
<p>Thanks to Paul I now have the timestore admin key.</p>
<p>I am working through the upgrade process. Issued a git pull &amp; edited settings.php and then tried to access my emoncms on the pi. Received the following message.</p>
<p>Can&#39;t connect to database, please verify credentials/configuration in settings.php</p>
<p>Error message: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)</p>
<p>&nbsp;I guess I have the password wrong which I had noted as raspberry as per the original instructions. Is there any way to retrieve or check the mysql password?&nbsp;</p>
<p>Regards</p>
<p>Ian</p>
<p>As an afterthought what is the best command to backup the old settings.php which is clearly the first thing I should have done? It may also help the Linux inexperienced if the advice to backup settings.php could be included in the upgrade instructions. The git&nbsp;pull also needs to be issued from&nbsp;/var/www/emoncms and not&nbsp;/var/www. I worked this out when it did not work in&nbsp;/var/www but adding this to the instructions may help others.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14710"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 30/08/2013 - 22:07.</div>
    <div class="content">
     <p>Ian, I always simply copy the settings.php to a different name;</p>
<pre>
$ cp&nbsp;settings.php oldsettings.php</pre><p>before editing and renaming default.settings.php</p>
<p>&nbsp;</p>
<p>To regain access to MySQL, try&nbsp;<a href="http://www.youtube.com/watch?v=Zs1Pz0_gH24">http://www.youtube.com/watch?v=Zs1Pz0_gH24</a></p>
<p>&nbsp;</p>
<p>A fresh install (clone) is run from&nbsp;/var/www/ whilst git&nbsp;pulls are always run from within the installation directory, but you are right, it probably needs to be made clearer in the readme.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14715"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Sat, 31/08/2013 - 09:19.</div>
    <div class="content">
     <p>Paul,</p>
<p>Many thanks. The video taught me a number of useful mysql commands. I got back in by trying all the passwords I might have used and got lucky. I had used my emoncms password by mistake and noted the wrong&nbsp;one!</p>
<p>Backed up settings.php for the&nbsp;future.</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14716"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3082.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gloorung&#039;s picture" title="gloorung&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3082.html" title="View user profile.">gloorung</a> on Sat, 31/08/2013 - 13:43.</div>
    <div class="content">
     <p>Hi,</p>
<p>Just converted to timestore. All went well, but I&#39;m having some problem visualizing&nbsp;&#39;daily&#39; feeds.&nbsp;</p>
<p>When I use e.g. the simplezoom visualisation everything works as it should (power and kwhd), so the data is present. However, when I select the zoom visualisation, a lot of data is missing. I used a custom time step of 6s, but as the simplezoom&nbsp;shows all data correctly, I&#39;m not sure it&#39;s related to that. I also updated emoncms and all modules to the latest version.</p>
<p>Any suggestions ?</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14718"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Sat, 31/08/2013 - 16:05.</div>
    <div class="content">
     <p>Hi</p>
<p>Some progress on conversion. I did not at first get any feeds visible on the convertotimestore page. Eventually I ran an update on the pi and did a reboot. After that I got the feed table and set the intervals (and saved them).</p>
<p>I ran the convert file and got the following error. Have I missed something out of the process? As background information I am running the pi purely as a server. It does not have a wireless module.&nbsp;</p>
<p>&nbsp;</p>
<p>pi@raspberrypi ~ $ php /var/www/emoncms/Modules/converttotimestore/convert.php</p>
<p>5 Creating timestore node PHP Fatal error:&nbsp; Call to undefined function curl_init() in /var/www/emoncms/Modules/feed/engine/TimestoreApi.php on line 92</p>
<p>Fatal error: Call to undefined function curl_init() in /var/www/emoncms/Modules/feed/engine/TimestoreApi.php on line 92</p>
<p>pi@raspberrypi ~ $&nbsp;</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14719"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3082.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gloorung&#039;s picture" title="gloorung&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3082.html" title="View user profile.">gloorung</a> on Sat, 31/08/2013 - 17:34.</div>
    <div class="content">
     <p>Hi Ian,</p>
<p>Seems like you don&#39;t have the php5-curl module installed. &nbsp;Could you try installing it with this command:</p>
<p>sudo apt-get install php5-curl</p>
<p>regards,</p>
<p>Roel</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14720"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4234.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="XaroRSA&#039;s picture" title="XaroRSA&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/4234.html" title="View user profile.">XaroRSA</a> on Sat, 31/08/2013 - 17:37.</div>
    <div class="content">
     <p>Hi Peeps.</p>
<p>I guess this timestore doesnt run on windows :(</p>
<p>Time to switch to linux VM??</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14722"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 31/08/2013 - 21:20.</div>
    <div class="content">
     <p>For info - emoncms git master has been updated tonight to fix an issue where the DAILY feeds were not being reset to zero at midnight.&nbsp;</p>
<p>A further bug already reported is that the min/max processes do not create a corresponding MySQL database table, therefor no historical data is stored (Bar Graph will be blank). - Now also fixed</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14724"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Sun, 01/09/2013 - 08:38.</div>
    <div class="content">
     <p>Hi</p>
<p>Thanks Roel, fixed that problem.</p>
<p>Started convert running and got the following:-</p>
<p>pi@raspberrypi /var/www/emoncms $ sudo php /var/www/emoncms/Modules/converttotimestore/convert.php</p>
<p>5 Creating timestore node ok<br />
	Start: 1369828872 95 days 100000<br />
	Start: 1373833667 48 days 100000<br />
	Start: 1377356862 8 days 100000<br />
	Start: 1378023878 -0 days 4632<br />
	199.69245004654<br />
	6 Creating timestore node ok<br />
	Start: 1369828973 95 days 100000<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	86.407195091248<br />
	12 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0025489330291748<br />
	14 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0013999938964844<br />
	17 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0014119148254395<br />
	18 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0013971328735352<br />
	19 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0030689239501953<br />
	20 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0032219886779785pi@raspberrypi /var/www/emoncms $ ^C<br />
	pi@raspberrypi /var/www/emoncms $</p>
<p>I have included it in full in case it provides further information.</p>
<p>After this I tried to login to the server and got this message:-</p>
<p>Can&#39;t connect to database, please verify credentials/configuration in settings.php<br />
	Error message: Can&#39;t connect to local MySQL server through socket &#39;/var/run/mysqld/mysqld.sock&#39; (2)</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14735"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 01/09/2013 - 17:49.</div>
    <div class="content">
     <p>Ian: since it got as far as the second feed it might suggest that there is an entry for feed 6 in the feeds meta table but not a data table, should there definitely be a data table for feedid 6?&nbsp;</p>
<p>Strange that you cant login afterwards, is mysql still running, can you login to mysql?&nbsp;</p>
<p>mysql -u user -p pass emoncms</p>
<p>Then it might be worth checking if all the tables are there with:</p>
<p>SHOW TABLES;</p>
<p>&nbsp;</p>
<p>XaroRSA: I think timestore can be built on windows, I havent done it myself but it should be possible.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14736"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4234.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="XaroRSA&#039;s picture" title="XaroRSA&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/4234.html" title="View user profile.">XaroRSA</a> on Sun, 01/09/2013 - 19:10.</div>
    <div class="content">
     <p>Hi Trystan.</p>
<p>If you can point me in the direction to compile it on windows I would much appreciate it!</p>
<p>I tried to compile the main c file in my C compiler, but its looking for additional libraries?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14745"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3371.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bob Smith&#039;s picture" title="Bob Smith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3371.html" title="View user profile.">Bob Smith</a> on Mon, 02/09/2013 - 08:12.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>I had the problem where DAILY feeds where not being reset at midnight. Did a git pull on emoncms&nbsp;(and sub directories) after your post on Saturday (which did update something) but still have the same issue.</p>
<p>Feel that I am getting confused over the git&nbsp;update process. Should I be switching to a different version of emoncms on git&nbsp;and then updating or is there something else I am missing.</p>
<p>Bob</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14746"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 02/09/2013 - 08:36.</div>
    <div class="content">
     <p>Bob, yes I still have the same problem too, as the Git pull did not solve the issue.</p>
<p>Trystan&nbsp;is currently trying to fix this and I will post back when a successful&nbsp;update is available.</p>
<p>As far as Git is concerned, you should be now on the &#39;master&#39; branch, and you can check by running;</p>
<pre>$ git branch -a</pre><p>from the /emoncms&nbsp;directory.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14749"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Mon, 02/09/2013 - 09:53.</div>
    <div class="content">
     <p>Hi Trystan,</p>
<p>A reboot of the pi enabled me to log back in to my emoncms.</p>
<p>The result of SHOW TABLES:-</p>
<p>mysql&gt; SHOW TABLES;<br />
	+--------------------+<br />
	| Tables_in_emoncms&nbsp; |<br />
	+--------------------+<br />
	| converttotimestore |<br />
	| dashboard&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_13&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_14&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_17&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_18&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_19&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_20&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feed_6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| feeds&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| input&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| multigraph&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| rememberme&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	| users&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br />
	+--------------------+<br />
	17 rows in set (0.01 sec)</p>
<p>mysql&gt;</p>
<p>A possible clue to what is amiss. I have 10 feeds if I click on feeds in emoncms. all as listed above.</p>
<p>Feed_5 is now shown as timestore.</p>
<p>If I go into extras and convert to timestore I should presumably see 9 feeds and their calculated interval as feed 5 is already converted.</p>
<p>I don&#39;t. I only see 7 feeds, 11 and 13 are missing. The different feature of these 2 feeds is that they are both Datatype DAILY. All the other Datatypes are REALTIME. Is this the cause of the problem?</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14753"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 02/09/2013 - 11:26.</div>
    <div class="content">
     <p>That sounds correct, as only REALTIME feeds are converted to Timestore, DAILY feeds stay as MySQL.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14754"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Mon, 02/09/2013 - 11:57.</div>
    <div class="content">
     <p>Thanks Paul.</p>
<p>Still leaves me unable to convert with the results as reported earlier. I tried a second time with exactly the same problems including being unable to login to emoncms&nbsp;until I rebooted the Pi.</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14758"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1510.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="matt-carbon-coop&#039;s picture" title="matt-carbon-coop&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1510.html" title="View user profile.">matt-carbon-coop</a> on Mon, 02/09/2013 - 15:30.</div>
    <div class="content">
     <p>Just did the conversion process, timestore nodes were created OK, but final command results in the following error:</p>
<blockquote><p>Could not open input file: /var/www/emoncms/Modules/converttotimestore/deletemysqlcopy.php</p>
</blockquote>
<p>Tried with a &#39;sudo&#39; but get the same result, checked in the folder and that php file isn&#39;t doesn&#39;t exist, &#39;git pull&#39; shows it to be up to date. All of my feeds are recording but aren&#39;t showing historical data and size of all feeds (both MySQL and Timestore) show as 0.0kb.</p>
<p>Earlier process went well, with following caveats. Had the same problem as Ian regarding</p>
<blockquote><p>emoncmscat: /var/lib/timestore/adminkey.txt: No such file or directory</p>
</blockquote>
<p>But Pauls cd /home/pi/timestore/src / sudo ./timestore sorted it for me.</p>
<p>Same with the lack of php5-curl in my install, again sorted by Paul&#39;s suggestion. Is it worth adding these to the upgrade instructions?</p>
<p>Thanks everyone for your hard work on this.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14763"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Mon, 02/09/2013 - 18:42.</div>
    <div class="content">
     <p>Hi</p>
<p>I tried convert again and got a bit further. Converted another feed and then this time lost connection to MySQL server. Could this be a a timing issue? Also this time I could still log into emoncms. Details below:-</p>
<p>pi@raspberrypi ~ $ sudo php /var/www/emoncms/Modules/converttotimestore/convert.php</p>
<p>6 Creating timestore node ok<br />
	Start: 1369828973 96 days 100000<br />
	Start: 1373833869 50 days 100000<br />
	Start: 1377357015 9 days 100000<br />
	Start: 1378140542 -0 days 7673<br />
	203.30337285995<br />
	12 Creating timestore node ok<br />
	Start: 1368211136 115 days 100000<br />
	Start: 1369310523 102 days 100000<br />
	PHP Warning:&nbsp; mysqli::query(): (HY000/2013): Lost connection to MySQL server during query in /var/www/emoncms/Modules/converttotimestore/convert.php on line 44</p>
<p>Warning: mysqli::query(): (HY000/2013): Lost connection to MySQL server during query in /var/www/emoncms/Modules/converttotimestore/convert.php on line 44<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	156.70410299301<br />
	14 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.00045013427734375<br />
	17 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0036118030548096<br />
	18 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0037479400634766<br />
	19 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0033249855041504<br />
	20 Creating timestore node ok<br />
	PHP Notice:&nbsp; Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46</p>
<p>Notice: Trying to get property of non-object in /var/www/emoncms/Modules/converttotimestore/convert.php on line 46<br />
	0.0078129768371582pi@raspberrypi ~ $</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14776"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 02/09/2013 - 22:26.</div>
    <div class="content">
     <p>Ian: not sure why its loosing the connection to mysql, is mysql on the pi? Maybe its an SD card issue, or that combined with logging the load is too much for it. Might be worth trying this to reduce the mysql load created by the conversion process:</p>
<p>Open the convert.php script in Modules/converttotimestore/</p>
<p>change line 44 (<a href="https://github.com/emoncms/converttotimestore/blob/master/convert.php#L44" title="https://github.com/emoncms/converttotimestore/blob/master/convert.php#L44">https://github.com/emoncms/converttotimestore/blob/master/convert.php#L44</a>)</p>
<p>from:</p>
<p>$result = $mysqli-&gt;query(&quot;SELECT * FROM feed_$feedid WHERE time&gt;$start AND time&lt;$end ORDER BY time Asc LIMIT 100000&quot;);</p>
<p>to</p>
<p>sleep(1);</p>
<p>$result = $mysqli-&gt;query(&quot;SELECT * FROM feed_$feedid WHERE time&gt;$start AND time&lt;$end ORDER BY time Asc LIMIT 10000&quot;);</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14777"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 02/09/2013 - 22:35.</div>
    <div class="content">
     <p>XaroRSA: I asked Mike about compiling on Windows, he hasnt tried it and is hoping someone with Windows experience would be interested in looking into it, he suggested compiling with MinGW. What library errors do you get?</p>
<p>Matt: didnt quite finish writing /deletemysqlcopy.php so thats why its not there, will be up there soon.</p>
<p>Rather than start timestore with cd /home/pi/timestore/src / sudo ./timestore its probably best to use the init script:</p>
<p>sudo /etc/init.d/timestore start</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14786"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 03/09/2013 - 07:45.</div>
    <div class="content">
     <p>Daily data not resetting at midnight bug is fixed with yesterday&#39;s update&#39;s. The summed daily bars can be fixed with the datapoint editor in the vis tab.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14787"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 03/09/2013 - 07:48.</div>
    <div class="content">
     <p>For the fix to work the raspberrypi_run script needs to be restarted:</p>
<p>sudo /etc/init.d/rfm12piphp restart</p>
<p>Otherwise its still using a previously loaded version</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14788"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 03/09/2013 - 08:04.</div>
    <div class="content">
     <p>The visualisation bug reported by trunet and gloorung here: <a href="https://github.com/emoncms/emoncms/issues/95" title="https://github.com/emoncms/emoncms/issues/95">https://github.com/emoncms/emoncms/issues/95</a></p>
<p>is now fixed.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14792"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3227.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3227.jpg" alt="tdereus&#039;s picture" title="tdereus&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3227.html" title="View user profile.">tdereus</a> on Tue, 03/09/2013 - 10:38.</div>
    <div class="content">
     <p>On conversion to timestore I receive the following error whilst running the conversion script:</p>
<p>pi@pieater / $ php /var/www/emoncms/Modules/converttotimestore/convert.php<br />
	PHP Notice: Undefined variable: timestore_adminkey in /var/www/emoncms/Modules/converttotimestore/convert.php on line 18</p>
<p>Notice: Undefined variable: timestore_adminkey in /var/www/emoncms/Modules/converttotimestore/convert.php on line 18</p>
<p>1 Creating timestore node PHP Fatal error: Call to undefined function curl_init() in /var/www/emoncms/Modules/feed/engine/TimestoreApi.php on line 92</p>
<p>Fatal error: Call to undefined function curl_init() in /var/www/emoncms/Modules/feed/engine/TimestoreApi.php on line 92</p>
<p>
	Any ideas?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14793"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 03/09/2013 - 10:31.</div>
    <div class="content">
     <p>tdereus: a couple of things you need to do:</p>
<p>1) create a fresh copy of settings.php from the new default.settings.php, insert the timestore adminkey and mysql settings.</p>
<p>2) install php-curl: sudo apt-get install php5-curl</p>
<p>That should sort it</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14794"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3227.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3227.jpg" alt="tdereus&#039;s picture" title="tdereus&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3227.html" title="View user profile.">tdereus</a> on Tue, 03/09/2013 - 11:03.</div>
    <div class="content">
     <p>Thanks Trystan that sorted it all out.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14821"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Tue, 03/09/2013 - 17:38.</div>
    <div class="content">
     <p>Hi</p>
<p>Well I finally got everything converted with a sleep of 2 and a limit of 5000 in the query.</p>
<p>The big question for me is why I was losing the connection to the MYsql&nbsp;server. My Pi is booting and running from a USB hard disk as I had so much trouble with SD cards. It has run a lot longer from the hard disk compared to the SD cards but I have still had it just stop working on one occasion.&nbsp;</p>
<p>My immediate thought&nbsp;is to swap the Pi for a different one to see if that makes a difference. If any one has any thoughts I would appreciate it.</p>
<p>Is there a non destructive SELECT query I could run to test the MYsql connection. I am thinking of something I can run on the existing setup, swap the Pi and run the query again to see the problem has changed or even better been solved.</p>
<p>As I have 2 feeds that are DAILY I understand from Paul they will remain MYsql so a lost connection would still be a problem.</p>
<p>The other thing I would like to setup is a daily back up of all &nbsp;the emoncms data on to my network server where I have a full backup regime running.</p>
<p>What would be best approach to achieve this. Where are the data files located now I am using timestore and MYsql? The Pi is connected to the network (Which is a Windows network. Sorry, I know I am a sinner but some of our commercial software is Windows only). Should I start a new thread on these subjects?</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14843"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 04/09/2013 - 10:46.</div>
    <div class="content">
     <p>Hello Ian, I&#39;ve been working on a replication script that will copy all the feeds off one instance of emoncms to another and only download new data since the last download as it where. Can your backup be another instance of emoncms, can you run an instance of emoncms on your backup server? or would it need to be datafiles only.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14844"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 04/09/2013 - 10:51.</div>
    <div class="content">
     <p>Mysql data is located in:</p>
<p>/var/lib/mysql/emoncms &nbsp; &nbsp; (if emoncms is your database name)</p>
<p>Timestore data is located in</p>
<p>/var/lib/timestore</p>
<p>you can just copy or rsync the files from those directories to your backup. (you will need to use sudo) Rsync though scans through the data files for changes and this process of scanning can take a lot of time, the replication script I&#39;ve been working on is much faster as it just asks when was the last datapoint on the backup and then downloads all new datapoints from the main system since that last datapoint on the backup</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14851"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sjee&#039;s picture" title="sjee&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by sjee (not verified) on Wed, 04/09/2013 - 14:35.</div>
    <div class="content">
     <p>Is it possible to update a timestore&nbsp;value using the&nbsp;&amp;time=UNIXTIME? I would like to change a value several times within an interval step.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14856"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 04/09/2013 - 15:47.</div>
    <div class="content">
     <p>You can update an existing value in timestore by using feed/update or feed/insert with&nbsp;&amp;time=UNIXTIME.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14857"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3371.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bob Smith&#039;s picture" title="Bob Smith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3371.html" title="View user profile.">Bob Smith</a> on Wed, 04/09/2013 - 16:00.</div>
    <div class="content">
     <p>Sorry Trystan, but daily data is still not resetting for me and I have no data showing in any graphs (which makes fixing them in editdaily impossible).</p>
<p>Just checked again and everything under emoncms&nbsp;was up to date before midnight last night and rfm12piphp&nbsp;was restarted.</p>
<p>Is anyone else still experiencing this?</p>
<p>Bob</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14860"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Wed, 04/09/2013 - 17:16.</div>
    <div class="content">
     <p>Hi Trystan</p>
<p>So long as I can set up another instance of emoncms on a Windows computer that would be fine. Installing wampserver now. Is there a simple way to clone the Pi server onto the backup instance of emoncms?&nbsp;Presumably it is a matter of copying the appropriate files from the Pi.</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14864"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 04/09/2013 - 21:52.</div>
    <div class="content">
     <p>Bob: it sounds to me like it may be another issue if the graphs are not showing at all. What&#39;s your setup? is it a raspberrypi?</p>
<p>Do you see anything in your web browsers javascript console, any errors? I guess you can log in, logout, navigate inputs and feeds?</p>
<p>Did you run feed conversions or did you just update the emoncms master and raspberrypi module?</p>
<p>Ian, the replication script doesnt need timestore running to copy the files so that should work ok, but we do need to get timestore to compile and work on windows to then access the data on the backup emoncms.</p>
<p>Il get the replication script up on github</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14866"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3371.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bob Smith&#039;s picture" title="Bob Smith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3371.html" title="View user profile.">Bob Smith</a> on Thu, 05/09/2013 - 07:45.</div>
    <div class="content">
     <p>Hi Trystan,</p>
<p>Yes, a raspberrypi setup but its only the daily feed graphs that are not showing. All the timestore feeds and graphs appear to be working. After some issues with conversion this is pretty much a fresh&nbsp;feed set-up.</p>
<p>I have 5 daily feeds, one kWh/d plus 2 max/min, whose current values show on the feeds page and on my dashboards. However, looking at mySQL data base it doesn&#39;t seem to be storing values for these feeds, hence no daily values and graphs. All the other feeds are still updating in mySQL&nbsp;as well as timestore.</p>
<p>Any thoughts?</p>
<p>Bob</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14867"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 05/09/2013 - 08:53.</div>
    <div class="content">
     <p>Bob, Trystan&nbsp;suspects that it may have been an issue with&nbsp;the raspberrypi_run script needing to be restarted, which you appear to have done, but, did you create the DAILY feeds <strong>BEFORE </strong>restarting the&nbsp;the raspberrypi_run script?</p>
<p>If so, meta entries for the daily feeds may have been created in the FEEDS table, but not the corresponding data table, and you may have to delete the existing DAILY feeds and re-add them.</p>
<p>If not, then Trystan may be able to help.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14871"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3227.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3227.jpg" alt="tdereus&#039;s picture" title="tdereus&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3227.html" title="View user profile.">tdereus</a> on Thu, 05/09/2013 - 11:51.</div>
    <div class="content">
     <p>Hi Trystan,</p>
<p>I have migrated my feeds to timestore now. The setup I have is local emoncms instance on a raspberry PI running raspberrypi for gathering feed data. The local emoncms also forwards data to remote emoncms instance I am running elsewhere.</p>
<p>What I have noticed is the the remote instance (also running timestore) has all the data writing to disk correct and is displaying correctly as well. However the local emoncms instance does not seem to be writing to the timestore on disk (no timestore files in /var/lib/timestore) even though the timestore is running and admin key is correct. </p>
<p>Any suggestions?</p>
<p>Tim</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14875"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 05/09/2013 - 12:28.</div>
    <div class="content">
     <p>I&#39;ve put together a special updater script for raspberrypi installs which automatically goes through all the update steps, if youve tried updating manually on a pi setup following the steps outlined on the emoncms repo page but its not working, it may still be worth running this updater script as it may fix any missed steps.</p>
<p>1) ssh into the pi (ssh pi@PI-IPADDRESS, default password: raspberry)</p>
<pre>
2) git clone <a href="https://github.com/emoncms/usefulscripts.git" title="https://github.com/emoncms/usefulscripts.git">https://github.com/emoncms/usefulscripts.git</a> (or git pull if you already have it)</pre><p>3) Run the script</p>
<pre>
cd usefulscripts
sh update_pi_emoncms.sh</pre><p>That will then run through the update, it takes a while to complete</p>
<p>4) Once complete login to emoncms (username: raspi, password: raspberry) and navigate to the admin tab and run the database updater</p>
<p>5) lastly call:</p>
<pre>
sudo /etc/init.d/rfm12piphp restart</pre><p>At this point the system should be working as normal, next you might like to convert your feeds to timestore, navigate to the Extras tab and then convert to timestore and follow the instructions there to convert the feeds.</p>
<p>tdereus, Bob: have a go at running the updater script it may sort the issue.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14878"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 05/09/2013 - 13:01.</div>
    <div class="content">
     <p>If after the update but before converting the feeds nothing shows when you try and view the visualisations, try clearing your browser cache, this seems to be a consistent error on firefox that is fixed by clicking the refresh button (right hand side of the address bar)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14880"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3371.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bob Smith&#039;s picture" title="Bob Smith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3371.html" title="View user profile.">Bob Smith</a> on Thu, 05/09/2013 - 15:28.</div>
    <div class="content">
     <p>Trystan, ran the script, everything seemed ok until just after the php5-curl install, then:</p>
<p>---------------------------------------------------<br />
	Installing php5-curl<br />
	---------------------------------------------------<br />
	Get:1 <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy Release.gpg [490 B]<br />
	Get:2 <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy Release [14.4 kB]<br />
	Get:3 <a href="http://archive.raspberrypi.org/" title="http://archive.raspberrypi.org">http://archive.raspberrypi.org</a> wheezy Release.gpg [490 B]<br />
	Get:4 <a href="http://archive.raspberrypi.org/" title="http://archive.raspberrypi.org">http://archive.raspberrypi.org</a> wheezy Release [7215 B]<br />
	Get:5 <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy/main armhf Packages [7413 kB]<br />
	Get:6 <a href="http://archive.raspberrypi.org/" title="http://archive.raspberrypi.org">http://archive.raspberrypi.org</a> wheezy/main armhf Packages [7411 B]<br />
	Ign <a href="http://archive.raspberrypi.org/" title="http://archive.raspberrypi.org">http://archive.raspberrypi.org</a> wheezy/main Translation-en<br />
	Hit <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy/contrib armhf Packages<br />
	Hit <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy/non-free armhf Packages<br />
	Hit <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy/rpi armhf Packages<br />
	Ign <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy/contrib Translation-en<br />
	Ign <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy/main Translation-en<br />
	Ign <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy/non-free Translation-en<br />
	Ign <a href="http://mirrordirector.raspbian.org/" title="http://mirrordirector.raspbian.org">http://mirrordirector.raspbian.org</a> wheezy/rpi Translation-en<br />
	Fetched 7443 kB in 1min 1s (120 kB/s)<br />
	Reading package lists... Error!<br />
	E: Problem parsing dependency Depends<br />
	E: Error occurred while processing biomaj-watcher (NewVersion2)<br />
	E: Problem with MergeList /var/lib/apt/lists/mirrordirector.raspbian.org_raspbian_dists_wheezy_contrib_binary-armhf_Packages<br />
	E: Failed to truncate file - ftruncate (30: Read-only file system)<br />
	E: Problem renaming the file /var/cache/apt/pkgcache.bin.zNw3HC to /var/cache/apt/pkgcache.bin - rename (30: Read-only file system)<br />
	E: The package lists or status file could not be parsed or opened.<br />
	Segmentation fault<br />
	Segmentation fault<br />
	Segmentation fault<br />
	---------------------------------------------------<br />
	Updating raspberrypi module<br />
	---------------------------------------------------<br />
	Updating raspberrypi module<br />
	Segmentation fault<br />
	Segmentation fault<br />
	Segmentation fault<br />
	Segmentation fault<br />
	Segmentation fault<br />
	Segmentation fault<br />
	---------------------------------------------------<br />
	Updating event module<br />
	---------------------------------------------------<br />
	Updating event module<br />
	Segmentation fault<br />
	---------------------------------------------------<br />
	Updating or installing converttotimestore module<br />
	---------------------------------------------------<br />
	Downloading converttotimestore module<br />
	Segmentation fault</p>
<p>Pi would not sudo reboot or hard reboot. Currently restoring last saved image....</p>
<p>Bob</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14883"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 05/09/2013 - 16:20.</div>
    <div class="content">
     <p>O dear! that wasnt supposed to happen! it appears it was just running the standard linux sudo apt-get update process at that point. o dear!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14893"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3371.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bob Smith&#039;s picture" title="Bob Smith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3371.html" title="View user profile.">Bob Smith</a> on Thu, 05/09/2013 - 19:26.</div>
    <div class="content">
     <p>Thought my sd card had bitten the dust for a while there but the second restore of saved image worked. Will try Paul&#39;s suggestion of recreating the daily feeds before I risk the script again.</p>
<p>Bob</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14906"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3371.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bob Smith&#039;s picture" title="Bob Smith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3371.html" title="View user profile.">Bob Smith</a> on Fri, 06/09/2013 - 09:05.</div>
    <div class="content">
     <p>All back and working, including daily feeds, graphs, etc...&nbsp;</p>
<p>Recreating the feeds didn&#39;t work on the first restored image and running the script caused a similar crash to before. So, using a pre timestore image I ran the update script again, which worked on the second attempt after the pi hung on the first.&nbsp;</p>
<p>Not sure why this turned into such an odyssey but thanks for the help getting it all working.</p>
<p>&nbsp;</p>
<p>Bob&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14908"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Fri, 06/09/2013 - 15:09.</div>
    <div class="content">
     <p>Hi Trystan</p>
<p>I have set up a wamp server on the windows PC and installed emoncms (quite a learning curve getting apache to work across the network). &nbsp;I am &nbsp;working my way through backupemoncms.php.</p>
<p>I have followed the stages 1 to 4 and all worked as expected and I think I understand what was being achieved. I could not do an ssh&nbsp;into the backup machine it being a Windows PC (connection refused), so I just went into Mysql from a command window.</p>
<p>I am stuck at stage 5)</p>
<p>&nbsp;</p>
<p>5) Copy over feeds and users table export from master server<br />
	&nbsp; scp username@ipaddress:users.sql /home/username</p>
<p>&nbsp; scp username@ipaddress:feeds.sql /home/username</p>
<p>As far as I can make out this needs ssh&nbsp;. The only way I can find to ssh into a Windows PC is to install cygwin. Bearing in mind I am on a Windows PC is there another way to do this. Or will I have to get ssh&nbsp;working anyway to run the script? As far as I can make out that may not be the case.</p>
<p>Out of interest I assume that username after scp is my username on the Pi and the ip address is that of the Pi. Is the username after home/ also the username on the pi?</p>
<p>&nbsp;</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14912"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3227.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3227.jpg" alt="tdereus&#039;s picture" title="tdereus&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3227.html" title="View user profile.">tdereus</a> on Fri, 06/09/2013 - 10:23.</div>
    <div class="content">
     <p>Trystan,</p>
<p>Following up on an earlier post, the browser refresh didn&#39;t solve the issue of feeds data not being written to timestore (however mysql works ok) - see attached screenshot.</p>
<p>As you can see the timestore directory is empty, timestore is running succesfully.</p>
<p>pi@pieater /var/www/emoncms $ ls /var/lib/timestore/<br />
	<span style="font-family: Arial, Verdana, sans-serif;">adminkey.txt</span></p>
<p>pi@pieater /var/www/emoncms $ sudo /etc/init.d/timestore status<br />
	Timestore is <strong>running</strong><br />
	pi@pieater /var/www/emoncms $</p>
<p>Tim</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14926"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 06/09/2013 - 15:09.</div>
    <div class="content">
     <p>tdereus, Im guessing the mysql data is still there, sounds like the conversion got as fas as changing the feed meta data but no actual data conversion. If you can change the engine field back to mysql in the feeds mysql table you could have another go at conversion. Are you familiar with mysql?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14927"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 06/09/2013 - 15:12.</div>
    <div class="content">
     <p>I&#39;ve removed sudo apt-get update from the update script so that we can be sure to isolate issues caused by running it vs the update script. If php5-curl installation fails because it cant find the sources, sudo apt-get update will need to be run.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15005"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3818.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3818.png" alt="fversteegen&#039;s picture" title="fversteegen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3818.html" title="View user profile.">fversteegen</a> on Tue, 10/09/2013 - 08:16.</div>
    <div class="content">
     <p>Is there, by any chance, a way to continue using Emoncms without using Timestore? I do see the benefits of it, but I do not have enough privileges to install it on my cohosted webserver.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15093"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 11/09/2013 - 21:59.</div>
    <div class="content">
     <p>fversteegen: yes, in fact I have just pushed an update today that allows you to change the default_engine to mysql&nbsp;that would allow use of emoncms&nbsp;exactly as before.</p>
<p>I have also added another feed engine called phptimeseries&nbsp;which is much faster than mysql&nbsp;but slower than timestore and without averaging, it also uses the same datafile format as mysql so its just a matter of copying the mysql datafiles. To use phptimeseries&nbsp;you need&nbsp;privileges to create a folder and assign www-data access to it.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15094"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 11/09/2013 - 22:00.</div>
    <div class="content">
     <p>to change the default engine, see the default.settings.php file after pulling in the latest update.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15100"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/572.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-572.jpg" alt="robur&#039;s picture" title="robur&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/572.html" title="View user profile.">robur</a> on Thu, 12/09/2013 - 09:16.</div>
    <div class="content">
     <p>Thanks Trystan,</p>
<p>Just trying out the different options for data storage now :-)</p>
<p>May I ask where the data for both phptimeseries &amp; TimeStore are stored.&nbsp; It looks TimeStore is a separate install from EMONCMS which might be tricky on a shared server, is phptimeseries the same or can we access this from within the default EMONCMS install?</p>
<p>Cheers.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15102"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 12/09/2013 - 11:05.</div>
    <div class="content">
     <p>robur:</p>
<p>The default folder for phptimeseries is /var/lib/phptimeseries but you can change it really easily.</p>
<p>If you navigate to the phptimeseries engine php script, which is in Modules/feed/engine/PHPTimeSeries.php</p>
<p><a href="https://github.com/emoncms/emoncms/blob/master/Modules/feed/engine/PHPTimeSeries.php" title="https://github.com/emoncms/emoncms/blob/master/Modules/feed/engine/PHPTimeSeries.php">https://github.com/emoncms/emoncms/blob/master/Modules/feed/engine/PHPTi...</a></p>
<p>Change line 15 to /home/username/phptimeseries</p>
<p>or on shared servers you will usually have a web accessible folder called public_html and a non web accessible folder. set the directory to the <strong>non</strong> web accessible folder, otherwise someone could potentially just download your data directly.</p>
<p>TimeStore files are stored in /var/lib/timestore</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15114"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 12/09/2013 - 16:51.</div>
    <div class="content">
     <p>Glyn and I are thinking of replacing both:</p>
<p><a href="http://emoncms.org/site/docs/installlinux" title="http://emoncms.org/site/docs/installlinux">http://emoncms.org/site/docs/installlinux</a></p>
<p>and most of</p>
<p><a href="http://emoncms.org/site/docs/raspberrypibuild" title="http://emoncms.org/site/docs/raspberrypibuild">http://emoncms.org/site/docs/raspberrypibuild</a></p>
<p>with a bash script based installer to make the process easier.</p>
<p>Would it be useful to maintain a full install guide in the documentation or would looking through the bash script to see the steps be sufficient.</p>
<p>I guess it might be useful to have separate install notes for shared server&#39;s with limited access.</p>
<p>I would welcome any other thoughts on installation procedure.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15115"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/572.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-572.jpg" alt="robur&#039;s picture" title="robur&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/572.html" title="View user profile.">robur</a> on Thu, 12/09/2013 - 18:02.</div>
    <div class="content">
     <p>Hi Trystan,</p>
<p>Would be great to have some basic notes on each install type: shared server, raspi, windows, linux etc - just with pointers guiding what needs installing (in addition to EMONCMS), a link to the download and a brief description on how to do it - this would give folks like me who are just stepping in enough info to understand the basic bones of EMONCMS :-)&nbsp; Maybe a footnote on which addons are available, what they do and how to install would also be great :-)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15117"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 12/09/2013 - 18:49.</div>
    <div class="content">
     <p>Robur, thanks, one of the issues at the moment I think is the large number of steps required to install: php, mysql, apache, configure mod rewrite, install git, install emoncms, timestore, settings etc. The bash script would handle all this itself which would then make it possible to write a much briefer installation guide.</p>
<p>From a terminal perspective on linux it would just be a matter of calling sh emoncms_install.sh and answering y/n to any questions.</p>
<p>For shared servers without terminal the script wouldnt be useful but the shared server will have most of the things already installed by the hosting company and using mysql or phptimeseries engine it should only be a few steps. Which yes would be a good idea to write as a brief guide.</p>
<p>The issue with the bash script might arrise with different versions of linux from debian and of course windows and mac. But if most installs are on raspberrypi&#39;s or ubuntu/debian bases systems it could help</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15118"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/572.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-572.jpg" alt="robur&#039;s picture" title="robur&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/572.html" title="View user profile.">robur</a> on Thu, 12/09/2013 - 19:35.</div>
    <div class="content">
     <p>Yip, I agree Trystan - too long and too hard to maintain as EMONCMS evolves I expect..... I was thinking more along the lines of below, perhaps weaving in a little more detail for the unusual bits like Timestore as things like MYSql are well covered on &#39;tinternet.</p>
<p>For shared server:</p>
<p>Download and install EMONCMS to server directory from: &quot;here&#39;</p>
<p>Download and install Timestore from &#39;here&#39; and install to this location by doing this....</p>
<p>Download and install phptimeseries from &#39;here&#39; and install to this location by doing this....</p>
<p>Download and install Script X from &#39;here&#39; and install to this location by doing this....</p>
<p>Create INPUTS by sending data to server</p>
<p>Send data to EMONCMS from Browser like this: mydomain.com/emoncms/inputs.......</p>
<p>Send data to EMONCMS from MCU like this: Open Socket &quot;mydomain.com&quot; Port = 80, Send &#39;GET /emoncms/inputs.......&#39;</p>
<p>In EMONCMS setup Feeds like this.....</p>
<p>Hurry - your done.</p>
<p>&nbsp;</p>
<p>IE a simple description of the steps needed to get up and running?</p>
<p>Dunno, might be that I&#39;m starting with too little knowledge but I would find it useful (eg I don&#39;t know if timestore and phptimeseries are separate installs and what I need to do to achieve a working timestore site).</p>
<p>I think any scripting to simplify the procedures would be great, especially if the rough outline of what the script is going to achieve is explained along the lines of above?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15120"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 12/09/2013 - 20:37.</div>
    <div class="content">
     <p>Automated scripts are fine when they work, but when they fail, they must supply accurate information as to where and why they failed. Then, provided you have the information to know what the question is that you need to ask, it&#39;s often easy enough to find the information you need. Therefore the basic requirements, the principle and the basic steps still need to be spelled out exactly, and with no assumptions regarding paths, locations, permissions etc - if the default is OK, a pound to a penny someone will have a non-default setup and it&#39;ll fail, and then if the requirement is written down, it&#39;s easy to rectify.</p>
<p>So sorry, but I think you need both an automated script and a written guide.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15154"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Sun, 15/09/2013 - 07:53.</div>
    <div class="content">
     <p>Hi - I have successfully converted to timestore and it all seems to be working first time - many thanks.</p>
<p>I want to make sure that the data is backed up.&nbsp; I have looked in /var/lib/timestore and can see some files in there - a set of six for each feed.&nbsp; However, none of these files seems to have been updated since the conversion.</p>
<p>Am I missing something?&nbsp; Are these files definitely the files used to store the current data?</p>
<p>Thanks for any help.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15155"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 15/09/2013 - 08:57.</div>
    <div class="content">
     <p>Check if your graphs are displaying historical data, if so, then the data will have been stored, (otherwise it would not have anything to display!).</p>
<p>ie,&nbsp;look at a REALTIME graph for say the past &nbsp;hour.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15164"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Sun, 15/09/2013 - 14:35.</div>
    <div class="content">
     <p>Many thanks - I was looking at the Feeds page on emoncms and everything was updating OK - so I assumed that the timestore was working.&nbsp; In fact, it was only after I rebooted, that it started working.&nbsp; It would be good if there was some checking that could be put in place in emoncms to show that timestore is not picking up the feeds.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15214"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Tue, 17/09/2013 - 14:03.</div>
    <div class="content">
     <p>Hi - everything seems to be working OK on timestore - many thanks.&nbsp; However, I am a bit concerned that the data is now stored in a way in which I can&#39;t easily view (or perhaps modify) the values, in the way I can using SQL.&nbsp; So, for example, if I wanted to check the minimum value of a feed on a particular day, I can&#39;t do this. Another example might be if I made a mistake in setting up the input processor and sent an incorrect value to a feed, I would want to be able to delete that value.</p>
<p>Are there are any tools that will allow viewing and perhaps modification of a timestore?&nbsp; The simplest tool might be just something that reads the timestore and dumps all the data to a csv file, and one that imports data from a file and either inserts or overwrites a timestore?</p>
<p>Any thoughts?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15230"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4277.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4277.jpg" alt="warlock&#039;s picture" title="warlock&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/4277.html" title="View user profile.">warlock</a> on Wed, 18/09/2013 - 07:02.</div>
    <div class="content">
     <p>Hi Guys,</p>
<p>&nbsp;</p>
<p>With timestore&nbsp;once I have created a log to feed process I can see anywhere were I have set the interval to, and also don&#39;t see the option to change this interval, except if I delete it and recreate it ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15234"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 18/09/2013 - 08:52.</div>
    <div class="content">
     <p>That is normal with Timestore, you can&#39;t change the time period once you&#39;ve set it.</p>
<p>Only way to change it (at this time) is to delete the feed and re add, it with a different time period.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15243"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="pacaj2am&#039;s picture" title="pacaj2am&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by pacaj2am (not verified) on Wed, 18/09/2013 - 19:41.</div>
    <div class="content">
     <p>I am looking for information how to backup timestore database. I was surprised - my SD card on raspberry pi was corrupted, so i downloaded new version.</p>
<p>&nbsp;</p>
<p>It&#39;s great, there is a faster and more performant storeage method, but how would i recover my data, if they will be corrupted?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15246"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 18/09/2013 - 20:12.</div>
    <div class="content">
     <p>You can backup your Timestore database easily.</p>
<p>Copy the entire contents of;</p>
<pre>
/var/lib/timestore/</pre><p>...and copy it back to restore.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15287"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="pacaj2am&#039;s picture" title="pacaj2am&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by pacaj2am (not verified) on Thu, 19/09/2013 - 20:20.</div>
    <div class="content">
     <p>and what of file is corrupted?</p>
<p>&nbsp;</p>
<p>I have another problem. Might be it is when storing Big values, see</p>
<p><a href="http://emoncms.org/vis/auto?feedid=20663" title="http://emoncms.org/vis/auto?feedid=20663">http://emoncms.org/vis/auto?feedid=20663</a></p>
<p>I&#39;m storing values of pressure in Pascals (something around 100000). The feed is not displayed well in any of graphs... :-(</p>
<p>Jan</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15288"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 19/09/2013 - 20:34.</div>
    <div class="content">
     <p>If it is corrupted, then restore a backup.</p>
<p>You could always work with kPa&#39;s as a unit? is it necessary to log as Pa?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15319"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="pacaj2am&#039;s picture" title="pacaj2am&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by pacaj2am (not verified) on Fri, 20/09/2013 - 18:15.</div>
    <div class="content">
     <p>I found that on emoncms.org there is better version of timestore. The bug is on my raspberry pi.</p>
<p><a href="http://emoncms.paci.name/vis/auto?feedid=26" title="http://emoncms.paci.name/vis/auto?feedid=26">http://emoncms.paci.name/vis/auto?feedid=26</a></p>
<p>&nbsp;</p>
<p>Just don&#39;t know, whether problem is in emoncms or timestore</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15321"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 20/09/2013 - 19:13.</div>
    <div class="content">
     <p>Jan, if you are wanting help, you need to be more specific about what the problem is!</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15329"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1014.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DaveF&#039;s picture" title="DaveF&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1014.html" title="View user profile.">DaveF</a> on Fri, 20/09/2013 - 22:56.</div>
    <div class="content">
     <p>Can someone please help me</p>
<p>I am carefully following instructions here:-</p>
<p><a href="http://emoncms.org/site/docs/raspberrypibuild">http://emoncms.org/site/docs/raspberrypibuild</a></p>
<p>at this point in the install:-</p>
<h4>
	Install php5-curl (needed for timestore)</h4>
<p>I get the following error messages - am now uncertain what to do? Can anyone give me a steer</p>
<p>Dave</p>
<p><code>I get the following errors</code></p>
<p><font color="#000000" face="Calibri" size="3">Do you want to continue [Y/n]? Y</font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><font face="Calibri"><font color="#000000" size="3">Err <a href="http://mirrordirector.raspbian.org/raspbian/" title="http://mirrordirector.raspbian.org/raspbian/">http://mirrordirector.raspbian.org/raspbian/</a> wheezy/main php5-common armhf 5.4.4-14+deb7u3 </font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp;&nbsp;</font></span><font color="#000000" size="3">404</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">Not Found</font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><font face="Calibri"><font color="#000000" size="3">Err <a href="http://mirrordirector.raspbian.org/raspbian/" title="http://mirrordirector.raspbian.org/raspbian/">http://mirrordirector.raspbian.org/raspbian/</a> wheezy/main libapache2-mod-php5filter armhf 5.4.4-14+deb7u3 </font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp;&nbsp;</font></span><font color="#000000" size="3">404</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">Not Found</font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><font face="Calibri"><font color="#000000" size="3">Err <a href="http://mirrordirector.raspbian.org/raspbian/" title="http://mirrordirector.raspbian.org/raspbian/">http://mirrordirector.raspbian.org/raspbian/</a> wheezy/main php5-curl armhf 5.4.4-14+deb7u3</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">404</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">Not Found</font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><font face="Calibri"><font color="#000000" size="3">Failed to fetch http://mirrordirector.raspbian.org/raspbian/pool/main/p/php5/php5-common_5.4.4-14+deb7u3_armhf.deb</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">404</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">Not Found</font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><font face="Calibri"><font color="#000000" size="3">Failed to fetch http://mirrordirector.raspbian.org/raspbian/pool/main/p/php5/libapache2-mod-php5filter_5.4.4-14+deb7u3_armhf.deb</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">404</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">Not Found</font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><font face="Calibri"><font color="#000000" size="3">Failed to fetch http://mirrordirector.raspbian.org/raspbian/pool/main/p/php5/php5-curl_5.4.4-14+deb7u3_armhf.deb</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">404</font><span style="mso-spacerun: yes;"><font color="#000000" size="3">&nbsp; </font></span><font color="#000000" size="3">Not Found</font></font></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><font color="#000000" face="Calibri" size="3">E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?</font></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><textarea id="cke_pastebin" style="left: -1000px; top: 63.59px; width: 1px; height: 1px; overflow: hidden; position: absolute;"></textarea></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15331"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4277.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4277.jpg" alt="warlock&#039;s picture" title="warlock&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/4277.html" title="View user profile.">warlock</a> on Sat, 21/09/2013 - 05:54.</div>
    <div class="content">
     <p>try running this first then the other commands&nbsp;</p>
<p>#sudo apt-get update</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15332"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1014.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DaveF&#039;s picture" title="DaveF&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1014.html" title="View user profile.">DaveF</a> on Sat, 21/09/2013 - 08:16.</div>
    <div class="content">
     <p>Rolf</p>
<p>that resolved the&nbsp;the curl installation and errors - many thanks</p>
<p>we need to add this command to the raspberypibuild - at the beginning?</p>
<p>Dave</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15333"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1014.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DaveF&#039;s picture" title="DaveF&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1014.html" title="View user profile.">DaveF</a> on Sat, 21/09/2013 - 08:38.</div>
    <div class="content">
     <p>Continuing to follow the raswpberrypibuild &nbsp;install instruction brings up an error during section 7</p>
<p>Git core is already at the newest version - Good</p>
<p>changed to the /var/www directory as instructed</p>
<p>however when I input:-</p>
<p><a href="mailto:pi@raspberrypi">pi@raspberrypi</a> /var/www $ git clone <a href="https://github.com/emoncms/emoncms.git">https://github.com/emoncms/emoncms.git</a><br />
	fatal: could not create work tree dir &#39;emoncms&#39;.: Permission denied</p>
<p>I get back the above error message - I don&#39;t think I have an emoncms directory at this point - are the instruction correct?</p>
<p>I am being meticulous with the instruction or trying to be! - because I have spent some hours trying to get this to work - some help again would be appreciated.</p>
<p>Dave</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15336"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1014.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DaveF&#039;s picture" title="DaveF&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1014.html" title="View user profile.">DaveF</a> on Sat, 21/09/2013 - 11:30.</div>
    <div class="content">
     <p><a href="mailto:pi@raspberrypi"><font color="#3399cc">pi@raspberrypi</font></a> /var/www $ git clone <a href="https://github.com/emoncms/emoncms.git"><font color="#3399cc">https://github.com/emoncms/emoncms.git</font></a></p>
<p>Would I be correct to insert sudo at the start of this line? to give me permission</p>
<p>Dave</p>
<p><textarea id="cke_pastebin" style="left: -1000px; top: 12px; width: 1px; height: 1px; overflow: hidden; position: absolute;"></textarea></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15338"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 21/09/2013 - 13:28.</div>
    <div class="content">
     <p>Yes, it may help</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15340"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1014.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DaveF&#039;s picture" title="DaveF&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1014.html" title="View user profile.">DaveF</a> on Sat, 21/09/2013 - 16:34.</div>
    <div class="content">
     <p><br type="_moz" /><br />
	Adding sudo&nbsp; to the start of the line helps - in that the command runs</p>
<p>however the database does not start up when I have been through the rest of the install - ie call local ip/emoncms/ the screen is blank.</p>
<p>I note that to edit settings.php in the raspberry pi that been running on&nbsp;the original&nbsp;SD card since January 2013</p>
<p>does not require the sudo command to edit but the new install does - can you help here Paul</p>
<p>or perhaps you can point me to a copy of the database image that runs !</p>
<p>Thank in advance for your support</p>
<p>Dave</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15343"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="pacaj2am&#039;s picture" title="pacaj2am&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by pacaj2am (not verified) on Sat, 21/09/2013 - 20:17.</div>
    <div class="content">
     <p>Hello,</p>
<p>&nbsp;</p>
<p>the problem is following - i have same data in two feeds, one stored locally on raspberry pi,one stored in opencms.org. Both feeds are public. You can see at:</p>
<p><strong>http://emoncms.org/vis/auto?feedid=20663</strong></p>
<p><strong>http://emoncms.paci.name/vis/auto?feedid=26</strong></p>
<p>&nbsp;</p>
<p>i made small invesigation, data are presented well, problem is in data returnd to graph:</p>
<p><strong>&nbsp;http://emoncms.paci.name/feed/data.json?&amp;id=26&amp;start=1379188126124&amp;end=1379792926125</strong></p>
<p>returns just 4 points.</p>
<p><strong>http://emoncms.org/feed/data.json?&amp;id=20663&amp;start=1379188126124&amp;end=1379792926125</strong></p>
<p>returns whole set of points.</p>
<p>&nbsp;</p>
<p>Data file on local raspberry pi is almost empty:</p>
<p>ls -la /var/lib/timestore/*26_?_.dat<br />
	-rw-r--r-- 1 root root 20 z&aacute;ř 21 22:07 /var/lib/timestore/0000000000000026_0_.dat<br />
	-rw-r--r-- 1 root root&nbsp; 4 z&aacute;ř 21 22:07 /var/lib/timestore/0000000000000026_1_.dat<br />
	-rw-r--r-- 1 root root&nbsp; 4 z&aacute;ř 21 22:07 /var/lib/timestore/0000000000000026_2_.dat<br />
	-rw-r--r-- 1 root root&nbsp; 4 z&aacute;ř 21 22:07 /var/lib/timestore/0000000000000026_3_.dat<br />
	-rw-r--r-- 1 root root&nbsp; 4 z&aacute;ř 21 22:07 /var/lib/timestore/0000000000000026_4_.dat<br />
	-rw-r--r-- 1 root root&nbsp; 4 z&aacute;ř 21 22:07 /var/lib/timestore/0000000000000026_5_.dat</p>
<p>&nbsp;</p>
<p>It seems to me, that only when by accident value is without decimal part, it is stored locally.</p>
<p>&nbsp;</p>
<p>No errors in /var/log/apache2&nbsp;or /var/log.</p>
<p>What other info would you like?</p>
<p>Thank you in advance</p>
<p>Jan</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15344"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1014.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DaveF&#039;s picture" title="DaveF&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1014.html" title="View user profile.">DaveF</a> on Sat, 21/09/2013 - 20:48.</div>
    <div class="content">
     <p>Repeated the install from end to end - and now have an image that works</p>
<p>Likely learns:- Don&#39;t assume you will not need the apt-get update very early on - I also carried out the rasp configure update at this point and rebooted. before entering the main install</p>
<p>All the permissions worked as documented no extra sudo commands&nbsp;are required</p>
<p>When installing the timstore data base i had to stop / start and print out the key as per instructions</p>
<p>and be really carful with the editing of settings.php</p>
<p>Regards and thanks all - this forum is a great place to get information from</p>
<p>David</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15345"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1014.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DaveF&#039;s picture" title="DaveF&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/1014.html" title="View user profile.">DaveF</a> on Sat, 21/09/2013 - 20:51.</div>
    <div class="content">
     <p>Additionally&nbsp;- it take about 1 hours from start to finish to follow the install instruction and as usual once you have succeeded it look so much clearer on re-reading!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15346"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 21/09/2013 - 21:11.</div>
    <div class="content">
     <p>Dave, great news!</p>
<p>Jan, I see you&#39;ve only got a couple of day&#39;s data and if you don&#39;t mind losing it, I would delete the feed and delete the input. Once your local emoncms&nbsp;picks the input up again, then log a feed to it.<br />
	I&#39;m thinking that somehow it has got corrupted, and a fresh start may sort it out.<br />
	As far as I am aware, emoncms.org is using the same timestore engine as your local installation.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15348"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="pacaj2am&#039;s picture" title="pacaj2am&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by pacaj2am (not verified) on Sat, 21/09/2013 - 21:39.</div>
    <div class="content">
     <p>It is not that easy... i am doing calcualtion in (value is not directly logged). In feed list i can see correct value</p>
<p>Here you can see definition part from mysql:</p>
<pre>
mysql&gt; select * from feeds where id in (26, 27);
+----+-------+--------+------+---------------------+--------+----------+--------+------+--------+
| id | name  | userid | tag  | time                | value  | datatype | public | size | engine |
+----+-------+--------+------+---------------------+--------+----------+--------+------+--------+
| 26 | Tlak  |      1 | Tlak | 2013-09-21 23:36:05 | 102771 |        1 |      1 |  312 |      1 |
| 27 | Tlak2 |      1 | NULL | 2013-09-21 23:36:05 | 102771 |        1 |      0 | NULL |      1 |
+----+-------+--------+------+---------------------+--------+----------+--------+------+--------+
2 rows in set (0.00 sec)

mysql&gt; select * from input where id in (9,10);
+----+--------+------+-------------+--------+-----------------------+---------------------+-------+--------+
| id | userid | name | description | nodeid | processList           | time                | value | record |
+----+--------+------+-------------+--------+-----------------------+---------------------+-------+--------+
|  9 |      1 | 3    |             |      8 |                       | 2013-09-21 23:36:05 |   771 |      1 |
| 10 |      1 | 4    |             |      8 | 2:1000,11:9,1:26,1:27 | NULL                |  NULL |      0 |
+----+--------+------+-------------+--------+-----------------------+---------------------+-------+--------+
2 rows in set (0.00 sec)</pre><p>Mightbe the problem is in computation?</p>
<p>What is quite strange are the decimal values in opencms.org, as there are none transfered (or generated).</p>
<p>The same thing is done with feed on emoncms.org.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15350"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 21/09/2013 - 22:35.</div>
    <div class="content">
     <p>Jan, you&#39;ve completely lost me now...<br />
	Hopefully someone else can help you.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15406"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 25/09/2013 - 11:09.</div>
    <div class="content">
     <p>I&#39;ve just updated the following installation and upgrade guides making them all consistent with each other and with background information on feed storage options.</p>
<p><a href="http://emoncms.org/site/docs/installlinux">http://emoncms.org/site/docs/installlinux</a></p>
<p><a href="http://emoncms.org/site/docs/raspberrypibuild">http://emoncms.org/site/docs/raspberrypibuild</a></p>
<p><a href="http://emoncms.org/site/docs/upgrading">http://emoncms.org/site/docs/upgrading</a></p>
<p>the main emoncms&nbsp;readme&nbsp;also reflects the same steps as in the install on linux guide</p>
<p><a href="https://github.com/emoncms/emoncms" style="font-size: 12px;"><span style="font-size: 12px;">https://github.com/</span>emoncms<span style="font-size: 12px;">/</span>emoncms</a></p>
<p>Let me know if you can spot any issues.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15407"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 25/09/2013 - 12:43.</div>
    <div class="content">
     <p>Just updated the windows installation guide too:</p>
<p><a href="http://emoncms.org/site/docs/installwindows">http://emoncms.org/site/docs/installwindows</a></p>
<p>The guide uses mysql as the default engine.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15408"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 25/09/2013 - 13:13.</div>
    <div class="content">
     <p>Details on using PHPTimeSeries on windows are also in the installation guide now <a href="http://emoncms.org/site/docs/installwindows">http://emoncms.org/site/docs/installwindows</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15410"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 25/09/2013 - 14:16.</div>
    <div class="content">
     <p>Jan decimals work ok for me, for example:</p>
<p><a href="http://emoncms.org/input/post.json?node=27&amp;csv=10.34" title="http://emoncms.org/input/post.json?node=27&amp;csv=10.34">http://emoncms.org/input/post.json?node=27&amp;csv=10.34</a></p>
<p>does transfer correctly all the way through to a visualisation.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15475"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2125.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-2125.jpg" alt="elyobelyob&#039;s picture" title="elyobelyob&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/2125.html" title="View user profile.">elyobelyob</a> on Sun, 29/09/2013 - 17:08.</div>
    <div class="content">
     <p>Considering upgrading on my FreeBSD install (which I have just got settled in after retiring my raspberry pi build). Any obvious issues I may hit with auto scripts etc?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15490"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 30/09/2013 - 10:01.</div>
    <div class="content">
     <p>I guess the auto scripts use sudo apt-get update / install, what does freebsd use? you could go through the scripts and change those entries</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15530"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Monk&#039;s picture" title="Monk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by Monk (not verified) on Tue, 01/10/2013 - 21:06.</div>
    <div class="content">
     <p>I&#39;m currently setting up my Pi to start off my engergy monitoring project. For storing data I want to try to put it on a usb drive with f2fs (lets see how long wear levellig will survive)</p>
<p>&nbsp;</p>
<p>What is the command line option to tell timestore to use another working path apart from /var/lib/timestore? I couldn&#39;t find this in the docs.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15568"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 03/10/2013 - 21:00.</div>
    <div class="content">
     <p>I think you&#39;d need to re-compile timestore after changing this line here:</p>
<p><a href="https://github.com/TrystanLea/timestore/blob/master/src/main.c#L43" title="https://github.com/TrystanLea/timestore/blob/master/src/main.c#L43">https://github.com/TrystanLea/timestore/blob/master/src/main.c#L43</a></p>
<p>recompiling is easy, just run make in the timestore directory</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15575"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Monk&#039;s picture" title="Monk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Timestore</h3>

    <div class="submitted">Submitted by Monk (not verified) on Fri, 04/10/2013 - 09:38.</div>
    <div class="content">
     <p>Many thanks for pointing out this one.</p>
<p>Just below the src you pointed to I find this:</p>
<p>&quot;Usage: %s [-d] [-v &lt;log level&gt;] [-p &lt;HTTP port&gt;] [-u &lt;run as user&gt;] [-D &lt;db path&gt;]\n\n&quot;<br />
	&quot;-a Use persistent admin key (if exists)\n&quot;<br />
	&quot;-d Don&#39;t daemonise - logs to stderr\n&quot;<br />
	&quot;-D Path to database tree\n\n&quot;<br />
	&quot;-p Override HTTP listen port\n&quot;<br />
	&quot;-u Run as specified user (not when -d specified)\n&quot;<br />
	&quot;-v Set logging verbosity\n&quot;</p>
<p>&nbsp;</p>
<p>Would the -D switch provide the same?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2651"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-DxSc8wPRLXvzIrix-92fK9MNPukx0UiCkNxsDt2bRHQ" value="form-DxSc8wPRLXvzIrix-92fK9MNPukx0UiCkNxsDt2bRHQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
