<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/1413 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:07:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Installation on Pi | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Installation on Pi</h3>
        <span class="submitted">Submitted by <a href="../user/1856.html" title="View user profile.">Elektitus</a> on Fri, 23/11/2012 - 09:46</span>
        <div class="content"><p>I have a problem when installing emoncms on a Raspberry Pi.<br />
	With the creation of &quot;settings&quot; file with &quot;$ cp default.settings.php settings.php&quot; gives the pi this message &quot;cp: cannot create regular file `settings.php&#39;: Permission denied&quot;.<br />
	How do I set the permissions to this file or dir, so I can create it. I did the installation 3 times and always the same problem. What did I wrong.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1410.html" class="topic-previous" title="Go to previous forum topic">‹ Large Number of CT&#039;s on emonTx</a>
              <a href="1405.html" class="topic-next" title="Go to next forum topic">Interfacing with SMA SunnyBoy PV Inverters (Bluetooth) ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-7565"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Installation on Pi</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Fri, 23/11/2012 - 10:32.</div>
    <div class="content">
     <p>Have you tried &#39;sudo&#39; before the command? See step 1:&nbsp;<a href="http://wiki.openenergymonitor.org/index.php?title=Raspberry_Pi#RFM12BPi_Setup">http://wiki.openenergymonitor.org/index.php?title=Raspberry_Pi#RFM12BPi_Setup</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7566"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2128.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jb79&#039;s picture" title="jb79&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Installation on Pi</h3>

    <div class="submitted">Submitted by <a href="../user/2128.html" title="View user profile.">jb79</a> on Fri, 23/11/2012 - 10:38.</div>
    <div class="content">
     <p>Hello!</p>
<p>Maybe you (the PI user) has insuffifficent rights, so you can try to copy the files with root rights:</p>
<p>Try:&nbsp; &quot;sudo&nbsp;cp default.settings.php settings.php&quot;</p>
<p>&nbsp;</p>
<p>If you are facing such problems again try to add &quot;sudo &quot; before the command to execute it with root rights.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7567"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Installation on Pi</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Fri, 23/11/2012 - 10:38.</div>
    <div class="content">
     <p>Hi</p>
<p>Are you following the instructions exactly and cutting and pasting the commands?</p>
<p>could it be these steps?</p>
<p>cd /var/<br />
	sudo chown pi www<br />
	cd www</p>
<p>I have just followed the instructions exactly and it &nbsp;worked for me.</p>
<p>It was my second attempt so I probably missed out a step the first time as I am using a tiny old monitor which makes the web instructions difficult to see. I kept the web open in one window and a terminal in the other. I had to fiddle the terminal settings so I could see the full page.</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7568"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1741.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1741.jpg" alt="ukmoose&#039;s picture" title="ukmoose&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Installation on Pi</h3>

    <div class="submitted">Submitted by <a href="../user/1741.html" title="View user profile.">ukmoose</a> on Fri, 23/11/2012 - 10:45.</div>
    <div class="content">
     <p>If you step back up the page to this section ... 7) Download Emoncms</p>
<p>there&#39;s the command</p>
<pre>
$ sudo chown pi www</pre><p>which changes the ownership of the directory www to the user pi.</p>
<p>(All the instructions assume that you are logging in as user pi)</p>
<p>If you want to check which user you are logged in as you can use the command.</p>
<pre>
$ who</pre><p>Assuming you are logged in as pi, if you check who owns the directory by:</p>
<pre>
$ cd /var

$ ls -latr</pre><p>the list that comes up, the first column of &quot;names&quot; most of which should be &quot;root&quot; list who owns the directory.&nbsp;This is the line that I see for the www directory&nbsp;</p>
<p>drwxr-xr-x&nbsp; 3 pi&nbsp;&nbsp; root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4096 Nov 11 21:33 www</p>
<p>If this isn&#39;t similar to what you see, you can run the command again, but will now need to also change the ownership of all the files you then copied in (the emoncms directory)</p>
<p>fortunately you can do this with one command ;-)</p>
<p>$ sudo chown -R pi www</p>
<p>This changes the ownership of the www directory to pi, and then does the same for all files recursively (-R)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7570"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1741.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1741.jpg" alt="ukmoose&#039;s picture" title="ukmoose&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Installation on Pi</h3>

    <div class="submitted">Submitted by <a href="../user/1741.html" title="View user profile.">ukmoose</a> on Fri, 23/11/2012 - 10:59.</div>
    <div class="content">
     <p>I have to politely disagree with the 2 suggestions to use sudo to copy the file</p>
<p>Sudo is the unix&nbsp;equivalent of using a sledgehammer to crack a nut.</p>
<p>Whilst it will allow you to copy the file, the file will end up with the wrong ownership and therefore permissions, which could easily cause something further down the line to break.</p>
<p>Copying a file using sudo ends up with the file being owned by root and not being able to be written to by the user pi. The very next line is for the user pi to edit that file.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7574"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1856.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Elektitus&#039;s picture" title="Elektitus&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Installation on Pi</h3>

    <div class="submitted">Submitted by <a href="../user/1856.html" title="View user profile.">Elektitus</a> on Fri, 23/11/2012 - 12:39.</div>
    <div class="content">
     <p>Problem solved. Thanks for the fast reply. I had to change the ownership of the www directory to pi. Thanks to Ukmoose.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/1413"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-u_C3PmK6iHAF7_hdE6lrnPwOSYFv2OSD2nKUZbepNYg" value="form-u_C3PmK6iHAF7_hdE6lrnPwOSYFv2OSD2nKUZbepNYg"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
