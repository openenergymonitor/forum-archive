<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/550 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:33:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>NanodeRF Ethernet problems, please help! - RESOLVED | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">NanodeRF Ethernet problems, please help! - RESOLVED</h3>
        <span class="submitted">Submitted by Guest on Mon, 02/04/2012 - 23:49</span>
        <div class="content"><p>Hello,</p>
<p>With great excitement two kits arrived on Friday, the emonBase (NanodeRF) and emonTX. I built the TX and it appears to be working, green LED flashes every 10secs, but I&#39;m having problems with the NanodeRF.</p>
<p>All the components are neatly soldered.&nbsp;</p>
<p>I&#39;ve uploaded the NanodeRF_Power_RTCrelay_GLCDtemp sketch into Arduino&nbsp;1.0 (Mac OS X) The green and red LED quickly flash to show sketch has been uploaded. The green LED remains on permanently thereafter.</p>
<p>I&#39;m using an IP Scanner tool to look for the NanodeRF and the IP address from DHCP&nbsp; but it never appears on the network. DHCP&nbsp;is active and working fine.&nbsp;</p>
<p>I&#39;ve also tried setting a static IP...</p>
<p>&nbsp; &nbsp; dhcp_status = ether.staticSetup(myip, gwip, dnsip); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // DHCP setup</p>
<p>and</p>
<p>&nbsp;</p>
<div>
	static byte gwip[] = { 192, 168, 1, 1 };</div>
<div>
	static byte myip[] = { 192, 168, 1, 205 };</div>
<div>
	static byte dnsip[] = { 192, 168, 1, 1 };</div>
<div>
	&nbsp;</div>
<div>
	but not sure if this is correct.</div>
<div>
	&nbsp;</div>
<div>
	The yellow LED on the ethernet&nbsp;connector flashes constantly.</div>
<div>
	The green LED on the ethernet connector is on, flashes for 10 seconds or so, then is not active at all.</div>
<div>
	&nbsp;</div>
<div>
	I&#39;ve reseated ICs</div>
<div>
	&nbsp;</div>
<div>
	I&#39;ve removed the &#39;brown-out&#39; capacity connecting pins 2-6 to see if that&#39;s causing a problem.&nbsp;</div>
<div>
	&nbsp;</div>
<div>
	Please could you confirm if there should be an IC or anything soldered to the underside of the PCB?</div>
<div>
	&nbsp;</div>
<div>
	&nbsp;</div>
<div>
	Can&#39;t think what else the problem is, any ideas as to why NanodeRF is not showing on my network? Do I need to set a MAC address?</div>
<p>static byte mymac[] = { 0x42,0x31,0x42,0x21,0x30,0x31 };</p>
<p>is included in the sketch as default. HELP!&nbsp;</p>
<p>thank you.</p>
<p>Jonathan</p>
<p>&nbsp;</p>
<p>Any help would be much appreciated.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="540.html" class="topic-previous" title="Go to previous forum topic">‹ Help fitting Micro SD and SRAM to NaNodeRF - RESOLVED </a>
              <a href="592.html" class="topic-next" title="Go to next forum topic">Case for EmonTX and temp sensor wiring ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-3638"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/905.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="robw&#039;s picture" title="robw&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/905.html" title="View user profile.">robw</a> on Tue, 03/04/2012 - 06:35.</div>
    <div class="content">
     <p>I had this with my NanodeRF..</p>
<p>In the end i changed the mac address from&nbsp;</p>
<pre>
<span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 17px; text-align: left; ">static byte mymac[] = { 0x42,0x31,0x42,0x21,0x30,0x31 };</span></pre><p>To</p>
<pre>
<span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 17px; text-align: left; ">static byte mymac[] = { 0x00,0x31,0x42,0x21,0x30,0x31 };</span></pre><p style="text-align: left;"><font color="#000000" face="Verdana, Arial, Helvetica, sans-serif" size="2"><span style="line-height: 17px;">and that fixed it.. Im&nbsp;not sure why.. Maybe its a restricted mac address.. I tried it with 2 different dhcp server non with play ball untill i changed the mac address.</span></font></p>
<p style="text-align: left;"><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: small; line-height: 17px; ">Rob</span></p>
<p style="text-align: left;">&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3639"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Tue, 03/04/2012 - 08:56.</div>
    <div class="content">
     <p>Thanks Rob,&nbsp;</p>
<p>I&#39;ve changed that too, but doesn&#39;t seem to change anything. I read your earlier post about Nanode&nbsp;DHCP&nbsp;issue and thought you&#39;d been through the same issues. :-)</p>
<p>I&#39;m wondering if I&#39;m missing something in the Arduino sketch. Would you be kind enough to post / email over your sketch so I can upload a working sketch? &nbsp;If you could highlight the variables, that would be helpful too.</p>
<p>jonathan&nbsp;at learningspaces dot net</p>
<p>When it uploads, does &#39;decode_reply&#39; and &#39;dhcp_dns&#39; also upload aswell?</p>
<p>thank you,</p>
<p>Jonathan</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3640"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/905.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="robw&#039;s picture" title="robw&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/905.html" title="View user profile.">robw</a> on Tue, 03/04/2012 - 09:35.</div>
    <div class="content">
     <p>Jonathan</p>
<p>I will email you tonight with the code.,.</p>
<p>Im not 100% sure its going to be much use as its for the GLCD&nbsp;+ solarPV but it will be a good start to see it work.. My file is&nbsp;emonGLCD_SolarPV.ino</p>
<p>Anyway im not sure if i changed both the first octets&nbsp;of the mac.</p>
<p>Eg</p>
<p>&nbsp;</p>
<pre style="width: 700px; background-color: rgb(238, 238, 238); padding-top: 0.75em; padding-right: 1.5em; padding-bottom: 0.75em; padding-left: 1.5em; font-size: 14px; border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(221, 221, 221); border-right-color: rgb(221, 221, 221); border-bottom-color: rgb(221, 221, 221); border-left-color: rgb(221, 221, 221); border-image: initial; color: rgb(0, 0, 0); line-height: 15px; text-align: left; ">
<span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 17px; ">static byte mymac[] = { 0x00,0x00,0x42,0x21,0x30,0x31 };</span></pre><p>But will look and email later..</p>
<p>Rob.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3641"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Tue, 03/04/2012 - 10:08.</div>
    <div class="content">
     <p>What output are you seeing&nbsp;in&nbsp;your serial window?</p>
<p>&nbsp;</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3642"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Tue, 03/04/2012 - 10:44.</div>
    <div class="content">
     <p>thanks Rob, will appreciate having someone elses code to trawl through.</p>
<p>J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3643"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Tue, 03/04/2012 - 10:46.</div>
    <div class="content">
     <p>Thanks for replying Lloyd,</p>
<p>There is nothing displayed in the serial window at all.&nbsp;</p>
<p>Unless I press the reset button, in which case I get...</p>
<p>&nbsp;</p>
<div>
	&#39;[webClient]&#39;</div>
<div>
	&nbsp;</div>
<p>and that&#39;s all. Very strange and not sure what to try next.</p>
<p>Any ideas?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3644"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Tue, 03/04/2012 - 12:13.</div>
    <div class="content">
     <p>I recently&nbsp;built my unit, and uploaded NanodeRF_Power_RTCrelay_GLCDtemp.&nbsp; On the serial port I see the ip, gateway etc. printed&nbsp;out.&nbsp;&nbsp;And the green led does not&nbsp;stay on.&nbsp; Something&nbsp;does not sound right.</p>
<p>Just to confirm, there does not need to be anything soldered to the underside of the board, and I did not have to change the MAC address.&nbsp; I would carefully check your soldering with a&nbsp;magnifying glass, and go through the build instructions again step by step to ensure you have everything correct, including&nbsp;component orientation when needed.&nbsp; Don&#39;t forget the need to add the wire link.&nbsp; Did you measure the&nbsp;voltage&nbsp;before adding the&nbsp;ICs?</p>
<p>&nbsp;</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3647"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Tue, 03/04/2012 - 16:28.</div>
    <div class="content">
     <p>Thanks for your advice here Lloyd. I&#39;m totally baffled as to why this thing isn&#39;t working. :-)</p>
<p>I&#39;ve resoldered every joint incase there was a dry joint and taken myself through the build instructions. I&#39;ve checked components are correct and the right way round.</p>
<p>&nbsp;</p>
<p>I&#39;ve checked the link wire, middle pin to bottom pin.</p>
<p>I did use my multimeter to check voltages before putting in the ICs, and the measurements were as described in the guide.</p>
<p>I&#39;ve even swapped out ATMega chip with another that I have in another Arduino Uno and no change. If I had another Ethernet controller chip, I&#39;d try that.</p>
<p>Can&#39;t think I&#39;ve damaged anything through over soldering, I was so careful and quick.</p>
<p>Do you have the Capacity fix installed? Pin 2 and 6</p>
<p>With the usb socket on the right-hand side</p>
<p>o x o</p>
<p>x x x</p>
<p>the o&#39;s signify the connection to pins 2 and 6. Is that right?</p>
<p>Two issues then,</p>
<p>i) GREEN LED remains lit after uploading sketch.</p>
<p>ii) limited output in the serial window. (I get &quot;[webClient]&quot; when I press the reset button)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3648"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Tue, 03/04/2012 - 16:30.</div>
    <div class="content">
     <p>Received with thanks Rob.</p>
<p>I&#39;ve tried it. Same issue. Definitely points to a hardware problem. :-( &nbsp;Looks like I may have to buy a whole new kit and try again, sigh.</p>
<p>Unless there are any other suggestions?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3649"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Tue, 03/04/2012 - 17:25.</div>
    <div class="content">
     <p>I presume you are only powering from the programming cable? &nbsp; And that you have set the correct frequency for the RF12 module? &nbsp;(Not sure what difference that would make, but the green led gets extinguished after the RF12 gets initialised.)</p>
<p>You could add some extra print statements to see where in the code you are reaching?</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3671"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="davocon&#039;s picture" title="davocon&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by davocon (not verified) on Thu, 05/04/2012 - 16:49.</div>
    <div class="content">
     <p>Jonathan, I am having exactly the same problem as you with my emonbase. I also got the emonglcd and that is talking to the emontx fine but the emonbase won&#39;t connect to Ethernet. Confusingly, it did once but is now not connecting at all and my symptoms are identical to yours.&nbsp;</p>
<p>PI have tried the mac address change and trying your code to set static ip but to no avail.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Dave</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3708"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Sun, 08/04/2012 - 17:06.</div>
    <div class="content">
     <p>Thanks for those thoughts Lloyd. I've set the frequency to 868 in the sketch, so presumably that's right for the European model. How can I check I have the correct model? Suppose I could try the worldwide frequency?</p>
<p>I've tried powering from just the programming cable and then tried adding a USB mobile charging cable in case there wasn't sufficient power. Having had a few days away, I've since thought this could still be an issue, so I'm going to try powering it from an Apple USB charger which I'm sure is beefy enough for this kit.</p>
<p>Would it help to remove the RF12 board temporarily to see if that's causing issues?</p>
<p>I'll also look at adding more print statements, good idea. Thanks again.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3709"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Sun, 08/04/2012 - 17:11.</div>
    <div class="content">
     <p>Really sorry to hear you are having same difficulties, Dave, although somewhat relieved that it's not just me and that we have twice as much chance at finding the solution.</p>
<p>Having been away a few days and reflecting on everything I've done / not done, I am wondering if it's a power issue.</p>
<p>I'm going to try using another USB power supply(Apple) and then try using the voltage regulator components to feed 5v straight onto the board.</p>
<p>Have you had any incites yet? Please do continue to share any progress or findings. Cheers. </p>
<p>I've only got emonTX and emonBASE and presuming that I don't need emonGLCD unless I need a display? I.e it should work without LCD display?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3713"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 09/04/2012 - 08:16.</div>
    <div class="content">
     <p>I think lloyd may have found the location of the issue. Could you try removing the line rf12_initialize(MYNODE, freq,group); &nbsp;to see whether its the rfm12 chip thats causing the issue?&nbsp;</p>
<p>Does more get printed to the serial window?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3803"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Fri, 13/04/2012 - 10:21.</div>
    <div class="content">
     <p>Hi, Similar problem. Checked assembly again and soldered any suspect joints.</p>
<p>The Ethernet on nanoderf and router flash on connection and look ok initially.&nbsp; Then DHCP status:0 is returned ( rf from emontx is recieved ok).</p>
<p>I have tried following and more to find fault (each time looking at home netopia router&nbsp; &quot;devices on LAN&quot;&nbsp; my nanoderf never appeared on list.</p>
<p><strong><u>Using testDHCP sketch</u></strong></p>
<p>Results displayed on com13:<br />
	DHCP failed<br />
	My IP: 0.0.0.0<br />
	Netmask: 0.0.0.0<br />
	GW IP: 0.0.0.0<br />
	DNS IP: 0.0.0.0</p>
<p>	hit reset button</p>
<p>	[testDHCP]<br />
	MAC: 0:24:D7:2D:30:31<br />
	Setting up DHCP<br />
	DHCP failed<br />
	My IP: 0.0.0.0<br />
	Netmask: 0.0.0.0<br />
	GW IP: 0.0.0.0<br />
	DNS IP: 0.0.0.0</p>
<p>	<strong><u>Using&nbsp; GLCDtemp sketch With static IP (on power up each time the following)</u></strong><br />
	Results displayed on com13:<br />
	[webClient]<br />
	Failed to access Ethernet controller<br />
	DHCP status: 1<br />
	IP:&nbsp; 192.168.1.10<br />
	GW:&nbsp; 192.168.1.254<br />
	DNS IP: 89.19.64.36</p>
<p>	[webClient]<br />
	Failed to access Ethernet controller<br />
	DHCP status: 1<br />
	IP:&nbsp; 192.168.1.10<br />
	GW:&nbsp; 192.168.1.254<br />
	DNS IP: 89.19.64.36</p>
<p>	[webClient]<br />
	Failed to access Ethernet controller<br />
	DHCP status: 1<br />
	IP:&nbsp; 192.168.1.10<br />
	GW:&nbsp; 192.168.1.254<br />
	DNS IP: 89.19.64.36<br />
	&thorn;<br />
	[webClient]<br />
	Failed to access Ethernet controller<br />
	DHCP status: 1<br />
	IP:&nbsp; 192.168.1.10<br />
	GW:&nbsp; 192.168.1.254<br />
	DNS IP: 89.19.64.36<br />
	&nbsp;</p>
<p>Next step is to get another nanoderf, I suspect it is bad soldering on my behalf.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3804"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Fri, 13/04/2012 - 11:12.</div>
    <div class="content">
     <p>DHCP does not seem to work on all routers, you could try static IP or try another router. It&#39;s strange that the &quot;failed to access Etherent Controller&quot; message is followed by a DHCP&nbsp;success!</p>
<p>The error&nbsp;failed to access Etherent Controller&quot; message usually indicates some sort of hardware issue.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3806"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 13/04/2012 - 11:20.</div>
    <div class="content">
     <p>Is the ethernet chip getting power correctly as detailed on the voltage tests on ian&#39;s&nbsp;build page:&nbsp;<a href="http://ichilton.github.com/nanode/rf/build_guide.html">http://ichilton.github.com/nanode/rf/build_guide.html</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3811"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Fri, 13/04/2012 - 16:29.</div>
    <div class="content">
     <p>Thanks for feedback. I double checked Voltages with chips removed and all ok.</p>
<p>&nbsp;</p>
<p class="western" style="margin-bottom: 0cm"><strong>With standard sketch (RTCrelay_GLCtemp) which includes DCHP e.g. no static IP addresses - note as per previous communications I tried with ethercard examples also to no avail.</strong></p>
<p class="western" style="margin-bottom: 0cm;"><u>extract from com port below </u>:</p>
<p class="western" style="margin-bottom: 0cm">1 emontx packet rx2 {rf_fail:0,power1:54,power2:0,power3:0,voltage:3255}</p>
<p class="western" style="margin-bottom: 0cm">DHCP statu1 emontx packet rx2 {rf_fail:0,power1:54,power2:0,power3:0,voltage:3255}</p>
<p class="western" style="margin-bottom: 0cm">DHCP status: 0</p>
<p class="western" style="margin-bottom: 0cm">2 {rf_fail:1}</p>
<p class="western" style="margin-bottom: 0cm">DHCP status: 0s: 0</p>
<p class="western" style="margin-bottom: 0cm">2 {rf_fail:1}</p>
<p class="western" style="margin-bottom: 0cm">[webClient]</p>
<p class="western" style="margin-bottom: 0cm">Failed to access Ethernet controller (this only happened after I hit reset button)</p>
<p class="western" style="margin-bottom: 0cm">DHCP status: 0</p>
<p class="western" style="margin-bottom: 0cm">2 {rf_fail:1}</p>
<p class="western" style="margin-bottom: 0cm">DHCP status: 0</p>
<p><strong>Tested with static IP</strong> and nothing works, no rf feed either. The com port remains blank until nanoderf is reset with button</p>
<p class="western" style="margin-bottom: 0cm;"><u>Extract from com port following reset</u></p>
<p class="western" style="margin-bottom: 0cm">[webClient]</p>
<p class="western" style="margin-bottom: 0cm">Failed to access Ethernet controller</p>
<p class="western" style="margin-bottom: 0cm">DHCP status: 1</p>
<p class="western" style="margin-bottom: 0cm">IP: 192.168.1.175</p>
<p class="western" style="margin-bottom: 0cm">GW: 192.168.1.254</p>
<p class="western" style="margin-bottom: 0cm">DNS IP: 192.168.1.254</p>
<p>I do have a very old router netopia 3347wG but it works ok with DHCP enabled or disabled for other devices. No matter what I try :&nbsp; nanoderf has&#39;nt appeared in netopia router LAN list. I&#39;ll try another router over weekend. If I get a chance I&#39;ll document testing and email.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3815"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 13/04/2012 - 19:24.</div>
    <div class="content">
     <p>I think this is most certainly a problem with the ethernet&nbsp;chip or surrounding ethernet circuitry on the nanodeRF itself rather than a router problem. Otherwise you would not get the &quot;Failed to access Ethernet controller&quot; message. If the ethernet part is working that message will not come up even if there is no ethernet cable connected to the unit.&nbsp;</p>
<p>Could you take a close up picture of the top and the bottom of the board and post here? I could then see if I can spot anything?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3817"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Sat, 14/04/2012 - 06:53.</div>
    <div class="content">
     <p>Please find attached pictures as requested. You may ignore soldering job on 1 ohm resister, it was damaged and has been temporarily fixed and is testing ok . I also added picture of my emonGLCD monitoring total energy use.&nbsp; Cheers Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3823"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Sat, 14/04/2012 - 11:16.</div>
    <div class="content">
     <p>Hi Peter,</p>
<p>You aren&#39;t alone here. I&#39;m still trying to work through potential issues.</p>
<p>Trystan suggested...</p>
<p>&nbsp;</p>
<blockquote><p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><span style="background-color:#ffff00;">Could you try removing the line </span><span style="background-color:#ffff00;">rf12_initialize</span><span style="background-color:#ffff00;">(</span><span style="background-color:#ffff00;">MYNODE</span><span style="background-color:#ffff00;">, </span><span style="background-color:#ffff00;">freq</span><span style="background-color:#ffff00;">,group); &nbsp;to see whether its the </span><span style="background-color:#ffff00;">rfm12</span><span style="background-color:#ffff00;"> chip </span><span style="background-color:#ffff00;">thats</span><span style="background-color:#ffff00;"> causing the issue?&nbsp;</span></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><span style="background-color:#ffff00;">Does more get printed to the serial window?</span></p>
</blockquote>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">but there is no change at all.</p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">There&#39;s a distinct lack of any activity really, other than the LEDs indicating Tx and Rx when uploading the sketch. Also, hitting the reset button displays&nbsp;</p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">&#39;[webClient]&#39;</p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">and that&#39;s it.</p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">IS there a difference in batch numbers of parts / kits? version differences?&nbsp;</p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">&nbsp;</p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">Jonathan</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3824"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Sun, 15/04/2012 - 11:08.</div>
    <div class="content">
     <p>As suggested I changed code to:</p>
<p>//rf12_initialize(MYNODE, freq,group);</p>
<p><u>com port result:</u></p>
<p>DHCP status: 0<br />
	2 {rf_fail:1}<br />
	DHCP status: 0<br />
	2 {rf_fail:1}}<br />
	DHCP status: 0<br />
	2 {rf_fail:1}<br />
	DHCP status: 0<br />
	2 {rf_fail:1}<br />
	DHCP status: 0<br />
	2 {rf_fail:1}<br />
	DHCP status: 0<br />
	2 {rf_fail:1}<br />
	DHCP status: 0<br />
	2 {rf_fail:1}</p>
<p>&nbsp;</p>
<p>I have attached some traces I completed on home router today. It seemed to connect on first connection and nanoderf power on, but after a few minutes was gone from router list hostname list (see attached tests info), I couldn&#39;t repeat.&nbsp;</p>
<p>If any information in my document is sensitive or I shouldn&#39;t have posted for security reasons e.g. IP addresses please x out or delete whole doc. once read.</p>
<p>Not sure how to answer second question on batch numbers????</p>
<p>Thanks again for support</p>
<p>Peter</p>
<p>P.S. I have ordered new kit from shop yesterday so this should help with finding cause, although my instincts say assembly.<br />
	&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3839"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="prensel&#039;s picture" title="prensel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by prensel (not verified) on Sun, 15/04/2012 - 11:31.</div>
    <div class="content">
     <p>Having similar problems with my newly build nanodeRF.</p>
<p>The RF part works but the ethernet part doesnt initialize at all.</p>
<p>I did try some general EtherShield and EtherCard examples but still the same problem.</p>
<p>Whereas the same example EtherShield sketch on my OpenKontrol gateway with ENC ethernet works flawless.</p>
<p>On the NanodeRF with the EtherShield testDHCP sketch the green led is on and the yellow blinks a couple of time.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3843"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="oetomcat&#039;s picture" title="oetomcat&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by oetomcat (not verified) on Sun, 15/04/2012 - 15:07.</div>
    <div class="content">
     <p>Similar (or same) problem here: ether.begin seems to hang and so do EtherCard examples. If i remove ethernet code, rx from emontx works.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3844"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/733.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ianjm&#039;s picture" title="ianjm&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/733.html" title="View user profile.">ianjm</a> on Sun, 15/04/2012 - 17:26.</div>
    <div class="content">
     <p>I seem to have the same problem</p>
<p>EmonTX and emonGLCD both built and working well</p>
<p>NanodeRF built - have checked that it is receiving data from emonTX - but cannot bet anything from the Ethernet.</p>
<p>Need some Help please</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3846"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="hopslink&#039;s picture" title="hopslink&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by hopslink (not verified) on Sun, 15/04/2012 - 18:46.</div>
    <div class="content">
     <p>There seem to be a lot of networking issues in the last 2 weeks. This suggests a process error somewhere, and not individual construction errors.</p>
<p>The most likely place for such errors to creep in would be in software. To test this someone with a working installation could upgrade their arduino libraries and recompile. Alternatively people with issues could use Git to pull older versions of the libraries for their arduino setups. The ethercard library has seen some changes over the last few weeks so would seem the most likely candidate.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3847"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Sun, 15/04/2012 - 20:44.</div>
    <div class="content">
     <p><strong>Tried ethershield sketch</strong></p>
<p><u>result on com port:</u></p>
<p>Init done<br />
	ENC28J60 version 0<br />
	Failed to access ENC28J60#</p>
<p>the next step was to prove wiring to ENC28J60 chip pins. See attached picture and document. I am a bit confused as I couldn&#39;t prove continuity on any wires from RJ45 cable to enc28j60.</p>
<p>Note as declared in earlier reply&nbsp; I damaged the 1 ohm R, in attached picture it was replaced with wire on rear of pcb.</p>
<p>
	&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3850"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 16/04/2012 - 08:01.</div>
    <div class="content">
     <p>I will look into this today, build up another nanodeRF to see if I can replicate the issue. Are we in agreement that the problem shows up at the point:&nbsp;</p>
<p><span class="k" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; font-weight: bold; ">if</span> <span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">(</span><span class="n" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">ether</span><span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">.</span><span class="n" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">begin</span><span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">(</span><span class="k" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; font-weight: bold; ">sizeof</span> <span class="n" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">Ethernet</span><span class="o" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; font-weight: bold; ">::</span><span class="n" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">buffer</span><span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">,</span> <span class="n" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">mymac</span><span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">)</span> <span class="o" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; font-weight: bold; ">==</span> <span class="mi" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; color: rgb(0, 153, 153); ">0</span><span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">)</span> <span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">{</span></p>
<p>printing out:</p>
<p><span class="n" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">Serial</span><span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">.</span><span class="n" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">println</span><span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">(</span> <span class="s" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; color: rgb(221, 17, 68); ">&quot;Failed to access Ethernet controller&quot;</span><span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">);</span></p>
<p><span class="p" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; font-size: 12px; font: inherit; ">PS: on the note on firmware, I uploaded a new sketch to my home nanodeRF yesterday with the latest EtherCard library and had no trouble (its been posting all night) so I do think its unlikely to be a software issue.</span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3851"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Mon, 16/04/2012 - 08:25.</div>
    <div class="content">
     <p>It would be&nbsp;great if you could&nbsp;&nbsp;complete some continuity&nbsp;tests&nbsp;from&nbsp;RJ45&nbsp;to DIL&nbsp;&nbsp;(ENC28J60) and recommend some&nbsp;test. As stated above&nbsp;I couldn&#39;t&nbsp; prove&nbsp;continuity&nbsp;which was strange.</p>
<p>Thanks</p>
<p>Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3852"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="oetomcat&#039;s picture" title="oetomcat&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by oetomcat (not verified) on Mon, 16/04/2012 - 10:45.</div>
    <div class="content">
     <p>Yes, ether.begin seems to hang for me.</p>
<p>Might be not related at all, but i had some troubles with an Arduino EthernetShield, which was hanging at init as well and needed some code changes to work with Arduino 1.0 on Linux x64.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3860"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 16/04/2012 - 17:04.</div>
    <div class="content">
     <p>Hello all, good news, the problem is fixed!! I&#39;ve spent all day at it, built up two nanodeRF&#39;s that did replicate the exact problem of the ethernet chip not initializing, in the end the problem was the voltage regulator used by the ethernet chip. It was not supplying enough current, the supply voltage on the ethernet chip was 2.6v (pin 28) instead of the required 3.3v.</p>
<p>Swapping the voltage regulator for one from a different batch solved the problem (thanks to Ken for the final insight). So it looks like we have been sent a faulty batch of voltage regulators, our apologies for not spotting this sooner!</p>
<p>If you have this problem we will send out two replacement regulators free of charge, one for the ethernet chip and the other for powering the atmega, it may be ok to leave the atmega voltage regulator in place as the current requirements are not as high and it seems to work fine here without swapping it out, but we will send two out so that you can swap out as you prefer.</p>
<p>Glyn has created a free voltage regulator entry in the online shop, just quote your previous order id when ordering and we will send them out.&nbsp;<a href="http://shop.openenergymonitor.com/nanoderf-mcp1702-voltage-regulator-replacement/">http://shop.openenergymonitor.com/nanoderf-mcp1702-voltage-regulator-replacement/</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3862"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="prensel&#039;s picture" title="prensel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by prensel (not verified) on Mon, 16/04/2012 - 19:52.</div>
    <div class="content">
     <p>Confirmed !</p>
<p>Mine does work now after swapping the 1702 :-)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3865"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Mon, 16/04/2012 - 20:42.</div>
    <div class="content">
     <p>Fabulous,</p>
<p>Have just ordered my replacements. Sincere thanks to everyone who has contributed to this thread and offered their advice and thoughts. Together we have resolved the issue, so big thanks to Trystan&nbsp;for working so quickly and taking a &#39;day out&#39; to resolve it.</p>
<p>Looking forward to getting mine up and running shortly.</p>
<p>Very Happy of London.</p>
<p>Jonathan</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3867"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dave.s&#039;s picture" title="dave.s&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by dave.s (not verified) on Mon, 16/04/2012 - 20:47.</div>
    <div class="content">
     <p>Have you been assembling your own kits, or are you just reselling the nanode.biz kits?<br />
I bought a NanodeRF from there at the point you were out of stock, although I've got issues with the RF12 rx being very flaky rather than ethernet failing to start. Highly probably the two are unrelated, but wanted to check. I just haven't had the time to investigate the fault yet.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3869"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Mon, 16/04/2012 - 21:39.</div>
    <div class="content">
     <p>We don&#39;t re-sell Nanode.biz kits, but we do obtain the barebone kit (PCB + passives) from the same source. The emonBase NanodeRF kit is slightly different to the NanodeRF&nbsp;sold through Nanode.biz. Differences are noted on the produce page. Basically things which are not needed for emonBase&nbsp;opperation like the RTC are not included.&nbsp;</p>
<p>If you are experiencing problem with a Nanode.biz kit then you could contact them or post on the google group. It sounds like your problems are unrelated to this issue. &nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3873"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dave.s&#039;s picture" title="dave.s&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by dave.s (not verified) on Tue, 17/04/2012 - 10:03.</div>
    <div class="content">
     <p>Thanks Glyn. I knew it was a long shot, but thought it was worth checking. I'll do some more testing and post on their group.<br />
It looks like their kit is now identical to yours - the RTC, EEPROM and uSD card slot are optional extras if you fancy soldering SMT devices :-o</p>
<p>Keep up the good work - it really is appreciated (and I will feed back once I've got stuff up and running fully!)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3875"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="wiz2003&#039;s picture" title="wiz2003&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by wiz2003 (not verified) on Tue, 17/04/2012 - 10:39.</div>
    <div class="content">
     <p>Thank you....</p>
<p>Just ordered the replacement regulators for my two dodgy nanodes......</p>
<p>&nbsp;</p>
<p>Geoff</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3931"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Fri, 20/04/2012 - 18:40.</div>
    <div class="content">
     <p>Two voltage regulators arrived today, now installed and working great. The support and activity while this issue was investigated was very impressive. Special thanks to Glyn for quick response.</p>
<p>Cheers</p>
<p>Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3934"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jonathanfurness&#039;s picture" title="jonathanfurness&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: NanodeRF Ethernet problems, please help! - RESOLVED</h3>

    <div class="submitted">Submitted by jonathanfurness (not verified) on Fri, 20/04/2012 - 21:06.</div>
    <div class="content">
     <p>Yep, same service here too. Next day delivery of two regulators. I replaced both, and Nanode RF has sprung into life and is now posting data to emoncms.&nbsp;</p>
<p>Now need to catch up in the forums with how to improve RF reliability. Otherwise working perfectly.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/550"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-UiNwgd4-4Fh8lCmbxEeYhHxEk_kJwU4qgdrkcHPondk" value="form-UiNwgd4-4Fh8lCmbxEeYhHxEk_kJwU4qgdrkcHPondk"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
