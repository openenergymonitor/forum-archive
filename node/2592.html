<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2592 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:57:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>All Feeds Inactive but Set up Seems correct | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">All Feeds Inactive but Set up Seems correct</h3>
        <span class="submitted">Submitted by Guest on Wed, 17/07/2013 - 13:49</span>
        <div class="content"><p>I have been setting up my Open Energy Monitor system, and believe I have everything set up correctly but all my feeds continue to say inactive.</p>
<p>I used the emoncmspiv5avr_2may.img image with my pi which has the rfm12pi soldered and attached to the pins correctly.</p>
<p>I loaded the EmonTx CT123 example onto my emontx. The only thing I changed was the frequency constant. Both my pi and my emontx are running 433hz, on network group 210. My emontx is set to be node 10 while by base is 15. The emontx CT123 example has serial logging built in; so, I ran it attached to my computer and was able to see that it is indeed spitting out data.</p>
<p>To create my inputs I ran <a href="http://192.168.1.10/emoncms/input/post.json?node=10&amp;csv=100,200,300" title="http://192.168.1.10/emoncms/input/post.json?node=10&amp;csv=100,200,300">http://192.168.1.10/emoncms/input/post.json?node=10&amp;csv=100,200,300</a>. I then created a feed for each of these inputs.</p>
<p>All of the feeds continue to say inactive, but all the feeds say inactive.</p>
<p>Following advice from another thread on this topic I ran /etc/init.d/rfm12piphp restart log and checked the log file at /var/log/rfm12piphp.log, but there were no errors present and the script is running.</p>
<p>One thing I have noticed is that the LED on my rfm12pi only blinks once when I first boot the raspberry pi, otherwise it is just blank, should this light be blinking?</p>
<p>Any advice on the next step I should take in debugging this would be greatly appreciated. Thanks to everyone in the Open Energy Monitor community for all your hard work.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2621.html" class="topic-previous" title="Go to previous forum topic">‹ Proving emonTx is functioning after build</a>
              <a href="2603.html" class="topic-next" title="Go to next forum topic">electricity monitor ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-13678"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: All Feeds Inactive but Set up Seems correct</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 17/07/2013 - 21:09.</div>
    <div class="content">
     <p>Chris, you don&#39;t manually create the inputs, as the inputs are automatically created by the system upon receipt of a data input signal from one or more of the emonTX&#39;s.</p>
<p>I would delete any feeds that you have created, also then delete the inputs. Reboot your RaspPi and look at the inputs page to see if any inputs have been created (sometimes takes a few seconds).</p>
<p>If not, look again at the log by using;</p>
<p><strong>$ tail -F -n 40 /var/log/rfm12piphp.log</strong></p>
<p>and you should see the input data arriving in real time. (Ctrl-C to exit!)</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13679"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: All Feeds Inactive but Set up Seems correct</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 17/07/2013 - 21:17.</div>
    <div class="content">
     <p>Should the two LED&#39;s (emonTx and RFM12Pi) not blink synchronously? And if not, this indicates that the receiver isn&#39;t receiving anything? The emonTx LED flashing regularly (every 2 - 5 s) and serial dataoutput indicates that the emonTx has not locked up. It doesn&#39;t necessarily mean that it&#39;s transmitting, though usually that is the case.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13749"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chriswininger&#039;s picture" title="chriswininger&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: All Feeds Inactive but Set up Seems correct</h3>

    <div class="submitted">Submitted by chriswininger (not verified) on Mon, 22/07/2013 - 03:06.</div>
    <div class="content">
     <p>Thanks for the response. I deleted all my input and rebooted the pi. The contents of /var/log/rfm12piphp.log are</p>
<p class="rteindent1">MESSAGE RX:&gt; 15i<br />
	BASEID SET CORRECTLY<br />
	MESSAGE RX:&gt; 4b<br />
	FREQUENCY SET CORRECTLY<br />
	MESSAGE RX:&gt; 210g<br />
	GROUP SET CORRECTLY</p>
<p>The light on my emontx blinks about every 7 seconds, but the light on the rfm12pi does not. This light comes on briefly when the pi first boots then it turns off and remains off. If I turn &quot;Broadcast time to synchronize emonGLCD&quot; then the light on the rfm12pi&nbsp;blinks according to the value I provide (I am not using emonGLCD just tried that while debugging and thought I would include the results).</p>
<p>Now that my inputs have been deleted the input screen simply reads</p>
<p class="rteindent1">&quot;No inputs created. Inputs is the main entry point for your monitoring device. Configure your device to post values here, you may want to follow the Input API helper as a guide for generating your request.&quot;</p>
<p>I tried updating the rfm12pi firmware following directions at <a href="http://wiki.openenergymonitor.org/index.php?title=RFM12Pi_V2" title="http://wiki.openenergymonitor.org/index.php?title=RFM12Pi_V2">http://wiki.openenergymonitor.org/index.php?title=RFM12Pi_V2</a>. I ran&nbsp;</p>
<p class="rteindent1">sudo avrdude -v -c arduino -p ATMEGA328P -P /dev/ttyAMA0 -b 38400 -U flash:w:RF12_Demo_atmega328.cpp.hex</p>
<p>and received the following</p>
<p class="rteindent1">avrdude-original: Version 5.11.1, compiled on May 23 2012 at 11:08:25<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Copyright (c) 2000-2005 Brian Dean, <a href="http://www.bdmicro.com/" title="http://www.bdmicro.com/">http://www.bdmicro.com/</a><br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Copyright (c) 2007-2009 Joerg Wunsch</p>
<p class="rteindent1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System wide configuration file is &quot;/etc/avrdude.conf&quot;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User configuration file is &quot;/root/.avrduderc&quot;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; User configuration file does not exist or is not a regular file, skipping</p>
<p class="rteindent1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Using Port&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : /dev/ttyAMA0<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Using Programmer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : arduino<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Overriding Baud Rate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : 38400<br />
	done with autoreset<br />
	<u>avrdude-original: stk500_recv(): programmer is not responding</u></p>
<p>Could it be that there is something wrong with my rfm12pi? Any thoughts on where to go from here?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13765"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: All Feeds Inactive but Set up Seems correct</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 22/07/2013 - 21:00.</div>
    <div class="content">
     <p>Hello Chris, it sounds like you&#39;ve got everything set up correctly. &nbsp;The last error with uploading firmware would appear if the rfm12piphp script is already running, you could try calling:</p>
<p>sudo&nbsp;/etc/init.d/rfm12piphp status</p>
<p>to check if its running and&nbsp;</p>
<p>sudo /etc/init.d/rfm12piphp stop&nbsp;</p>
<p>to stop it if it is</p>
<p>But re uploading the firmware shouldnt make any difference as you have confirmed that the rfm12pi board replies correctly to a frequency and group id set which tells us the atmega and serial link between the pi and the rfm12pi board are working.</p>
<p>How close is your emontx to the raspberrypi? it might be worth double checking the frequencies and group id&#39;s of both are the same.&nbsp;</p>
<p>Does anything appear in the&nbsp;rfm12piphp.log beyond the initial setup of frequency, group and nodeid? any lines either starting with an OK or a ? mark?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13769"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chriswininger&#039;s picture" title="chriswininger&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: All Feeds Inactive but Set up Seems correct</h3>

    <div class="submitted">Submitted by chriswininger (not verified) on Mon, 22/07/2013 - 23:48.</div>
    <div class="content">
     <p>Initially they were about the 20 ft apart. I have also tried with them right next to each other. There is nothing in the log other than the lines I posted above.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13780"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: All Feeds Inactive but Set up Seems correct</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 24/07/2013 - 10:04.</div>
    <div class="content">
     <p>Hello Chris, I just checked out your order and I see you have the raspberrypi&nbsp;expansion board kit v1, so the above upload error is because you need to upload the attiny&nbsp;firmware rather than the atmega328 firmware.</p>
<p>I would double check the solder connections on the rfm12 modules on both the emontx and the raspberrypi expansion boards, its easy to leave a dry joint, I have done it several times.&nbsp;</p>
<p>The led on the emontx will still flash even if the radio is not sending correctly, so it could be an issue with either end.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13792"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chriswininger&#039;s picture" title="chriswininger&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: All Feeds Inactive but Set up Seems correct</h3>

    <div class="submitted">Submitted by chriswininger (not verified) on Wed, 24/07/2013 - 15:32.</div>
    <div class="content">
     <p>OK, thanks. Good to know about the version number.&nbsp; I&#39;m a bit new to soldering so that&#39;s what I was afraid of. I will re-check them and let you know if I find a resolution. Thanks for all the help, this is a very empowering project. Once I get some demos up and running I hope to help spread the word.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2592"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-rBfu46qcDACe4hinmd4PWngweCrFE3ECB1M8SV4Y9yA" value="form-rBfu46qcDACe4hinmd4PWngweCrFE3ECB1M8SV4Y9yA"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
