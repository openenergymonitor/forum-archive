<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/47 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:30:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>How to add an Xbee Link | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
          <span class="submitted"></span>
      <div class="taxonomy"></div>
      <div class="content"><h2>How to add an Xbee wireless link between a measurement Arduino and an Ethernet Arduino</h2>
<p><a href="http://www.ladyada.net/">Ladyada</a> has written a really good tutorial on how to do most of this and <a href="http://www.adafruit.com/">supplies Xbee modules and Xbee adapters</a> that make it easy to use the Xbees with the 5.0V provided by the Arduino. Links to the adapter assembly and point-to-point communication tutorials can be found below. This guide adds some details on the Arduino sketches needed for sending data and receiving data and converting the received character stream back into double values.</p>
<p>A note on range. I bought two 1mw Xbees. However I&#39;ve been problems with range. If you&#39;re wondering which Xbee to get, I recommend the higher output Xbees and maybe the ones with a connector for an aerial too.</p>
<h3>Step One</h3>
<p>The first step in adding an Xbee link using Adafruit adapters is to assemble the Xbee adapters, as they are in kit form. Ladyada&#39;s assembly guide is here:</p>
<h3><a href="http://www.ladyada.net/make/xbee/make.html">Xbee adapter assembly page</a></h3>
<h3>Step Two</h3>
<p>The next step is to use a USB TTL-RS232 cable to configure the Xbees to work as a simple point-to-point link. Ladyada&#39;s tutorial is here:</p>
<h3><a href="http://www.ladyada.net/make/xbee/point2point.html">Xbee radios: Basic point-to-point communication </a></h3>
<p><strong>Note</strong><strong>: </strong>If you&#39;re using Linux, X-CTU seems to work fine running under Wine.</p>
<h3>Step Three</h3>
<p>Now that you have two Xbees configured, you can connect one to the Arduino that&#39;s taking the measurements and the other to the Ethernet Arduino.</p>
<p>In the sketch below, the measurement Arduino has digital pin 6 (Arduino RX) connected to Xbee TX and digital pin 7(Arduino TX) connected to Xbee RX.</p>
<p>The Ethernet Arduino has digital pin 2 (Arduino RX) connected to Xbee TX and digital pin 3 (Arduino TX) connected to Xbee RX.</p>
<p>The nice thing about the Xbee point-to-point link is the Arduino just sends the data via serial to the Xbee. The Xbee does all the &quot;heavy lifting.&quot; You can remove the Xbees, replace them with a cable, and the Arduino sketches still work.</p>
<p>The smaller box in the pictures below are the Xbee and&nbsp;Xbee adapter modules:</p>
<p><strong>Left:</strong> Xbee module on top of the main box.&nbsp; <strong>Middle: </strong>Xbee module on top of the ethernet box.&nbsp;</p>
<p><a href="../sites/default/files/xbee03.jpg"><img align="left" alt="" height="188" hspace="5" src="../sites/default/files/xbee03.jpg" width="250" /></a><a href="../sites/default/files/xbee02.jpg"><img alt="" height="188" hspace="5" src="../sites/default/files/xbee02.jpg" width="250" /></a></p>
<p>The wire link between the Xbee and the Arduino has 4 wires:&nbsp;5V, GND, DATA1, DATA2.</p>
<p>There is a mini adapter on the Xbee side that routes the 4 wires to the xbee.</p>
<p><strong>Left:</strong> Xbee module top removed.&nbsp; <strong>Right: </strong>Arduino to xbee wiring in the ethernet unit.</p>
<h3><a href="../sites/default/files/xbee01.jpg"><img align="left" alt="" height="188" hspace="5" src="../sites/default/files/xbee01.jpg" width="250" /></a><a href="../sites/default/files/xbee04.jpg"><img alt="" height="188" hspace="5" src="../sites/default/files/xbee04.jpg" width="250" /></a></h3>
<h3>Step Four - Arduino Software</h3>
<p>The two sketches below demonstrate the Xbee link independently of any of the other energy monitor code and hardware. The measurement side sketch simply Serial.prints() double values to the xbee. While the Ethernet side sketch reads the data in character form and converts it back to double values.</p>
<p>Download measurement side Arduino sketch: <a href="../sites/default/files/XbeeSend1.1.tar.gz">XbeeSend.tar.gz</a></p>
<p>Download Ethernet side Arduino sketch: <a href="../sites/default/files/XbeeRecieve1.1.tar.gz">XbeeRecieve.tar.gz</a></p>
<p><strong>Step one - </strong>Compile and upload the sketches to their respective Arduinos. For a guide on compiling and uploading the sketch to the Arduino, have a look <a href="https://openenergymonitor.org/node/12">here</a>.</p>
<p><strong>Step two - </strong>Power up both Arduinos and listen with the Arduino serial monitor to the Ethernet Arduino.You should see values being printed to the serial monitor. If they match the transmitted values, your wireless link is working properly.</p>
</div>
    
    
      </div>
<div id="comments">
  <a id="comment-1835"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Guest&#039;s picture" title="Guest&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by Guest (not verified) on Tue, 07/06/2011 - 11:10.</div>
    <div class="content">
     <p>should i add these sketches to the other sketches or they should be uploaded seperately??</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-1734"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Guest&#039;s picture" title="Guest&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by Guest (not verified) on Wed, 11/05/2011 - 11:39.</div>
    <div class="content">
     <p>the program they are using the X-CTU are only compatible with windows xp,200...i have vista..what im going to do??</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-1725"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Guest&#039;s picture" title="Guest&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by Guest (not verified) on Mon, 09/05/2011 - 05:56.</div>
    <div class="content">
     <p>I cant understand one things... can I just buy the Xbee's ready, or should I buy the kit, and assemble it on my own???</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1757"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="binoylewis&#039;s picture" title="binoylewis&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by binoylewis (not verified) on Mon, 16/05/2011 - 13:47.</div>
    <div class="content">
     <p>&nbsp;The Xbee itself is a chip that is capable of communication, but it requires a 3.3V supply.</p>
<p>The supply has to be maintained at 3.3V else the chip will be damaged.&nbsp;</p>
<p>So to avoid damaging the chip we build a shield for it to regulate the voltage at 3.3V. The design and PCB in the article is one of the many types of shields available commercially.</p>
<p>Sparkfun Labs sells a shield that is simply a plug and play device, one connects the Xbee chip to the shield and the shield simply sits on the arduino board. Just upload your sketch without the shield connected.</p>
<p>Since the chips are expensive its better to invest in a good shield.</p>
<p>One can either buy a breakout board and solder the parts of the shield or you can simply buy a readymade shield.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
</div><a id="comment-1701"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Guest&#039;s picture" title="Guest&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by Guest (not verified) on Fri, 06/05/2011 - 23:23.</div>
    <div class="content">
     <p>so the xbee should be bought ready, or it should be assembled on the pcb ????</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1760"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="binoylewis&#039;s picture" title="binoylewis&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by binoylewis (not verified) on Mon, 16/05/2011 - 20:06.</div>
    <div class="content">
     <p>&nbsp;Yup the xbee has to be bought seperately</p>
<p><a href="http://www.digi.com/products/wireless-wired-embedded-solutions/zigbee-rf-modules/zigbee-mesh-module/xbee-zb-module.jsp#overview">http://www.digi.com/products/wireless-wired-embedded-solutions/zigbee-rf-modules/zigbee-mesh-module/xbee-zb-module.jsp#overview</a></p>
<p>--The above link shows you wat an xbee chip looks like (minus the PCB/shield) , this ismanufactured digi international.</p>
<p>The xbee is itself a chip that is capable of communication via zigbee protocol.</p>
<p>But as I said before one needs a shield to provide a perfect 3.3V supply . For this reason a shield is required.</p>
<p>Now coming to the PCB/ shield, you have a choice, you can either design and fabricate a shield yourself or you can buy a readymade one.</p>
<p><a href="http://www.sparkfun.com/products/9588">http://www.sparkfun.com/products/9588</a></p>
<p>--The above link shows you what a readymade PCB/shield looks like.</p>
<p>Ofcourse there are various &nbsp;shield breakout boards(boards that have the PCB layout etched but do not have the electronic components soldered) available. These are usually for individuals who d like to use their own components instead of the manufacturer's.</p>
<p>The choice of xbee module is upto you and quite honestly depends on the range of communication. Various versions and series are available . If your project is required for long ranges a higher power xbee is advisable.&nbsp;</p>
<p>So in all you have to get two things</p>
<p>1. XBee Chip/module</p>
<p>2. Xbee Shield</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1766"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Guest&#039;s picture" title="Guest&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by Guest (not verified) on Wed, 18/05/2011 - 06:00.</div>
    <div class="content">
     <p>i bought the kit from adafruit.. so now i need to buy the xbee chip right??</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1768"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="binoylewis&#039;s picture" title="binoylewis&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by binoylewis (not verified) on Wed, 18/05/2011 - 16:54.</div>
    <div class="content">
     <p>Does your kit from adafruit industries have a component that looks like the following-</p>
<p><a href="http://www.digi.com/products/wireless-wired-embedded-solutions/zigbee-rf-modules/zigbee-mesh-module/xbee-zb-module.jsp#overview">http://www.digi.com/products/wireless-wired-embedded-solutions/zigbee-rf-modules/zigbee-mesh-module/xbee-zb-module.jsp#overview</a></p>
<p>If yes, then you do not need to purchase the Xbee module.</p>
<p>I checked on the adafruit site, they say they <u><strong>'do not include'</strong></u> an Xbee module in the Xbee Adapter Kit V1.1.&nbsp;</p>
<p>If you have bought the Xbee Adapter V1.1 kit then you need to make an additional purchase of an Xbee module.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="productName" class="productGeneral" style="font-size: 1.5em; color: rgb(154, 154, 154); margin-top: 0.3em; margin-right: 0px; margin-bottom: 0.3em; margin-left: 0px; ">&nbsp;</h1>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
</div></div></div><a id="comment-1463"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Colm O&amp;#039;Gairbhith&#039;s picture" title="Colm O&amp;#039;Gairbhith&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by <a href="http://www.carbontracking.com/" rel="nofollow">Colm O&#039;Gairbhith</a> (not verified) on Sun, 28/11/2010 - 00:25.</div>
    <div class="content">
     <p>Just found a 433Mhz shield google "433mhz-receiver-shield freetronics"</p>
<p>Seems more involved, and expensive, than is needed for the specific energy monitor application, but then again I've never built anything, just a excess of un-built ideas !! </p>
<p>/ Colm </p>
<p>Just found more, a receiver for US€6, google "kajordahl weather"</p>
<p>Sorry about the google but the original links gave spam filter problems on this site, fair game.</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1574"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="krich&#039;s picture" title="krich&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: How to add an Xbee Link</h3>

    <div class="submitted">Submitted by krich (not verified) on Wed, 02/03/2011 - 05:30.</div>
    <div class="content">
     <p>I know I'm a few months late, but I figured I'd share my thoughts anyway...for those that come across this later on.</p>
<p>From my experience wireless communication is one of those things where you trade money for reliability and simplicity.&nbsp; Sure, the 433Mhz modules are dirt cheap, but they make up for it in the complications of using them reliably.&nbsp; They say that they are simple serial cable replacements.&nbsp; NOT&nbsp;TRUE.&nbsp; I used the 433MHz modules in my last project and it took me just as long to get the modules working reliably as it did for the entire rest of my project.&nbsp; At a minimum, they require a preamble to balance out the receive circuitry prior to sending real data and even then you should probably send a checksum of some sort afterwards just to be sure.&nbsp; At the end of the day, it's a minimum of 20:1 ratio, but more like 40:1 ratio of overhead to good data.&nbsp; Put that on a 2400 baud link and you can probably do just as well with carrier pigeon.</p>
<p>On the other hand, XBees (and other similar wireless solutions; nordic comes to mind) cost a bit extra, but all of that headach is handled transparently, the throughput is orders of magnitude higher, and, best of all, they are transcievers, which means they have two way communication.</p>
<p>Also, if I'm not mistaken, the 433MHz band is for periodic bursts and is not to be used for steady or frequent transmissions.&nbsp; There may be some FCC restrictions there that hobbyists may not be aware of.&nbsp; If you have one of those wireless outdoor thermometer clocks, I guarantee that it will play havoc with your 433MHz module as well.</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
</div><div class="item-list"><ul class="pager"><li class="pager-current first">1</li>
<li class="pager-item"><a href="https://learn.openenergymonitor.org/?redirect=xbee-link?page=1" title="Go to page 2" class="active">2</a></li>
<li class="pager-next"><a href="https://learn.openenergymonitor.org/?redirect=xbee-link?page=1" title="Go to next page" class="active">next ›</a></li>
<li class="pager-last last"><a href="https://learn.openenergymonitor.org/?redirect=xbee-link?page=1" title="Go to last page" class="active">last »</a></li>
</ul></div></div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
