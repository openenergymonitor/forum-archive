<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11213 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:30:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>EmonTX compatibility | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">EmonTX compatibility</h3>
        <span class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Sat, 05/09/2015 - 16:34</span>
        <div class="content"><p>Hi - I have an existing system using two EmonTX modules running at 868MHz talking to an RFM12Pi Expansion board.&nbsp; This kit was purchased in January 2013.</p>
<p>I would like to add another EmonTX module to monitor pulses from my gas meter.&nbsp; Is anyone able to confirm that&nbsp; this newer module&nbsp;<a id="emonTH" name="emonTH">http://shop.openenergymonitor.com/emonth-868mhz-temperature-humidity-node/&nbsp;</a>&nbsp;will work with my existing kit please?</p>
<p>And I can someone confirm that I can use this to measure pulses from my gas meter please?</p>
<p>Many thanks.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11222.html" class="topic-previous" title="Go to previous forum topic">‹ Multiple CT sensor monitoring using emonTx V3</a>
              <a href="11215.html" class="topic-next" title="Go to next forum topic">AC-AC Adapter ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-33887"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTX compatibility</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 05/09/2015 - 16:57.</div>
    <div class="content">
     <p>You should have no problem with the newer emonTH, which does have a pulse input, but you might need to add a terminal block to the pcb (I'm not sure whether it comes with one - if you're worried, ask The Shop).</p>
<p>Does your meter have a pulse output (unlikely) or do you intend to add an external sensor? If the latter, what did you have in mind? </p>
<p>Depending on how you intend to get the data from your gas meter, you might have problems with the pulses themselves. There are several threads on here that deal with the various sensors that you can use, from reed switches (that need contact de-bouncing) to Hall effect devices. If you're using the emonTH with a battery supply, you might find your options are limited due to power constraints and battery life.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33918"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTX compatibility</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Sun, 06/09/2015 - 19:53.</div>
    <div class="content">
     <p>Hi Robert,</p>
<p>Thanks for the reply.&nbsp; I have ordered a reed switch - I&#39;ll wait until I know that it is working before ordering the emonTH.</p>
<p>Does the software debouncing work reliably?&nbsp; If so, it is presumably a better bet than hardware debouncing?&nbsp; I can run my emonTH on a power supply if necessary.</p>
<p>Many thanks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33921"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTX compatibility</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 06/09/2015 - 20:43.</div>
    <div class="content">
     <p>The polled approach controlled by an <a href="5022.html#comment-21046">interrupt-driven timer</a> that I developed (for Eric?) seemed pretty reliable, but as the processor never sleeps, it&#39;s not for battery operation.&nbsp;It&#39;s not totally bullet-proof but it&nbsp;is fairly s<span style="line-height: 20.7999992370605px;">imple. It&#39;s a lot cheaper and simpler than hardware!</span></p>
<p><span style="line-height: 20.7999992370605px;">(That was an emonTx of course - you&#39;ll need to merge that with the emonTH&nbsp;sketch.)</span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33964"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTX compatibility</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Tue, 08/09/2015 - 20:18.</div>
    <div class="content">
     <p>So my reed switch arrived today and seems to work (when connected to a multimeter)&nbsp; (I&#39;ll post all the details when I have a bit more confidence that everything is as it should be).</p>
<p>However, I have had a re-think about how to send the data back to my Raspberry pi (which is running emoncms).&nbsp; Instead of purchasing another emonTH, I am thinking of using a spare Raspberry pi that I have, together with a spare &quot;ethernet over the mains&quot;&nbsp;adapter&nbsp;that I have.&nbsp; I am lucky in that my gas meter is located close to a mains socket.&nbsp; That won&#39;t cost me anything (given that I already have the parts).</p>
<p>Any thoughts on this approach?&nbsp; I assume that I will need to write some software to do the debouncing?&nbsp; I want to run&nbsp;this from the SD card (rather&nbsp;than a hard drive)&nbsp;- so I will need to find a way of avoiding too many writes to the card.</p>
<p>Many thanks for any suggestions.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33965"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTX compatibility</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Tue, 08/09/2015 - 22:24.</div>
    <div class="content">
     <p>I&#39;ve attached a python script that may get you started. I wrote it a while back as a fore runner to a pulse interfacer for emonhub, it was originally&nbsp;intended to use with a magnetic switch but I have only tested it as a led pulse counter.</p>
<p>There are some notes at the beginning about adding a socket interfacer to emonhub to receive the data. This script won&#39;t actually write anything to disc it just counts and sends, all in ram.</p>
<p>I will be interested in how you get on with this as I do&nbsp;intend adding pulse counting to emonHub&nbsp;in the future.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11213"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-6dcJy9TK_y4DQdzZ4LbhhfzXcTKAmR0wucXHDFOWEo4" value="form-6dcJy9TK_y4DQdzZ4LbhhfzXcTKAmR0wucXHDFOWEo4"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
