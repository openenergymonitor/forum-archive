<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5095 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:29:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Emoncms on the RaspberryPI: Partitioned SD - wireless problems | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Emoncms on the RaspberryPI: Partitioned SD - wireless problems</h3>
        <span class="submitted">Submitted by <a href="../user/6244.html" title="View user profile.">emicon</a> on Fri, 25/04/2014 - 16:16</span>
        <div class="content"><p>I installed oem_gateway and emoncms in the same SD card and the system works fine: the data are correctly<br />
	received by emonTX3 and sent to the local server emoncms built inside the SD card.</p>
<p>Now I need to connect wirelessly my raspberry&nbsp;cause I can no longer use the Ethernet connection. Here are my problems started: IPE1 do not contain&nbsp;wireless-tools so I can not use the commands iwconfig and iwlist. Also it seems this is not the wpasupplicant package.</p>
<p>I was able to load the wireless-tools package and then using iwconfig and iwlist but for some reason I can not upload wpasupplicant.</p>
<p>Has anyone had same problem? We need to have the wpasupplicant package to connect wirelessly?<br />
	Any help will be appreciated! (sorry for my bad english)</p>
<p>Thanks</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5099.html" class="topic-previous" title="Go to previous forum topic">‹ emonTX V3: Latest Firmware</a>
              <a href="5081.html" class="topic-next" title="Go to next forum topic">First test of my emonTx v3 don&#039;t know what i&#039;m doing wrong ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-21038"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms on the RaspberryPI: Partitioned SD - wireless problems</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 25/04/2014 - 17:17.</div>
    <div class="content">
     <p>I&#39;m not sure why you have the (IPE-R1) Rock-solid read-only oem_gateway image and the emonCMS server &amp; database on the same sd card. as&nbsp;<span style="font-size: 12px;">they are opposing methods.&nbsp;</span></p>
<p><span style="font-size: 12px;">The </span>oem_gateway<span style="font-size: 12px;">&nbsp;can work well with a local </span>emonCMS<span style="font-size: 12px;"> install, but ideally on a </span>harddrive<span style="font-size: 12px;">.</span></p>
<p>The read-only version of oem_gateway can be used on an sd card because it is read only.I would recommend reviewing your set-up, as the SD card will fail at some point&nbsp;</p>
<p>I had the same issue with wifi on the Read-only gateway and I made an updated image which is available to download, this has the wpasupplicant package and drivers etc and can be found here <a href="https://www.dropbox.com/s/82vu37767mr0q7i/20140310_RockSolidGateway.zip">Rock-solid Gateway Image</a>&nbsp;but you should read the notes here if you go that route&nbsp;<a href="4036.html">http://openenergymonitor.org/emon/node/4036</a></p>
<p>If you wish to run a local copy of emonCMS (without the sd card crashing) I would recommend using a small hdd with your pi. instructions for that can be found here&nbsp;<a href="5092.html" style="font-size: 12px;">Creating a local EmonCMS installation on a Raspberry Pi</a>&nbsp;to which you can add oem_gateway by using&nbsp;</p>
<blockquote><p><strong>sudo git clone http://github.com/Jerome-github/oem_gateway.git</strong></p>
</blockquote>
<p>and following these instructions&nbsp;<a href="https://github.com/Jerome-github/oem_gateway">https://github.com/Jerome-github/oem_gateway</a></p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21043"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1741.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1741.jpg" alt="ukmoose&#039;s picture" title="ukmoose&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms on the RaspberryPI: Partitioned SD - wireless problems</h3>

    <div class="submitted">Submitted by <a href="../user/1741.html" title="View user profile.">ukmoose</a> on Fri, 25/04/2014 - 20:29.</div>
    <div class="content">
     <p>I&#39;m not near my Pi at the moment but have you tried just configuring it in /etc/network/interfaces :</p>
<p>&nbsp;</p>
<pre>
auto lo

iface lo inet loopback
iface eth0 inet dhcp

allow-hotplug wlan0
iface wlan0 inet dhcp
wpa-ssid &quot;network name&quot;
wpa-psk &quot;network password&quot;</pre>         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21062"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6244.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6244.jpg" alt="emicon&#039;s picture" title="emicon&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms on the RaspberryPI: Partitioned SD - wireless problems</h3>

    <div class="submitted">Submitted by <a href="../user/6244.html" title="View user profile.">emicon</a> on Sat, 26/04/2014 - 09:08.</div>
    <div class="content">
     <p>hello,</p>
<p>	thanks for the quick reply. Maybe I forgot to mention that I have followed this tutorial</p>
<p><a href="http://emoncms.org/site/docs/fullstackpi" title="http://emoncms.org/site/docs/fullstackpi">http://emoncms.org/site/docs/fullstackpi</a></p>
<p>which plans to start from an SD card containing a oem_gateway image; this image comes with the<br />
	following things pre-installed: ipe debian linux, ssh server, serial settings for rfm12pi,<br />
	git and Jerome&#39;s oem gateway. In the next step the SD is partitioned to allow the installation<br />
	of the local server apache + mysql + redis which will be installed inside the webapp emocms.</p>
<p>For ukmoose: thanks, i already have tried that settings, but i think the problem is the missed wpa_supplicant.</p>
<p>for pb66: thanks, i think i will use the external hard disk but i wanted to do a try with all system<br />
	on a card because it sounds very nice to me to have all inside the raspberry. Anyway i will follow<br />
	your instructions as soon as possible (today is sunny and i&#39;m out with family ^_^).</p>
<p>Have both a great weekend! :)</p>
<p>Emilio</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21105"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms on the RaspberryPI: Partitioned SD - wireless problems</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 28/04/2014 - 12:14.</div>
    <div class="content">
     <p>Hi Emilio,</p>
<p>I hope you don&#39;t mind I have copied and replied to your PM in the forum thread as other users may be able to contribute or find it of interest.</p>
<blockquote><p>Hello,</p>
<p>i&#39;m sorry but i&#39;m not able to post a reply, a message say that my reply is queued for approval.</p>
<p>I try to posto here in private if you dont mind.</p>
<p>&quot;hello,</p>
<p>thanks for the quick reply. Maybe I forgot to mention that I have followed this tutorial</p>
<p><a href="http://emoncms.org/site/docs/fullstackpi" title="http://emoncms.org/site/docs/fullstackpi">http://emoncms.org/site/docs/fullstackpi</a></p>
<p>which plans to start from an SD card containing a oem_gateway image; this image comes with the<br />
		Following things pre-installed: ipe debian linux, ssh server, serial settings for rfm12pi,<br />
		git and Jerome&#39;s oem gateway. In the next step the SD is partitioned to allow the installation<br />
		of the local server apache + mysql + redis which will be installed inside the webapp emocms.</p>
<p>For ukmoose: thanks, i already have tried that settings, but i think the problem is the missed wpa_supplicant.</p>
<p>for pb66: thanks, i think i will use the external hard disk but i wanted to do a try with all system<br />
		on a card because it sounds very nice to me to have all inside the raspberry. Anyway i will follow<br />
		your instructions as soon as possible (today is sunny and i&#39;m out with family ^_^).</p>
<p>Have both a great weekend! :) &quot;</p>
<p>Emilio</p>
</blockquote>
<p>If you wish to go down the route of installing emonCMS to a read-only partition and have a data partition to write to, and are unable to resolve the wifi issue using the&nbsp;<a href="http://emoncms.org/site/docs/raspberrypigateway">oem_gateway image</a>&nbsp;used in those instructions, you could <a href="http://emoncms.org/site/docs/raspberrypigatewaybuild">build your own image</a>&nbsp;or I can see no reason against using&nbsp;<a href="https://www.dropbox.com/s/82vu37767mr0q7i/20140310_RockSolidGateway.zip">the image I linked to</a>&nbsp;instead. Trystan has also created a <a href="4283.html">RO raspbian&nbsp;image</a> you could start with. All of these are read-only sd card images that in theory you could use to follow <a href="http://emoncms.org/site/docs/fullstackpi">thestackpi instructions</a>&nbsp;to add a data partition for&nbsp;emonCMS.to write to.</p>
<p>Make sure you keep backing up your data partition though (this should be done with hdd as well&nbsp;but more so with sd card), the image can always be rebuilt but if you cannot retrieve your data from a failed sd card it&#39;s gone for good.</p>
<p>If you use a smallish sd card (to begin with) you can back up your SD image and try another method (or try them all) when you decide on an image you can increase the partition sizes as you need (keep them small to help with backing up)</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5095"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-ylnkLHrm4c70dJG3i3xEPuFpfiTvouBh4D_utoV5cR4" value="form-ylnkLHrm4c70dJG3i3xEPuFpfiTvouBh4D_utoV5cR4"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
