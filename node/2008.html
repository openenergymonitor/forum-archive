<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2008 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:07:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>emonGLCD receiving data from emonBase | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">emonGLCD receiving data from emonBase</h3>
        <span class="submitted">Submitted by Guest on Fri, 08/02/2013 - 21:25</span>
        <div class="content"><p>Hey</p>
<p>Just built my emonGLCD, and allthough it was a lot smaller than I thought, it&#39;s really nice :)</p>
<p>Has anyone tried driving the displayed data from the server (Raspberry Pi in my case) instead of the emonGLCD acting on its own? We currently only feed it time data that way, but in my case it will be very hard to get the data I want to display.</p>
<p>For instance:</p>
<ul>
<li>
		kWh/day is already in emoncms, why keep track of it in the LCD also? Getting that data from the server simplifies things since the LCD only needs to display data, not calculate and keep track of days. (This way you might be able to sleep the unit during the night as well).</li>
<li>
		Hourly electricity prices, fetched online.</li>
</ul>
<p>Can&#39;t think of any other examples now, but basically all kinds of funky calculations which would be very hard to make in the emonGLCD. The hardest part would be to make a flexible, configurable solution.</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1733.html" class="topic-previous" title="Go to previous forum topic">‹ Electricity meter LED flash direct to raspberry pi emonbase ?</a>
              <a href="1637.html" class="topic-next" title="Go to next forum topic">Reducing flicker in PV controllers ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-9697"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonGLCD receiving data from emonBase</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Fri, 08/02/2013 - 22:51.</div>
    <div class="content">
     <p>I send external temperature to display on mine. Simple bash script on my linux box grabs temperature from wview and sends to emon base, which forwards to the display.</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-9703"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonGLCD receiving data from emonBase</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Sat, 09/02/2013 - 07:08.</div>
    <div class="content">
     <p>Lloyd, that seems fun to explore, I see wview can run on Raspberry Pi, so might be an interesting project to try out. Do you care to share your bash script?</p>
<p>Thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-9725"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonGLCD receiving data from emonBase</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Sun, 10/02/2013 - 10:10.</div>
    <div class="content">
     <p>Attached is one of my scripts. &nbsp;To understand how it works, probably best to have some background information.</p>
<p>I could never get emonBase to reliably transfer to emoncms. &nbsp;I spent far too long trying to track down problems in the TCP/IP handling, that I decided to turn my solution on its head.</p>
<p>I have emoncms&nbsp;hosted by one of the hosting companies (it hangs off another web site I manage).&nbsp;</p>
<p>I have an o2 joggler, running ubuntu, that runs my weather station software (wview and apache). (I did run emoncms on here for a while, but then it was using a usb stick as the file system, and these would die after a couple of months due to the high number of writes. &nbsp;I now have a hard drive attached, so in theory could move it back.)</p>
<p>I have two scripts on the joggler. &nbsp;One of these pulls data from emonbase (192.168.98.20) &nbsp;every 10 seconds, and pushes to my emoncms installation. &nbsp;The second script again pulls data from emonbase, this time every 5 minutes, and posts it to pvoutput.com. &nbsp;Each time I pull data from the emonbase, I send it the current external temperature, pulled and scraped from a very simple wview html page. If it has changed since the last time, it transmits this to emonGLCD.</p>
<p>Attached is the scipt that sends to pvoutput.com. It isprobably not the most efficient (or neatest!) of code, but it does the job. &nbsp;When I pushed data from emonBase, my failure rate was probably around 30%, and I would get frequent hangs. &nbsp;Now it is more like 0%.</p>
<p>Also attached are a couple of photos showing my two main displays - immersion one selects when power is being diverted.</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-9726"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonGLCD receiving data from emonBase</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Sun, 10/02/2013 - 12:17.</div>
    <div class="content">
     <p>Thanks!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2008"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-C3WnIbWt6V4dMB6qXuyIecWT-0jSE3lY_xYrxlD5lu8" value="form-C3WnIbWt6V4dMB6qXuyIecWT-0jSE3lY_xYrxlD5lu8"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
