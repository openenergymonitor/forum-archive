<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5142 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:12:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>DC Sensing project | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">DC Sensing project</h3>
        <span class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Tue, 06/05/2014 - 11:25</span>
        <div class="content"><p>Hi All, I started thinking about this project about 4 years ago when <a href="http://v3power.co.uk/">v3power</a> did a turbine build course at Trystan&#39;s place in North Wales. Trystan and I talked about a simple DC monitoring circuit for wind turbines. Then my university degree happened, and now I&#39;m back and onto this original project. Full circle.</p>
<p>I want to post here to explore what applications people think would be best for a DC monitoring project. Thoughts so far include making an integrated Arduino, RF, DC Sense module, rated at 100A. The rating implies applications in Solar, Wind and Hydro. The rating is primarily for the physical robustness of the module and is not restricting it&#39;s application in higher resolution measurements at lower currents. The shunt and amplifier gain could be adjustable, making a wide variety of applications possible.</p>
<p>I&#39;ll be documenting a variety of approaches as the tests and designs develop:</p>
<ol>
<li>
		Breadboard / Copper ProtoBoard</li>
<li>
		PCB Kit</li>
<li>
		SMT Board and case.</li>
</ol>
<p>So far I&#39;ve tested several shunt monitoring ICs, each with their own characteristics. I&#39;ve got a couple more to do (one because it was a first attempt at SMC soldering which went terribly, and the other because it <a href="http://uk.farnell.com/texas-instruments/ina219bidcnt/ic-current-shunt-monitor-8sot23/dp/1855125">requires programming</a>).</p>
<p>Results of tests so far and a few notes <a href="https://docs.google.com/spreadsheets/d/1qsjCXKnez78Fx4EZUNTnegNVaMb-mJxuKbg49RVwsrc/edit?usp=sharing">here</a>.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11974.html" class="topic-previous" title="Go to previous forum topic">‹ emonPi Firmware &amp; info referenced on LCD</a>
              <a href="11839.html" class="topic-next" title="Go to next forum topic">Use Socket Interfacer on EmonPi ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-21253"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Tue, 06/05/2014 - 11:50.</div>
    <div class="content">
     <p>Hi</p>
<p>Have you looked at these:-</p>
<p><a href="http://www.pololu.com/category/118/current-sensors" title="http://www.pololu.com/category/118/current-sensors">http://www.pololu.com/category/118/current-sensors</a></p>
<p>I am using one to monitor the load consumption on my battery PV system. I found this useful as well:-</p>
<p><a href="http://www.hacktronics.com/Tutorials/arduino-current-sensor.html" title="http://www.hacktronics.com/Tutorials/arduino-current-sensor.html">http://www.hacktronics.com/Tutorials/arduino-current-sensor.html</a></p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21327"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3841.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="danbates&#039;s picture" title="danbates&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Sun, 11/05/2014 - 10:16.</div>
    <div class="content">
     <p>Hi Ian,</p>
<p>They look handy and cheap. Hall effect are not as accurate as shunt monitors, and they have greater gain error over temperature I believe. Shunt monitor ICs are about half the price. Not sure about hall effect if I&#39;m designing something from scratch.</p>
<p>I&#39;m thinking of using PCB tracing as the resistor element, so any heat generated is spread through the board and absorbed by the connecting cables also. Doing away with the shunt resistor itself also. I&#39;m going to have to get the advice of the PCB manufacturer.</p>
<p>Cheers,</p>
<p>Dan</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21514"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3841.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="danbates&#039;s picture" title="danbates&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Thu, 22/05/2014 - 20:59.</div>
    <div class="content">
     <p>I&#39;m trying to work out if it&#39;s worth developing an integrated arduino/RF/dc sensor module. Thoughts anyone?</p>
<p>Thinking that high res unidirectional dc monitoring&#39;s a good start. maybe if the dc monitoring component (shunt+IC) is self contained, like the pololu sensors above, then two could be used for bidirectional data, using two analog inputs. I wonder if the Tx could lend itself to DC monitoring..</p>
<p>D</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21516"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 22/05/2014 - 21:55.</div>
    <div class="content">
     <p>DC monitoring is a topic that pops up fairly regularly, but there&#39;s a huge range to cover, from battery charging (vehicles or otherwise) to PV output monitoring, implying a fairly wide range of both current and voltage.</p>
<p>It&#39;s apparently so simple, yet it can be fraught. If you&#39;re looking at the PV output, it may well be sitting at a very nasty voltage, so isolation would likely be essential in very many applications.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21525"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2128.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jb79&#039;s picture" title="jb79&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/2128.html" title="View user profile.">jb79</a> on Fri, 23/05/2014 - 07:26.</div>
    <div class="content">
     <p>Isolated current measurement is simple, there are some Allegro ICs (ACSxxx) for up to +/-200A.</p>
<p>After I did some searching, I found something for isolated voltage measurement: avagotech.com: <a href="http://www.avagotech.com/pages/en/optocouplers_plastic/plastic_miniature_isolation_amplifier/acpl-c870/" title="http://www.avagotech.com/pages/en/optocouplers_plastic/plastic_miniature_isolation_amplifier/acpl-c870/">http://www.avagotech.com/pages/en/optocouplers_plastic/plastic_miniature...</a></p>
<p>Anybody tried one of these ICs?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21530"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3841.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="danbates&#039;s picture" title="danbates&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Fri, 23/05/2014 - 16:24.</div>
    <div class="content">
     <p>The range of DC monitoring requirements is by far the most headache inducing part of this project! The <a href="http://uk.farnell.com/texas-instruments/ina219bidcnt/ic-current-shunt-monitor-8sot23/dp/1855125RL">INA219 </a>looks promising because of the programmable gain. Goes as low as 40mV for full range sensing with a 10uV resolution. So even with a 10mV drop across shunt that&#39;s 1000 steps of resolution. The shunt could be swappable, switchable or solderable in some way depending on the current range required.. haven&#39;t decided how to do that.</p>
<p>I need to test the INA219.. got it working using the adafruit sketch, just need to check its accuracy. Even so, the common mode voltages it accepts aren&#39;t great.. which leads me to the <a href="http://uk.farnell.com/texas-instruments/ina169na-250g4/ic-shunt-monitor-440khz-sot23-5/dp/1234749">INA169</a>.. and this is where i go round in circles because the 169 is unidirectional and has errors at low sense values.. So would need 2 for bidirectional use and a calibration routine.</p>
<p>Zener diodes for isolation?</p>
<p>The allegros are awesome but immediately restrict use to certain current ranges. I want to make a versatile little thing if possible</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21534"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 23/05/2014 - 20:41.</div>
    <div class="content">
     <p><em>Zener diodes for isolation?</em></p>
<p>How? I think you&#39;re a bit mixed up there.</p>
<p>But I don&#39;t think the INA219 actually provides any isolation at all. It can accept common-mode inputs over a limited range as you say, but that&#39;s not the same thing.</p>
<p>To get a truly isolated signal transfer, you need to go to optical or magnetic (transformer), and that implies the signal conditioning and conversion to digital takes place in the isolated, not-ground-referenced part.&nbsp; And then the actual signal isolation is only part of the problem - you&#39;ll most likely need two power supplies, one to feed the ground-referenced end and the second, isolated, power supply to feed the part of the circuit that&#39;s not earth-referenced. RobP attended to all these issues, but in a slightly different context, in <a href="1987.html">GivMon</a>.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21555"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3841.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="danbates&#039;s picture" title="danbates&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Sun, 25/05/2014 - 18:35.</div>
    <div class="content">
     <p>I&#39;ve done a little research.. that page you linked and the &#39;galvanic isolation&#39; wikipedia page..</p>
<p>Does it make sense that if the DC sensing module wirelessly passed on the information, magnetic or optical isolation would be unnecessary? The module itself could be fused in the event of a short circuit through it.</p>
<p>However if the DC sensing component was wired into the an arduino or pi powered from a system with a different reference voltage then isolation would be required? For example if there was a PV/Battery system on one side and grid tie inverter interfacing with the mains.. Then isolation would be required?</p>
<p>&nbsp;</p>
<p>On a different subject.. galvanic corrosion.. I witnessed the results of this in old PV systems (self-colouring of the copper wire). It is a strong enough reason to avoid screw terminal connections in DC systems and instead, have everything soldered?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21559"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 25/05/2014 - 20:52.</div>
    <div class="content">
     <p>Sending the data wirelessly does of course achieve isolation, but <em>you cannot work on it. </em>You would need to have a suitably rated plug and socket connection, or a suitable isolator switch, to completely disconnect it in order to do any adjustments to the software and to reprogram it, and you could not make any connection for monitoring the serial output in use. Irrespective of the need for isolation, you must always provide circuit protection against faults.</p>
<p>I cannot say for certainty, without seeing circuit diagrams or measuring voltages, whether isolation is required in any particular case. It is highly probable that it would be required in most cases, because if you think about it, one side of the mains is more or less at earth potential, no inverter manufacturer wants the cost, size and weight penalty nor the losses of a 3 or 4 kVA mains transformer, so unless you do the power conversion in two stages and have a smaller high frequency transformer (think of the size and weight of a 5 V USB adapter compared with the ac-ac adapter) giving you isolation, neither side of the d.c. supply from the panels will be at earth potential.</p>
<p>Can you not only have galvanic corrosion if you have two dissimilar metals and some form of an electrolyte present - usually dampness? We could not possibly solder the connections on the 3 MW dc mine winder motors - those had crimps on the cable ends that were bolted onto the busbars. Those were of course indoors and dry.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21571"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3841.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="danbates&#039;s picture" title="danbates&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Mon, 26/05/2014 - 12:04.</div>
    <div class="content">
     <p>It makes alot of sense to isolate.. Didn&#39;t realise it was such a problem. Plug and socket connection, like automotive relays, could work well. Would an isolation switch best disconnect the sensing module from the common line or the positive lines or both?</p>
<p>The galvanic corrosion issue&nbsp; (I was told that&#39;s the right term.. could be wrong) &nbsp; I witnessed in Australia. Any system older than 15 years had negative lines gone black, pain to work with. The humid environment there means everything gets damp at some point through the wet season, indoors or out. Does this type of corrosion have a different name? I can&#39;t find anything conclusive searching the web.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21574"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 26/05/2014 - 12:35.</div>
    <div class="content">
     <p>High direct voltages can be very nasty, what voltage are we talking about, because automotive connectors will be good to only 12 / 24 V. Whatever the voltage, you must completely isolate the kit you are working on - as well as the risk of shock to you, there&#39;s the danger from a ground or common loop through any test gear or computer you connect.</p>
<p>I&#39;ll pass on the corrosion issue - we don&#39;t have that problem much in the UK. But would some kind of conformal coating help?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21580"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3841.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="danbates&#039;s picture" title="danbates&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Mon, 26/05/2014 - 16:39.</div>
    <div class="content">
     <p>Might as well design a DC sensing module to work with 48V solar pv systems. Meaning open circuit voltages of about 60V, which happens to be compatible with a couple of shunt monitors I&#39;ve found. Protection from higher voltages like in generator applications would be useful.. Zener diodes come into play here?</p>
<p><a href="https://docs.google.com/drawings/d/1vuDr3Bs2pl0OuCuJ9A5ob8zSsV-_p-Cet8cTclZYekg/edit?usp=sharing" title="https://docs.google.com/drawings/d/1vuDr3Bs2pl0OuCuJ9A5ob8zSsV-_p-Cet8cTclZYekg/edit?usp=sharing">https://docs.google.com/drawings/d/1vuDr3Bs2pl0OuCuJ9A5ob8zSsV-_p-Cet8cT...</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21586"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 26/05/2014 - 18:24.</div>
    <div class="content">
     <p>You need to protect the monitor IC inputs from overvoltage - whatever the manufacturer&#39;s data sheet says. If the other leg of your dc supply is grounded, you won&#39;t need isolation. If it isn&#39;t or you don&#39;t know, then you do and everything must be insulated to the highest system voltage, as must be your power supply.</p>
<p>What sort of power (on the dc side) are we talking about? Presumably you&#39;ll want to measure the voltage also?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21607"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3841.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="danbates&#039;s picture" title="danbates&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Tue, 27/05/2014 - 11:05.</div>
    <div class="content">
     <p>Pages 14 and 15 <a href="http://www.ti.com/lit/ds/symlink/ina213.pdf">http://www.ti.com/lit/ds/symlink/ina213.pdf</a> for transient overvoltage protection, which it think is suitable for overvoltage in general depending on the components.</p>
<p>So if for example the pv negative and battery negative were both earthed then no isolation&#39;s required?</p>
<p>Designing for 100A 60V DC. Yes, voltage also with a divider I was thinking..</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21609"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 27/05/2014 - 12:05.</div>
    <div class="content">
     <p>I don&#39;t think you&#39;ve yet grasped what Isolation is for. Stop thinking details and look at what happens when something goes wrong.</p>
<p>Reason 1. If your measuring kit is connected to battery negative and your computer to mains earth, then if you plug one in to the other, if there&#39;s the slightest voltage difference, a current will flow. What that current could be depends on a myriad of factors, but I wouldn&#39;t bet that it won&#39;t blow tracks off PCBs or melt cables or connectors.</p>
<p>Reason 2. Personal safety. No fuse will protect you, and while 60 V dc across a finger will sting, if your skin is damp and hence (comparatively) highly conductive and the conducting path is through a critical part of your body, then the effect is a lot more serious. So to combat that you need to be able to isolate the part that you intend to work on, or if your only connection to the high voltages is instrumentation inputs, you need a totally foolproof way to limit the possible fault current to a safe value. So looking at your shunt, the connections to the amplifier must be via at least two series resistors each (so you stand a fighting chance if one fails short circuit) and those and the shunt itself must be fully shrouded against inadvertent contact. The current must be limited to a few milliamps even with one resistor shorted, no matter to where your short-circuit happens to be.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21762"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3841.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="danbates&#039;s picture" title="danbates&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Mon, 02/06/2014 - 12:00.</div>
    <div class="content">
     <p>It might be worth me looking at an example module. Can you recommend something? Or would looking at something like an AC-DC adaptor be worthwhile?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21763"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 02/06/2014 - 14:23.</div>
    <div class="content">
     <p>I&#39;m struggling because I don&#39;t know the details of your system - or the system that you are proposing - so everything I&#39;m saying has to be in the most general terms. What do you mean by an example module? What is it for, what are you trying to achieve? How is an AC-DC adapter an alternative to it? What do you need your AC-DC adapter for?</p>
<p>Looking back through this thread, are you in fact trying to design a general purpose module that anyone can use? If that&#39;s the case, then you simply <em><strong>must</strong></em> assume that isolation to the full system voltage is required. You have two choices: either you put everything in an earthed metal case or you double insulate; and isolate (probably but not necessarily optically - as energy meters do, radio is also available) the input and output to your programming and reading device. Alternatively (still suitably protecting the potentially high voltage connections) isolate the input signals - again optically is one possibility, and earth the rest of the circuit and the output (usually this earth will be via the computer you&#39;re programming with.<br />
	In other words, you follow exactly the practice adopted by the emonTx: both voltage and current inputs are isolated - in this case by transformers - to at least the system voltage (350 V dc), and there is no path for current to flow when you connect it to a computer to program or read the serial output connection between the rest of the circuit.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38200"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3841.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="danbates&#039;s picture" title="danbates&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/3841.html" title="View user profile.">danbates</a> on Tue, 12/01/2016 - 21:16.</div>
    <div class="content">
     <p>How&#39;s this looking Rob?</p>
<p>I finally got my head round isolation I think. So this is opto-isolated.</p>
<p>I&#39;ll check here again in a couple of weeks.</p>
<p>Cheers,</p>
<p>Dan</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38207"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: DC Sensing project</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 12/01/2016 - 23:42.</div>
    <div class="content">
     <p>I haven&#39;t studied your design in any great detail, but the first comment is you need to take great care when setting the system up and commissioning it, because everything upstream of the opto-isolators&nbsp;is live to 60 V d.c., and that&#39;s not to be messed with. (I&#39;m looking at the USB socket here - why is it there? Similarly the ISP1 header.)&nbsp;And remember the capacitors on the antenna need to be rated for at least 60 V.</p>
<p>Is the 60 V to 9 V regulator happy with a 9 V supply on its output, because you&#39;ll probably need to do that while testing? If not, put a jumper in to allow you to feed 9 V from a bench PSU.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5142"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-6ZpPHT5RK-0j4vOaGAh163HYztrdHzmlvnwYH2CXKCA" value="form-6ZpPHT5RK-0j4vOaGAh163HYztrdHzmlvnwYH2CXKCA"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/5142 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:12:05 GMT -->
</html>
