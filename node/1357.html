<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/1357 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:05:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Discrepancies and accuracy of the feeds | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Discrepancies and accuracy of the feeds</h3>
        <span class="submitted">Submitted by <a href="../user/2221.html" title="View user profile.">alpav</a> on Sat, 17/11/2012 - 11:17</span>
        <div class="content"><p>With my system up and running from three days now, I am starting to do some statistics. At a first glance, I&#39;ve noticed a considerable discrepancy between what the emonGLCD stores as historical data and what the emoncms&nbsp;stores as &quot;Power to kWh/d&quot;.</p>
<p>Let&#39;s take the PV production. My setup is a type 1 solar system, so the emonTx&nbsp;CT2 input is the generation input. Yesterday it was a quite sunny day and I&#39;ve got the following production results:</p>
<ul>
<li>
		Inverter read: 14.2 kWh</li>
<li>
		emonGLCD: 12.5 kWh</li>
<li>
		emoncms: 13.6 kWh</li>
</ul>
<p>I know that my inverter overestimates the production of about 2%. What I didn&#39;t expect was such an error between the GLCD and the cms as they&#39;re relying on the same data. My scope would be to understand which reading is the more reliable.</p>
<p>I would also ask for an &quot;experienced&quot; opinion about the following. When the sun is over, I see the power2 input counting a power between -1W and +1W, all the time. I believe this is due to some noise and/or to the ADC resolution. I have filtered this in the emonGLCD sketch adding up to the genkhw&nbsp;variable positive values only. From you point of view, am I correct?</p>
<p>More weird is the following: when the inverter starts up in the morning and when it is going to sleep in the afternoon, I have seen from the emoncms graph that power2&nbsp;is negative, i.e. the inverter is a load to the system. I&#39;m speaking of 7-10 minutes in the morning and 30 minutes in the afternoon at about 20W of consumption. Is it a real consumption or again a false reading of the Arduino?</p>
<p>Any opinion would be really appreciated.</p>
<p>Thanks,</p>
<p>Alberto</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1435.html" class="topic-previous" title="Go to previous forum topic">‹ emonTx troubleshooting</a>
              <a href="1417.html" class="topic-next" title="Go to next forum topic">Interfacing with CT (sct-o13-030) ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-7373"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 17/11/2012 - 14:17.</div>
    <div class="content">
     <p><em>&quot;I see the power2 input counting a power between -1W and +1W, all the time. I believe this is due to some noise and/or to the ADC resolution. I have filtered this in the emonGLCD sketch adding up to the genkhw&nbsp;variable positive values only. From you point of view, am I correct?</em>&quot;</p>
<p>The + / - 1 W is almost certainly noise in the system. If you are concerned, I would suggest you ignore values less than 1 W, (or some other small number). Ideally, you need to do this in the emonTx.</p>
<p><em>&quot;the inverter is a load to the system. I&#39;m speaking of 7-10 minutes in the morning and 30 minutes in the afternoon at about 20W of consumption. Is it a real consumption or again a false reading of the Arduino?</em>&quot;</p>
<p>This is real consumption. The inverter requires some power in order to synchronise itself to the mains and to operate, and until it has started to operate, it cannot use its own power. It is likely to be drawing a very small power all night, but possibly it is too small for you to measure (I would expect a few Watts, around 5 would be a reasonable number. If the inverter specification lists &quot;quiescent consumption&quot; or words like that, this is what we are talking about).</p>
<p><em>&quot;What I didn&#39;t expect was such an error between the GLCD and the cms as they&#39;re relying on the same data.&quot;</em></p>
<p>True, but the data is processed differently, and the two systems are not necessarily working over the same time interval even. The data reaches emonCMS via the base and the Internet, every 5 s or so. EmonCMS then draws a straight line between the last data item it received and the current one, and integrates the area under the graph. If a reading goes astray and does not reach emonCMS, it is ignored. EmonGLCD adds up the power every 200 ms and assumes it remains constant during that time. That is my understanding. You can of course look at the source code for both systems and see how the totals are arrived at.&nbsp;</p>
<p>Have you checked the calibration of both your voltage and current sensors? If not, this could explain the difference between the inverter and the GLCD values.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7377"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2221.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-2221.png" alt="alpav&#039;s picture" title="alpav&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/2221.html" title="View user profile.">alpav</a> on Sat, 17/11/2012 - 20:55.</div>
    <div class="content">
     <p>I have checked the inverter documentation and it actually does report a quiescent consumption &lt; 2W. So the &quot;noise&quot; I see at night on channel 2 might be either noise itself or this quiescent consumption as well (emonTx reads values like -1W mainly). The meter has measured about 1 kWh of consumption in 145 days. The bigger consumption of -20W&nbsp;measured when the inverter wakes up and when it is going to sleep might be due to the fact that the light is enough for the inverter to switch on but the current it&#39;s not. It is definitely not relevant but it is not actually considered as a consumption because the CT1&nbsp;sensor doesn&#39;t reveal it.</p>
<p>There is something else I don&#39;t understand. The emonTx sends data every 5 seconds. The emonGLCD&nbsp;fast loop takes 200 milliseconds, so the sketch divides by 5 (1 second / 5 = 200 milliseconds) the received power and sums it to the genhwh variable at every loop. It does it until it gets a new value, so I assume that the received value is considered constant until the next one. In ideal conditions it means 5 seconds between two consecutive values. I suppose that this is the same that the emoncms does, as it gets an input every 5 seconds. So why am I facing such a difference between the power to kwh/day values of the emonGLCD and the one of the emoncms?</p>
<p>I&#39;m writing from Italy. Here the solar production is incentivized by the Government with a fixed rate per kWh. There is a specific power meter dedicated to this. As there is a discrepancy between what the inverter shows and what the meter does (guess what? The meter counts less than the inverter!) I&#39;m willing to have a good reading through the emon. I&#39;ve measured the error between the inverter and the power meter around 1.8% on a 5 months period (inverter +1.8% than power meter) and now this discrepancy between the nodes of the system is confusing me!</p>
<p>I&#39;m using the emonTx_CT123_Voltage sketch with the&nbsp;FP AD 3515 Euro plug AC-AC voltage adaptor. I then changed the voltage calibration coefficient to&nbsp;212.658. I didn&#39;t change anything about the current sensor (leaving the 111.1 value I&#39;ve found) nor the calibration shift (1.7). I don&#39;t know how to change it.</p>
<p>ct1.voltageTX(212.658, 1.7);</p>
<p>ct1.currentTX(1, 111.1);</p>
<p>ct2.voltageTX(212.658, 1.7);</p>
<p>ct2.currentTX(2, 111.1);</p>
<p>Today&#39;s data:</p>
<ul>
<li>
		Inverter: 3.4 kWh</li>
<li>
		GLCD: 2.8 kWh</li>
<li>
		cms: 3.1 kWh</li>
<li>
		Power meter: 3 kWh (the meter doesn&#39;t return any other digit)</li>
</ul>
<p>Thanks,</p>
<p>Alberto</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7379"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 17/11/2012 - 22:36.</div>
    <div class="content">
     <p>You need to calibrate the emonTx before you can know what is right and what is wrong. All electronic components have manufacturing tolerances, and these will add up. If you are lucky, some will go one way, some the other and they will cancel each other. If you are unlucky, all will add up to give a large error. The voltage error can be up to 2% from resistor tolerances, plus the voltage adapter tolerance, which I don&#39;t think we know (I would expect it to be within 5%, but it might be more). The current error should be a maximum of 1% from one resistor + 1% from the c.t itself.</p>
<p>To calibrate the emonTx, you need an accurate calibrated multi-meter and a resistive load - an electrical heater is fine. Check the accuracy of your meter on the ranges that you will be using - it is usually given as x% of reading + y digits, and you will want to know the actual possible error in each measurement.</p>
<p>First, you need to be able to see what the emonTx is measuring. Temporarily, put some print statements into the main loop to display the rms voltage, power factor and rms current for each CT (and optionally real and apparent powers).</p>
<p>Measure your system voltage and adjust the number <strong>212.658</strong> so that the emonTx gives the same voltage as your multi-meter. You might find this has to change by up to 5%, maybe more, to<strong> </strong>give you the correct result. Put the new number in both places - ct1 &amp; ct2.<br />
	Next, you need to calibrate the phase shift for CT1 (that&#39;s the <strong>1.7</strong> in ct1.voltageTX). With only your heater connected (at the maximum setting), change this number so that ct1.powerFactor is as close to 1.00 as possible (and then ct1.realPower and ct1.apparentPower should be equal).&nbsp; This is for the combination of&nbsp; CT1 and your voltage adapter. Now temporarily put CT2 on the same cable as CT1 and do the same again, this time it is the <strong>1.7</strong> in ct2.voltageTX that you change. If either number changes much, check again the voltage and if necessary adjust each voltage calibration (the change this time should be very small). You might have different numbers in each - the important thing is both ct1.Vrms and ct2.Vrms must read the voltage that you are measuring.<br />
	Finally, you need to calibrate the current transformers. You need the biggest current with a heating load that your multi-meter can measure, then with only the heater(s) connected, measure the current and adjust the <strong>111.1</strong> in ct1.currentTX(1, 111.1) so that ct1.Irms reads the same as your multi-meter. Do the same for CT2, then put CT2 back on the inverter cable, and take out the print statements.</p>
<p><em>&quot;So why am I facing such a difference between the power to kwh/day values of the emonGLCD and the one of the emoncms?&quot;</em></p>
<p>We must ask Trystan about that. He knows the emonCMS software very well - I believe he wrote it. Are you using your own emonCMS running locally or emoncms.org?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7430"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 18/11/2012 - 23:08.</div>
    <div class="content">
     <p>Hello Alpav, Robert</p>
<p>Both emoncms and the emonglcd calculate kwh/d in the same way, time between readings x power / divided by joules in one kwh. The last time I checked they corresponded quite well +- 0.1 kWh I think.</p>
<p>However there can be large errors if for some reason either emoncms or the emonglcd does not recieve an update for a longer than usual time, especially if the power is changing between say a couple of 100W&#39;s and 3000W. I have had that happen a few times where the graph draws a straight line over a period of half an hour or so from 100 to 3000W which could lead to as much as a 1.5 kWh discrepancy.</p>
<p>Are you seeing a consistent error? with a few more days of data?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7448"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2221.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-2221.png" alt="alpav&#039;s picture" title="alpav&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/2221.html" title="View user profile.">alpav</a> on Mon, 19/11/2012 - 20:55.</div>
    <div class="content">
     <p>Thanks for your replies, very appreciated. I did expect that both emoncms and emonGLCD calculate kwh/d in the same way, so I have to search for the reason somewhere else. I am monitoring the PV production mainly at the moment, so I don&#39;t expect to have &quot;spikes&quot; in the power production. Today I&#39;ve got the following data:</p>
<ul>
<li>
		Inverter: 5.9 kWh</li>
<li>
		emonGLCD: 5.2 kWh</li>
<li>
		emoncms: 6.61 kWh</li>
</ul>
<p>This is strange. As Robert suggests, I did not calibrate the emonTx&nbsp;and this explains the discrepancies with the Inverter reading. I didn&#39;t understand from the site that the calibration was required, but it makes more than sense... I will do it as soon as possible, but the only resistive load I can get at the moment is 650W and I&#39;m not sure it is enough.</p>
<p>What I can&#39;t explain, however, is the big difference between emonGLCD and emoncms readings. Today the emoncms is logging much more than the inverter itself! As per the Trystan&#39;s suggestion, I have to suppose that the emonGLCD and emoncms (the emonBase) get a different number of data from the emonTx. How can I detect this? I was thinking to add a counter and to increment it at every packet received from the emonTx. On both the base and the GLCD. I would expect the two number to be reasonably similar, even because the base and the GLCD are located in the same place. Do you think it worth?</p>
<p>Unfortunately today the emonGLCD is having a weird behavior. It has been running for 6 consecutive days without any apparent problem. Then it stuck the night between Saturday and Sunday. I then restarted it on Sunday morning, optimized the code of the emonGLCD in order to save some Flash (not so much, got close to 31k) and I loaded the new sketch. Tonight it stuck again, at 20.04 - more or less after 25 hours. I think I will contribute to the proper topic for this, but I&#39;ve noticed that these stuck came after a &quot;basefail&quot; error. Tonight I had to restart the base as well (OKG W5200 running from 7 days) because despite the leds were blinking apparently the normal way, the time on the emonGLCD&nbsp;was not updated. After that reboot, I&#39;ve noticed that in emoncms today&#39;s data were put back of one day (every data shifted back of one day) and it started logging from zero. Now all the data of my database have the wrong date (just because I rebooted the base?).</p>
<p>But I am going off topic...</p>
<p>Cheers,</p>
<p>Alberto</p>
<p>P.S. I am using the emoncms.org</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7455"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 19/11/2012 - 22:01.</div>
    <div class="content">
     <p>Your 650 W load is usable, but a bigger load will be better. Use the 650 W load if that is all you have (no electric kettle?).</p>
<p>You can certainly try adding a counter. I think there is basic agreement that the nanode base and GLCD problems that have been receiving attention recently are at least partly due to lack of spare memory, so you might have to remove some code temporarily to include the counter.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7456"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 19/11/2012 - 22:24.</div>
    <div class="content">
     <p>I should have mentioned this earlier: emonTx accuracy test <a href="../emontx/accuracy.html" title="http://openenergymonitor.org/emon/emontx/accuracy">http://openenergymonitor.org/emon/emontx/accuracy</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7457"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2221.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-2221.png" alt="alpav&#039;s picture" title="alpav&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/2221.html" title="View user profile.">alpav</a> on Mon, 19/11/2012 - 22:47.</div>
    <div class="content">
     <p>No kettle, but I&#39;ve just realized that I could use the electric iron: it is 2200W. Just a bit concerned about measuring the current with the multimeter. Thanks for the reference.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7460"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 20/11/2012 - 00:31.</div>
    <div class="content">
     <p>Check the meter manual!&nbsp; Most high current ranges have a time limit - 20 s or something like that. Be quick and allow the meter to cool to ambient (many minutes!) before trying again.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7646"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2221.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-2221.png" alt="alpav&#039;s picture" title="alpav&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/2221.html" title="View user profile.">alpav</a> on Sun, 25/11/2012 - 18:57.</div>
    <div class="content">
     <p>Hi Robert,</p>
<p>I&#39;ve had the chance to work a little bit on the calibration of the system only today, following your directions.</p>
<p>I&#39;ve built a piece of cable with separated live and neutral wires. I&#39;ve clipped the two CT sensors on the live wire and I&#39;ve started to follow your instructions.&nbsp;My setup was the modified cable, one electric iron (1800 W), one toaster (650 W) and a digital multimeter. I have modified the emonTx standard sketch to print the Vrms, the Irms, the real and apparent powers and the power factor.</p>
<p>First step: searching for the correct calibration factor for the voltage reading. I&#39;ve found a value that gives me the same Vrms on both the channels. Looking at the multimeter, the calibration constant was giving me the same readings (+/- 0.5 V on average).</p>
<p>When I was satisfied of the result, I&#39;ve connected the first load, the iron, searching for the constant to put the power factor as much close to 1 as possible. This has been quite tricky as I started incrementing the &quot;original&quot; 1.7 but then I found that the best value was 1.28 (as per&nbsp;http://openenergymonitor.org/emon/emontx/accuracy). A fine tuning moved it to 1.27. I had a power factor of 1 +/-0.0015 on both channels on average. This was confirmed with the second load, the toaster.</p>
<p>I then moved to the calibration for the current. Here I had to find two different values for the two channels as the CT2 seems to return lower values than CT1. I think this is the more accurate calibration I&#39;ve done as I&#39;ve found difficulties in measuring the current with the multimeter, but I think that the error is quite low anyway. The two constants I have found are giving the two same readings on the two different channels, even though it seems to give more accurate readings on the lower load (650 W) than on the higher (the electric iron).</p>
<p>As a final step, I went back to check the voltage reading. In the first step I did the calibration with no loads connected to the wire. Now I did check the voltage with the two loads (only one at time) in and I&#39;ve found that the Vrms&nbsp;read on the multimeter was lower than the one measured! The difference went up to 3 V.</p>
<p>I then re-calibrated all the system (in the end the voltage constant only) measuring the voltage under load.</p>
<p>Big doubt: I don&#39;t know what is correct now! If I put the multimeter in a socket of my house I read an higher value than the value I read from the emonTx (more or less 1.5 V of difference). Was it better to leave the first value (calculated with no load) or this is more correct?</p>
<p>Another big doubt: I am not sure (but quite confident) about the Irms readings I get, but for sure the reading is more accurate with the 650 W load than the 1800 W one. If I have the doubt to have an error of 0.2 A on the first load, I guess to have a 0.6 A error on the second one. I didn&#39;t find any constant giving an accurate value on both cases, so I decided to prefer the first as I have an average consumption around 500-750W that I suppose will be read with more accuracy. But what will I have when the sun will be up shining again and I&#39;ll have up to 12 A flowing in my wires?</p>
<p>Maybe I am focusing on stupid questions: if so, please, tell me. Or maybe I did mistakes. I have a totally different background and I know that my first problem is my lack of knowledge. But I have a lot of willing to learn :)</p>
<p>I&#39;m trying to find a way to have some reasonably accurate readings of consumption and production. My emonGLCD and the emoncms are giving me very different values and I&#39;d like to understand why. But first of all I need to understand what value to rely on, as you told me.</p>
<p>Thanks in advance for your time and patience.</p>
<p>Regards,</p>
<p>Alberto</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7652"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 25/11/2012 - 22:01.</div>
    <div class="content">
     <p>I think you are doing everything right.&nbsp; You will read different voltages at different places, this is because the wires in your house, plugs, sockets all have some resistance so the voltage where the supply cable enters will be higher than at the furthest point - unless of course no current is flowing. When there is current flowing, the wires and connections will drop the voltage (and dissipate power and get warm!). That is absolutely normal. A 2.5 mm<sup>2</sup> cable will drop 18 mV per Amp per metre (so carrying 10 A, the voltage at the end of 10 m of this cable will be 1.8 V less than at the start).</p>
<p>Why do you think you have an error in the current readings and the lower is more correct? You cannot be sure that either load is exactly what it claims to be, and even if it is, have you calculated what the current should be at the voltage you had when you measured the current. I don&#39;t think you can say the high load or the low load gives you the more accurate reading - you simply do not know which is wrong - it could be the load itself, your meter, the emonTx or most likely a combination of all 3.</p>
<p>One test you could do: pass the wire two or three times through your current transformer - that should exactly double or triple the reading on the emonTx, and the 650 W load would read as 1300 W or 1950 W.</p>
<p>The current transformer itself is not perfectly linear, but you will only see that effect at very high currents &gt; 80 A or so. If the difference is within the accuracy specification of your meter, then I think the only way to get a better calibration is to compare kWh recorded by the GLCD against the electricity company&#39;s meter, and even then you will not know whether any difference is due to voltage error, current error or both - or the errors could of course be partly cancelling!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7654"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2221.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-2221.png" alt="alpav&#039;s picture" title="alpav&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Discrepancies and accuracy of the feeds</h3>

    <div class="submitted">Submitted by <a href="../user/2221.html" title="View user profile.">alpav</a> on Sun, 25/11/2012 - 22:19.</div>
    <div class="content">
     <p>Thanks for your prompt reply, I will be sleeping better tonight :)</p>
<p>I will monitor the data recorded by the GLCD&nbsp;with the two electricity company&#39;s meters for the next few days and I&#39;ll do further considerations. When I feel confident of my calibration I will go on exploring why the data are not matching with the emoncms, that is the point I have started from.</p>
<p>Thanks very much!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/1357"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-Jlq0bLtfaXoqPfuzHG0_KHTnxN5bBEsYWahkWr9GHd4" value="form-Jlq0bLtfaXoqPfuzHG0_KHTnxN5bBEsYWahkWr9GHd4"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
