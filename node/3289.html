<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3289 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:38:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Problem in setting up CT sensor with arduino | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Problem in setting up CT sensor with arduino</h3>
        <span class="submitted">Submitted by <a href="../user/4467.html" title="View user profile.">hmaggo92</a> on Fri, 06/12/2013 - 19:09</span>
        <div class="content"><p>Hey I am using the arduino&nbsp;based setup as explained on the website. The input source that I am feeding is via a voltage source having 50 V with a resistance and the current value in the ammeter being 1 Amps</p>
<p>.<img alt="" src="../../../www.dropbox.com/s/u5qcykmv6bbipwc/voltbox.html" /></p>
<p>&nbsp;<img alt="" src="../../../www.dropbox.com/s/2zgwh8zqm2ur8eh/setup.html" /></p>
<p>When i test the output values on the pins of 3.5 mm jack, the values do change when I change the voltage. But I had kept the voltage as 50 V and then fed this data to the arduino, the current value which was controlled by the resistance being 1 Amp.</p>
<p>I had also changed the calibration values and the voltage in the code for current only.</p>
<p>The problem now is that the values on the serial monitor is same even before plugging the CT sensor and after plugging in the ST sensor.</p>
<p>Should I increase the current value and ultimately the voltage value from the voltage source to get some values ?</p>
<p>Can any one help me with this ??</p>
  <div class="forum-topic-navigation clear-block">
          <a href="3619.html" class="topic-previous" title="Go to previous forum topic">‹ Raspberry Pi Emon Shield</a>
              <a href="1680.html" class="topic-next" title="Go to next forum topic">Smaller current CT? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-16589"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Problem in setting up CT sensor with arduino</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Fri, 06/12/2013 - 19:21.</div>
    <div class="content">
     <p>Is your 50V source AC or DC?&nbsp; The CT will not detect anything if only DC current is flowing.</p>
<p>There are a couple of simple sketches on my <a href="1757.html">Summary Page</a> which you could try. &nbsp; <strong>MinMaxAndRangeChecker.ino</strong> will show the values that the ADC is generating for the first four analog inputs.&nbsp; <strong>RawSamplesTool_4ss_2.ino</strong> will give you a graphical display of your voltage and current waveforms (but only if you have a voltage sensor and have an AC signal present)</p>
<p>Hope this helps.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16590"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4467.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="hmaggo92&#039;s picture" title="hmaggo92&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Problem in setting up CT sensor with arduino</h3>

    <div class="submitted">Submitted by <a href="../user/4467.html" title="View user profile.">hmaggo92</a> on Fri, 06/12/2013 - 20:03.</div>
    <div class="content">
     <p>My 50V&nbsp;source is AC source. I tried measuring voltage on the analog pin with and without switching on the CT sensor and the voltage remains the same,but when I try to read the change in voltage on the pins of 3.5mm jack and vary the voltage on the source the voltage on the pins of 3.5mm also vary.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16592"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Problem in setting up CT sensor with arduino</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 06/12/2013 - 21:17.</div>
    <div class="content">
     <p>Are you copying this page: <a href="https://learn.openenergymonitor.org/?redirect=ct-sensors-interface" title="http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface">http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface</a> ?&nbsp; What value burden resistor are you using? The c.t. is a <em><strong>current</strong></em> source and will give you 50 mA per 100 A of primary current.&nbsp; In your case, if your primary current is 1 A, you should expect a secondary current of 0.5 mA.&nbsp; That current flows in the burden resistor and generates a voltage at the analogue input. If you have a 33 &Omega; burden resistor, you will get only 16.5 mV.</p>
<p>The analogue input requires 2.5 V peak - approx 1.77 V rms - for a 5 V Arduino for full scale. Your input is less than 1% of this. You should get a reading, but it will not be very accurate - the error may easily be worse than 10%.</p>
<p>What you can do for testing is multiply the current. To do that, you use a multi-turn primary winding - you pass the wire through the c.t. several times. If you want your Voltbox to give the equivalent of 10 A, make a 10-turn coil and clip the c.t. over the bundle of 10 turns. Explanation: transformers work on ampere.turns (amperes &times; turns) so 1 pass through the core carrying 10 A is the same as 10 passes carrying 1 A, or 2 passes carrying 5 A.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16597"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4467.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="hmaggo92&#039;s picture" title="hmaggo92&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Problem in setting up CT sensor with arduino</h3>

    <div class="submitted">Submitted by <a href="../user/4467.html" title="View user profile.">hmaggo92</a> on Sat, 07/12/2013 - 02:03.</div>
    <div class="content">
     <p>Y<span class="GINGER_SOFTWARE_mark" ginger_software_uiphraseguid="8a9de982-ea99-4e6e-9a76-68f08fbbcb97" id="69e47de2-c033-4543-8c52-73f98b40e747">es. I am following that page wi</span>th the burden resistance of 33 ohms. I am using 5v from arduino and hence the calibration value in the code being 60.6.</p>
<p>Also I should measure the AC current on the 2 pins of the 3.5mm jack ? right ?? because it came out to be 0 when I earlier tested it and I get that it was due to very small values of current.</p>
<p>Also without plugging in the CT sensor and only supplying the 5 V&nbsp;from arduino, when I measured the DC voltage at the wire being sent as analog input and the ground, it cam out to be 2.6 V. Is this normal ?</p>
<p>So now what I will do is that without changing anything, I will just increase the no. of turns in the CT, keeping everything else the same.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16600"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Problem in setting up CT sensor with arduino</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 07/12/2013 - 09:55.</div>
    <div class="content">
     <p><em>Also I should measure the AC current on the 2 pins of the 3.5mm jack ? right ??</em></p>
<p>My suggestion is that you use the ADC in your Arduino to take your measurements.&nbsp; For this, you will need to build one or more of the standard sensor circuits that are well described in the Building Blocks section.&nbsp; You can inspect the values that the ADC is generating by using the sketches that I suggested earlier.&nbsp; Taking direct measurements from the jack-plug of the CT is unlikely to give you any results that we can help with.&nbsp;</p>
<p>With a properly set up system, there is no need for multiple turns around the CT.&nbsp;&nbsp; You should be able to detect a small flow of AC current when your is wire going through the CT only once.&nbsp; Multiple turns is a useful technique to see what happens when a large current flows.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16605"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Problem in setting up CT sensor with arduino</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 07/12/2013 - 12:42.</div>
    <div class="content">
     <p>You can find which are the connections to the secondary winding of your c.t. by measuring the resistance. You should see about 100 &Omega;. The standard connection is to tip and sleeve, there is no connection to the ring.</p>
<p>Look at the diagram on the page you are copying, and you will see that 2.5 V d.c is the correct quiescent value for the input. 2.6 V is close enough, though it will restrict very slightly the maximum current that you can measure.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27926"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7718.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="hanguyen&#039;s picture" title="hanguyen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Problem in setting up CT sensor with arduino</h3>

    <div class="submitted">Submitted by <a href="../user/7718.html" title="View user profile.">hanguyen</a> on Thu, 19/02/2015 - 12:02.</div>
    <div class="content">
     <p>Hi Robert</p>
<p>My sct013 only show the voltage AC , I measure it with Digital meter. I can read the current with the schematic on the tutorial <a href="https://learn.openenergymonitor.org/?redirect=how-to-build-an-arduino-energy-monitor" title="http://openenergymonitor.org/emon/buildingblocks/how-to-build-an-arduino-energy-monitor">http://openenergymonitor.org/emon/buildingblocks/how-to-build-an-arduino...</a></p>
<p>can you help me how to change the hardware so that I can measure current by Sct013</p>
<div id="__if72ru4sdfsdfrkjahiuyi_once" style="display:none;">&nbsp;</div>
<div id="__if72ru4sdfsdfruh7fewui_once" style="display:none;">&nbsp;</div>
<div id="__hggasdgjhsagd_once" style="display:none;">&nbsp;</div>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27964"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Problem in setting up CT sensor with arduino</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 19/02/2015 - 23:28.</div>
    <div class="content">
     <p>I do not understand your question. </p>
<p>A current transformer measures current. It has no knowledge of the voltage on the wire and it cannot measure voltage.</p>
<p>"SCT-013" is a family of current transformers, there are 10 different variants. The SCT-013-000 gives an output current of 50 mA for a current of 100 A. You must add a burden resistor to convert that current to a voltage. All the others have the burden resistor inside the casing and give you a voltage output of 1 V at the rated current.</p>
<p>Which CT do you have - the exact part number? </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/3289"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-h6aBgU8xlY2CmbLMl9Z46rBr6gjfSIIRW66Yz2Z8TPY" value="form-h6aBgU8xlY2CmbLMl9Z46rBr6gjfSIIRW66Yz2Z8TPY"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
