<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11850 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:49:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Calibration 3-phase | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Calibration 3-phase</h3>
        <span class="submitted">Submitted by <a href="../user/9046.html" title="View user profile.">Bart</a> on Tue, 22/12/2015 - 13:31</span>
        <div class="content"><p>Hi everyone,</p>
<p>I have a EMONTX V3.4 and try to measure 3 phase by using the 3phase sketch. Till so far it works, only the calibration is still hard,&nbsp;because I&#39;m not sure if I&#39;m doing right.&nbsp;</p>
<p>Vcal calibration was easy, the same for Ical for ct&nbsp;1-4. Only now I have to calibrate the phase shift to a power factor of 1. For ct 1 and 4 I fixed it by changing Phasecal, according to the guide. But there are&nbsp;strange results, to my opinion. (CT2 has a negative real power and negative&nbsp;power&nbsp;factor)</p>
<p>I have now attached ct1-4&nbsp;on one single phase positive wire. The print&nbsp;screens&nbsp;of the results are&nbsp;attached to this topic.</p>
<p>My knowledge isn&#39;t that deep that I know&nbsp;what happens is correct, hopefully you can confirm.</p>
<p>Looking forward to an answer</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11695.html" class="topic-previous" title="Go to previous forum topic">‹ Low-write mode - your thoughts please</a>
              <a href="11837.html" class="topic-next" title="Go to next forum topic">emonhub warnings and exceptions ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-37369"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Calibration 3-phase</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 22/12/2015 - 13:53.</div>
    <div class="content">
     <p>If you put all 4 CTs on the same wire as the VT, then because the voltage is phase shifted in the software expecting the currents to be phase shifted too (but they&#39;re not), you should read:</p>
<p>Channel 1: Real power = apparent power, pf = 1.00<br />
Channel 2: Real power = -0.5 &times; apparent power, pf = -0.5<br />
Channel 3: Real power = -0.5 &times; apparent power, pf = -0.5<br />
Channel 4: Like Channel 1 (or 2 or 3 if you&#39;ve altered it to be on those phases, the default is Channel 1)</p>
<p>For the reasoning, look at the vector diagram below and think about the component of the yellow &amp; blue phases that&#39;s projected on the real axis (the red phase). The projection is exactly half the length of the red arrow. Remember <br>cos(120&deg;) = -0.5</p>
<p><img alt="3-phase vector diagram" src="../sites/default/files/Stationary%20vectors.png" style="width: 150px; height: 150px;" /></p>
<p>So it looks as if your Channel 3 CT is the wrong way round on its wire, and you need to tweak phasecal a bit more.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37400"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9046.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bart&#039;s picture" title="Bart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Calibration 3-phase</h3>

    <div class="submitted">Submitted by <a href="../user/9046.html" title="View user profile.">Bart</a> on Wed, 23/12/2015 - 10:53.</div>
    <div class="content">
     <p>Your explanation is clear and makes sense to me, thanks!</p>
<p>Now I have used:</p>
<blockquote><p>#define PHASE2 6 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // &nbsp;Number of samples delay for L2<br />
#define PHASE3 12 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// &nbsp;Number &nbsp;of samples delay for L3</p>
<p>double Phasecal1 = 1.05; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Calibration constant for phase shift L1 - 1.00<br />
double Phasecal2 = 1.38; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Calibration constant for phase shift L2<br />
double Phasecal3 = 1.325; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Calibration constant for phase shift L3&nbsp;<br />
double Phasecal4 = 1.23; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Calibration constant for phase shift CT 4</p>
</blockquote>
<p>Why is it that the prescribed&nbsp;&quot;starting values&quot; deviate that much from my calibrated values?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37402"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Calibration 3-phase</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 23/12/2015 - 12:03.</div>
    <div class="content">
     <p>The "prescribed starting values" worked for me! The phase shifts inside the transformers are heavily dependent on the actual current and voltage at which they operate, and especially for the third phase, there is a big time delay - 13.33 ms so a few percent difference between the speed at which your emonTx runs compared to mine could make a lot of difference. With phasecal > 1.0, you are actually extrapolating, so that is equivalent to moving to the next array element and using a phasecal less than 1, which is interpolating (and to my thinking, preferred).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11850"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-j-22pJZOEq6XDbWzcKJahW86YATv62UuMHWd4D1rFlE" value="form-j-22pJZOEq6XDbWzcKJahW86YATv62UuMHWd4D1rFlE"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
