<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10110 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:38:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>measuring AC current &lt;1A | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">measuring AC current &lt;1A</h3>
        <span class="submitted">Submitted by <a href="../user/6717.html" title="View user profile.">brutzler</a> on Mon, 02/02/2015 - 00:18</span>
        <div class="content"><p>Hi,</p>
<p>I want to monitor a water pump with max. 150W at 230VAC, single phase.</p>
<p>Does anybody have an idea how to measure AC-currents smaller &lt;1A.</p>
<p>I tried with a ACS712 - 5A. But the resolution is very bad, because there is only +/- 185 mV. And this is not much for the 10bit AD-converter (over the whole 5V range) of an Arduino-Input.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10118.html" class="topic-previous" title="Go to previous forum topic">‹ emonTx V3 failure</a>
              <a href="10112.html" class="topic-next" title="Go to next forum topic">Total newbie has electricity monitoring sorted.. Now on to gas.. ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-27300"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: measuring AC current <1A</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Mon, 02/02/2015 - 03:59.</div>
    <div class="content">
     <p>You may know this already, but in case not you&#39;ll&nbsp;probably have to size things for much bigger currents than the nameplate suggests. &nbsp;My rainwater tank pump is 4x the power of yours (240V, 600W, 2.8A), but the principles are likely the same. &nbsp;Once mine is in steady-state, it uses only 335W&nbsp;of real power and 260 VARs of reactive power &nbsp;(1.69A with V in the low 250s). &nbsp;I think that&#39;s fairly typical of AC motors: as the load comes off the real power reduces but the reactive power increases. &nbsp;I vaguely recall there&#39;s some formula for all that, that includes the concept of &quot;slip&quot;, at least for synchronous motors.</p>
<p>Anyway, at start-up time they draw&nbsp;much more significant currents, for quite a few cycles. &nbsp;No doubt it varies a lot from motor to motor, and load to load, but I&#39;ve attached a picture of my pump starting up. &nbsp;You can see at the peak of the first mains cycle, it peaked at 11.875A. &nbsp;It took almost 10 cycles for that to settle down to a more respectable 2.659A (peak). &nbsp; All this from a pump whose namplate says 2.8A (presumably RMS). &nbsp;Stall currents are similarly high should the pump ever jam.</p>
<p>I&#39;m guessing you&#39;ll be able to find a CT/burden combo that will turn your pump&#39;s current into a respectable swing for your Arduino to measure, but remember to size it for worst case currents, and even then, consider some external protection for the AVR input.</p>
<p><img alt="" src="../sites/default/files/tank_pump.gif" style="height:525px; width:700px" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27305"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6717.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="brutzler&#039;s picture" title="brutzler&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: measuring AC current <1A</h3>

    <div class="submitted">Submitted by <a href="../user/6717.html" title="View user profile.">brutzler</a> on Mon, 02/02/2015 - 11:01.</div>
    <div class="content">
     <p>Thx for Info,</p>
<p>yes, I intended to have a bigger range than needed.</p>
<p>For my 150W-pump, I wanted to take a 5A-Sensor. But I need something to make the measuring range better.<br />
As I explained in the first post, the ACS712 makes only 0,185V/A. This is only ~1V for 5A. As 0A is the middle of 5V (2,5V) I only have a measuring range of 1,5-3,5V for a 5A-AC current.<br />
Here I am losing a lot of resolution. I need something, that can image the 5A-AC current on the whole 5V measuring range of the analog input of an arduino.</p>
<p>What so you suggest as protection for the analog input? e.g. a 4,7V Z-Diode</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27306"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: measuring AC current <1A</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Mon, 02/02/2015 - 11:20.</div>
    <div class="content">
     <p>You could use an op-amp to amplify the signal to your voltage requirements, or you could use one of the internal reference voltages (2.56V and 1.1V depending on your exact AVR model) to bring the full scale down to your desired dynamic range. &nbsp; Someone else here might be able to suggest a CT/burden combo that will get you the range you need.</p>
<p>You need to protect the AVR input from &nbsp;negative voltages as well. &nbsp;I&#39;d go with a 1K series resistor to limit current when it does get high, and probably&nbsp;two&nbsp;protection diodes, one to Vcc and the other from GND.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27309"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: measuring AC current <1A</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 02/02/2015 - 12:10.</div>
    <div class="content">
     <p>You could also have a multi-turn primary winding with a CT - assuming that the total load that the CT sees is < 100 A, and that may give a better result than your Hall-effect sensor. A 10-turn primary will indicate (nominally) 6.5 A (instead of 0.65 A) and give you 10 A max reading, and you can 'correct' the reading either with the current calibration constant (the CT ratio is now 10 A : 50 mA) or in emonCMS.</p>
<p>If you do add protection diodes, remember that they're in parallel with the internal ones and need to have a lower 'on' voltage if they're to take the major share of the current.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27333"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6717.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="brutzler&#039;s picture" title="brutzler&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: measuring AC current <1A</h3>

    <div class="submitted">Submitted by <a href="../user/6717.html" title="View user profile.">brutzler</a> on Tue, 03/02/2015 - 05:00.</div>
    <div class="content">
     <blockquote><p>You need to protect the AVR input from &nbsp;negative voltages as well. &nbsp;I&#39;d go with a 1K series resistor to limit current when it does get high, and probably&nbsp;two&nbsp;protection diodes, one to Vcc and the other from GND.</p>
</blockquote>
<p>Can you show me in detail, how to wire this &quot;protection circuit&quot;?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27334"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: measuring AC current <1A</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Tue, 03/02/2015 - 08:13.</div>
    <div class="content">
     <p>Something along these lines:</p>
<p><img alt="" src="../sites/default/files/prot_diodes.jpg" /></p>
<p>As Robert says, the diodes are replicating what&#39;s inside the AVR, and you want yours to conduct earlier than theirs. &nbsp;According to AVR182 their internal diodes are good for 1mA, and they clamp at Vcc+0.5 and GND-0.5 (which I admit is pretty low already). &nbsp; So that should help you size the series resistor and/or protection diodes depending on what you end with in your front end &nbsp;(&quot;from CT etc&quot; in the diagram).</p>
<p><strong>[EDIT]&nbsp;</strong>Thinking out loud here, but maybe you could put the series resistor between the diodes and the input pin. &nbsp;By the time one of their internal diodes is&nbsp;conducting 1mA, there&#39;ll be 1V across that series resistor so your corresponding diode&nbsp;would well and truly join in by then.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10110"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-Jvuhtyyp8F6RXL2IBAiQhWZPxdwuTY1owP6hz_tGRlk" value="form-Jvuhtyyp8F6RXL2IBAiQhWZPxdwuTY1owP6hz_tGRlk"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
