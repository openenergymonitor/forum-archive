<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/176 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:32:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Solar Energy Management | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Solar Energy Management</h3>
        <span class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 18/06/2011 - 21:47</span>
        <div class="content"><p>&nbsp;Rather than allowing my generated Solar Power flow back to the grid, I want to build a unit which monitors;</p>
<ol>
<li>how much energy is currently being generated by the PV system</li>
<li>how much energy is currently being used by my ring main</li>
<li>if #1 is greater than #2, then the generated power is diverted to an immersion heater, to store the surplus power as hot water.</li>
</ol>
<p>Would '2 channel non invasive 3' be a good starting point to achieve 1) and 2) above, and use ch1.realpower &amp; ch2.realpower for calculating 3) above?</p>
<p>I am new to Arduino (having just ordered my 1st uno board from Ebay!) but would be grateful for any advice or pointers.</p>
<p>&nbsp;</p>
<p>Regards</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1480.html" class="topic-previous" title="Go to previous forum topic">‹ Masking interrupts</a>
              <a href="1444.html" class="topic-next" title="Go to next forum topic">Which Energy Monitor system to build? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-1873"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="andysimm2000&#039;s picture" title="andysimm2000&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by andysimm2000 (not verified) on Sun, 19/06/2011 - 21:38.</div>
    <div class="content">
     <p>That is just what I am looking at doing - not got the PV system yet but wanting to get things ready. (will be ordering ~3.5kw system very shortly :) )</p>
<p>I am thinking along the lines of switching a remote control socket so that you can use the extra power to power a fan heater.</p>
<p>Perhaps even having several outputs so that it turns first on (immersion heater), sees if there is still extra power (stat may have cut out or generating a lot!), if extra power then turning on another remote load (fan heater or even a air con for the summer).</p>
<p>Now to study the forums... Hope we can develop in parallel Paul!</p>
<p>Andy</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1876"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="phil666&#039;s picture" title="phil666&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by phil666 (not verified) on Mon, 20/06/2011 - 18:04.</div>
    <div class="content">
     <p>&nbsp;</p>
<p>Paul,</p>
<p>I'm also looking to do a similar project and will be very interested in any other comments on this discussion.</p>
<p>Your  point 2, measuring the house power consumption, note that this value  might be negative if you are generating more than you are consuming.  You will need to detect when this value is negative so that you know you  are utilising your energy and not that from the grid.</p>
<p>I believe you therefore need to look for a current sensor that can measure AC power <u><em>direction </em></u>and not just its absolute value.</p>
<p>I have heard that Hall effect current sensors, such as Honeywell's  CSLA2CD <a href="http://uk.farnell.com/jsp/search/productdetail.jsp?sku=1082269" title="http://uk.farnell.com/jsp/search/productdetail.jsp?sku=1082269">http://uk.farnell.com/jsp/search/productdetail.jsp?sku=1082269</a>  can be used to measure AC power and direction, but I'm not sure how to make it work. Anyone  got any ideas?</p>
<p>I have also been advised that I could configure a passive current  transformer probe in a similar manner to an SWR meter to read power  direction.</p>
<p>Regards,</p>
<p>Phil</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1877"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 20/06/2011 - 19:08.</div>
    <div class="content">
     <p><em>&nbsp;&gt; ...&nbsp;note that this value might be negative if you are generating more than you are consuming</em></p>
<p>Not necessarily, &nbsp;it depends where the measurement is made, and how your home is wired.</p>
<p>In my case, the solar feed is tapped into a Henley block situated between the Meter and the consumer unit, so I can monitor household usage&nbsp;<u>after</u> this connection &nbsp;- which will always be positive, and measure Solar &nbsp;power before the Henley block which again will always be positive.</p>
<p>Similarly, my Immersion heater is on a separete circuit and again feeds into the Henley block, so power drawn by the heater will not influence household usage.</p>
<p>So to use an example;<br />
I have a kettle drawing 1kw from household usage (hu)<br />
I am generating 2kw Solar Power (sp)<br />
A little maths, (sp) - (hu) = 1kw spare to be utilised by the immersion heater</p>
<p>I am hoping that the maths can be done within the software, including hysteresis, ect.</p>
<p>I have already built a similar unit, using op amps and a comparator chip, which works very well albeit a bit crude, and am hoping that through Arduino, I (we!) can develop something more accurate and flexible.<br />
But, as I have already said, I'm new to Arduino, and hoping for a little support and guidance from those more knowledgeable than I am!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1881"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gr0mit&#039;s picture" title="gr0mit&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by gr0mit (not verified) on Mon, 20/06/2011 - 20:43.</div>
    <div class="content">
     <p>I've already got this working!!!!</p>
<p>I bought a phase angle controller which I drive from the arduino output PWM pin, which uses PID control to track PV output and dump exess heat into my hot water tank.&nbsp; I have a pair of CT feeding two analog ports exactly as per the openenergy monitor, with a few tweaks.</p>
<p>&nbsp;</p>
<p>Whole thing needs a bit of adjustment as I seem to get a little bit of leakage back into the grid (meter still running backwards a little) but the principle seems sound, and responds to step responses very fast (i.e. kettle going on, cloud overhead etc)</p>
<p>&nbsp;</p>
<p>If anyone interested please let me know and I can post the code.</p>
<p>&nbsp;</p>
<p>Rgds</p>
<p>Tim Robinson</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1882"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 20/06/2011 - 21:11.</div>
    <div class="content">
     <p>&nbsp;Yes, please post the code Tim, I am also thinking about using a phase angle controller, so any help/advice that you can give will be very much appreciated.</p>
<p>&nbsp;Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1885"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Amin Zayani&#039;s picture" title="Amin Zayani&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Amin Zayani (not verified) on Mon, 20/06/2011 - 23:17.</div>
    <div class="content">
     <p>&nbsp;Hi, your project seems (relatively) easy to implement, Tim confirms it from experience.</p>
<p>I think it would be more convenient to use multiple resistors to heat the water (I've seen a similar system at SMA here in Germany, they have a tank (maybe 10-12 cubic m) with 16 resistors that are controlled by relays. That gives you 16 steps.</p>
<p>If you have just one resistor in your heater maybe you should consider a mosfet? (a big one), but the logic with arduino should be straight forward.&nbsp;</p>
<p>You could code it to dump exactly the excess electricity and not more into the heater.</p>
<p>Hint: for better performance you should monitor the actual immersion heater consumption and compare it to what you're calculating should be fed</p>
<p>Interesting project though... good luck with it ;)</p>
<p>PS: what's the inverter in your PV system?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1886"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gr0mit&#039;s picture" title="gr0mit&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by gr0mit (not verified) on Tue, 21/06/2011 - 08:32.</div>
    <div class="content">
     <p>#include</p>
<pid_v1.h>  //Basic energy monitoring sketch - by Trystan Lea //Licenced under GNU General Public Licence more details here // openenergymonitor.org // modified by Tim Robinson to include PID library  //Sketch measures current only.  //and then calculates useful values like //apparent power and Irms. //Apparent power is calculated from set Vrms. double Vrms=240.0;  //Setup variables int numberOfSamples = 1000;   //Set current input pin int In_pv = 1; int In_used = 0; int analogOutPin = 9; double time; // values for samples = 2000 //double Kp = 0.08; //double Ki = 0.3; //double Kd = 0.000;  // values for samples = 100 double Kp = 0.03; double Ki = 0.3; double Kd = 0.0005;  //Current calibration coeficient double ICAL_used = 0.15007; double ICAL_pv = 0.1529; //Sample variables int lastSampleI_pv,sampleI_pv,lastSampleI_used,sampleI_used ; int heater_power;  //Filter variables double lastFilteredI_pv, filteredI_pv; double lastFilteredI_used, filteredI_used; //Power calculation variables double sqI_pv,sumI_pv; double sqI_used,sumI_used; //Useful value variables double apparentPower_pv, Irms_pv; double apparentPower_used, Irms_used; double export_pwr;  //Define Variables we'll be connecting to double Setpoint, Input, Output;  //Specify the links and initial tuning parameters PID myPID(&amp;Input, &amp;Output, &amp;Setpoint,Kp,Ki,Kd,DIRECT);         void setup() {    Serial.begin(115200);     heater_power = 0;    myPID.SetMode(AUTOMATIC);    Setpoint = 0; }  void loop() {   for (int n=0; n</pid_v1.h></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1887"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gr0mit&#039;s picture" title="gr0mit&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by gr0mit (not verified) on Tue, 21/06/2011 - 08:37.</div>
    <div class="content">
     <p>OK&nbsp;the paste below is unreadable, so here is the complete sketch again:</p>
<p>&nbsp;</p>
<p><a href="http://pastebin.com/FiWSqHFC" title="http://pastebin.com/FiWSqHFC">http://pastebin.com/FiWSqHFC</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1888"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Tue, 21/06/2011 - 08:45.</div>
    <div class="content">
     <p>Many thaanks for the code Tim.</p>
<p>Sorry if it's a stupid question, but what is a &nbsp;PID?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1889"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="gr0mit&#039;s picture" title="gr0mit&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by gr0mit (not verified) on Tue, 21/06/2011 - 08:50.</div>
    <div class="content">
     <p>It is a standard method for optimising industrial control.</p>
<p>&nbsp;</p>
<p>Below are some pics of my prototype!&nbsp; The Phase angle controller is <a href="http://www.farnell.com/datasheets/460918.pdf">http://www.farnell.com/datasheets/460918.pdf</a></p>
<p>running in mode 2.</p>
<p>&nbsp;</p>
<p>&nbsp;https://picasaweb.google.com/lh/photo/gJgCQzsvbIXRQIEjpDkahNYD_UXIQTVZjWj_TjWU0iI?feat=directlink</p>
<p><a href="https://picasaweb.google.com/lh/photo/yqa4YasHRFT53uyGZ0idU9YD_UXIQTVZjWj_TjWU0iI?feat=directlink" title="https://picasaweb.google.com/lh/photo/yqa4YasHRFT53uyGZ0idU9YD_UXIQTVZjWj_TjWU0iI?feat=directlink">https://picasaweb.google.com/lh/photo/yqa4YasHRFT53uyGZ0idU9YD_UXIQTVZjW...</a></p>
<p><a href="https://picasaweb.google.com/lh/photo/f_8BBXcnNvWlheB__CaU29YD_UXIQTVZjWj_TjWU0iI?feat=directlink" title="https://picasaweb.google.com/lh/photo/f_8BBXcnNvWlheB__CaU29YD_UXIQTVZjWj_TjWU0iI?feat=directlink">https://picasaweb.google.com/lh/photo/f_8BBXcnNvWlheB__CaU29YD_UXIQTVZjW...</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1891"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/247.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-247.jpg" alt="Delapeyre&#039;s picture" title="Delapeyre&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/247.html" title="View user profile.">Delapeyre</a> on Wed, 22/06/2011 - 09:45.</div>
    <div class="content">
     <p>I have had this system running for quit some time, I went the industry route and installed a&nbsp; plc,and monitored generated power versus consumed and controlled the boiler and underfloor heating to make sure only limited power is returned to the grid.</p>
<p>The software is simple and easy to use and you can tweak it on the labtop at a moments notice!! plus its industry standard equipment no need to try to start adding noise filters and transient clippers and rubish, just design install and write software and go!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1893"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 22/06/2011 - 18:17.</div>
    <div class="content">
     <p>&nbsp;Can you post the software please.</p>
<p>&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1895"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/247.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-247.jpg" alt="Delapeyre&#039;s picture" title="Delapeyre&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/247.html" title="View user profile.">Delapeyre</a> on Thu, 23/06/2011 - 12:39.</div>
    <div class="content">
     <p>We are using the Crouzet Plc range so the software is bespoke for that range of PLC.<br />
Look at the link<br />
<a href="http://www.crouzet.com/" title="http://www.crouzet.com">http://www.crouzet.com</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1898"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Grm&#039;s picture" title="Grm&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Grm (not verified) on Sat, 25/06/2011 - 17:18.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>This looks very intersting and is the sort of thing I plan to do. I wondered why you use mode 2 of the PID, I would have thought you would have to use mode 1 - phase control.</p>
<p>I was considering building a phase controller but this looks and easier (but more expensive) option.</p>
<p>Graham</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1899"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 25/06/2011 - 18:52.</div>
    <div class="content">
     <p>Graham, I'm not using a PID, it was gr0mit who mentioned using a PID in mode 2.</p>
<p>Being a Yorkshireman, the price of a PID put me off using one, they are too expensive, and it would take many years of use to get the initial outlay back.</p>
<p>I am currently exploring using 2 (or more) outputs from the Arduino, one which supplies full power (in my case 1kw) and a second output which provides 500w via a thyristor. So on dull days, maybe I'll manage the 500w, and if the sun comes out then the Arduino will activate the second 1kw output.<br />
Just a thought based upon &nbsp;the post above by Amin Zayani re his experiences in Germany with SMA.</p>
<p>The cost of a simple Thyristor circuit set at 50% output is insignificant compared with a PID, even if using 2 or 3 outputs (1kw, 2kw, 3kw).</p>
<p>I am taking this project one step at a time, and am currently trying to get the 'front end' working first. Once I get a reliable and accurate measurement by the Arduino, then I will look at how best to turn the calculations into power output.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1903"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robin&#039;s picture" title="Robin&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Robin (not verified) on Wed, 29/06/2011 - 11:51.</div>
    <div class="content">
     <p>Hi,</p>
<p>Speaking as a mechanical engineer with a somewhat limited knowledge of electricity, I am not sure that a thyristor is the correct way to control our variable loads.</p>
<p>Let's say we are generating 500W of electricity that we want to use, and we have a 1kW load with a thyristor control.&nbsp; The thyristor will limit the power in the load to 500W, <em>but</em> it will do that by giving 1kW for half the time.&nbsp; So we might end up paying for some of the power, specifically 500W for half the time.</p>
<p>It seems to me that we need loads with a sinusoidal current waveform - the same as that produced by the inverter - so that the power factor is close to 1.</p>
<p>Is there an expert out there who could confirm this (or otherwise!) please?</p>
<p>If I am right, the correct way to go is to use a number of switchable loads, with relays.</p>
<p>Finally, one more thought: another way to soak up surplus electricity might be to use a storage heater.</p>
<p>Regards</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1904"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 29/06/2011 - 12:10.</div>
    <div class="content">
     <p>Robin, this was my original thought too, but it appears that the household electric meters don't record peak usage, but average it out over the complete cycle (or 180 deg) so it doesn't actually record it. That's the experience of other forums too, who do use thyristors for similar use.  Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1905"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robin&#039;s picture" title="Robin&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Robin (not verified) on Wed, 29/06/2011 - 13:48.</div>
    <div class="content">
     <p>Thanks for that, Paul.</p>
<p>They recently replace our old meter (with the rotating disc) with a new one, which is a small black box - so it's hard to know what goes on inside it.&nbsp; Except that when the PV cells are producing, it gets a bit grumpy and refuses to run in reverse.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1906"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 29/06/2011 - 19:16.</div>
    <div class="content">
     <p>Robin, see post #64&nbsp;<a href="http://bit.ly/jZK1hT">bit.ly/jZK1hT</a>&nbsp;for the on-going discussions we had about how power usage is recorded re Thyristors (I use the same forum member name as on here).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1908"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/247.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-247.jpg" alt="Delapeyre&#039;s picture" title="Delapeyre&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/247.html" title="View user profile.">Delapeyre</a> on Thu, 30/06/2011 - 20:12.</div>
    <div class="content">
     <p>Use one of these</p>
<p><span title="Proportional power controller2-10Vdc 40A">Proportional power controller2-10Vdc 40A <br />
</span></p>
<p><span><b>RS Stock No.</b> 218-1892</span></p>
<p>They work perfectly</p>
<p><img src="../../../file/C_/Users/mark/AppData/Local/Temp/moz-screenshot.png" alt="" /><img alt="" src="http://uk.rs-online.com/web/search/searchBrowseAction.html?method=getProduct&amp;R=2181892#header" /></p>
<p>&nbsp;</p>
<p>Regards</p>
<p>Mark</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1909"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 30/06/2011 - 20:31.</div>
    <div class="content">
     <p>&nbsp;Not at &pound;85 each!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1910"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/247.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-247.jpg" alt="Delapeyre&#039;s picture" title="Delapeyre&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/247.html" title="View user profile.">Delapeyre</a> on Fri, 01/07/2011 - 15:20.</div>
    <div class="content">
     <p>LOL yes they are at first apearance expensive, But they are safe easy to use you dont have to re invent the wheel, and your feed in tarif with the project soon pays it off.</p>
<p>Building your own pcb and equipment is what i have always done but when it comes to burning your house down, its better to use trusted well developed sturdy technology.</p>
<p>But have fun anyway LOL</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1967"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuy4u&#039;s picture" title="stuy4u&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by stuy4u (not verified) on Fri, 22/07/2011 - 19:33.</div>
    <div class="content">
     <p>How did you get the 0 - 10v output to control the Phase angle controller?</p>
<p>Did you use an op amp?</p>
<p>Stuart.<br />
&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-2552"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Tampa Solar&#039;s picture" title="Tampa Solar&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Tampa Solar (not verified) on Tue, 27/12/2011 - 18:49.</div>
    <div class="content">
     <p>I am working on a similar track, likely with slightly different priorities/goals, but common tactics.</p>
<p>Got 10kw pv, on-grid system running. Want a way to harvest the output, off-grid too, i.e. extended grid outage.</p>
<p>My diversion load would be a water heater too, with a phase-angle controller. My design thoughts are to have a voltage threshold, i.e. the heater kicks in at 250 vac and higher. The goal is to keep the grid-tie inverters happy by sucking the excessive energy with a real-time response.</p>
<p>Above all locking and tied to a 48v battery based 240vac inverter that is a few kw in size. Panels kick in with the reference from the standalone inverter and the diversion load allows for load changes and pv variations.</p>
<p>sara dot j at embarqmail dot com</p>
<p>Your thoughts please.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-2560"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Mr. Sharkey&#039;s picture" title="Mr. Sharkey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Mr. Sharkey (not verified) on Wed, 28/12/2011 - 00:30.</div>
    <div class="content">
     <p>Interesting, although a bit on the expensive side (USD$169.20). Also, I checked several suppliers and there seems to be no stock available at this time.</p>
<p>There are several models available, from 15 - 90 amps capacity in a couple of input ranges. Here's the data sheet: <a href="http://www.crydom.com/en/Products/Catalog/p_cv.pdf" title="http://www.crydom.com/en/Products/Catalog/p_cv.pdf">http://www.crydom.com/en/Products/Catalog/p_cv.pdf</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3272"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AndySV1K&#039;s picture" title="AndySV1K&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by AndySV1K (not verified) on Mon, 27/02/2012 - 20:02.</div>
    <div class="content">
     <p>&nbsp;Hi chaps,</p>
<p>I'm on the same path as you lot and probably scratching my head in the same way too.</p>
<p>I came to very simliar conclusions to the above but on my own so this must be the right way to go!</p>
<p>What do you think about this for a phase angle controller?....</p>
<p>&nbsp;</p>
<p><a href="http://uk.rs-online.com/web/p/power-misc/3796518/">uk.rs-online.com/web/p/power-misc/3796518/</a></p>
<p>&nbsp;</p>
<p>It's not too badly priced.</p>
<p>&nbsp;</p>
<p>Andy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3273"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AndySV1K&#039;s picture" title="AndySV1K&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by AndySV1K (not verified) on Mon, 27/02/2012 - 20:08.</div>
    <div class="content">
     <p>&nbsp;...and just found it from the manufacturer even cheaper!....</p>
<p>&nbsp;</p>
<p><a href="http://www.united-automation.com/pac2/">www.united-automation.com/pac2/</a></p>
<p>&nbsp;</p>
<p>Andy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3284"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Wed, 29/02/2012 - 14:47.</div>
    <div class="content">
     <p>Well done, this is now getting more interesting!</p>
<p>&nbsp;</p>
<p>Found this one as well..</p>
<p><a href="http://www.united-automation.com/psr-25/" title="http://www.united-automation.com/psr-25/">http://www.united-automation.com/psr-25/</a></p>
<p><em class="ProductPrice VariationProductPrice">&pound;41.90</em></p>
<p>&nbsp;</p>
<p><em class="ProductPrice VariationProductPrice">Looks like you need a fairly large heat sink as well 100x100x3mm</em></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3285"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AndySV1K&#039;s picture" title="AndySV1K&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by AndySV1K (not verified) on Wed, 29/02/2012 - 15:23.</div>
    <div class="content">
     <p>&nbsp;I ordered the 0-5v version the other day. &nbsp;Havnt heard back from them yet and when I logged in to chase my order it appears it may be out of stock.</p>
<p>I have written a basic arduino test sketch to run some testing with this when i get it so will update when i know more.</p>
<p>&nbsp;</p>
<p>Andy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3299"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Fri, 02/03/2012 - 13:39.</div>
    <div class="content">
     <p>These devices also look like they would do the job, &pound;22 each. </p>
<p><a href="http://www.united-automation.com/ual-csr-604b/" title="http://www.united-automation.com/ual-csr-604b/">http://www.united-automation.com/ual-csr-604b/</a></p>
<p>Just need to vary the resistance to drive up to 15A @ 240v</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3304"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 02/03/2012 - 17:06.</div>
    <div class="content">
     <p>&nbsp;I doubt that this could be used, as it needs a high voltage trigger.</p>
<p>Ideally, we need a 0 - 5V trigger to control the output.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3364"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Tue, 13/03/2012 - 17:00.</div>
    <div class="content">
     <p>Andy, did you get your controller ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3373"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AndySV1K&#039;s picture" title="AndySV1K&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by AndySV1K (not verified) on Wed, 14/03/2012 - 11:27.</div>
    <div class="content">
     <p>No, in fact ive just asked for a refund as they are waiting for parts to build these and can get no estimated date of delivery.</p>
<p>When he mentioned that it could 6-8weeks, or it could be longer, i gave up and asked for refund. &nbsp;Back to the drawing board!</p>
<p>Not that they are not good to deal with, they were very apologetic about it and were very helpful in general, just couldnt&nbsp;get it to me anytime soon.</p>
<p>Will have to start looking for an alternative.</p>
<p>&nbsp;</p>
<p>Andy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3375"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Wed, 14/03/2012 - 12:26.</div>
    <div class="content">
     <p>I&#39;ve since found this model which I think may do the job...</p>
<p><a href="http://www.tmswebshop.co.uk/buy/Solid-State-Relays-SSRs.html#aPROSWITCHPA75LC" title="http://www.tmswebshop.co.uk/buy/Solid-State-Relays-SSRs.html#aPROSWITCHPA75LC">http://www.tmswebshop.co.uk/buy/Solid-State-Relays-SSRs.html#aPROSWITCHP...</a></p>
<h3 class="product">
	Low Cost Phase Angle Control SSR, 75A, 4-20mA</h3>
<div class="product_reference">
	<i>Product Code: <a href="http://www.tmswebshop.co.uk/buy/Solid-State-Relays-SSRs.html#aPROSWITCHPA75LC">PROSWITCHPA75LC</a></i></div>
<h3 class="product_price">
	Price: &nbsp;&nbsp;&pound;48.00</h3>
<p>single-phase solid state relay, with phase angle control for resistive loads up 75A, controlled from a 4 - 20mA (proportional) input. At 4mA the output is off, at 20mA it is fully on, in between it will be partially on (i.e. reduced power). They are designed to be mounted on metal panel walls or other heatsink in order to keep the temperature of the metal base below 40&deg;C. It has an LED indicator.</p>
<p>	Load Voltage: 90 - 250Vac<br />
	Control Signal: 4 - 20mA DC (Proportional)<br />
	Dimensions (LxWxH): 62 x 45 x 23.5mm<br />
	Ambient Temperature: -30&deg;C - +75&deg;C<br />
	Dielectric Strength: 2000Vac<br />
	Insulation Resistance: 500M Ohm/500VDC</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Googling for this item, turns up some other suppliers</p>
<p><a href="http://www.multice.com/bp/Solid State Relay/SSR-25LA.htm" title="http://www.multice.com/bp/Solid%20State%20Relay/SSR-25LA.htm">http://www.multice.com/bp/Solid%20State%20Relay/SSR-25LA.htm</a></p>
<p>and lots, lots more from China etc.</p>
<p>&nbsp;</p>
<p>and if you fancy ordering from Russia,</p>
<p><a href="http://shophunter.eu/hu/prod_det.php?product=1527/2154/fotek_ssr25lah" title="http://shophunter.eu/hu/prod_det.php?product=1527/2154/fotek_ssr25lah">http://shophunter.eu/hu/prod_det.php?product=1527/2154/fotek_ssr25lah</a></p>
<p>They are 23 Euro.&nbsp; (although their picture appears to be wrong)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3385"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Wed, 14/03/2012 - 20:09.</div>
    <div class="content">
     <p>I have just got my solar immersion controller up and running it is working great. It kicks in at 250 watts spare power and is proportional right up to 3 kw. I have attached a picture.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3386"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Wed, 14/03/2012 - 20:10.</div>
    <div class="content">
     <p>How do I attach a picture.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3387"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Wed, 14/03/2012 - 20:18.</div>
    <div class="content">
     <p>here are some links to pictures.</p>
<p><a href="http://imageshack.us/photo/my-images/543/009jiy.jpg/" title="http://imageshack.us/photo/my-images/543/009jiy.jpg/">http://imageshack.us/photo/my-images/543/009jiy.jpg/</a></p>
<p><a href="http://imageshack.us/photo/my-images/854/010gi.jpg/" title="http://imageshack.us/photo/my-images/854/010gi.jpg/">http://imageshack.us/photo/my-images/854/010gi.jpg/</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3388"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 14/03/2012 - 20:50.</div>
    <div class="content">
     <p>Are you using a 0 - 5V&nbsp;Crydom&nbsp;power controller?</p>
<p>If so, is it controlled by the PWM&nbsp;output from the Arduino?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3389"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AndySV1K&#039;s picture" title="AndySV1K&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by AndySV1K (not verified) on Wed, 14/03/2012 - 23:00.</div>
    <div class="content">
     <p>looks good!</p>
<p>so how do we generate a 4-20ma control signal?</p>
<p>&nbsp;</p>
<p>Andy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3391"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Thu, 15/03/2012 - 06:26.</div>
    <div class="content">
     <p>I am using. 2-10v controller which is controlled with an arduino. This is powered by a 12v plug in charger, this is also used  to generate the  2-10v via an electronic circuit which consists of a couple of transistors a diode a few resistors and a capacitor.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3394"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 15/03/2012 - 10:38.</div>
    <div class="content">
     <p>Links...</p>
<p><a href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1270342266" title="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1270342266">http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1270342266</a></p>
<p>&nbsp;</p>
<p><a href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1283882387" title="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1283882387">http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1283882387</a></p>
<p>&nbsp;</p>
<p>wikipedia has some more info as well, look for &quot;20ma current loop&quot;</p>
<p>&nbsp;</p>
<p>Possible circuits...</p>
<p><a href="http://www.maxim-ic.com/app-notes/index.mvp/id/4483" title="http://www.maxim-ic.com/app-notes/index.mvp/id/4483">http://www.maxim-ic.com/app-notes/index.mvp/id/4483</a></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3417"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Fri, 16/03/2012 - 16:20.</div>
    <div class="content">
     <p>Here is a link to my circuit</p>
<p><a href="../../../img832.imageshack.us/img832/4938/circuitx.html" title="http://img832.imageshack.us/img832/4938/circuitx.jpg">http://img832.imageshack.us/img832/4938/circuitx.jpg</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3418"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Fri, 16/03/2012 - 16:37.</div>
    <div class="content">
     <p>Are you firing the triac on zero crossing using this circuit ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3419"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Fri, 16/03/2012 - 18:04.</div>
    <div class="content">
     <p>Analoguewrite 1 gives me full power which is 10v at the controller, analoguewrite 200 gives me lowest power which is 2v at the controller.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3426"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Sun, 18/03/2012 - 19:49.</div>
    <div class="content">
     <p>Sorry I forgot, you&#39;re using a crydom variable output unit with a 0-10vdc range.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3433"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Phill W&#039;s picture" title="Phill W&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Phill W (not verified) on Tue, 20/03/2012 - 07:19.</div>
    <div class="content">
     <p>Hi Madmurg, you say that &quot;Analoguewrite 1 gives me full power which is 10v at the controller, analoguewrite 200 gives me lowest power which is 2v at the controller.&quot;</p>
<p>Is this not the wrong way around? surely you want a fail safe system, if the Arduino goes down and supplies 0 at analoguewrite will this switch to full power?</p>
<p>&nbsp;</p>
<p>I think I may go with this as my design, although the Crydom is expensive it is, as mentioned earlier, sturdy and proven.</p>
<p>A couple of other things:</p>
<p>Do you mount this on a heatsink? edit - The Crydom? If so how big?</p>
<p>What transistors and diode did you use?</p>
<p>&nbsp;</p>
<p>Cheers</p>
<p>Phill</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3438"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Phill W&#039;s picture" title="Phill W&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Phill W (not verified) on Tue, 20/03/2012 - 15:43.</div>
    <div class="content">
     <div class="content">
<p>Hi Madmurg, you say that &quot;Analoguewrite 1 gives me full power which is 10v at the controller, analoguewrite 200 gives me lowest power which is 2v at the controller.&quot;</p>
<p>Is this not the wrong way around? surely you want a fail safe system, if the Arduino goes down and supplies 0 at analoguewrite will this switch to full power?</p>
<p>&nbsp;</p>
<p>I think I may go with this as my design, although the Crydom is expensive it is, as mentioned earlier, sturdy and proven.</p>
<p>A couple of other things:</p>
<p>Do you mount this on a heatsink? edit - The Crydom? If so how big?</p>
<p>What transistors and diode did you use?</p>
<p>&nbsp;</p>
<p>Cheers</p>
<p>Phill</p>
<p>&nbsp;</p>
<p>(Sorry guys, this is a &#39;bump&#39; due to &#39;dollwin&#39; trying to sell me smoked salmon that tastes like hardwood flooring apparently)</p>
</div>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3439"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Tue, 20/03/2012 - 16:35.</div>
    <div class="content">
     <p>I was expecting it to work the other way round but it doesnt, I dont know why.</p>
<p>the transistors are P2N2222A NPN and the diodes are just basic diodes. the crydom unit is mounted on a metal box which acts as the heatsink, no need really as it doesnt get very warm at 3kw. the crydom is rated at 15a to 90a so at 90 amp it will get hot.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3440"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Tue, 20/03/2012 - 16:43.</div>
    <div class="content">
     <p>sorry its not rated at 90amp it is rated at 25 amp and a heatsink is recomended for loads over 13 amps.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3441"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Phill W&#039;s picture" title="Phill W&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Phill W (not verified) on Tue, 20/03/2012 - 16:59.</div>
    <div class="content">
     <p>Hi madmurg,</p>
<p>thanks for the reply.</p>
<p>I can see that you are feeding the second transistor from the power rail and when the first transistor is &#39;off&#39; the power feeds into the base of the second. When you turn the first transistor on, the power dumps through it and does not turn on the second. (I&#39;m sure there is a more tech way of explaining it :-) ).</p>
<p>Have you tested it to see what happens if the Arduino stops outputting to the transistors? Does the controller dump full power to the heater?</p>
<p>I suppose if the Arduino is fairly reliable this should not be a problem, worst case is that you get a tank of hot water from the grid and not the solar.</p>
<p>&nbsp;</p>
<p>Could anyone, or you, say if feeding the output from the first transistor into the base of the second would do this so that analoguewrite low = no output on the controller and a high output turns it on?</p>
<p>Cheers</p>
<p>Phill</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3442"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Tue, 20/03/2012 - 17:09.</div>
    <div class="content">
     <p>I have had my unit running 6 months now and no problems as of yet. If the arduino loeses power the crydom will not work anyway as the electronics are off the same circuit as the supply to the arduino.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3446"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Phill W&#039;s picture" title="Phill W&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Phill W (not verified) on Tue, 20/03/2012 - 18:37.</div>
    <div class="content">
     <p>Yeah I can see that, it was just a hypothetical question.... what if the Arduino falls over without the power failing? Does the Arduino self re-boot?</p>
<p>&nbsp;</p>
<p>I did find this: <a href="http://www.nano-reef.com/forums/index.php?s=bae50dd670cce0744895c3a932cc9237&amp;act=attach&amp;type=post&amp;id=75165" title="http://www.nano-reef.com/forums/index.php?s=bae50dd670cce0744895c3a932cc9237&amp;act=attach&amp;type=post&amp;id=75165">http://www.nano-reef.com/forums/index.php?s=bae50dd670cce0744895c3a932cc...</a></p>
<p>Which changes the PWM signal of the Arduino to a smooth (er) 0-5V &#39;analogue&#39; signal, then converts it to 0-10V&nbsp; this will ramp the power up and down rather than firing it on/off lots... I think.</p>
<p>This is slowly coming together...... I may be ordering bits soon........ and borrowing an oscilloscope!</p>
<p>&nbsp;</p>
<p>Anyone else got any input?</p>
<p>Paul I know you dont like the idea of an &pound;85 controller, I&#39;m prepared to go with it, mainly on known safety grounds and the fact that It will pay for itself in the end and allow me to use the maximum solar., what are your thoughts?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3447"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Tue, 20/03/2012 - 20:27.</div>
    <div class="content">
     <p>Phill, I think it&#39;s a great idea, and the way forward to make use of &nbsp;spare power efficiently rather than having set benchmarks to reach as in my system. The main thing that bothers me is the Crydom price, and keeping the overall project costs proportional to the likely gains.</p>
<p>On sunny/bright day&#39;s, the Crydom is unnecessary because you will easily get a sufficient power margin from a relay system to heat the likely hot water demands. However, the Crydom will hold a significant advantage on dull days, especially winter, when it becomes increasingly difficult to find that spare power, as it can make use of even 100W&nbsp;of spare power, and heat the water over a longer period.<br />
	Today was a good example, as my unit <a href="https://pachube.com/feeds/34843">diverted 5.8kWh of power to the immersion heater</a>, which more than met demand, but if we have grey skies tomorrow, I might get nothing!</p>
<p>Someone (sorry can&#39;t find who it was just now) recently contacted me regarding using relays and a &#39;triple element&#39; immersion heater unit, available <a href="http://www.tpfay.co.uk/OurProducts/immersion_heaters.aspx">here</a>. The idea was to use a combination of outputs from the Arduino to achieve a wide range of power outputs, which could switch the elements to run in &#39;series&#39; to meet low power outputs, or in parallel, individually or in combinations. All of which could be safely controlled via preset programming.<br />
	I thought that was a brilliant alternative idea, and would may be cost effective if you had to buy and fit an immersion heater anyway.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3448"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Phill W&#039;s picture" title="Phill W&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Phill W (not verified) on Tue, 20/03/2012 - 22:14.</div>
    <div class="content">
     <p>Thanks Paul, a new immersion would only be an option if I tried to remove the 3kW element and replace it with a 1kW one...... and I twisted the copper!!!!!</p>
<p>Today I could have diverted 11kWh :-( ... Like you say on a grey day it might not amount to much, but as Tesco say (as they prise the last penny from your fingertips) &#39;every little helps&#39;.</p>
<p>Do you have any idea if the link on the nano-reef board would be suitable for modifying the PWM from the Arduino?</p>
<p>Cheers again</p>
<p>Phill</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3449"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Tue, 20/03/2012 - 23:21.</div>
    <div class="content">
     <p>I take your point with twisting the copper!! I had loads of stress removing the blank before fitting the 1kW element.</p>
<p>The circuit looks good to me at first glance, but if I were considering using it, I would test it in a simulator first.<br />
	I use <a href="http://www.linear.com/designtools/software/#LTspice">LTSpice </a>which is free, and by varying the voltage at Pin 3 (0 - 5V), you could plot the expected output at Pin 1 to ensure that it scales proportionally.<br />
	R6&nbsp;&amp; C2&nbsp;convert the PWM to a smoothed DC voltage, which forms your 0 - 5V&nbsp;input to Pin 3.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3454"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Wed, 21/03/2012 - 11:15.</div>
    <div class="content">
     <p>As per previous posts I&#39;m trying to do this with a similar solution, only avoiding the high price of the Crydom unit.</p>
<p>Currently looking at alternative circuits to drive either a high voltage resistor circuit or an industry standard 4ma to 20ma&nbsp; current loop circuit.&nbsp;</p>
<p>The SSR units which support these features are normally around the &pound;30-&pound;40 mark, about half the cost of the Crydom.</p>
<p>I have a 3kW PV inverter so given the base load of my house (around 250W during the day) I&#39;m never going to push the full 3kW into the hot water.</p>
<p>I don&#39;t want to change the 3kW heating element either, as its a new 310 litre tank - which also has solar coils in the bottom half - but I&#39;m not using that at the moment but that has other interesting potential!&nbsp; (<a href="http://www.vaillant.co.uk/homeowners/products/storage-cylinders/solar-systems/" title="http://www.vaillant.co.uk/homeowners/products/storage-cylinders/solar-systems/">http://www.vaillant.co.uk/homeowners/products/storage-cylinders/solar-sy...</a>)</p>
<p>I like the idea of building a simple electronic device which people could use themselves without requiring plumbing skills.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3455"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Phill W&#039;s picture" title="Phill W&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Phill W (not verified) on Wed, 21/03/2012 - 11:39.</div>
    <div class="content">
     <p>Anyone know what the size of a mains current spike into a 3kW heater is likely to be?</p>
<p>RS are out of stock for the 40A Crydom controllers.......... the datasheet does not even have the 40A model listed, it goes from 25A to 50A, so I&#39;m wondering if the 40A is being discontinued.</p>
<p>&nbsp;</p>
<p>The 25A model is just over &pound;13 cheaper, will it be meaty enough?</p>
<p>Datasheet says 250A surge for the 25A model, 625A for the 50A model</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3458"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Wed, 21/03/2012 - 16:20.</div>
    <div class="content">
     <p>why do you need a 40a controller the max load of a 3kw immersion is no more than 13 amps.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3459"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 21/03/2012 - 19:26.</div>
    <div class="content">
     <p>Not sure what you mean by current spike? The heater element is a purely resistive load. Current spikes normally occur with reactive loads such as motors or high capacitive loads.</p>
<p>There will be a &#39;in-rush&#39; current when first connected due to the element having a lower resistance when cold, but this is usually an increase of no more than 5% of normal load.</p>
<p>Anything over 13 Amp should be adequate (as per Madmurg&#39;s post)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3460"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Wed, 21/03/2012 - 21:18.</div>
    <div class="content">
     <p>I&#39;ve been trying to work out how best to tackle this project.&nbsp; We already have several working solutions as mentioned in previous posts, but they are either 1. limited to stepped power outputs and/or need different heating coils.&nbsp; 2. require high cost proportional solid state relays.</p>
<p>I&#39;ve been looking into using adjustable SSR&#39;s in the &quot;cheap&quot; range - something like this...</p>
<p><a href="http://www.ebay.co.uk/itm/SSR-40VA-40A-Resistance-Type-Solid-State-Relay-w-Aluminum-Heat-Sink-/290678485315?pt=UK_BOI_Electrical_Components_Supplies_ET&amp;hash=item43adc9b143" title="http://www.ebay.co.uk/itm/SSR-40VA-40A-Resistance-Type-Solid-State-Relay-w-Aluminum-Heat-Sink-/290678485315?pt=UK_BOI_Electrical_Components_Supplies_ET&amp;hash=item43adc9b143">http://www.ebay.co.uk/itm/SSR-40VA-40A-Resistance-Type-Solid-State-Relay...</a></p>
<p>Less than &pound;10 each, including heat sink (which may not be required for 3Kw switching).</p>
<p>&nbsp;</p>
<p>The problem with these units is that you control them via a resistive load of 500kOhm to set the angle/voltage at which the SSR fires.&nbsp; From several diagrams on the net I don&#39;t think this pin is optically isolated from the mains either.</p>
<p>&nbsp;</p>
<p>Any suggestions on how to switch in/out a 500kOhm load (probably 240V @ 1W) ?</p>
<p>So far I&#39;ve considered:</p>
<ol>
<li>
		digital pot - not seen any which handle 240v AC</li>
<li>
		Resistive Optocoupler - some handle 240v AC but not at 1W (perhaps a couple of series?)</li>
<li>
		Photo FET optocoupler - <a href="http://docs-europe.electrocomponents.com/webdocs/0b4f/0900766b80b4f817.pdf" title="http://docs-europe.electrocomponents.com/webdocs/0b4f/0900766b80b4f817.pdf">http://docs-europe.electrocomponents.com/webdocs/0b4f/0900766b80b4f817.pdf</a> - not suitable for 240v mains</li>
<li>
		Building my own Optocoupler using light dependent resistors - this has some possibility as 240v @ 500mA devices are available.</li>
<li>
		Building a switching resistor network to digitally switch in/out a bunch of load resistors.</li>
</ol>
<p>I&#39;m coming to the conclusion that its not going to happen with this SSR device - but thought I&#39;d like a second opinion from you folks!</p>
<p>Any one know of a high power/voltage resistive optocoupler ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3461"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 21/03/2012 - 21:53.</div>
    <div class="content">
     <p>Have you <a href="http://bit.ly/GKf4VX">seen this thread</a>?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3487"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 22/03/2012 - 14:53.</div>
    <div class="content">
     <p>Thanks for that link, I&#39;ve not read that before.</p>
<p>The device the poster&#39;s using is the DA model from here... <a href="http://us.100y.com.tw/pdf_file/29-FOTEK-SSR-xx.pdf" title="http://us.100y.com.tw/pdf_file/29-FOTEK-SSR-xx.pdf">http://us.100y.com.tw/pdf_file/29-FOTEK-SSR-xx.pdf</a></p>
<p>Thats a straight forward on/off unit with zero cross detection, so the method he&#39;s employing is to simply switch on the unit, delay for a while and then switch it off.</p>
<p>What this will do in practise (I think!) is more like a manual burst fire method, which is not great for our hot water project because the power is not restricted by phase angle.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3490"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 22/03/2012 - 18:46.</div>
    <div class="content">
     <p>I&#39;m not sure that burst fire is such a bad thing, because I understand modern electric meters calculate real power over a number &nbsp;of cycles, and not just one.</p>
<p>I spoke with Siemens technical some months ago about this, and they confirmed that this was the case, although they would not tell me how many cycles it was averaged over, for fear of people trying to &#39;beat the system&#39;!!</p>
<p>If we could find that out, it would be relatively a simple solution to fire 1 cycle in 20 (5% power), 10 in 20 (50% power) or 20 in 20 (100% power).</p>
<p>A big advantage with burst fire is that all of the switching is done at zero crossing, so less heat and interference/noise, and also can be very accurately metered (Crydom&#39;s are not totally linear in operation).</p>
<p>........just a thought!</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3491"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 22/03/2012 - 19:54.</div>
    <div class="content">
     <p>The other big advantage is that you can build a burst fire device from a cheap SSR.</p>
<p>Probably wouldn&#39;t make much difference if you just randomly switched the SSR on either as it would wait for the zero cross before switch on, although might make the accuracy of you&#39;re control a little off.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3563"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Diana&#039;s picture" title="Diana&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Diana (not verified) on Wed, 28/03/2012 - 11:23.</div>
    <div class="content">
     <p>If anybody is still interested in our PAC 25A as advertised on the link mentioned <a href="http://www.united-automation.com/pac2/" title="www.united-automation.com/pac2/">www.united-automation.com/pac2/</a>, we do have an unforeseen problem with the manufacture of this product. We are working on sorting the issue and this could take between 2 and 6 weeks to resolve. Currently there is no guaranteed date for stock availability; but we do manufacture a large selection of controllers and there may be another option suitable for your application. If you are interested I am able to discuss it on here or you could contact us via our website <a href="http://www.united-automation.com/pages/Contact-Us.html" title="www.united-automation.com/pages/Contact-Us.html">www.united-automation.com/pages/Contact-Us.html</a>.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3565"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AndySV1K&#039;s picture" title="AndySV1K&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by AndySV1K (not verified) on Wed, 28/03/2012 - 19:24.</div>
    <div class="content">
     <p>just for info, I suggested that someone from united automation post something here, as I had a good chat with a couple of people there over the last few days and got some good info from them, I suspect they also have things to learn from members here too so good chance to collaborate.</p>
<p>I have no connection to the company whatsoever, I just searched for their name after seeing one of their products on the Farnell site.</p>
<p>I&#39;ve just ordered an EVR 4kw from them, which should hopefully do the same job as the PAC2&nbsp;but is also packaged into a complete unit with heat sink and cable gland etc.</p>
<p>Hi Diana, if you have any info on the EVR mentioned, maybe you could link to it?</p>
<p>&nbsp;</p>
<p>Andy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3567"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 28/03/2012 - 19:56.</div>
    <div class="content">
     <p>Hi Diana, thanks for the posting.</p>
<p>Can you tell me what the linearity of the output is in proportion to the 0 - 5V&nbsp;control voltage?<br />
	i.e. 1V = 20% power, 2.5V = 50% power ect. &nbsp;Do you have a chart of &nbsp;it&#39;s performance please?</p>
<p>Also, is the control input &amp; ground adequately isolated from the high voltage sides, as we would need to share a common ground between the PAC2&nbsp;and the control module.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3568"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Wed, 28/03/2012 - 20:00.</div>
    <div class="content">
     <p>I think this may be what you are after</p>
<p><a href="http://www.united-automation.com/content/X10773 - 4kW Fan Speed Controller.pdf" title="http://www.united-automation.com/content/X10773%20-%204kW%20Fan%20Speed%20Controller.pdf">http://www.united-automation.com/content/X10773%20-%204kW%20Fan%20Speed%...</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3577"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Phill W&#039;s picture" title="Phill W&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Phill W (not verified) on Thu, 29/03/2012 - 21:32.</div>
    <div class="content">
     <p>Right, I&#39;m back.............. I am now the proud owner of an Arduino Uno, a Cyrdom proportional power controller, two CT sensors and an assortment of &#39;bits&#39;.</p>
<p>So, the cunning plan is:</p>
<p>Use the Arduino to monitor the output from the solar via a CT sensor and monitor the take from the house sockets (the only significant drain during the day) with the other.</p>
<p>Using the Arduino calculate the difference in generated and consumed and divert the excess to the immersion circuit using the crydom by ramping up the analogue out on the Arduino.</p>
<p>I have got my <a href="http://dlnmh9ip6v2uc.cloudfront.net/datasheets/Sensors/Current/ECS1030-L72-SPEC.pdf">CT sensors</a> from proto-pic (I have to say the service is good!) and working on an input to the arduino using <a href="../../../img832.imageshack.us/img832/4938/circuitx.html">this circuit </a>from MadMurg <em>HELP I need some input</em> - Using the CT interface calculations I think I need a 220 or 240 ohm resistor in series with the CT output to give me full range on the analogue (12 A through the solar - sockets will be more)?</p>
<p>To drive the Crydom, I am using this circuit to give me the full range, I&#39;m using an LM358N rather than an LM324.</p>
<p>I have a nice aluminium case to divert any heat and my Solar installer seemed keen to see the end result and install the mains side of things for me.</p>
<p>Maybe I will start a new thread once I get started, but any input from you more knowledgeable peeps would be good!</p>
<p>Cheers</p>
<p>Phill</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3580"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 29/03/2012 - 22:24.</div>
    <div class="content">
     <p>Nice one Phill, look forward to hearing how this progresses.</p>
<p>My unit diverted over <a href="http://bit.ly/nADmAo">7kWh&#39;s&nbsp;of power to the immersion heater today</a>, so its definitely worth the effort as yours will be even more efficient than mine.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3583"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Fri, 30/03/2012 - 05:36.</div>
    <div class="content">
     <p>Hope you get on ok phill as above my controller is working great, i have a full tank of hot water by 11 am everyday. I dont think my gas boiler has even fired up this week.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3584"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Fri, 30/03/2012 - 05:48.</div>
    <div class="content">
     <p>Burden resistor calculator<br />
<a href="http://tyler.anairo.com/?id=5.3.0" title="http://tyler.anairo.com/?id=5.3.0">http://tyler.anairo.com/?id=5.3.0</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3590"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Phill W&#039;s picture" title="Phill W&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Phill W (not verified) on Fri, 30/03/2012 - 09:37.</div>
    <div class="content">
     <p>Cheers madmurg, used that, tells me I need 272 Ohms, the CT sensor has an inbuilt 10 Ohm resistor and 2000 turns which using the calculator tells me the CT sensors range is 353A, so I would only be getting 1/27th of the range which surely is going to be too small to monitor accurately?</p>
<p>&nbsp;</p>
<p>edit - 2000 turns not 200</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3669"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Diana&#039;s picture" title="Diana&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Diana (not verified) on Thu, 05/04/2012 - 11:03.</div>
    <div class="content">
     <p>Hi Paul</p>
<p>I have just had some feedback from our Technical department and this is their response to your question.</p>
<ol>
<li>
		The conduction angle output of the phase angle controller with respect to the control signal input is linear, but not the actual RMS voltage. See graph below. The conduction angle on the &ldquo;x&rdquo; axis could also be the control signal i.e. 0-180 degrees = 0-5v dc.</li>
</ol>
<p style="margin-left:18pt;"><img alt="" src="data:image/png;base64,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" /></p>
<ol>
<li value="2">
		Yes, the control input and ground are completely isolated from the high voltage side on both the PAC and the EVR controller. The isolation voltage is at least 2500V rms.</li>
</ol>
<p>Sorry for the late response and hope this information helps.</p>
<p>Diana</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3670"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Diana&#039;s picture" title="Diana&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Diana (not verified) on Mon, 14/05/2012 - 09:13.</div>
    <div class="content">
     <p>Hello Andy,</p>
<p>Yes, that day you rang and mentioned you found us on this forum I was viewing these posts. Although I am not technical I can hopefully create some sort of link between the company and people on here.</p>
<p>The only information we have at present is all contained in our datasheet on our website. <a href="http://www.united-automation.com/evr-25-phase-angle-power-regulator-stack/">http://www.united-automation.com/evr-25-phase-angle-power-regulator-stack/&nbsp;</a></p>
<p>If we get any further information or any new products that would help, I will post it on here.</p>
<p>Diana</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3697"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 07/04/2012 - 15:27.</div>
    <div class="content">
     <p>Hi folks,</p>
<p>Like many others, I&#39;m keen to keep the power from our newly fitted PV panels in-house.&nbsp; There&#39;s a lot of interesting material here to read; my apologies if answers have already been given but I&#39;ve yet to find them.</p>
<p>My objective is simply to divert excess PV power towards our existing 3kW immersion heater for DHW.&nbsp;&nbsp; I&#39;ve no wish to monitor/display the overall power consumed on-site; I just want to keep my export rate to a minimum.</p>
<p>Maybe I&#39;m missing something, but it seems only necessary for me to measure the current in one place (the grid supply) rather than calculating the difference between the currents generated and consumed on site.&nbsp; Won&#39;t this approach be more accurate anyway? Having determined the <em>direction</em> of the grid-supply current (by phase-comparison with the voltage), power to the immersion can then be automatically varied so as to obtain a maximum export of some &#39;safe&#39; value, e.g 200W, or whatever.</p>
<p>I would like my controller to go into a low-power state when the PV system is inactive.&nbsp; Monitoring the &#39;active&#39; LED on the inverter&#39;s front-panel will hopefully allow this to happen.</p>
<p>Looking forward to doing some programming again.&nbsp; Now where did I put those C manuals ...</p>
<p>Robin (Merseyside)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3726"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Mon, 09/04/2012 - 16:27.</div>
    <div class="content">
     <p>You need to know what spare power you have to play with so you need to measure the power being used by your house minus the power from your pv. This will give you spare power. So if you have 1000w spare power you need to put 1000w to you immersion heater.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3727"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 09/04/2012 - 16:40.</div>
    <div class="content">
     <p><a href="https://openenergymonitor.org/user/853" title="View user profile.">Phill W</a> on Thu, 29/03/2012 - 22:32 wrote:.</p>
<p><em>&quot;... the cunning plan is:</em></p>
<p><em>Use the Arduino to monitor the output from the solar via a CT sensor and monitor the take from the house sockets (the only significant drain during the day) with the other.</em></p>
<p><em>Using the Arduino calculate the difference in generated and consumed and divert the excess to the immersion circuit using the crydom by ramping up the analogue out on the Arduino.&quot;</em></p>
<p>Hi Phill,</p>
<p>If, like me, your sole objective is to avoid excess power being wasted, is it necessary to measure power in two places?&nbsp; If you just measure it at the grid connection, then adjust the Crydom to maintain a small level of export, won&#39;t that do the trick?&nbsp; A V/I phase-measurement is one way to determine the direction of the current, but there may be an easier/better way ...</p>
<p>Our supply meter, a Landis 5235A, has an LED which glows red when we&#39;re exporting.&nbsp; By monitoring that LED using an optical sensor, the sketch can be informed whether the current flow &#39;at this moment&#39; is being metered (when importing) or not (when exporting).&nbsp; Regardless of any user measurements, it&#39;s what the supply company&#39;s meter is measuring that really matters &#39;cos that&#39;s what determines the bills.</p>
<p>Regards to all, Robin</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3729"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Mon, 09/04/2012 - 16:56.</div>
    <div class="content">
     <p>But how will you know how much power to put to the immersion heater</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3730"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 09/04/2012 - 18:21.</div>
    <div class="content">
     <p>The supply current, which is being continuously monitored, is surely all that matters.&nbsp; By varying the control signal, the system needs to dynamically &#39;home in&#39; on the optimal setting so that the measured current is always as intended (e.g.&nbsp; 0.4mA&nbsp; export).&nbsp; By this means, small changes in generated power such as variable cloud cover can be readily accommodated without ever slipping into chargeable territory.&nbsp; But if the LED is ever found to be off, my sketch would immediately kill all power to the immersion heater (pennies being tight in Lancashire too ...)</p>
<p>Once the kettle has boiled, the next current measurement can be used to determine how much power should be sent to the heater.&nbsp; The relationship between measured export current and the control signal for the heater is all important but this aspect should become more clear once I have a real system to play with.&nbsp;</p>
<p>On a sunny 2.5kW day, the power to be dumped to the heater will depend greatly on how much the house is otherwise consuming.&nbsp; Unfortunately, the required control signal is likely to be non-linear.&nbsp; Two possible approaches to this:</p>
<p>1.&nbsp; Devise a calibration table so that +/- 100W of extra power can be predicted at each stage of the heater&#39;s profile.</p>
<p>2. Allow the system to &#39;home in&#39; on the desired setting where a known amount of grid current&nbsp; is being exported.&nbsp;&nbsp;&nbsp; Providing that the all-important LED never goes off, a smart system should get pretty adept at predicting how much to alter the control signal to achieve the desired change in current.&nbsp; As Manuel so delightfully put it &quot;I learn, Meesta Fawlty, I learn&quot;.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3732"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 09/04/2012 - 18:39.</div>
    <div class="content">
     <p>Sorry, I meant 0.4A (for 100mW of exported power at 240V ac)</p>
<p>With the Open University&#39;s email system, the sender can delete emails after sending them.&nbsp; Perfect for situations like this :)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3734"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Mon, 09/04/2012 - 19:22.</div>
    <div class="content">
     <p>But i still dont understand how you will know how much your pv is producing if you are only using one ct on the ring main. Also what about the other equipment in your house that uses power, like oven hob lights etc</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3736"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 09/04/2012 - 20:24.</div>
    <div class="content">
     <p>Could you not....</p>
<p>...build the single channel monitor (using current &amp; voltage measurement), and clip the CT on the meter tail reversed (so it measures exported power instead of imported, you should then know how much is being exported.</p>
<p>As you&#39;re not interested in measuring imported power, include something in the sketch like this after the;</p>
<p>if (ch1.realPower &lt; 0) &nbsp;{<br />
	&nbsp; &nbsp; &nbsp;(ch1.realPower = 0); &nbsp;}</p>
<p>So the reading will not read below zero (imported power)</p>
<p>But then you need to compensate for the power being consumed by the immersion heater to prevent hysteresis, so lets assume its a fixed 1kW heater for simplicity.</p>
<p>The trigger for switching on the heater could be 1.1kW&nbsp;of exported power, but then the following measurement cycle would read 0.1kW (because 1kW&nbsp;of the 1.1kW is being used by the immersion heater), and so it would switch the heater off.</p>
<p>To compensate for this, the power of the immersion load could be added to the exported measurement similar to;</p>
<p>if (imm_heater= On) &nbsp;{<br />
	&nbsp; &nbsp;(ch1.realPower = (ch1.realPower+1000);</p>
<p>So now, when the immersion heater is switched on, the trigger for keeping the heater on is still 1.1kW, but the measurement will still be 1.1kW (0.1kW + 1kW) and the heater will remain on.</p>
<p>If a 200W&nbsp;lamp is switched on, the measurement would then read 1kW, ( 0kW + 1kW) and the trigger level of 1.1kW would not be met, and the heater would be switched off. (It would be 0kW because we would not be measuring imported power)</p>
<p>This is all theory of course, but this was the way I intended to initially develop my project until I decided that I would like to see the data too.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3737"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 09/04/2012 - 21:02.</div>
    <div class="content">
     <p>If all I want to do is to limit my exported power, why do I need to know what my panels are producing?&nbsp;</p>
<p>On a good day, if the panels are generating 2.5kW and the house is consuming 2kW, I would measure an export flow of 500W.&nbsp; If I wish to export no more that 100W, my heater would need to consume 400w (or an extra 400W if it&#39;s already partially on).&nbsp; On a poor day, the panels may be generating 700W with the house consuming 200W, so I would still measure the same export flow of 500W.&nbsp; In both cases, the change in control voltage to increase the heater&#39;s consumption by 400W will surely be the same.&nbsp; But why measure power in two places if one will suffice?</p>
<p>The clever part is to correlate the change in control voltage with the extra power that it causes the heater to consume.&nbsp; For a resistive load, doubling the voltage will quadruple the power, so there appears to be a non-linear relationship from the outset.&nbsp; Essentially, we need to establish the relationship between the control voltage as set by the Arduino, and the power consumption of the heater.&nbsp; This relationship shouldn&#39;t change with time so can be hard-coded into the sketch.&nbsp;</p>
<p>Having determined how much the grid current should be increased/reduced by, I intend to call a function UpdateHeaterSetting() which will calculate how the control voltage should be changed to cause this effect.&nbsp; This function will need to know two pieces of information: the desired change in grid current, and the existing setting of the heater&#39;s control so that the appropriate part of the non-linear profile curve can be used.&nbsp;</p>
<p>An alternative approach would be for the control logic to simply &#39;home in&#39; on the desired current level.&nbsp; This is more or less how our Inverter &#39;knows&#39; how much current to draw from the panels for optimal power.&nbsp; With multiple PV panels in series, each with a non-linear profile, and often with uneven shading, the inverter&#39;s logic is somewhat complex, as has no doubt been touched on elsewhere in this forum.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3738"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 09/04/2012 - 21:23.</div>
    <div class="content">
     <p>Thanks Paul,</p>
<p>I follow your logic for the case of discrete loads that can be switched in or out.&nbsp; Because they&#39;re always operating at full power, they will always consume their stated values.&nbsp; But like many other users it seems, I would like to have a finer degree of control of the load.&nbsp; Our PV system is nominally 2.8kW, but our panels face ESE so we lose the sun quite early in the afternoon.&nbsp; Every watt is precious!</p>
<p>Whichever approach I end up using, the system will need to cope with a 3kW kettle being turned off on a sunny day when there is no other load.&nbsp; My control system for the heater must not overshoot.&nbsp;</p>
<p>Robin</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3739"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 09/04/2012 - 21:48.</div>
    <div class="content">
     <p>Robin, I chose a 1kW fixed load by way of example, but the 1kW offset could become a variable, that would change depending upon how much power is being provided by percentage;</p>
<p>(ch1.realPower = (ch1.realPower+(Percent_power * 30));</p>
<p>where Percent_power is the percentage of power being delivered to a 3kW immersion heater driven via a Crydom etc.</p>
<p>ie&nbsp;10% of full power = 300W<br />
	(ch1.realPower = (ch1.realPower+300);</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3742"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 10/04/2012 - 07:19.</div>
    <div class="content">
     <p>Paul, I&#39;m not intending to use any kind of calculated offset.&nbsp; For any load that&#39;s non-linear, there will always be an error when predicting the effect of each change (i.e. the change in grid current for a given change in control setting).&nbsp; But by repeatedly measuring the grid current and adjusting the control setting accordingly, the system should &#39;home in&#39; to the optimal setting for the prevailing conditions fairly rapidly.&nbsp; By limiting the rate at which the control setting can change, the system will be damped and therefore shouldn&#39;t oscillate wildly.&nbsp;</p>
<p>Small fluctuations around the target point are fine; this is just the feedback doing its job. Small changes in the available power due to changing cloud cover will be automatically tracked, but step-changes such as a kettle going on are more challenging ...&nbsp;</p>
<p>Depending on one&#39;s outlook, rapid reductations in available power could simply be accommodated by allowing the control logic to adjust for the new conditions.&nbsp; However, some chargeable grid power would be consumed during this process, and this mode of operation may therefore be against many user&#39;s principles.&nbsp; My preference is to monitor the LED on our supply meter and kill the heater&#39;s power immediately if the control system ever strays into chargeable territory.&nbsp; Experiments with a kettle yesterday showed that the &quot;reverse energy detected&quot; lamp goes out within 1/1000 of a kWh being consumed (hence a max penalty of 0.015p or thereabouts per cuppa)</p>
<p>Must be time for me to start building something.&nbsp; Can anyone advise me please how frequently current is measured with the standard sketches. TIA</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3746"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Tue, 10/04/2012 - 09:05.</div>
    <div class="content">
     <p>The offset variable I mention would be set by measuring the load, so I don&#39;t see how there would be an error.</p>
<p>The time of each measurement cycle depends upon how many wavelengths&nbsp;you have set emon to sample. In my case I measure 3000 and that takes 4.1 seconds.<br />
	This means that as a measurement is taken every 4.1 secs, if the kettle is switched on immediately&nbsp;after a measurement, I would pay a proportion of it&#39;s load for 4 seconds until another measurement is taken.<br />
	That doesn&#39;t&nbsp;cause me any concern as the amount of power concerned is minimal compared to my gains (4 secs&nbsp;@ 3kW = 3.3Wh - and that&#39;s the worse case scenario!).</p>
<p>Good luck Robin, keep us updated with your progress.</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3853"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Mon, 16/04/2012 - 11:51.</div>
    <div class="content">
     <p>I&#39;ve just had a couple of weeks holiday so missed out on the recent threads, but I am also now the proud owner of a shiny new SSR upon which I&#39;m going to try the burst fire method of control.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3967"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Sun, 22/04/2012 - 11:48.</div>
    <div class="content">
     <p>&nbsp;</p>
<h3 class="title" style="margin-bottom: 0px; font-size: 1.3em; color: rgb(119, 119, 119); margin-top: 0px; margin-right: auto; margin-left: auto; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left; ">
	<a class="active" href="584.html#comment-3962" style="text-decoration: none; color: rgb(119, 119, 119); font-size: 1.1em; margin-top: 0px; margin-right: auto; margin-bottom: 0px; margin-left: auto; ">I have built a unit for this.</a></h3>
<div class="submitted" style="color: rgb(153, 153, 153); font-size: 0.8em; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left; ">
	Submitted by&nbsp;<a href="../user/531.html" style="text-decoration: none; color: rgb(51, 102, 153); " title="View user profile.">markbeal2</a>&nbsp;on Sun, 22/04/2012 - 08:14.</div>
<div class="content" style="line-height: 1.4em; margin-top: 0.5em; margin-right: 0px; margin-bottom: 0.5em; margin-left: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 11px; text-align: left; ">
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">I have just pasted this from my original post. I would very much appreciate any contribution towards completing a sketch for this.</p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">&nbsp;</p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>I have built a unit for this. In the unit is a Kemo 4Kw&nbsp;Triac&nbsp;controller&nbsp;<a href="http://www.kemo-electronic.de/en/Light-Sound/Effects/Modules/M028N-Power-control-110-240-V-AC-4000-VA.php" style="text-decoration: none; color: rgb(51, 102, 153); ">http://www.kemo-electronic.de/en/Light-Sound/Effects/Modules/M028N-Power-control-110-240-V-AC-4000-VA.php</a>. Connected to that is a PWM&nbsp;controller&nbsp;<a href="http://www.kemo-electronic.de/en/Transformer-Dimmer/Converter/M150-DC-pulse-converter.php" style="text-decoration: none; color: rgb(51, 102, 153); ">http://www.kemo-electronic.de/en/Transformer-Dimmer/Converter/M150-DC-pulse-converter.php</a>.</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>These in the uk are available from Brocott UK on the web; I have done it this way because these modules are available to anyone who is not to good with electronic circuitry building.</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>I have split my immersion heater MCB&nbsp;off from the main domestic load in it&#39;s own small consumer unit.</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>Also in the unit is a 30A&nbsp;relay that will operate on and off from a small bank of relays (bought on Ebay) also in the unit. The 30A relay is to completely isolate the Triac control unit when not enough energy is available from the solar.</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>I have fitted a 9 pin rs232&nbsp;type connector to the aluminum&nbsp;case it is installed in which carries the PWM&nbsp;signal, 12v&nbsp;for the small relays and signals to operate the small relays and a led to indicate when power is on to the controller.</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>There is an 9 pin RS232&nbsp;lead linking the two units so basically, the mains is isolated from the low voltage Arduino based unit.&nbsp;</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>This bit all works fine and I would recommend&nbsp;perhaps to do it this way; I will post a pic of the unit next week.</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>The only thing I cannot get right is the sketch; I have tried using the example voltage and current sketch on here and installed the Emonlib but the sketch just throws up errors when I compile it. I have a 4 line lcd&nbsp;which i have placed into the separate which works fine and should give me all the information I require. Could someone please, please help me with this?</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>I am mid 50&#39;s and some of the sketch I just don&#39;t understand, seems harder to take new things in the older you get.</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>I suppose you could use the arduino based unit to control a storage heater as well as hot water with another power control unit like I mention before. The immersion heater will switch off when it is hot enough via the thermostat so depending on your PV system some spare energy would be available. Monitor the immersion heater as well via a ct.</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; "><em>Mark.</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; ">&nbsp;</p>
</div>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3981"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 23/04/2012 - 20:03.</div>
    <div class="content">
     <p>Exactly which sketch are you using - please provide link to the sketch.<br />
	What version Arduino software environment are you using (to compile the sketch).</p>
<p>Paul</p>
<p>PS being mid 50s&nbsp;shouldn&#39;t slow you down. &nbsp;I was older than that when I first started programming!&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3982"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Mon, 23/04/2012 - 21:26.</div>
    <div class="content">
     <p>This sketch to start with Paul, errors on compile. Then I tried yours and that threw up errors. I&#39;m using latest version of Arduino software.</p>
<p>&nbsp;</p>
<div>
	#include &quot;EmonLib.h&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Include Emon Library</div>
<div>
	EnergyMonitor emon1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Create an instance</div>
<div>
	&nbsp;</div>
<div>
	void setup()</div>
<div>
	{ &nbsp;</div>
<div>
	&nbsp; Serial.begin(9600);</div>
<div>
	&nbsp;&nbsp;</div>
<div>
	&nbsp; emon1.voltage(2, 234.26, 1.7); &nbsp;// Voltage: input pin, calibration, phase_shift</div>
<div>
	&nbsp; emon1.current(1, 111.1); &nbsp; &nbsp; &nbsp; &nbsp;// Current: input pin, calibration.</div>
<div>
	}</div>
<div>
	&nbsp;</div>
<div>
	void loop()</div>
<div>
	{</div>
<div>
	&nbsp; emon1.calcVI(20,2000); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Calculate all. No.of wavelengths, time-out</div>
<div>
	&nbsp; emon1.serialprint(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Print out all variables</div>
<div>
	}</div>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3983"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 23/04/2012 - 21:37.</div>
    <div class="content">
     <p>If you don&#39;t provide the information that I requested, then sorry I can&#39;t help.</p>
<p>1) Provide a link to the sketch you are using<br />
	2) Which version number of Arduino Software are you using?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3984"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Mon, 23/04/2012 - 21:44.</div>
    <div class="content">
     <p>link is&nbsp;<a href="https://learn.openenergymonitor.org/?redirect=arduino-sketch-voltage-and-current">http://openenergymonitor.org/emon/buildingblocks/arduino-sketch-voltage-and-current</a></p>
<p>Version is&nbsp;arduino-1.0</p>
<p>I have included the EmonLib into the libraries of Arduino software.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3986"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 23/04/2012 - 22:29.</div>
    <div class="content">
     <p>My sketch (which is an older version of the openenergymonitor code - not my own work!) was written to compile under version 0022, and has not been modded to work with Arduino 1.0 so you would need to install the older Arduino version 0022 to compile my sketch. If then you still get errors, post what they are, and I&#39;ll help if I can.</p>
<p>I have not tried the sketch that you are using so can&#39;t advise you other than you are using the correct version of&nbsp;Arduino&nbsp;software for that sketch, and can see no reason why it should not compile as it will have been well tested by the authors before being made public and being placed in Github.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3987"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Mon, 23/04/2012 - 22:38.</div>
    <div class="content">
     <p>I&#39;ll try the old version but I did try to message Trystan about it but have had no reply from him as yet.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3988"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sharmead&#039;s picture" title="sharmead&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by sharmead (not verified) on Mon, 23/04/2012 - 23:25.</div>
    <div class="content">
     <p>I have 3.9Kw PV installed last week &amp; I too am looking for some guidance on how to set up an automatic switched immersion heater controller. I have a 500l storage tank with solar coil and four 3Kw immersion heaters (fitted when I applied for a wind turbine which thankfully was turned down) These four heaters can easily be switched with relays to give seven steps from 750 watts to 3 Kw, This is to my thinking preferable to the Triac&nbsp;route as there is no waste heat and after all where does the solar go when the Triac is off? To the grid I would have thought, which rather defeats the object. I&#39;m looking for something which needs a minimum of of modification, Although I have (had) an electronics background, &nbsp;at 77 I;m getting a bit past it. Any advice gratefully received.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-3996"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 24/04/2012 - 10:20.</div>
    <div class="content">
     <blockquote><p>&quot;Where does the solar go when the Triac is off?&quot;</p>
</blockquote>
<p>That&#39;s an interesting point. I think the &#39;safe&#39; answer is yes, you will be using the grid as an energy store and there will be a current ripple as you export power during part of the cycle and import power over the remainder. The next layer of complication means we have to consider what energy storage the solar inverter has. If there is a filter somewhere that is capable of storing enough energy to supply the phase controlled load when the triac is firing, and it can recover that energy while it is off, then the &quot;ripple&quot; power will be much reduced (though probably not eliminated, because the mains is likely to have a much lower impedance then the inverter output).</p>
<p>I think you will need to speak to the technical department at the inverter manufacturers to ask them how their equipment reacts to that sort of a load.</p>
<p>Whether the &#39;ripple&#39; power is correctly metered or not could also be a good question. It ought to be, provided your meter does &#39;unwind&#39; when you are exporting power.</p>
<p>Maybe it&#39;s a stupid question, but has a manufacturer (I think it would need to be a manufacturer) considered feeding the d.c. from the solar panels directly into an immersion heater, bypassing the inverter?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4007"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 24/04/2012 - 17:43.</div>
    <div class="content">
     <p><em>&quot;Where does the solar go when the Triac is off?&quot;</em></p>
<p>That&#39;s exactly the point I&#39;ve been trying to discuss of late, but I didn&#39;t put it quite as succinctly.&nbsp;</p>
<p>My understanding is that electricity meters have a &#39;window&#39; which allows small amounts of power to flow to and from the grid without being recorded.&nbsp; My mental picture is of an accumulator of width 0.002kWh which always starts in the middle.&nbsp; Provided that you remain within this window, nothing is recorded.&nbsp; If the upper limit is reached, another 0.001kWh of consumed power is recorded and the accumulator is reset.&nbsp; If the lower limit is reached, the accumulator is again reset but the consumed-power register is unchanged.&nbsp; My Landis 5235A meter can monitor power in both directions but has not been set up to do so.&nbsp; As configured by S.Power, it repeatedly flashes &#39;rEd&#39; which apparently means &quot;reverse power detected&quot;.&nbsp; Something like anti-matter maybe ;)</p>
<p>Being permitted to consume every last watt of power on-site, while being paid the export tarrif for a nominal 50% of all generated power, is probably not the way the system was intended to operate.&nbsp; But if it saves me from firing up the gas boiler for a bath, it&#39;s got to be good for the planet!</p>
<p>I don&#39;t think the inverter has any capacity for short term energy storage.&nbsp; And if the DC were to be used directly, the owner would forego the FIT benefits.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4010"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 24/04/2012 - 18:35.</div>
    <div class="content">
     <blockquote><p>&quot;I don&#39;t think the inverter has any capacity for short term energy storage.&quot;</p>
</blockquote>
<p>That is what I would have expected, but I don&#39;t know. Though there is probably a degree of filtering on the output to reduce switching noise, I very much doubt that it would be enough to sustain 3kW worth of load for a quarter of a cycle or so. And I rather imagine the manufacturers would react in horror at the thought of large amounts of circulating vars.</p>
<blockquote><p>&quot;And if the DC were to be used directly, the owner would forego the FIT benefits.&quot;</p>
</blockquote>
<p>I don&#39;t see what the difference is - I didn&#39;t mean <strong><em>exclusively</em></strong> feed only the water heaters, I meant extract what power you can at d.c. direct from the panels, and convert and export the surplus to the grid as before. I guess the real answer is; it adds complication.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4011"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Tue, 24/04/2012 - 19:34.</div>
    <div class="content">
     <p>Thats what I&#39;m working on Robert, Mine like others will feed any surplus into the Immersion heater what ever the level of the PV generation. If the house is using more or equal to what is produced the Immersion heater will stay off until the level goes over the threshold.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4015"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Tue, 24/04/2012 - 21:31.</div>
    <div class="content">
     <p>Heres some pics of my separate power controller, I had and old cast aluminum case knocking about so used that. I might paint it soon. &nbsp;It has a 9 pin plug on the side and a bi-pass switch in the other side for full manual power.</p>
<p>The led on the front lights when some energy is going in the immersion heater.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4016"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Mr. Sharkey&#039;s picture" title="Mr. Sharkey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Mr. Sharkey (not verified) on Wed, 25/04/2012 - 01:50.</div>
    <div class="content">
     <p><i>"Where does the solar go when the Triac is off?"</i></p>
<p>I'm getting increasingly uncomfortable while thinking of a triac controlled dump load. Not only is the solar power's destination during the off state in question, but it might be worse - much worse.</p>
<p>Consider:</p>
<p>Excess solar production: 1,500 watts<br />
Dump load: 3,000 watts</p>
<p>In order to achieve parity, we need to dump that 1,500 watts into the dump load. Using a triac, we would aim for a phase angle of 50%, meaning the duty cycle would be equal on/off timing.</p>
<p>The problem is that at the top of the 50% duty cycle, the immersion load is actually drawing 3,000 watts. I know that the <i>average</i> power is 1,500, but instantaneously, the power is 3,000. Where is the additional 1,500 watts coming from? The grid!</p>
<p>Not only are you not exporting 1,500 watts half the time, you are purchasing 1,500 watts half the time!</p>
<p>A mechanical utility meter would forgive this, as there are physical ballistics at play, but a modern digital meter would likely bill you for that 1,500 watts. If it averages time, it would look like 750 watts on your bill, but still, you aren't fooling the meter, you are purchasing power to heat the water and "throwing away" half of your power production during the off time.</p>
<p>Do electronic utility meters ignore partial-cycle loads? I'd imagine not, as that would mean that any loads controlled by a thyristor would not be billed to the customer. Utility companies are all about revenue, not charity.</p>
<p>I know for a fact that the utility meter on my home records any solar production that leaks back into the grid as consumption, so I'd be doubly screwed, I'd get billed for the 750 watts (1,500w @ 50%) while the load was on-cycle, then get billed for 750 watts (1,500w @ 50%) while the load was off-cycle. the net result would be that it would look on my bill as if I'd been running 1.5kw exclusively off grid power.</p>
<p>OK, so in the real world, this example is over-simplified, it doesn't take into consideration the phase angle of the current out of the inverter as well as a number of other dynamic AC power variables. If you were to consider the same case study using DC (PV and batteries instead of inverter and grid) and PWM, things would be much more cut-and-dried as far as the theory and suppositions.</p>
<p>It would be possible (fairly simple, really) to set up a revenue-grade utility meter, a lamp dimmer and a load and see what the meter registers as consumption at 50%. This wouldn't answer what the solar is doing during that time, that would probably require a more sophisticated test setup.</p>
<p>At any rate, I think I'm tossing out my plans to try using a triac on my system. I'll stick with the variable transformer, thank you.</p>
<p>Comments?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4020"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dave.s&#039;s picture" title="dave.s&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by dave.s (not verified) on Wed, 25/04/2012 - 09:21.</div>
    <div class="content">
     <p><em>&quot;A mechanical utility meter would forgive this, as there are physical ballistics at play, but a modern digital meter would likely bill you for that 1,500 watts&quot;</em></p>
<p>I&#39;d think we need some tests. Following the thread at <a href="http://www.electriciansforums.co.uk/central-heating-systems/23969-immersion-heater-pv-electricity-print.html?pp=40" title="http://www.electriciansforums.co.uk/central-heating-systems/23969-immersion-heater-pv-electricity-print.html?pp=40">http://www.electriciansforums.co.uk/central-heating-systems/23969-immers...</a> on which pauldreed was commenting, others report that a load that is triac controlled does <strong>not</strong> register as additional consumption. The metering is generally done over a number of cycles (exact number unknown and probably down to the meter manufacturer).</p>
<p><em>&quot;I know for a fact that the utility meter on my home records any solar production that leaks back into the grid as consumption, so I&#39;d be doubly screwed, I&#39;d get billed for the 750 watts (1,500w @ 50%) while the load was on-cycle, then get billed for 750 watts (1,500w @ 50%) while the load was off-cycle. the net result would be that it would look on my bill as if I&#39;d been running 1.5kw exclusively off grid power.&quot;</em></p>
<p>That sounds like a very dodgy meter! Any exported power should not register on your supply meter. Old analogue meters would run backwards, so export got subtracted off your consumption, but digital meters should be directional. I know mine is as it actually displays the direction and very coarse indication of power flowing</p>
<p>Whilst you may be tossing out your plans for triac control, my parts are on order (copying markbeal2 with the Kemo 4Kw&nbsp;Triac&nbsp;controller and M150 pulse converter. Found slightly cheaper than Brocott UK on Ebay, currently items <span class="g_vxs33a">370539618531 and </span><span class="g_vxs33a">370539615690 come in at 49EUR from Germany). I&#39;ll report back with my results once I&#39;ve had a chance to get it all running with my </span>3kW immersion heater. No guarantees that all meters will then work the same, but I would expect there to be some standardisation.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4021"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Satman_uk&#039;s picture" title="Satman_uk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Satman_uk (not verified) on Wed, 25/04/2012 - 12:18.</div>
    <div class="content">
     <p>Not a dodgy meter at all....e.g. the ampy 5235A has a unidirectional mode that can add up power in both directions into the same kwh register, a dodgy mode to be left in by the utility perhaps....</p>
<p>Section 2.4</p>
<p><a href="http://www.solarinverters.com.au/files/users_manuals/usermanual-ahmzqq.pdf">http://www.solarinverters.com.au/files/users_manuals/usermanual-ahmzqq.pdf</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4023"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Wed, 25/04/2012 - 12:21.</div>
    <div class="content">
     <p>I&#39;ve resisted the temptation to pitch in on&nbsp;this one, and will probably regret it,&nbsp;&nbsp;but...</p>
<p>Using&nbsp;a triac to&nbsp;control a&nbsp;(resistive load) is a standard&nbsp;approach.&nbsp;&nbsp;It is used in millions of lighting circuits.&nbsp; An immersion is no different,</p>
<p>Your meter does not record&nbsp;KW, it records KWh. ie. energy consumed over time, not peak energy or instantaneous energy.</p>
<p>Think of a light dimmer.&nbsp;&nbsp;Set to 100%, the&nbsp;light will&nbsp;consume 100%, and your meter will record that.</p>
<p>Set&nbsp;the dimmer to&nbsp;50%, the light will consume 50% (it will&nbsp;less bright, and generate less heat).&nbsp; But the other&nbsp;50% does not heat up the dimmer switch&nbsp;(assuming triac control and not the old&nbsp;resistive type), or go anywhere else.&nbsp; You have not used&nbsp;the other 50%, so your meter does not&nbsp;record that you have used the other 50%.&nbsp;&nbsp;You should not look at this on a individual cycle basis.</p>
<p>&nbsp;</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4024"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Wed, 25/04/2012 - 12:28.</div>
    <div class="content">
     <p>madmurg, can you&nbsp;tell me which&nbsp;Crydom you&nbsp;used in your immersion controller?</p>
<p>Thanks</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4025"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Mr. Sharkey&#039;s picture" title="Mr. Sharkey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Mr. Sharkey (not verified) on Wed, 25/04/2012 - 15:37.</div>
    <div class="content">
     <p><i>"a load that is triac controlled does not register as additional consumption. The metering is generally done over a number of cycles"</i></p>
<p>I think that you need to understand that the load calculations are ~averaged~ over a number of cycles, not that partial cycle loads are ignored. If partial cycle consumption was not registered, then the utility would be allowing consumers to run dimmable lights free, and I don't think that's going to happen. Note that many heat pumps these days use inverter-controlled circulation fans, think that the power company is running all of those gratis? I don't.</p>
<p>The utility meter on my home is a Itron Centron C1S. Although it's capable of detecting and recording bi-directional power flows, it requires an additional "personality module" and specific programming to do so. As installed, the meter can tell which direction the power is flowing (shows an indicator on the display), but continues to increment the consumption upwards when the solar is going to the grid. This was the whole point of my building a diversion load controller, the utility was charging me to put clean power on their lines.</p>
<p>To be sure I understood how the meter works, I bought a case of them on eBay and ripped them to pieces on the test bench, performing various experiments to satisfy my curiosity. It would be easy enough to dig one out of storage, set it up with a dimmer to power the immersion heater at 50% and read the results on the display. My prediction is that 50% duty cycle will result in the meter registering half the load wattage per hour.</p>
<p>I get to start my learning all over again in a couple of months, as the utility is switching over to "smart" meters with the in-built radio link. No more smart meter reader showing up at my door each month. How the new meter is going to react to solar production is anybodys's guess, but I'd bet that it will be programmed in the default configuration of production=consumption, that's how the utility thinks, "If we can't bill them for it, they must be cheating".</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4027"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 25/04/2012 - 16:19.</div>
    <div class="content">
     <p>The Landis 5235A supply meter mentioned earlier measures power in chunks of 1/1000kWh.&nbsp; As long as the net flow of power in or out is less than 1/1000kWh, nothing is recorded by the meter.&nbsp; For a 3kW immersion, 1/1000kWh of power is consumed approx every second.&nbsp;&nbsp;</p>
<p>A phase-angle controller operates on a timescale, around 100 times faster than this.&nbsp; During the first (off) part of the cycle, a small amount of PV-generated energy slips away into the grid; the same amount of energy then returns during the latter (on) part.&nbsp; The low-impedance grid&nbsp; is providing a short term buffer facility, for which no charge is made.</p>
<p>Think of a gymnast who needs a trampoline to clear a vaulting horse.&nbsp; Although the only source of power is coming from the gymnast, the trampoline allows energy to be accumulated over a longer period than would the floor alone.&nbsp; The low-impedance grid is our trampoline.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4029"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Wed, 25/04/2012 - 16:49.</div>
    <div class="content">
     <p>Here is a link to the crydom unit<br />
<a href="http://uk.farnell.com/jsp/search/productdetail.jsp?SKU=1936419" title="http://uk.farnell.com/jsp/search/productdetail.jsp?SKU=1936419">http://uk.farnell.com/jsp/search/productdetail.jsp?SKU=1936419</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4033"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Mr. Sharkey&#039;s picture" title="Mr. Sharkey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Mr. Sharkey (not verified) on Wed, 25/04/2012 - 20:02.</div>
    <div class="content">
     <p><i>"As long as the net flow of power in or out is less than 1/1000kWh, nothing is recorded by the meter."</i></p>
<p>So what you are saying first is that the meter ignores power levels under 1 watt. I suppose that I could find this acceptable. What I don't see is how you relate the timing of the power as determined by the phase angle as being below the 1 watt threshold. When the duty cycle is 50% (for example), the instantaneous power level is 3kw, the meter is not going to ignore this. It will register it as a 3kw load and time-average the power level according to the portion of the cycle (or cycles, if averaging over multiple cycles), and integrate the power into a reading for which you'll be charged when the utility bill is due.</p>
<p>You supposition about using the grid as a short-term storage system would be correct for an analog, disc-type meter, or a digital meter that can count up and down with forward/reverse power flows, but for every meter I'm familiar with, this would result in your accumulating kWh that would be billable at the end of the month. Every digital meter that is set up for consumer power production measurement will have two registers, one for consumption, and another for production. This way, the utility can keep track of how much you are consuming at one rate, and how much you are backfeeding the grid, perhaps at a different rate. If they are kind enough to offer "net metering" (consumption and production valued at the same rate) then the numbers are summed at the end of the month as you are billed the difference.</p>
<p>To further settle this question, I've set up a digital meter in a test setup and will accumulate some data this afternoon to show that the meter works as I propose.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4034"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/885.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="logic&#039;s picture" title="logic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/885.html" title="View user profile.">logic</a> on Wed, 25/04/2012 - 20:48.</div>
    <div class="content">
     <p class="rteleft">I&#39;m currently using a 2 - 10v Crydom&nbsp;10pcv2425 proportional control for my solar to immersion heater setup and as my meter displays a green LED when power is flowing back to the grid then I know that all is working as it should l am still generating and not buying power.</p>
<p class="rteleft">My setup uses the emontx/GLCD/Nanode&nbsp;setup with an extra emontx board to wirelessly control the immersion. &nbsp;I did have to increase the power reading emontx&#39;s transmission&nbsp;rates, and I &#39;borrowed&#39; madmurgs idea for the 10v circuit (thanks). &nbsp;Also I added a third CT to measure the immersion heater power so I wasn&#39;t relying on a calculated power from CT power 1 and &nbsp;2. I do all the power measuring from the meter cupboard and have the 2nd&nbsp;emontx board dedicated to the PWM/Crydom&nbsp;controller.</p>
<p class="rteleft">As said above, I can watch the green LED stay lit while diverting from as close as 50 to 100Watt of spare power to my immersion. &nbsp;The only downside I have found so far is that due to only currently having 100 CT transmissions per minute when the kettle is switched on I see the green LED go out, but only for about 1 second until the PWM is adjusted and immersion power decreased. The setup handles normal household useage changes or cloud cover with no problems - I guess worst case adding a maximum of about 1 or 2 pence per day which is more than offset by my &#39;expected&#39; decrease in oil consumption.</p>
<p class="rteleft">Edit - I couldn&#39;t get into the link madmurg posted before writing this, but now I see it is exactly the same Cydom controller.</p>
<p class="rteleft">&nbsp;</p>
<p class="rteleft">Dennis</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4035"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 25/04/2012 - 21:04.</div>
    <div class="content">
     <p>Mr Sharkey, I think you are missing the point which&nbsp;Calypso rae is making. It&#39;s important to understand what he means by &#39;chunks&#39;, because the meter simply does not ignore power usage of less than 1Wh, it totals all usage up no matter how small, deducts any export power, and when 1Wh&nbsp;of power has been recorded, it then passes the 1Wh to a separate&nbsp;register within the meter which counts total usage (accumulator).<br />
	It could take 1 second to build up1Wh or it could take 5 minutes, and most meters have a flashing LED indication, 1 flash = 1Wh.</p>
<p>When you set up your rig - count the flashes.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4036"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 25/04/2012 - 22:00.</div>
    <div class="content">
     <p><em>pauldreed: It&#39;s important to understand what he means by &#39;chunks&#39;, because the meter simply does not ignore power usage of less than 1Wh, it totals all usage up no matter how small, deducts any export power, and when 1Wh&nbsp;of power has been recorded, it then passes the 1Wh to a separate&nbsp;register within the meter which counts total usage (accumulator).<br />
	It could take 1 second to build up1Wh or it could take 5 minutes, and most meters have a flashing LED indication, 1 flash = 1Wh</em></p>
<p>Yep, I&#39;m happy with that explanation, except that for &quot;power&quot;, I would prefer to write &quot;energy&quot; :)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4037"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 25/04/2012 - 22:56.</div>
    <div class="content">
     <p>From the meter manuals that I&#39;ve read, they do indeed have a lower threshold below which the power is considered to be zero. It&#39;s referred to as &quot;starting current&quot;, &quot;anti-creep&quot; or something like that. For the Ampy 6535 linked higher up this thread, it is:</p>
<blockquote><p>Current (Base) Direct connection&nbsp; Ib&nbsp;&nbsp; 5A, 10A, or 20A<br />
		Current (Max) Imax &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 40A, 60A, 80A or 100A<br />
		Starting Current (IEC)&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.4% of Ib<br />
		Max measuring range&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 20mA up to 100A</p>
</blockquote>
<p>&nbsp;</p>
<p>and for an ABB 3-phase ODIN meter, the manual states:</p>
<blockquote><p>Min current Imin: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 0.25 A for direct connected meter, 0.10 A for transformer connected meter<br />
		Min current inside class Itr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.5 A<br />
		Reference alt. Base current Iref (Ib):&nbsp; 5 A<br />
		Maximum current Imax: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 65 A for direct connected meter, 10 A for transformer connected meter<br />
		Starting current Ist:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 20 mA</p>
</blockquote>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4039"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Mr. Sharkey&#039;s picture" title="Mr. Sharkey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Mr. Sharkey (not verified) on Wed, 25/04/2012 - 23:25.</div>
    <div class="content">
     <p>OK, so maybe I'm getting distracted by the premise that his particular meter might be capable of see-sawing some energy back and forth without registering it as consumption. If it counts up to .9 Wh during dump load operation, then it counts down 1.8 Wh during inverter feed to the grid, etc, etc, then it never passes the 1 Wh threshold to pass the "chunk" over to the register to increment the total displayed and billed.</p>
<p>The whole premise hinges on each individual cycle having less than 1 Wh of energy contained in it, in either direction, *and* the meter doing a proper increment/decrement with each cycle. I'm not going to try to do the math, much less try to calculate the phase angle-vs-dump load wattage limit for 1 Wh/cycle.</p>
<p>Now I wish I hadn't wasted four hours of my day messing with digital utility meters instead of washing the living room walls to prepare for painting.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4040"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Mr. Sharkey&#039;s picture" title="Mr. Sharkey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Mr. Sharkey (not verified) on Thu, 26/04/2012 - 00:34.</div>
    <div class="content">
     <p>Isn't <i>that</i> interesting?</p>
<p>Since I felt like I had wasted half the day, and because the utility meters were still on the bench before I put them back into storage, I decided to test out the "chunk" theory.</p>
<p>Load =  100 watts @ 120 volts (causes 1 Wh to pass each 36 seconds).</p>
<p>Wired the meter so I could connect the load in phase and out of phase alternately with clip leads.</p>
<p>Ran the load for 36 seconds to verify indication.</p>
<p>Ran the load another 30 seconds, disconnected.</p>
<p>Reversed the current loop though the meter so it looked like the load was producing instead of consuming.</p>
<p>Ran the load for 60 seconds.</p>
<p>Reversed.</p>
<p>Repeat above 8 times. </p>
<p>Result =  the 1 Wh indicator did not illuminate, showing that the meter was incrementing, then decrementing the accumulated Wh back and forth without sending it to the register.</p>
<p>It works! I'm confounded, amazed, and apologetic all at once.</p>
<p>Oh, and it turns out the maths weren't so gnarly after all:</p>
<p>1000 = watts load<br />
3600 = seconds in a hour<br />
120 = half cycles in a second (60 Hz, N. American standard)</p>
<p>(1000/3600)/120 = 0.023 Wh per half cycle</p>
<p>At 3 Kw load = 0.069 Wh/½ cycle</p>
<p>For those of you in the rest of the civilised world (50 Hz):</p>
<p>(1000/3600)/100 = 0.0027 Wh/½ cycle</p>
<p>3 Kw = 0.0083 Wh/½ cycle</p>
<p>[edited to correct bad math]</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4041"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 26/04/2012 - 07:59.</div>
    <div class="content">
     <p>&quot;....Now I wish I hadn&#39;t wasted four hours of my day messing with digital utility meters instead of washing the living room walls to prepare for painting.&quot;</p>
<p>Although playing with the digital meters does sound the better option to me!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4044"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Thu, 26/04/2012 - 12:01.</div>
    <div class="content">
     <p>HI Dennis</p>
<p>How are you powering your&nbsp;second tx - wth a usb psu, or are&nbsp;you using the same power supply as you use to drive the crydom?&nbsp; Are&nbsp;you measuring voltage at either of your tx?</p>
<p>If you have a schematic, would be really&nbsp;good if you could post it.</p>
<p>Thanks</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4046"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 26/04/2012 - 14:41.</div>
    <div class="content">
     <p><em>Result = the 1 Wh indictor did not illuminate, showing that the meter was incrementing, then decrementing the accumulated Wh back and forth without sending it to the register.</em></p>
<p>Great, that&#39;s just how my meter behaves.&nbsp; With 1kW of surplus power from the PV, I repeatedly switched our 3kW kettle on for around 0.5s, then off for around 1.5s. While this sequence was maintained, no flicks were seen at the meter&#39;s LED, yet the kettle was clearly heating up.&nbsp;</p>
<p>For some reason, our kettle&#39;s heating element did not survive this treatment.&nbsp; I&#39;m hoping that a proper AC-controller will not have the same effect on its replacement!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4047"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 26/04/2012 - 15:00.</div>
    <div class="content">
     <p><em>For those of you in the rest of the civilised world (50 Hz):</em></p>
<p><em>(3600/1000)/100 = 0.036 Wh/&frac12; cycle</em></p>
<p><em>3 Kw = 0.108 Wh/&frac12; cycle</em></p>
<p>Wow, so your meter flashes 10 times per second for a 3kW load!!!&nbsp; Thankfully, I get different numbers:</p>
<p>My 3kW load consumes 3000 Wh of energy per 3600 seconds, so that&#39;s 1 Wh per 1.2 seconds.&nbsp; This is the &#39;flash rate&#39; that I noted while destroying my kettle ...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4049"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Mr. Sharkey&#039;s picture" title="Mr. Sharkey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Mr. Sharkey (not verified) on Thu, 26/04/2012 - 15:39.</div>
    <div class="content">
     <p><i>"Wow, so your meter flashes 10 times per second for a 3kW load"</i></p>
<p>No, but I think I see where I made that error (I did mention that I didn't want to try and figure out the math). The time/Watts should have been the other way 'round:</p>
<p>(3000/3600)/120 = .0069 Wh/½ cycle (60 Hz)<br />
(3000/3600)/100 = .0083 Wh/½ cycle (50 Hz)</p>
<p>Proofing:</p>
<p>1Wh/(.0069 * 120) = 1.2077 sec.</p>
<p>Happy now?</p>
<p>No kettles were destroyed in the making of these calculations.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4052"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/885.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="logic&#039;s picture" title="logic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/885.html" title="View user profile.">logic</a> on Thu, 26/04/2012 - 16:21.</div>
    <div class="content">
     <p>Lloyd</p>
<p>All measurements including voltage are done on the 1st emontx in the meter cupboard, and I just have this sending the power 1, 2 &amp; 3 value&#39;s (+ others) at about 100 per minute.&nbsp; The setup is the solar kit bought from the openenergymonitor shop and a third ct.</p>
<p>The 2nd emontx which controls the PWM/Crydom is powered by a 12v CCTV psu going to this - <a href="http://www.ebay.co.uk/itm/260992217237?ssPageName=STRK:MEWNX:IT&amp;_trksid=p3984.m1497.l2649%c2%a0%c2%a0" title="http://www.ebay.co.uk/itm/260992217237?ssPageName=STRK:MEWNX:IT&amp;_trksid=p3984.m1497.l2649  ">http://www.ebay.co.uk/itm/260992217237?ssPageName=STRK:MEWNX:IT&amp;_trksid=...</a> This supplies both the required 12v and 5v.&nbsp; I originally got the 2nd emontx with thoughts of measuring temperatures locally and as it comes complete with wireless and all the connections.&nbsp; But I&#39;ve left it dedicated just for the PWM control.</p>
<p>The 10v control schematic is as Madmurg&#39;s, and I can certainly upload my programming once I figure out how to - I&#39;ve just left home to work for a few weeks so the computers are restricted with installing github, but I&#39;ll try to figure something (maybe upload a zip).&nbsp; Is it better to start a new post rather than continue on this one?</p>
<p>Today I can see online that my water tank is all nice and toasty (temp sensors fitted) and all for free!&nbsp; With oil costing me 68p/litre it should speed the solar payback time as I just missed out on the higher FIT and am on 21ppu.</p>
<p>Dennis</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4053"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 26/04/2012 - 17:40.</div>
    <div class="content">
     <p><em>Happy now?</em></p>
<p>Yep, I sure am :)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4054"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 26/04/2012 - 19:00.</div>
    <div class="content">
     <p>Now we have a better understanding of how the meters actually record energy, has anyone given any thought to using Thyristor&nbsp;control in burst mode?</p>
<p>I was thinking upon the lines of using Arduino&nbsp;code to switch a Thyristor&nbsp;on and and off via a opto-isolator??<br />
	So if we worked on a cycle of every 1 second, the Arduino could switch on the Thyristor&nbsp;for 500ms (and off for 500ms) for 50% energy, on for 250ms (off for 750ms) for 25% power, and so on.</p>
<p>Because the Thyristor would only be switching at zero crossing, it would create less heat and transients, be more accurate in controlling power and would be much cheaper than a Crydom&nbsp;(&pound;1.73p for a 16A&nbsp;isolated Triac, &pound;0.99p for a Triac&nbsp;opto-isolator - Ebay).</p>
<p>What do you think?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4055"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Thu, 26/04/2012 - 21:36.</div>
    <div class="content">
     <p>Trouble with Thyristors Paul is that they can latch on. Years ago lightning hit one of our bigger substations and latched the battery charger thyristors&nbsp;full power of 230v output onto a 110v&nbsp;battery bank. The batteries were boiled dry and red hot.</p>
<p>I suggested an over volts relay on the output that switch the input off hence resetting the charger.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4057"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 26/04/2012 - 22:14.</div>
    <div class="content">
     <p>Thanks Mark, but isn&#39;t&nbsp;the worst case scenario if the Thyristor latched on, be that I used grid energy to heat the water until it reached temperature and the immersion thermostat switched it off?&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4104"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Sun, 29/04/2012 - 20:27.</div>
    <div class="content">
     <p>Well the thermostat switching off is ok but that won&#39;t kill the supply. The thyristor would be still switched on to full conductance and still apply full power to the immersion heater until the supply to the thyristor is cut, as in reset.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4107"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 29/04/2012 - 22:45.</div>
    <div class="content">
     <p>The difference between the immersion heater with the thermostat and the battery charger is the thermostat will break the circuit, then so long as the current falls to zero, there&#39;s no way the thyristor will latch. Presumably current was maintained in the battery charger and that is why the thyristor didn&#39;t turn off.</p>
<p>I&#39;m trying to remember what was done for the very early phase controlled&nbsp; thyristor d.c. drives. Because thyristors were so expensive, a diode rectifier bridge was used with the (only one!) thyristor in the d.c. side, so it was particularly difficult to turn it off because the current fell below the holding current for only a very brief period. Some research into early thyristor application notes might provide the answer.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4116"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Mon, 30/04/2012 - 11:14.</div>
    <div class="content">
     <p>Paul, I&#39;m currently doing exactly this, although using a zero crossing SSR just to save me messing to much with mains electric too much.&nbsp; Zero crossing SSR&#39;s are very cheap and easy to use.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4118"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/885.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="logic&#039;s picture" title="logic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/885.html" title="View user profile.">logic</a> on Mon, 30/04/2012 - 11:25.</div>
    <div class="content">
     <p>Stuart</p>
<p>Would you mind telling us what&nbsp;zero cross SSR&nbsp;you&nbsp;ended up getting?&nbsp; Also&nbsp;how you are finding it with regards to&nbsp;not buying power&nbsp;etc.?</p>
<p>I went&nbsp;for the proportional&nbsp;control but I&#39;m finding&nbsp;it quite noisy, even with&nbsp;filtering.&nbsp;&nbsp;At about 40 - 60% I can even hear &#39;slight&#39;&nbsp;buzzing&nbsp;in my meter&nbsp;cupboard which is located in a different room.&nbsp;&nbsp;Without the filter&nbsp;it was bad.&nbsp;&nbsp;If the zero&nbsp;cross SSR setup&nbsp;works out well I may consider&nbsp;changing to this.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4119"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 30/04/2012 - 11:39.</div>
    <div class="content">
     <p>Stuart, can you post your circuit &amp; sketch please?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4123"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Mon, 30/04/2012 - 12:16.</div>
    <div class="content">
     <p>Yes I will post it all, its not finished yet, still in the development stages, last night finished wiring up the 240v side to a mains power strip to begin testing !</p>
<p>I&#39;m going to try randomly switching on the SSR using PWM - completely ignoring the zero crossing from my code/timing. Obviously I might switch the SSR on and off before its actually fired, but I&#39;m going to wait and see what happens.</p>
<p>This is sort of burst control without using a random fire SSR.</p>
<p>The difference I&#39;m going to try though is using a current clamp/transformer on the output side to actually measure the power I&#39;m putting into the load so I can increase/decrease the PWM timing to balance the load as needed.&nbsp; Additionally I can also use this to measure the actual kWh electric delivered to the water heater.</p>
<p>I doubt this method is going to give a perfect balance of power delivered to the load (hot water heater) but time will tell !</p>
<p>&nbsp;</p>
<p>I&#39;m going down this route as nobody else appears to have done it this way (there may be a good reason!!), and additionally if people want to copy this solution, I&#39;d like to keep the 240v mains electrics to a minimum.&nbsp; This current method only uses 240v on the SSR, everything else is low voltage DC.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4127"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 30/04/2012 - 13:00.</div>
    <div class="content">
     <blockquote><p>&quot;(there may be a good reason!!)&quot;</p>
</blockquote>
<p>That reason might be flicker (small voltage fluctuations on the supply). It is certainly something to be aware of.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4134"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Mon, 30/04/2012 - 21:37.</div>
    <div class="content">
     <p>Driving a 35W light bulb using a standard zero crossing relay (using PWM) and a CT loop (wired up as per emonTx)</p>
<p>Seeing as I&#39;m totally ignoring the fact of working out when zero crossing actually is, the table below shows the results...</p>
<p>Its surprisingly better than I expected, it won&#39;t be linear because I&#39;m ignoring the zero cross point, so sometimes you may step up the PWM and the power output actually goes down!&nbsp; This is why I wanted to use the CT loop so I can create a feedback loop to correct as needed.</p>
<p>I&#39;m stepping the PWM up 32 points at a time and then taking 20 readings off the CT and giving an average output - removing the zero power bias of 5W as per below..</p>
<p>You can see when I stepped up from 544 to 576, the power actually went down - I believe this to be purely due to timing issues.</p>
<pre>
Measuring max power=35W  Measuring zero power=5W
<span style="font-size:9px;">PWM value=0                          Power=0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0; 0;  =  0.00W (0.00%)
PWM value=32     Power=12; 12; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11; 11;  = 11.10W (31.71%)
PWM value=64     Power=11; 13; 14; 14; 14; 14; 14; 15; 14; 14; 14; 14; 14; 14; 14; 14; 14; 15; 14; 15;  = 13.95W (39.86%)
PWM value=96       Power=15; 15; 14; 12; 12; 12; 12; 11; 11; 11; 11; 11; 11; 1; 1; 12; 11; 11; 11; 11;  = 10.80W (30.86%)
PWM value=128    Power=12; 13; 13; 14; 14; 14; 14; 14; 14; 14; 14; 14; 14; 13; 13; 13; 13; 13; 11; 11;  = 13.25W (37.86%)
PWM value=160    Power=11; 10; 10; 10; 10; 10; 10; 10; 13; 15; 15; 16; 17; 17; 17; 18; 17; 17; 17; 17;  = 13.85W (39.57%)
PWM value=192    Power=18; 18; 18; 18; 18; 17; 17; 17; 16; 16; 16; 16; 15; 14; 14; 14; 14; 14; 14; 14;  = 15.90W (45.43%)
PWM value=224    Power=14; 14; 14; 14; 14; 14; 14; 14; 19; 20; 20; 20; 20; 20; 20; 20; 20; 18; 18; 18;  = 17.25W (49.29%)
PWM value=256    Power=21; 21; 21; 19; 18; 18; 17; 16; 16; 16; 15; 14; 14; 14; 14; 14; 14; 14; 14; 14;  = 16.20W (46.29%)
PWM value=288    Power=16; 17; 18; 18; 19; 19; 20; 20; 20; 20; 21; 21; 21; 21; 21; 21; 21; 21; 21; 21;  = 19.85W (56.71%)
PWM value=320    Power=21; 21; 20; 20; 20; 20; 20; 19; 19; 18; 18; 18; 17; 17; 17; 17; 17; 19; 19; 19;  = 18.80W (53.71%)
PWM value=352    Power=20; 20; 20; 20; 20; 21; 21; 22; 22; 20; 20; 20; 21; 21; 21; 21; 21; 21; 21; 21;  = 20.70W (59.14%)
PWM value=384    Power=21; 21; 21; 21; 21; 21; 21; 21; 20; 20; 20; 20; 20; 19; 19; 19; 19; 19; 18; 18;  = 19.95W (57.00%)
PWM value=416    Power=18; 18; 18; 18; 18; 18; 18; 19; 19; 19; 19; 19; 20; 21; 21; 21; 21; 23; 24; 24;  = 19.80W (56.57%)
PWM value=448    Power=25; 25; 25; 25; 25; 24; 23; 23; 23; 23; 23; 23; 22; 22; 22; 22; 22; 22; 21; 21;  = 23.05W (65.86%)
PWM value=480    Power=21; 22; 21; 21; 21; 21; 21; 21; 21; 21; 20; 21; 20; 21; 21; 22; 22; 22; 22; 23;  = 21.25W (60.71%)
PWM value=512    Power=23; 23; 23; 24; 24; 24; 24; 24; 24; 24; 26; 26; 26; 26; 26; 26; 26; 25; 25; 25;  = 24.70W (70.57%)
PWM value=544    Power=25; 25; 24; 25; 24; 24; 24; 23; 23; 23; 23; 23; 23; 23; 23; 22; 22; 22; 22; 23;  = 23.30W (66.57%)
PWM value=576    Power=23; 23; 22; 23; 23; 23; 22; 22; 22; 22; 22; 22; 22; 22; 22; 22; 23; 21; 21; 22;  = 22.20W (63.43%)
PWM value=608    Power=24; 24; 23; 23; 25; 26; 26; 26; 26; 26; 26; 26; 26; 26; 26; 26; 27; 27; 27; 27;  = 25.65W (73.29%)
PWM value=640    Power=27; 27; 26; 27; 26; 26; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27;  = 26.85W (76.71%)
PWM value=672    Power=26; 27; 26; 26; 26; 26; 26; 24; 23; 23; 23; 23; 23; 23; 23; 23; 23; 23; 22; 22;  = 24.05W (68.71%)
PWM value=704    Power=25; 25; 25; 25; 25; 25; 25; 26; 25; 25; 26; 26; 26; 26; 26; 26; 26; 26; 26; 26;  = 25.55W (73.00%)
PWM value=736    Power=26; 26; 28; 28; 28; 28; 28; 28; 27; 27; 28; 28; 28; 28; 28; 28; 27; 27; 27; 27;  = 27.50W (78.57%)
PWM value=768    Power=27; 27; 28; 27; 27; 28; 27; 27; 27; 27; 29; 29; 29; 29; 29; 29; 29; 29; 29; 29;  = 28.10W (80.29%)
PWM value=800    Power=28; 28; 28; 28; 28; 28; 28; 28; 28; 28; 28; 28; 28; 25; 25; 25; 25; 25; 26; 27;  = 27.10W (77.43%)
PWM value=832    Power=27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27; 27;  = 27.00W (77.14%)
PWM value=864    Power=27; 29; 29; 29; 29; 29; 29; 28; 29; 29; 29; 29; 29; 29; 29; 28; 28; 28; 28; 28;  = 28.60W (81.71%)
PWM value=896    Power=29; 28; 28; 28; 28; 28; 28; 29; 29; 30; 29; 30; 30; 30; 30; 29; 30; 30; 30; 29;  = 29.10W (83.14%)
PWM value=928    Power=29; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 29; 29; 30; 30; 30; 31; 31; 31;  = 30.00W (85.71%)
PWM value=960    Power=31; 31; 31; 31; 31; 30; 29; 29; 29; 30; 29; 29; 29; 29; 29; 29; 29; 29; 29; 29;  = 29.60W (84.57%)
PWM value=992    Power=29; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30; 30;  = 29.95W (85.57%)</span></pre><p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4135"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 30/04/2012 - 22:19.</div>
    <div class="content">
     <p>What &#39;zero crossing relay&#39; are you using, and how are you triggering it?<br />
	The PWM signal is about 490Hz, which equates to a cycle roughly every 2mS, I didn&#39;t think a Thyristor&nbsp;could recover in that short time, if fed directly via the PWM&nbsp;frequency without a DC smoothing interface &nbsp;...or am I misunderstanding your idea?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4137"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Tue, 01/05/2012 - 10:01.</div>
    <div class="content">
     <p>I&#39;m using a very cheap zero cross SSR relay off ebay, cost less than &pound;7.</p>
<p>The PWM signal is too fast at the moment, I didn&#39;t worry too much last night on the timing of it, just a proof of concept really.</p>
<p>I&#39;ll try again tonight with a slower freqency and also a higher load - good thing I don&#39;t have epilepsy as my flashing table lamp was going some last night!</p>
<p>It seems that I&#39;m short of resistive loads to try - got a 1500W wallpaper steam stripper I&#39;ll try tonight !!</p>
<p>I&#39;ve not looked into any thyristor recovery times or DC smoothing, just fired the SSR directly off a arduino PWM pin @ 5v.</p>
<p>I assume that the maximum frequency is twice the mains frequency, i.e. 100Hz as the zero cross happens twice per 50hz AC cycle ?</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Anyone know of a cheap 13-16amp AC current transformer/sensor instead of using the 100A unit I&#39;m using now ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4143"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/885.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="logic&#039;s picture" title="logic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/885.html" title="View user profile.">logic</a> on Tue, 01/05/2012 - 11:52.</div>
    <div class="content">
     <p>Stuart</p>
<p>For&nbsp;testing my SSR&nbsp;setup&nbsp;I&nbsp;rigged up a 240V 13A&nbsp;plug &amp; socket, then&nbsp;heated&nbsp;my 3kW kettle several times - mimicking&nbsp;my immersion heater load.&nbsp; I&nbsp;was shocked at how quickly it boiled even at small&nbsp;power being applied.&nbsp; I&nbsp;had a 60W lamp in parallel so&nbsp;I could get a visual indication of what was happening.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4145"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Tue, 01/05/2012 - 12:36.</div>
    <div class="content">
     <p>Yes I&#39;ll try that, only so much water you can boil though, better get the tea out !!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4154"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 01/05/2012 - 22:20.</div>
    <div class="content">
     <p>I&#39;m using this 30A current clamp for &pound;6.99.&nbsp;</p>
<p><a href="http://www.coolcomponents.co.uk/catalog/invasive-current-sensor-p-677.html">http://www.coolcomponents.co.uk/catalog/invasive-current-sensor-p-677.html</a></p>
<p>Seems to be working nicely</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4160"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Wed, 02/05/2012 - 09:11.</div>
    <div class="content">
     <p>Okay, last night I wired up my SSR to the kettle, it turns out I have a 3.3Kw kettle.</p>
<p>I tried several attempts at switching the SSR at lower frequency ranges from 10Hz to 250Hz, generally lower ranges worked better.</p>
<p>I found:</p>
<p>1. At very low frequency (10-20hz) the SSR &quot;skips&quot; out of sync with the mains causing a long period of &quot;off&quot; time, so you see several pulses and then nothing for a second or two (because the SSR is switched on/off before its zero cross on the AC)</p>
<p>2. Because I&#39;m deliberately not looking for a zero cross, the power measurements vary by around 10-20% so it would be quite difficult to keep in a sensible range</p>
<p>3. I found it difficult&nbsp; to drive the SSR to operate at less than 300W power output through the PWM</p>
<p>&nbsp;</p>
<p>What this means is that the method I&#39;m currently using does work okay, but I would have to give a large margin between the requested power output and what is actually asked for, and additionally, this method would probably be poor for low power requests.</p>
<p>For instance, if I&#39;m generating 1000W excess solar, I could probably only request 600-700W through the SSR to keep it reliably under this 1000W limit without the risk of an import occuring, because the measured values occasionally (twice per minute for instance) report much higher (900-1200W for this example).</p>
<p>I&#39;m going to try a frequency modulation tonight rather than PWM and see how that favours, additionally I proved that I can measure using the CT clamp when the SSR switches on (hence crosses AC zero) so that may aid timing.</p>
<p>I successfully put a fairly consistant 700W into the kettle for approx 30 minutes and made it boil !</p>
<p>Also found out that I probably need to include the heat sink when pushing 3kW thorugh the SSR (its a 25A model) as it got fairly warm (still cool enough to touch/pick up) after 30 minutes or so.</p>
<p>&nbsp;</p>
<p>Good fun so far though !</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4166"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 02/05/2012 - 15:05.</div>
    <div class="content">
     <p>Modulating the switching frequency sounds an excellent idea to me Stuart.&nbsp; A 3kW load could be left on for, say, half a second, and then turned off for as long as is necessary to restore the equilibrium.&nbsp; This approach may also improve the resolution at low levels of surplus power.&nbsp;</p>
<p>I&#39;m only intending to measure power at the supply meter.&nbsp; By that means, with suitable damping, the control system should be able to home-in on the best value.&nbsp; In stable conditions, edge effects in one control cycle will hopefully be compensated for in the next one without straying outside the &#39;no charge&#39; zone.&nbsp; It feels rather like riding a bicycle along a straight line.&nbsp; There&#39;s always a bit of wobble from side to side, but as long as you stay on the white bit the job&#39;s a good&#39;n!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4167"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 02/05/2012 - 15:56.</div>
    <div class="content">
     <p><em>A 3kW load could be left on for, say, half a second, and then turned off for as long as is necessary to restore the equilibrium.</em></p>
<p>On second thoughts, this approach could lead to horrible oscillations.&nbsp; Each loop of the control logic needs to be able to influence the system&#39;s performance during the next monitoring cycle.&nbsp; It may be therefore be best to keep the switching and monitor cycles in alignment.&nbsp;&nbsp; One or two Hertz may be about right.</p>
<p>In its Mode 2, the Carlo Gavazzi controller <a href="http://uk.rs-online.com/web/p/solid-state-relays/7082080/?searchTerm=708-2080&amp;relevancy-data=636F3D3126696E3D4931384E525353746F636B4E756D6265724D504E266C753D656E266D6D3D6D61746368616C6C26706D3D5E5C647B337D5B5C732D2F255C2E5D5C647B332C347D2426706F3D313426736E3D592673743D52535F53544F434B5F4E554D424552267573743D3730382D323038302677633D4E4F4E4526">RS:708-2080</a> can distribute whole a.c. cycles during its 64-cycle control window.&nbsp; They&#39;re not all bunched up at the beginning.&nbsp; By this means, I feel sure that the net power flow will be better contained within the 1Wh energy window of the supply meter.&nbsp;&nbsp; But at &pound;61 + VAT, this beast is more pricey than a triac or SSR.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4168"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 02/05/2012 - 17:50.</div>
    <div class="content">
     <p>I have further explored using an Arduino&nbsp;to control the burst firing rate of a Triac&nbsp;as I described above on 26th&nbsp;April.</p>
<p>I&#39;ve now bought a opto-isolator &amp; 16A Triac, 3 resistors &amp; a capacitor from Maplins, total price less than &pound;5&nbsp;and made version 1 which is very rough &amp; ready!</p>
<p>The test software is here&nbsp;<a href="http://pastebin.com/drFQYFzU">http://pastebin.com/drFQYFzU</a>&nbsp; and a video of it is&nbsp;<a href="http://www.youtube.com/watch?v=kkgqzkbbCns">http://www.youtube.com/watch?v=kkgqzkbbCns</a></p>
<p>As can be seen, I am changing a variable in the Arduino via the serial UART, to change the on/off relationship as a percentage between 10% &amp; 90%, over a 1 second cycle, and the Triac outputs accordingly. My thoughts are that instead of manually changing the variable, it could easily be done via the energy monitor calculations.<br />
	The next stage (when I get some time) is to test it with a&nbsp;3kW&nbsp;load, and see what impact it has on the&nbsp;leccy&nbsp;meter!</p>
<p>Calypso_rae, in my case it should not oscillate as I wired a separate circuit to feed the immersion heater which does not register via the energy monitor.</p>
<p>Any thoughts would be appreciated.</p>
<p>&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4169"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 02/05/2012 - 19:14.</div>
    <div class="content">
     <p>For the current clamp that I mentioned recently, the datasheet shows that there are two versions: with and without burden resistors.&nbsp; Apart from the 100A variant, they are all shown as having internal burden resistors so it seemed likely that the one I&#39;m using does too.&nbsp; But just to be check, I decided to remove the 39R burden to see what happens ...</p>
<p>My background readings immediately shot to 15900W.&nbsp; Thankfully, when I replaced said resistor, they returned to 20W as before.&nbsp; Cheers, Paul, for the reminder about fitting protection diodes to the analogue input!</p>
<p>My clamp is labelled SCT-103-030&nbsp;&nbsp; 1202-1003Q&nbsp; <a href="http://www.yhdc.com/" title="www.yhdc.com">www.yhdc.com</a></p>
<p>According to the datasheet, this is the 30A version which contains an integral burden resistor.&nbsp; My findings, however, would suggest otherwise.&nbsp; The Beijing website makes no sense to me.&nbsp; Anyway, the component is providing me with good readings, and so far appears to be idiot proof ...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4172"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Mr. Sharkey&#039;s picture" title="Mr. Sharkey&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Mr. Sharkey (not verified) on Wed, 02/05/2012 - 19:56.</div>
    <div class="content">
     <p>Beware of unloading a current transformer by removing the burden resistor. ~Very~ high voltages can be induced, enough to damage attached equipment and cause electric shock hazards.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4174"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 02/05/2012 - 21:45.</div>
    <div class="content">
     <p><em>Beware of unloading a current transformer by removing the burden resistor.</em></p>
<p>But if the datasheet says that a burden resistor is built in, you would not expect to have to provide one in the first place!</p>
<p>The secondary coil of the clamp that I&#39;m using has a dc resistance of around 38 ohms.&nbsp; This is presumably because it contains a long length of very thin wire.&nbsp; Equivalent measurements for similar components may shed more light on this topic ...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4175"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 02/05/2012 - 23:19.</div>
    <div class="content">
     <p><em>Calypso_rae, in my case it should not oscillate as I wired a separate circuit to feed the immersion heater which does not register via the energy monitor.</em></p>
<p>Sorry Paul, I don&#39;t get the point you&#39;re making.&nbsp; If a 3kW resistive load is to consume only 1kW, it needs to be supplied with power on a 1:2 duty cycle (or maybe 1:3 to give some margin for safety).&nbsp; Within the limitations already discussed, energy can then be bounced back and forth between the grid and the load via the supply meter without the user being charged.&nbsp; To provide some feedback for the control mechanism, this &#39;lumpy&#39; a.c. flow will need to be measured somewhere.&nbsp; To avoid the system oscillating, these measurements need to give stable results.</p>
<p>Using the conventional emon setup as I understand it to be, a.c. current is normally measured at two points.&nbsp; While a pulse-fed immersion is active, one of these measurements will always be &#39;clean&#39; and one will be &#39;lumpy&#39;.&nbsp; Which one is which depends on where the water-heater is connected.&nbsp; In most configurations, I would expect the PV generation measurement to be clean and the consumption measurement lumpy.&nbsp; In your case, your &#39;all other household consumption&#39; will be stable but your PV measurement will be lumpy because of the current that&#39;s bouncing back and forth between your immersion and the grid.&nbsp; Another complication of your setup is that current can flow both ways through your PV measurement point.&nbsp; In most cases, current can only flow in one direction at each point of measurement, so there&#39;s no need to measure voltage.</p>
<p>Because we measure instantaneous power many times each a.c. cycle, lumpy flow <em>per se</em> is not a problem.&nbsp; Getting the timing right, however, will be all important.&nbsp; That&#39;s why I think that power measurements should be taken over the same duration as the on/off control window for the load, probably around 1 or 2 Hz.&nbsp;</p>
<p>If the immersion&#39;s power goes on for 200mS and then off for 400mS, it can be reliably measured as having a 33% duty cycle regardless of where the measurement is started.&nbsp; But only if the measurement window is 600mS, or multiples thereof.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4176"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 03/05/2012 - 00:16.</div>
    <div class="content">
     <p>YHDC Internal Burden:</p>
<p>It is fairly easy to non-destructively dismantle the Yhdc CT to verify what is inside. Open up the core, and each side of the ferrite core (the limb away from the hinge) are two retaining lugs that hold the bobbin down. Push the core in towards the hinge, and with a bit of a wiggle whilst pushing up on the cable, and the core, bobbin and a small pcb should appear. If that doesn&#39;t work, gently prise the retaining lugs away with a suitable tool (I used fine snipe-nosed pliers to get both whilst reaching over the core).</p>
<p>Can you let me know what you find?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4181"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 03/05/2012 - 10:16.</div>
    <div class="content">
     <p>Calypso_rae, let me run over the basic layout;<br />
	The emon monitor system has 2 monitoring points, the first is the <strong>Solar Feed</strong> which constantly &nbsp;measures the amount of energy developed&nbsp;via the solar array. The second is the <strong>Home Feed</strong> which constantly measures the amount of energy being consumed within the home.<br />
	The immersion heater is fed via a separate&nbsp;feed from the meter, so any consumption made by the immersion heater is recorded by the supply meter, <u>but not</u> by the emon monitor.</p>
<p>The unused energy is calculated by subtracting <strong>Home Energy</strong> from <strong>Solar Feed</strong>, and this figure would be used to determine the burst ratio.</p>
<p>I do not see the need to measure the power diverted to the immersion heater as it would not influence the process described above. For example, if I have 1.5kW unused power and the burst ratio is set at 50% over a 1 second cycle (500mS&nbsp;on &amp; 500mS off), then I&#39;ve achieved my aims. If then someone switches on a 500W household appliance, emon will record 1kW spare, and the burst ratio would be reduced to 33%.<br />
	If I wanted to know how much power was diverted to the immersion heater, it can easily be recorded via the software, as we know the full power consumption of the element (3kW), and we also know the periods for which the element is activated. So a little software calculation can determine this information, possibly with more accuracy than using a current transformer monitor. If you view my Pachube page -&nbsp;<a href="https://pachube.com/feeds/34843">https://pachube.com/feeds/34843</a>&nbsp;and look at &#39;Heater Power&#39; &amp; &#39;Accum Heater Power&#39;, you will see that code doing the calculations for me, it&#39;s simply adding up the &#39;on&#39; time and a little maths to determine the result.</p>
<p>The setting of the burst ratio is always going to be about 2 seconds behind the emon measurements, because emon needs time to do the calculations, but I think that I can accept that delay.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4182"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 03/05/2012 - 11:15.</div>
    <div class="content">
     <p><em>Can you let me know what you find?</em></p>
<p>I&#39;ve bought two of these clamps but so far only used one.&nbsp; They both look the same inside, each having two resistors in series across the coil.&nbsp; These appear to be 62R and 10R.&nbsp;</p>
<p>The soldering looks a bit grim.&nbsp; I&#39;m tempted to remove these components altogether and rely on a burden of my own that I can trust (including protection diodes!)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4183"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 03/05/2012 - 11:36.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>As neither of us seems able to follow the other&#39;s argument, hopefully someone else will be able to shed more light on this topic.&nbsp; Maybe we&#39;re both right but I can&#39;t see how.&nbsp;</p>
<p>On a more positive note, I regard your flashing light video as superb.&nbsp; It has finally convinced me that, without resorting to expensive controllers, an Arduino really can control a 240V load, with zero-crossing sensitivity.&nbsp; I feel sure that this is the best way forward in the long-term.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4184"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 03/05/2012 - 11:40.</div>
    <div class="content">
     <p>Nice work Paul, I&#39;ve spent the last two evenings playing with the SSR and have reached similar results to you.</p>
<p>I&#39;ve gone down the route of using a arduino PWM timer/interrupt instead.</p>
<p>&nbsp;</p>
<p>Notice that you&#39;re using a 1second cycle time, from various sources, the commercial burst first SSR cycle times seem to use a shorter cycle, 250ms on a lot of them.</p>
<p>I wonder if this avoid&#39;s the electric meter registering the power ?</p>
<p>&nbsp;</p>
<p>I wanted to measure the current in the circuit as well but have struggled to do this and also fire the SSR at the same time on the arduino.</p>
<p>&nbsp;</p>
<p>Does anyone know of a way to reduce the hardware PWM timers to a lower freqency, the lowest I can get at the moment is about 150Hz - really need 3 or 4Hz !</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4186"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 03/05/2012 - 12:09.</div>
    <div class="content">
     <p>Paul, forgot to mention, currently we are both firing SSR/Triacs using a &quot;fixed&quot; time window (1 second for instance)</p>
<p>so for 20% power, the SSR is switched on for 200ms and off for 800ms.</p>
<p>I&#39;m wondering if the ON pulses should be spaced across the 1 second, period, so its on for 50ms, off for 200ms, on for 50ms off for 200ms and so on over the 1 second window - wonder if this works better with the electric meters?</p>
<p>Only problem I can see (for me using an SSR) is switching at this higher frequency is the time drift over the AC cycle so you may switch the SSR/Triac on and then off, but in reality the zero crossing has not happened.</p>
<p>Just a few thoughts anyway!!</p>
<p>I found this fairly useful description on page 10 onwards...</p>
<p><a href="http://www.scribd.com/nealmalm/d/51105918-SCR-power-control-Watlow" title="http://www.scribd.com/nealmalm/d/51105918-SCR-power-control-Watlow">http://www.scribd.com/nealmalm/d/51105918-SCR-power-control-Watlow</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4188"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 03/05/2012 - 15:10.</div>
    <div class="content">
     <p><em>Does anyone know of a way to reduce the hardware PWM timers to a lower freqency, the lowest I can get at the moment is about 150Hz - really need 3 or 4Hz !</em></p>
<p>Rather than using the built-in PWM feature, could you add some code in loop() which calls millis() and then decides whether the output pin should be hi or lo?&nbsp; This would slow down the measurement frequency slightly but would greatly improve the flexibility of the control scheme.</p>
<p><em>I&#39;m wondering if the ON pulses should be spaced across the 1 second, period, so its on for 50ms, off for 200ms, on for 50ms off for 200ms and so on over the 1 second window - wonder if this works better with the electric meters?</em></p>
<p>Yes, I&#39;m sure that would be a great improvement.&nbsp; Distributing the power pulses evenly throughout the time window should greatly improve one&#39;s chances of not getting caught out by the watchful meter.&nbsp; A longer measurement window could then be employed which would improve the system&#39;s resolution.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4192"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 03/05/2012 - 18:49.</div>
    <div class="content">
     <p>The only reason I was trying to stick to the hardware PWM was purely to allow me to then use the CT sensor measuring code to monitor the energy put into the hot water, but I suppose I don&#39;t really need to know that as I&#39;m putting power into a known load size.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4193"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 03/05/2012 - 19:03.</div>
    <div class="content">
     <p style="text-align: left;"><em>&#39;Rather than using the built-in PWM feature, could you add some code in loop() which calls millis() and then decides whether the output pin should be hi or lo? &nbsp;This would slow down the measurement frequency slightly but would greatly improve the flexibility of the control scheme.&#39;</em></p>
<p style="text-align: left;">...That&#39;s exactly what I am doing, I posted a quick draft of the code in yesterday&#39;s post.<br />
	I just think that using PWM introduces needless complications such as lowering the PWM&nbsp;speed means less accuracy, whilst increasing it would cause problem with the Triac.</p>
<p style="text-align: left;">I have considered splitting up the bursts into smaller bundles, but for reasons of accuracy would prefer to keep it as a big chunk in the 1 second cycle. In your example you have quoted &nbsp;being on for 50ms, which only gives a &#39;mains&#39; burst of 2.5 cycles (at 50Hz), now are you able to energize and switch off the Triac&nbsp;after exactly 2.5 cycles? &nbsp;Whilst if that burst was say 200ms (20 cycles) there is a better opportunity to absorb any small errors.</p>
<p style="text-align: left;"><em><span style="font-family: arial, sans-serif; font-size: 13px; background-color: rgba(255, 255, 255, 0.917969); ">&#39;...but I suppose I don&#39;t really need to know that as I&#39;m putting&nbsp;</span><span style="font-family: arial, sans-serif; font-size: 13px; background-color: rgba(255, 255, 255, 0.917969); ">power into a known load size.&#39;</span></em></p>
<p style="text-align: left;">My thoughts too!</p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;">Paul</p>
<p style="text-align: left;">&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4197"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 03/05/2012 - 20:28.</div>
    <div class="content">
     <p>Agreed, the problem with smaller bundles is the chance to miss a cycle completely, is it worth building a zero cross detector circuit??</p>
<p>Any luck with the electric meter testing?&nbsp; Can we get away with a 1 second loop?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4201"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 03/05/2012 - 21:10.</div>
    <div class="content">
     <p>I&#39;m using a MOC3020 opto-isolator which isn&#39;t zero-cross, but I know that other opto-isolators are (MOC3041), and provide an easy route to zero-cross switching a Triac.</p>
<p>Why do you think it&#39;s important to zero-cross? &nbsp;I don&#39;t have a lot of knowledge of Triacs, but my thinking is that it&#39;s a non-resistive load so there will be few harmonics, it will switch on demand - not be delayed for a zero-cross, and heat shouldn&#39;t be a problem as it&#39;s only switching at 1Hz.</p>
<p>I haven&#39;t had chance to do a proper test yet, it may be some days before I get some time.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4203"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 03/05/2012 - 22:09.</div>
    <div class="content">
     <p>The zero cross was purely to avoid introducing noise into the AC mains, one of the benefits of the burst controllers is that it reduces (or removes entirely) the need for AC filters.</p>
<p>This is quite a clear read... <a href="http://www.avatarinstruments.com/scr/scr.asp" title="http://www.avatarinstruments.com/scr/scr.asp">http://www.avatarinstruments.com/scr/scr.asp</a></p>
<blockquote><address>
		With a variable time base, the optimum number of cycles turned on/off is achieved. This method produces less RFI line noise than phase angle fired SCRs. Power factor is 100%, while harmonic distortion is limited.</address>
</blockquote>
<p>I&#39;ve had a go at writing my own variable time base code, published on Github below, I could do with a scope to see how it looks, but so far its promising!</p>
<p><a href="https://github.com/stuartpittaway/VariableTimeBaseSSR" title="https://github.com/stuartpittaway/VariableTimeBaseSSR">https://github.com/stuartpittaway/VariableTimeBaseSSR</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4206"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 04/05/2012 - 08:23.</div>
    <div class="content">
     <p>Stuart, a zero-cross opto isolator may be the answer then.</p>
<p>I&#39;m impressed with your coding skills, you are obviously well placed to develop the idea to a high standard.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4209"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Fri, 04/05/2012 - 13:22.</div>
    <div class="content">
     <p>I&#39;m not an electronics genius though, so a collaborative effort is probably best !!</p>
<p>&nbsp;</p>
<p>I&#39;ve got a better table of SSR &quot;on/off&quot; values to use now, amazing what you can find on the internet !</p>
<p>Any chance you could scribble a zero cross detector circuit diagram ?&nbsp; Ideally one I can get the bits from Maplins from?</p>
<p>I&#39;d like to use this to trigger an interrupt, and then use the code to turn the triac on/off as needed - so this being a &quot;random&nbsp; fire&quot; one would be great (sounds like what you have already built)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4210"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Fri, 04/05/2012 - 13:29.</div>
    <div class="content">
     <p>Switching the power on/off at zero-crossing points means that the selected amount of power can be accurately delivered to the load.&nbsp; If the control logic decides that 83.5% of 3kW is available, it would be nice if precisely 83.5 cycles out of the next 100 could be &#39;on&#39;.&nbsp;</p>
<p>Rather than being all bunched together, if these cycles could be distributed throughout the delivery period, that would be very beneficial.&nbsp; This would allow a longer measurement window to be used, with increased resolution.&nbsp; Once I have a working Mk 1 version in place, I&#39;m keen to look into how this can be achieved.</p>
<p>Robin</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4212"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Fri, 04/05/2012 - 14:19.</div>
    <div class="content">
     <p>calypso, this is exactly what my code mentioned above does (hosted on github), just need to sort out the triggering of the zero cross.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4217"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Fri, 04/05/2012 - 20:12.</div>
    <div class="content">
     <pre>
<span class="c1">//Can we create this table dynamically ??</span></pre><p><span class="c1">My preference is for the Arduino to work out dynamically which individual half-cycles should be on/off.&nbsp; Say we have a time window of 1 second, that&#39;s 100 half-cycles.&nbsp; At the end of measurement cycle N, a &#39;power required&#39; value will be gained, e.g. 83%.&nbsp; During measurement cycle N+1, the logic would distribute half-cycles so as to continuously aim for this value.</span></p>
<p><span class="c1">The first half-cycle may always be &#39;on&#39; in which case the rolling average starts at 100%.&nbsp; 100% is bigger than 83% so the next one would be off, this bringing the average down to 50%.&nbsp; 50% is less than 83%, so the next one will be on thereby taking the rolling average to 75%; and so on.&nbsp;</span> Using a zero-crossing trigger, the fate of the &#39;next&#39; half-cycle can be determined and pre-set at any point during the previous one.&nbsp; The first (or second?) change of voltage polarity would do fine.&nbsp; This timing is not critical because the zero-crossing detection is done within the opto-isolator.&nbsp; With an arrangement like this, I don&#39;t see any need for interrupts.</p>
<p>By distributing the available power in this way, the measurement window can be greatly extended - for improved resolution - without straying outside the charge-free zone.</p>
<p>How does this sound?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4238"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Sat, 05/05/2012 - 20:37.</div>
    <div class="content">
     <p>I agree.</p>
<p>Although to save CPU power, I&#39;ve auto created the &quot;perfect&quot; distributed bit pattern for 0-100% power usage over 100 cycles. &nbsp;In theory, we could extend this to 200 cycles to give us 200 step resolution (coping with 0.5% increments or 15W against a 3000W heater).</p>
<p>The table takes around 500 bytes of program memory, so easily fits into the Ardunio.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4239"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 05/05/2012 - 21:51.</div>
    <div class="content">
     <p>As the eMon sketch already measures current and voltage many times per mains cycle, would it actually matter if the measurement frequency was slightly reduced?&nbsp; Does anyone know how much delay would result for each additional statement in the main part of loop()?</p>
<p>Because my suggested approach does not rely on a hard-coded table, it would work without modification for any length of measurement window.&nbsp; The first half-cycle of output should only be &#39;on&#39; if the required power rating is 50% or over.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4240"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 05/05/2012 - 23:49.</div>
    <div class="content">
     <blockquote><p>&quot;Does anyone know how much delay would result for each additional statement in the main part of loop()?&quot;</p>
</blockquote>
<p>No, but you can ask it to tell you, using millis( ).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4242"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Sun, 06/05/2012 - 09:34.</div>
    <div class="content">
     <p>is this the type of circuit you are looking for, excuse my crude drawing.</p>
<p>&nbsp;</p>
<p><a href="http://imageshack.us/photo/my-images/593/optoisolatorzerocross.jpg/" title="http://imageshack.us/photo/my-images/593/optoisolatorzerocross.jpg/">http://imageshack.us/photo/my-images/593/optoisolatorzerocross.jpg/</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4254"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 06/05/2012 - 21:01.</div>
    <div class="content">
     <p>Stuart, have you given any thought how this code would integrate within the existing emon code? &nbsp;For example, are there any delays in the loop from other demands, such as the emon code itself, or ethernet (if using a Nanode), which could delay or influence the accuracy of the burst cycles.</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4295"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Tue, 08/05/2012 - 08:51.</div>
    <div class="content">
     <p>Hi Paul, I&#39;ve now got a working example and code up on GITHUB.</p>
<p>I&#39;ve calculated a table of 0-100% power usage spread optimally over 100 bits (ie. 100 ac half cycles).</p>
<p>I&#39;ve built a simple opto-isolated zero crossing detector (using emon 9v AC power supply for the moment) and this is driving PIN 3 / Interrupt 1 on the CPU.</p>
<p>There is no critical code at all in the main loop of the code, all the work is done in the interrupt handler (and theres only 5 or 6 lines of code in there)</p>
<p>I&#39;ve not connected up my SSR to the circuit yet (it was getting late!) but the output on my multimeter (has a frequency counter) looks good, with output giving a rock solid frequency signal.</p>
<p>I don&#39;t have a scope to check the output timings, so if anyone has one they could use to look at this code then that would be great.</p>
<p>My only real concern at the moment, because I&#39;m still using an SSR (might have to swap to DIY triac) is will the SSR fire in the same zero cross that I&#39;m detecting or will I be too late to trigger it and its a half cycle behind/in front of me?</p>
<p>My plans with this circuit are to integrate it totally with the O.E.Monitor building blocks and add an RFM12B transmitter so this circuit will listen to the emonTx and then set its power level according to the amount of power exported.&nbsp; Addtionally I&#39;m going to then send back to emonBase what&#39;s going on and a kWh measurement for the power I&#39;m diverting, I&#39;ve also got the mains frequency if that&#39;s any use!</p>
<p>Code is here... <a href="https://github.com/stuartpittaway/VariableTimeBaseSSR" title="https://github.com/stuartpittaway/VariableTimeBaseSSR">https://github.com/stuartpittaway/VariableTimeBaseSSR</a></p>
<p>I also need to build a power supply to drive the circuit from the 9v AC I&#39;m currently feeding in.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4301"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 08/05/2012 - 12:26.</div>
    <div class="content">
     <p>I&#39;ve just taken a home-video showing different ways of varying power to a resistive load.&nbsp; I&#39;m not recommending the use of a &pound;70 AC-controller, but it does demonstrate the basic principles in a convenient way:</p>
<p><a href="http://youtu.be/FoOniINhqTc">http://youtu.be/FoOniINhqTc</a></p>
<p>How can I post a picture to this forum?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4302"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Tue, 08/05/2012 - 12:40.</div>
    <div class="content">
     <p>I think I&#39;ve got the same kettle :-)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4311"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Tue, 08/05/2012 - 20:51.</div>
    <div class="content">
     <p>Stuart, that&#39;s a really great idea and would compliment &amp; enhance the openenergymonitor modular structure perfectly.</p>
<p>The code that you&#39;ve&nbsp;written is way above my abilities, but I&#39;ve just changed the LED pin to 13 (onboard Arduino UNO LED is connected to 13) and loaded it up, but it does not appear to run as I expected. I get the following via the serial monitor;</p>
<p>&nbsp;</p>
<div>
	Set value 50%</div>
<div>
	0% (0W) 0.00Hz</div>
<div>
	0% (0W) 0.00Hz</div>
<div>
	0% (0W) 0.00Hz</div>
<div>
	0% (0W) 0.00Hz</div>
<div>
	&nbsp;</div>
<div>
	LED stays constantly lit.</div>
<div>
	&nbsp;</div>
<div>
	Paul</div>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4316"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Wed, 09/05/2012 - 07:56.</div>
    <div class="content">
     <p>It needs the zero cross trigger circuit to pin 3 (interrupt 1) for the timing pulses to be generated.</p>
<p>Additionally, I&#39;m using a nanode which I think the LED is inversed (on=off /off=on) compared to &quot;normal&quot; arduino boards.</p>
<p>I&#39;ve used this ZC circuit, but removed the R1/R2 and fed it directly from a 9V AC power supply rather than the mains.&nbsp; I also used a bridge rectifier (KBPC104) instead of D1-D4, and swapped the optoisolator for SFH618-2.&nbsp;</p>
<p>All parts were brought from Maplin, ironically the bridge rectifier was cheaper than buying 4 seperate diodes!!</p>
<p><a href="http://www.dextrel.net/diyzerocrosser.htm" title="http://www.dextrel.net/diyzerocrosser.htm">http://www.dextrel.net/diyzerocrosser.htm</a></p>
<p><img alt="" src="../../../www.dextrel.net/DIY%20PICS/ZC-schema.gif" style="width: 600px; height: 233px;" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4317"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 09/05/2012 - 08:40.</div>
    <div class="content">
     <p>Aahh, that makes sense! - for some reason I didn&#39;t think that you were using zero-cross in this version, and yes I had switched the inverse (Nanode/Uno) LED.</p>
<p>Because PIN3&nbsp;is currently unconnected, it is picking up noise and occasionally&nbsp;firing at random, but I obviously need the zero-cross circuit to run it properly.</p>
<p>Thanks Stuart</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4320"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 09/05/2012 - 11:41.</div>
    <div class="content">
     <p>My circuit can now vary power to a 3kW load on the basis of the current in a test circuit.&nbsp; Nothing new, just an assembly of standard principles.&nbsp; If anyone is interested, it can be seen at&nbsp;<a href="http://youtu.be/w0OpfWBmYz8"> http://youtu.be/w0OpfWBmYz8</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4331"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="SolarDumper&#039;s picture" title="SolarDumper&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by SolarDumper (not verified) on Thu, 10/05/2012 - 08:05.</div>
    <div class="content">
     <p>Hi All</p>
<p>You may want to check out this on Google.&nbsp;</p>
<h3 class="r" style="font-size: medium; font-weight: normal; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; display: block; overflow-x: hidden; overflow-y: hidden; text-overflow: ellipsis; white-space: nowrap; ">
	<a class="l" href="http://www.bristolwatch.com/arduino/arduino_power_control.htm" style="color: rgb(17, 34, 204); cursor: pointer; "><em style="font-weight: bold; font-style: normal; ">Using Hardware Interrupts to Control A.C. Power</em>&nbsp;with Arduino</a></h3>
<p>The whole website is very good I currently have this circuit being driven by the original OpenEnergyMonitor sketch written by Trystan&nbsp;Lea. I have replaced the 10K pot with a light dependent resistor shrink wrapped with a LED driven by a second Aruino&nbsp;running Trystan&#39;s sketch. Solar - load gives me a number to drive the LED via PWM.</p>
<p>However, my method of driving the load is to wait until I have a 150W surplus and then drive the triac at 43V (100W&nbsp;) wait until I have another spare 150W, then drive the triac at 62V (200W) in stages all the way to 3kW. In this way I am always 50W in hand driving the load up and down in 100W stages. Of course any value could be used in the sketch to suit your requirements.</p>
<p>Regards, SolarDumper</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4344"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 10/05/2012 - 10:01.</div>
    <div class="content">
     <p>Good link, think I have read that before.</p>
<p>The only difference between what I&#39;m trying to do and that site/code is to produce a better &quot;burst fire&quot; control method instead of just on for X cycles, off for Y cycles.&nbsp; This is meant to be better for the heater elements to avoid long term fatigue.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4351"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1088.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fewyatt&#039;s picture" title="fewyatt&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/1088.html" title="View user profile.">fewyatt</a> on Thu, 10/05/2012 - 10:59.</div>
    <div class="content">
     <p style="background: white; line-height: 16.8pt"><span style="font-size: 10pt; color: black; font-family: Verdana">Quote &ldquo;so for 20% power, the SSR is switched on for 200ms and off for 800ms&rdquo;</span></p>
<p style="background: white; line-height: 16.8pt"><span style="font-size: 10pt; color: black; font-family: Verdana">Interesting discussion I have just joined. I tried something like this last year. It causes the lights to flicker. Indeed the neighbours&rsquo; lights were flickering too and she blamed it on me even though she did not know I was experimenting with this. Had to give up the experiment because she is a difficult character. I have doubts it is legal to use burst fire technology unless pulsing is very fast (too fast&nbsp;to get a reasonable range of mark space ratios) or very slow (too slow to spoof the meter) so mains fluctuations are not noticed. What regulations apply? <o:p></o:p></span></p>
<p style="background: white; line-height: 16.8pt"><span style="font-size: 10pt; color: black; font-family: Verdana">Even spacing the mains&nbsp;cycles out to say <o:p></o:p></span></p>
<p style="background: white; line-height: 16.8pt"><span style="font-size: 10pt; color: black; font-family: Verdana">on on on off on on on off on on on off on on on off on on on off <o:p></o:p></span></p>
<p style="background: white; line-height: 16.8pt"><span style="font-size: 10pt; color: black; font-family: Verdana">rather than <o:p></o:p></span></p>
<p style="background: white; line-height: 16.8pt"><span style="font-size: 10pt; color: black; font-family: Verdana">on on on on on on on on on on on on on on on off off off off off<o:p></o:p></span></p>
<p style="background: white; line-height: 16.8pt"><span style="font-size: 10pt; color: black; font-family: Verdana">may not eliminate flicker because as little as one half cycle skipped can cause flicker. May work on a 100W light bulb but a 3kW heater is a lot more current.<o:p></o:p></span></p>
<p style="background: white; line-height: 16.8pt"><span style="font-size: 10pt; color: black; font-family: Verdana">Also whilst some electricity meters may ignore the alternating import and export can we be sure that all do, e.g. the wheel type meter I have?<o:p></o:p></span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4354"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 10/05/2012 - 11:38.</div>
    <div class="content">
     <p>If you read some of the earlier posts, there is vast discussion about the use of&nbsp; electric meters and how the more modern ones measure energy usage.</p>
<p>To do burst fire correctly it needs to detect zero crossing of the AC cycle and then energise the relay at that point, you will still get flicker if you were to look at the output on a light bulb/led for instance - but this is all about driving a heating source and that wont flicker!</p>
<p>Once you are triggering correctly, then you are not going to be skipping cycles.&nbsp; I&#39;m currently working on switching half cycles so using a single full 50hz cycle ie. pulses spread over 1 second interval.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4356"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1088.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fewyatt&#039;s picture" title="fewyatt&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/1088.html" title="View user profile.">fewyatt</a> on Thu, 10/05/2012 - 12:10.</div>
    <div class="content">
     <p>I get the theory for digital meters (assuming they all work in a similar way) but for wheel meters I am not so sure. Mine works on proportional control but might not on burst firing.</p>
<p>I was using zero crossing but don&rsquo;t think it actually makes any difference as far as light flickering is concerned. Light flickering is caused by the large on or off periods in the mark space ratio which makes the mains voltage fall or rise significantly for a significant time.&nbsp;Not a problem&nbsp;to making the immersion correctly work, but is to&nbsp;keeping the utility company and neighbours happy and avoiding court cases.</p>
<p>&nbsp;An expert told me that you can&rsquo;t get CE approval for burst firing. Maybe can in a factory as uses different regulations but not in domestic premises.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4357"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 10/05/2012 - 15:08.</div>
    <div class="content">
     <p>Not so sure about the CE marking, if you look at these..</p>
<p><a href="http://uk.farnell.com/controllers-burst-firing" title="http://uk.farnell.com/controllers-burst-firing">http://uk.farnell.com/controllers-burst-firing</a></p>
<p>They are all burst fire, and all CE marked.</p>
<p>&nbsp;</p>
<p>Zero crossing should reduce the amount of interference, if not then you&#39;ll need something like this:</p>
<p><a href="http://uk.farnell.com/crydom/1f25/filter-ssr-1-phase/dp/1200270" title="http://uk.farnell.com/crydom/1f25/filter-ssr-1-phase/dp/1200270">http://uk.farnell.com/crydom/1f25/filter-ssr-1-phase/dp/1200270</a></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4368"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 10/05/2012 - 20:07.</div>
    <div class="content">
     <p>I&#39;ve just boiled up a cuppa using a 3kW kettle in burst-mode with no adverse effects on Classic FM or Radio 5 Live on good old-fashioned radio.&nbsp; The kettle appears to have survived the experience, and so far the neighbours haven&#39;t complained ...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4375"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1088.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fewyatt&#039;s picture" title="fewyatt&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/1088.html" title="View user profile.">fewyatt</a> on Fri, 11/05/2012 - 12:27.</div>
    <div class="content">
     <p>EMC is a big subject but simply wiring a circuit together out of CE marked components does not always&nbsp;give you a system that meets the regs, e.g. phase angle control at 3kW on a CE marked SSR does not meet any known EMC regs, so will not be a system that can be CE marked. It takes the addition of a filter to pass EMC regs. So what does it take to get a CE marked burst fire controller to pass relevant regs that would enable a CE mark to be added to the system?</p>
<p>&nbsp;I guess it may be more to do with what the utility companies allow than EMC regs, as we are talking about sub 50Hz pulsing and not radio interference. But don&rsquo;t assume there is no RF as even an always on SSR distorts the waveform and without a simple filter may produce more than the EMC limit.</p>
<p>&nbsp;Also beware that manufactures may be claiming CE based on industrial standards that don&rsquo;t apply to domestic applications like ours. There is also the infamous CE clone mark that stands for China Export, i.e. made in China and not proven to comply to any EU standard.</p>
<p>&nbsp;Calypso, does an incandescent bulb in a normal light fitting pulse/flicker? In my case it was even in the neighbour&rsquo;s house, although not by a huge amount.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4379"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Fri, 11/05/2012 - 18:15.</div>
    <div class="content">
     <p>Hello everyone,&nbsp;</p>
<p>I&#39;ve just had a quick catchup on this thread. It&#39;s fantastic that the discussion and development is progressing. Stuart&#39;s code looks very interesting. I really like the sound of what Stuart had in mind. I would love to see a unit to control an immersion heater with an Atmega328 and RFM12B receiving data from the emonTx and posting data to the emonBase. This unit would integrate well into the current system.&nbsp;</p>
<p>Looking forward to following developments, keep up the energy, no pun intended!&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4381"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Fri, 11/05/2012 - 18:32.</div>
    <div class="content">
     <p>What about trying washing machine filters? They are rated at about 16A&nbsp;and filter the noise created by the triac controlling the drum motor. They usually&nbsp;have an earth connection which needs to be in circuit, other than that they are Live and neutral in and the same out.</p>
<p>My unit consists of a &quot;Kemo&quot; M028m 4KW power controller with the &quot;Kemo&quot; M150&nbsp;Auxiliary module:&nbsp;DC and Pulse Converter.</p>
<p><a href="http://www.kemo-electronic.de/en/Light-Sound/Effects/Modules/M028N-Power-control-110-240-V-AC-4000-VA.php">http://www.kemo-electronic.de/en/Light-Sound/Effects/Modules/M028N-Power-control-110-240-V-AC-4000-VA.php</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4398"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 12/05/2012 - 22:11.</div>
    <div class="content">
     <p>Sorry, my burst-mode powered kettle doesn&#39;t cause any lights to flicker.&nbsp; Being a pricey piece of kit, the AC controller that I&#39;m using is presumably EMC compliant.&nbsp; It is 30A rated, and I&#39;m never using more than half of this.</p>
<p>Once I start playing around with triacs and the like, things nearby may well start to be affected - but hopefully not the neighbours!&nbsp; I like the idea of switching at zero-crossings which should minimise any interference.&nbsp; One reason is that I would expect a zero-cross system to be more linear than a phase-controlled one.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4416"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Sun, 13/05/2012 - 20:16.</div>
    <div class="content">
     <p>Quite a few sites on the web that supply or make the burst controllers state that they usually don&#39;t require any filters, due to the zero crossing.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4422"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/571.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bommels&#039;s picture" title="bommels&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/571.html" title="View user profile.">bommels</a> on Mon, 14/05/2012 - 09:30.</div>
    <div class="content">
     <p>My experience using this controller:</p>
<p><a href="http://www.gavazzi-automation.com/pressdescr.asp?ID=6">http://www.gavazzi-automation.com/pressdescr.asp?ID=6</a></p>
<p>It can do phase angle as well as burst fire. Phase angle control resulted in a noisy immersion heater, so I am using burst fire, which is silent, and has not resulted in any apparent interference issues, even with the cable between the controller and the heater being quite long and running diagonally through the house.</p>
<p>In burst mode, the neon load indicator lights flickers visibly; from the pattern you can see that it regulates the power by spreading the active cycles around evenly. For example, if 2/64 power is required, it fires 1 pulse every 32 cycles rather than 2 consecutive pulses in a 64 cycle pulse train. 13/64 power requirement results in interesting rythmical patterns!</p>
<p>The downside of the system is that it takes from 1.28 up to 2.55s to propagate power changes: the emon accumulation should now be 64 cycles long to properly sample the power controller switching, taking 1.28s. If the arduino sets the new required power level, and the controller has just started (worst case) a pulse train based on the previous setting, it will take another 1.28s before the power level is adjusted.</p>
<p>This makes the case for the dynamic power control as discussed above. It might be a bit more tedious to implement, but it certainly has advantages.</p>
<p>And yes, admittedly the controller was not cheap (&pound;65 at RS components), but considering the domestic hot water electricity bill is estimated to be well over &pound;100 annually, it will probably have earned itself back before the end of summer.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4423"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Mon, 14/05/2012 - 12:11.</div>
    <div class="content">
     <p>Brilliant info thanks, just the advise I needed to give me the motivation to finish the project !</p>
<p>As my burst fire solution is in code, I can swap power levels mid pattern, so should have fairly quick change up/down.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4466"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 16/05/2012 - 21:03.</div>
    <div class="content">
     <p>Our house has just gained a new sound, that of the immersion heater gently heating up our DHW cylinder for free.&nbsp; Music to my ears!&nbsp; Today&#39;s sunshine has produced copious hot water for the washing machine and the dishes, with plenty in store for an inaugural solar bath tonight.&nbsp; This control system has really brought our PV to life - it&#39;s now clearly doing something useful, rather than essentially just being a financial investment.&nbsp; Thanks to everyone who has helped me get this far.</p>
<p>If anyone is interested in the technicalities, feel free to ask away, either here or as a PM.</p>
<p>PS. It would be nice if my control system could be powered down whenever the PV is not on.&nbsp; This could be achieved by monitoring a front-panel LED on the inverter and switching power to the rest of the control system via a relay (or triac?).&nbsp; Has anyone done this already?&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4467"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 16/05/2012 - 22:03.</div>
    <div class="content">
     <p>Are you using Stuart&#39;s burst-fire sketch/circuit?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4468"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 17/05/2012 - 07:50.</div>
    <div class="content">
     <p>No, I&#39;m using a Carlo Gavazzi AC controller in Mode 2 which distributes whole-cycles evenly over a 64-cycle window.&nbsp; This is the same piece of kit as described by bommels a few days ago.&nbsp; It comes with a large heatsink, presumably needed for when switching big loads in phase-angle mode.&nbsp; In my case, with only 3A being switched and always at zero-crossings, it&#39;s barely&nbsp; warm.&nbsp; My mains transformer is considerably warmer which is why I&#39;m keen to have the system turn off when the PV is inactive.&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4482"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 17/05/2012 - 22:07.</div>
    <div class="content">
     <p>I&#39;ve started a new thread off to prevent polution of this one on my build...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4483"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 17/05/2012 - 22:37.</div>
    <div class="content">
     <p>Where? have you a link Stuart.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4485"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 17/05/2012 - 22:40.</div>
    <div class="content">
     <p>Whoops!</p>
<p><a href="685.html" title="http://openenergymonitor.org/emon/node/685">http://openenergymonitor.org/emon/node/685</a></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4511"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/577.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Anonwelder&#039;s picture" title="Anonwelder&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/577.html" title="View user profile.">Anonwelder</a> on Sat, 19/05/2012 - 12:33.</div>
    <div class="content">
     <p>Homer Controller.</p>
<p>&nbsp;</p>
<p>Over the last few months, a mate and me have used Paul&#39;s Solar Power Manager project to make fully working controllers which use PWM from an Arduino to control the immersion heater.</p>
<p>Heater Operation Manager / Export Reducer (Homer) uses an SSR to send &#39;spare&#39; solar to a 3kW immersion heater. Our PV systems are 2.5kW and 2.75kW.</p>
<p>Obviously, Paul&#39;s design had a two stage heater switch on via relay, but most of the time and especially with the weather of late, I would not be able to send anything the the heater.</p>
<p>First consideration was to use a dimmer, but abandoned this due to various reasons, heating of the dimmer being the primary.</p>
<p>Next we considered triacs and with all the comments about being able to switch this reliably was not sitting particularly well either, so we opted for SSR.</p>
<p>One observation regarding my grid-tied PV installation is what my electric meter (digital) did and also that of the analogue meter of my mates did- they do have a &#39;sweet spot&#39; where they register reverse energy (mine shows RED- Reverse Energy Detected) and my mates went backwards for about a quarter of a turn, then hit a backstop. What we did next was to exploit this in the way the project works.</p>
<p>The eureka moment was to use the &#39;sweet spot&#39;, to our benefit.</p>
<p>We pulse the heater with any spare solar, but if you over-use by a little, allow this back into the meter, then maintain within this zone at all times. Home energy demand is continuously monitored, so if you were to switch on a kettle, Homer stops diverting power to the immersion within a second while the kettle heats, then resumes diverting once again when the kettle switches off, for example.</p>
<p>This is done with an Arduino Uno, one SSR, one current sensor (yes, it just needs one as a diverter, two if you want to show PV production too) as a basic, but we&#39;ve both added LCD displays and a logger shield.</p>
<p>My total export since install on 28th April has been around 3kW, mainly due to me neglecting to refit a current sensor one day, (doh!) the rest was due to tank being at full temperature. The resolution of the system being 15 watts shows how efficient this system is.</p>
<p>Our thoughts regarding in-depth discussions regarding cross over timings and throwing extra (expensive!) components at it may well work, but forget it, you are over complicating things.</p>
<p>Look at your meter when you are exporting- it will go backwards slightly, so use this approach instead. As for noise of pulsing anything mains powered, my daughter&#39;s hair drier is worse that anything at blacking out the digital TV signal! Noise really isn&#39;t an issue if appliances like that are on sale.</p>
<p>The proof that this system works is to read my utility meters. They have not reversed direction, but my import has reduced markedly( through having solar anyway), but gas consumption is way down on same period last year , having not changed anything else in the home.</p>
<p>Food for thought. Will post photos etc soon.</p>
<p>&nbsp;</p>
<p>AW &amp; DLB</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4512"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Sat, 19/05/2012 - 17:45.</div>
    <div class="content">
     <p>I&#39;m trying to understand (and replicate) madmug&#39;s circuit (<a href="../../../img832.imageshack.us/img832/4938/circuitx.html" style="color: rgb(51, 153, 204); font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 15px; text-align: left; background-color: rgb(238, 238, 238); " title="http://img832.imageshack.us/img832/4938/circuitx.jpg">http://img832.imageshack.us/img832/4938/circuitx.jpg</a>) which is referenced on page 1 of this long thread. Analog electronics is not one of my strong points so please bear with me. &nbsp;Looking at the circuit, my logical mind would &nbsp;have thought that the 10v that the triac&nbsp;required, would have been delivered by connecting the collector of transistor 2 to 12v, but it is connected to Vin (3.3v). &nbsp;Would someone mind stepping through exactly how it should work, as I can&#39;t get my replica to function correctly.</p>
<p>Many thanks</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4513"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Sat, 19/05/2012 - 19:24.</div>
    <div class="content">
     <p>The 12v is connected to the collector it is also connected to vin which is what powers the arduino</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4514"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Sat, 19/05/2012 - 20:29.</div>
    <div class="content">
     <p>That makes more sense - I misunderstood the way it was drawn.</p>
<p>Thanks</p>
<p>Lloyd </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4523"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/783.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-783.gif" alt="Lloyd&#039;s picture" title="Lloyd&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/783.html" title="View user profile.">Lloyd</a> on Sun, 20/05/2012 - 11:22.</div>
    <div class="content">
     <p>Now I have the circuit working, one further question. Your choice of 47uF&nbsp;capacitor seems quite high from the simulation I have done with LTSpice - it introduces a fair degree of lag - and was considering lowering it to 10uF. &nbsp;What determined your choice of value?</p>
<p>Lloyd</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4526"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Sun, 20/05/2012 - 17:50.</div>
    <div class="content">
     <p>I think 10uf will be fine I used the 47uf as it was the only one I had to hand, seems to work ok though.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4610"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 27/05/2012 - 15:01.</div>
    <div class="content">
     <p>My Mk1 system is now working nicely &quot;for real&quot; in the garage :)&nbsp;</p>
<p><a href="http://youtu.be/-lk6Me3cwuw">http://youtu.be/-lk6Me3cwuw</a></p>
<p>In weather like this, we could do with a larger water tank.&nbsp; The system gets to max temp by around 11am.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4611"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Sun, 27/05/2012 - 16:30.</div>
    <div class="content">
     <p>Wow its huge, good job its in your garage.<br />
Well done anyway for getting it up and running</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4612"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 27/05/2012 - 17:40.</div>
    <div class="content">
     <p>Sure, Mk1 has a certain presence but the important bits are only small.&nbsp; The stuff in the background is just for powering the commercial AC Controller.&nbsp; An old model railway power chassis was readily to hand, so why not make use of it.&nbsp; Anyway, the big neon glows nicely in the dark 8-)</p>
<p>My Mk2 version will be a lot neater ...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4614"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Sun, 27/05/2012 - 22:19.</div>
    <div class="content">
     <p>Great explanatory video. It&#39;s been a good few days for testing solar PV electric immersion heater control in the UK! Looking forward to MK2. Have you published your Arduino&nbsp;code anywhere?&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4617"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 28/05/2012 - 09:12.</div>
    <div class="content">
     <p>Hi Glyn,</p>
<p>My code is nothing special, but anyone is welcome to look at it.&nbsp; Maybe you could PM me as to how I can publish it.&nbsp; I don&#39;t understand Github.&nbsp; Or maybe my sketch could just be posted here as an attached file?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4619"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Mon, 28/05/2012 - 11:48.</div>
    <div class="content">
     <p>Github is best, I know its a bit of pain to setup but it does work very well when its up and running. I find it useful as a personal revision management tool. Depending on your OS there are lots of good git tutorials online. If you use windows I&#39;ve heard this tool can make it quite easy&nbsp;<a href="http://haacked.com/archive/2012/05/21/introducing-github-for-windows.aspx">http://haacked.com/archive/2012/05/21/introducing-github-for-windows.aspx</a>, I&#39;ve not used it myself. I use Linux Ubuntu, git works quite well in terminal.&nbsp;</p>
<p>Or if you prefer just attach a zip onto a forum post. Make sure you tick the &#39;list&#39; box to make it show-up.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4621"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 28/05/2012 - 19:09.</div>
    <div class="content">
     <p>My sketch is attached as a .zip (Mk1_in_Garage_2.ino).</p>
<p>The call to calcVI() is as given in the standard sketch.&nbsp; Maybe the first parameter should be changed to 128, i.e. 64 wavelengths to align with the CG&#39;s distribution window when in Mode 2.&nbsp; At present, I think it&#39;s running until the 2-second timeout.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4651"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="pmcalli&#039;s picture" title="pmcalli&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by pmcalli (not verified) on Fri, 01/06/2012 - 18:32.</div>
    <div class="content">
     <p>Looking at solutions on this site I feel I have to make a comment on the design approach hopefully nobody will be too offended.</p>
<p>everything on here is driven by a digital approach which has some serious flaws whereas a better solution could be obtained by a mixed signal design. I have designed an immersion controller using an analog approach which has none of the digital defects ( sampling rate sensitivity etc ) and only uses two chips. It strikes me that a combination of the energy monitor and the analog power measurement/control circuit would be a better solution. the performance of my system over the last 9 months is all but 50W diverted to immersion and no forward meter movement on mechanical or digital meters.</p>
<p>My expertise is in rf, microwave and analog circuit design. playing with software isn&#39;t really my thing so if anybody is interested to work with me to combine my analog design with the monitor please contact me.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4653"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="madmurg&#039;s picture" title="madmurg&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by madmurg (not verified) on Fri, 01/06/2012 - 20:15.</div>
    <div class="content">
     <p>I think i have seen your circuit, doesnt it still use the crydom proportional controller?<br />
The recent circuits being used on this thread do away with the need for an expensive crydom controller.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4658"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jimjam&#039;s picture" title="jimjam&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by jimjam (not verified) on Sat, 02/06/2012 - 19:10.</div>
    <div class="content">
     <p>stuart i have just set up your circuit and used your sketch using an arduino with the output connected to pin 3.</p>
<p>I dont seem to be getting any outputs on the serial monitor ie</p>
<p>&nbsp;</p>
<p>Press letters u to increase power (up), d to decrease power level (down), 0 = off, 5= 50%, 1=100%<br />
	Resolution=0.50%<br />
	0.00% (0.00W) 0.00Hz<br />
	0.00% (0.00W) 0.00Hz<br />
	0.00% (0.00W) 0.00Hz<br />
	0.00% (0.00W) 0.00Hz<br />
	0.00% (0.00W) 0.00Hz<br />
	0.00% (0.00W) 0.00Hz<br />
	0.00% (0.00W) 0.00Hz<br />
	0.00% (0.00W) 0.00Hz<br />
	0.00% (0.00W) 0.00Hz<br />
	0.00% (0.00W) 0.00Hz</p>
<p>am i missing something.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4659"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 02/06/2012 - 20:14.</div>
    <div class="content">
     <p>jimjam - if you&#39;re not seeing any Serial data, maybe you should try using one of the standard sketches on the website.&nbsp; Then, when you&#39;re happy that you can measure and display voltage and current to your satisfaction, you can migrate towards the more complex setup that you really want to get working.</p>
<p>If something won&#39;t work for me, I often &#39;home in&#39; on the problem area by using some quickly assembled Mickey Mouse code rather than the Full Monty!&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4660"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Phill W&#039;s picture" title="Phill W&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Phill W (not verified) on Sun, 03/06/2012 - 09:09.</div>
    <div class="content">
     <p>Wow Robin, you certainly cracked on!</p>
<p>I have been somewhat out of the loop recently with work commitments. Now back and you have certainly inspired me to get on...... unlike the weather!</p>
<p>My first stumbling block was getting the op amp to work!</p>
<p>Can I power the op-amp from the same power supply I will use to power the Arduino?</p>
<p>Anyone got any practical advice for setting up the op-amp? I want to convert the 0-5V output on the Arduino to 0-10V for the Crydom controller.</p>
<p>feelin&#39; good to be back!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4661"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 03/06/2012 - 11:45.</div>
    <div class="content">
     <p>Hi Phil W, No, there&#39;s not much useful power to play with at the moment.&nbsp; My PV generated just 1kWh yesterday, and no obvious heating of water took place :(</p>
<p>For the record, my Mk1 system uses two op amps.&nbsp; One is to buffer the 2.5V reference so that it can be shared between two or more sensor circuits.&nbsp; That op amp can be conveniently run from the +5V supply that&#39;s available on the Arduino board, details at&nbsp; <a href="673.html">http://openenergymonitor.org/emon/node/673</a></p>
<p>I use a separate op amp to convert the 0-5V signal from the Arduino (PWM, smoothed) into a 0-10V signal for feeing into a Carlo Gavazzi controller which has a similar input requirement to the Crydom.&nbsp; As the output from this second op amp needs to swing between 0 and 10V, I&#39;ve used an LM358 &#39;single rail&#39; device running off a regulated 12V supply.&nbsp;</p>
<p>In my case, this 12V supply does nothing apart from powering this op amp; my Arduino runs off a standard 9V 200mA DC adaptor which was convenient.&nbsp; An alternative approach would be to create a suitable supply for the voltage-doubler circuit, and then step this down to something lower for feeding into the Arduino&#39;s Vin socket.&nbsp;</p>
<p>A single transformer may be able to provide everything you need: 12V for the voltage-doubler, 9V for the Arduino, and also a suitable AC signal for the voltage sensor, details at <a href="704.html">http://openenergymonitor.org/emon/node/704</a>.</p>
<p>Hope this helps, Robin (calypso_rae)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4663"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jimjam&#039;s picture" title="jimjam&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by jimjam (not verified) on Sun, 03/06/2012 - 11:48.</div>
    <div class="content">
     <p>Hi robin can you post your pwm smoothing circuit also can you elaborate more on how you calculate how much solar you have to play with as i see you only use 1ct. Do you monitor the light on your energy meter and then know when you are importing or exporting.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4666"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 03/06/2012 - 17:09.</div>
    <div class="content">
     <p>Hi jimjam, For smoothing the PWM, I&#39;m just using an RC low-pass filter.&nbsp; The Arduino&#39;s output pin (pin 9 as per the PWM examples) feeds a 22K resistor, after which there is a 10uF capacitor to ground.&nbsp; The signal then goes into the +ve input of an LM358 op amp in x2 mode.&nbsp; At the amplifier&#39;s output, there are two 10K resistors in series to ground, with the mid-point being linked to the -ve input of the amp.&nbsp; The amp&#39;s output goes straight into the Carlo Gavazzi controller&#39;s input, as it presumably would with a Crydom.&nbsp; The CG also requires a 24 Vss feed, either AC or DC; I&#39;ve gone for the AC approach, but I know that others have successfully used it with DC.&nbsp;</p>
<p>To decide how much surplus PV power is available, I simply measure AC current and voltage at the grid-connection point.&nbsp; The Arduino calculates the real power (emon1.realPower in the Voltage And Current sketch), and diverts all but around 50W to our immersion.&nbsp; Simple.&nbsp; I don&#39;t measure how much power the PV is generating because this information can be read from the inverter&#39;s display.&nbsp; And I&#39;m not really interested in how much power the house is consuming at any time.&nbsp; If an appliance is on, then it probably needs to be on.&nbsp; I just want to make sure that the PV energy which we generate gets used on-site if possible.&nbsp; In good weather, our water tank gets to max (70C) by around 11am, so the more loads of washing that we can run through the system the better.</p>
<p>Monitoring the supply meter&#39;s LED is an interesting concept.&nbsp; While illuminated, that LED shows that we&#39;re exporting, so no problem.&nbsp; But if someone puts on the Hoover or similar, then the LED may go out.&nbsp; All being well, the control system will rapidly detect the net inflow of power and reduce power to the immersion so as to reinstate the desired level of export to 50W.&nbsp; One possible approach might be to immediately kill all power to the immersion if the supply meter&#39;s LED ever goes out.</p>
<p>Monitoring the LED on our inverter&#39;s front-panel may be a useful development.&nbsp; This LED is only on when the PV system is active.&nbsp; When the PV is inactive, it would seem sensible to power down the entire monitor&amp;control system until next day.&nbsp; The only circuitry which needs to remain on 24/7 is a sensor to monitor this LED, and the means to power up the rest of the system when the LED comes on.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4667"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 03/06/2012 - 17:14.</div>
    <div class="content">
     <p>for some reason, that message got posted twice ... sorry</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4669"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jimjam&#039;s picture" title="jimjam&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by jimjam (not verified) on Sun, 03/06/2012 - 18:30.</div>
    <div class="content">
     <p>Im still a little confused, you say that you have your ct at the main incoming tails and you measure real power at this point.<br />
How do you know if you are importing or exporting when you take the measurement, surely the ct shows a reading when you are importing and when you are exporting or does the ct only work one way round.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4672"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/851.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="daveb&#039;s picture" title="daveb&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/851.html" title="View user profile.">daveb</a> on Mon, 04/06/2012 - 08:16.</div>
    <div class="content">
     <p>I&#39;ve added comments to the second thread <a href="685.html" title="http://openenergymonitor.org/emon/node/685">http://openenergymonitor.org/emon/node/685</a> , but I have a design for a phase controlled triac that works with my spinning disk meter. I don&#39;t have a way to verify this with a more modern meter.</p>
<p><a href="http://www.rotwang.co.uk/projects/triac.html" title="http://www.rotwang.co.uk/projects/triac.html">http://www.rotwang.co.uk/projects/triac.html</a></p>
<p>I would be interested if anyone would be able to verify this works with a modern meter. Feel free to contact me offline at solar at rotwang dot co dot uk</p>
<p>I&#39;m still concerned that success may be short lived as utility companies adjust to the idea of people having generation capability. The imminent roll-out of smart meters across the country might kill this idea dead.</p>
<p>An alternative technique, that I&#39;m interested in exploring, would be to rectify the mains using a diode bridge, then chopping it with a FET or IGBT into a filter. The filter can store the excess energy during the &#39;on&#39; phase, resulting in an even load on the import meter. This would work with any meter.</p>
<p>Has anyone tried this? It will obviously only work with loads that aren&#39;t fussy about using AC. A kettle or an immersion heater shouldn&#39;t care.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4674"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 04/06/2012 - 10:13.</div>
    <div class="content">
     <p>Jimjam, if you read back though this thread and others, this aspect has been well covered.&nbsp; To distinguish between inflow and outflow, you need to measure both current <em>and</em> voltage and then compute &#39;real power&#39;.&nbsp; Using the standard V &amp; I sketch, &#39;real power&#39; can be obtained after calling calcVI() using the construct emon1.realPower, as in my published sketch.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4677"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jimjam&#039;s picture" title="jimjam&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by jimjam (not verified) on Mon, 04/06/2012 - 12:20.</div>
    <div class="content">
     <p>Sorry if i am a bit thick. I understand how you calc real power but i still dont understand how you know when you are exporting to the grid. Surely you only want to power your immersion when you are exporting. Thanks for  your patience. Please can you explain in layman's terms.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4681"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/06/2012 - 13:38.</div>
    <div class="content">
     <p>Jimjam,</p>
<p>The sketch that calypso-rae mentions measures voltage and current about 50 times for each cycle of mains. When power is flowing one way, voltage and current rise and fall together. So if you think of&nbsp; the voltage and current drawn as a graph against time (see here: <a href="../sites/default/files/resistive2.jpg" title="http://openenergymonitor.org/emon/sites/default/files/resistive2.jpg">http://openenergymonitor.org/emon/sites/default/files/resistive2.jpg</a>), you will have 50 measurement points of each on the graph. Both current and voltage will have the first 25 points above the zero line - the values are positive, and then 25 points that are below the zero line - the values are negative. Power is voltage&nbsp; x&nbsp; current, so power is always positive.</p>
<p>When power is flowing the other way, the voltage wave is the same as before, but current goes in the opposite direction. So the current wave (the blue line in the graph) is upside down. For 25 points voltage is above the line and positive while current is below the line and negative, and then for the next 25 points voltage is below the line and negative while current is above the line and positive. Now the power is always negative.</p>
<p>So you know the direction of the power flow because the power will be positive one way and negative the other.</p>
<p>You could always try it! Load the sketch into your emonTx and see what power it shows. Then unclip the current sensor and reverse it on the mains cable, and you should read the same power but the opposite sign. By reversing the current sensor, you have made it look as if the power is flowing in the other direction.</p>
<p>If you don&#39;t measure voltage at the same time as current, you don&#39;t know how the waves relate so in that case, you cannot know which direction power flows. When you measure the voltage, you can know.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4682"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jimjam&#039;s picture" title="jimjam&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by jimjam (not verified) on Mon, 04/06/2012 - 13:50.</div>
    <div class="content">
     <p>Ahh thanks very much the penny has now dropped</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4685"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 04/06/2012 - 14:49.</div>
    <div class="content">
     <p>Nice One Robert, cheers :D</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4716"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="543bill&#039;s picture" title="543bill&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by 543bill (not verified) on Thu, 07/06/2012 - 13:07.</div>
    <div class="content">
     <p>HI!</p>
<p>I am just&nbsp;getting started but do not want&nbsp;to take the&nbsp;programming route. I have just installed</p>
<p>an&nbsp;Eco-eye&nbsp;PV&nbsp;&nbsp;for monitoring..this gives&nbsp;historic tracking of PV and House data and real&nbsp;time</p>
<p>traces so I can now see the&nbsp;PV&nbsp;output and the&nbsp;impact of house&nbsp;loads in real-time.</p>
<p>I have been monitoring the&nbsp;immersion dumping activity on forum sites since late last year</p>
<p>while awaiting availability of&nbsp;Eco-eye PV&nbsp;. I noted&nbsp;some mention of&nbsp;differential amps driving a triac</p>
<p>and copied a circuit but do not have the&nbsp;source.&nbsp;Most of the hardware activity seems to be on</p>
<p>Navatron.</p>
<p>rgds</p>
<p>&nbsp;</p>
<p>Bill</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4719"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1088.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fewyatt&#039;s picture" title="fewyatt&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/1088.html" title="View user profile.">fewyatt</a> on Thu, 07/06/2012 - 16:52.</div>
    <div class="content">
     <p>Bill how are you finding the Eco Eye PV? I got one 2 weeks ago and it&rsquo;s proving extremely flaky with non working voltage sensor initially, display freezing up regularly, rebooting itself and PC Trax software not reliable either.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4753"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sat, 09/06/2012 - 19:17.</div>
    <div class="content">
     <p>Wow, what a thread.&nbsp; It&#39;s really re-kindled my interest in immersion heating from PV.</p>
<p>The <a href="http://www.dextrel.net/diyzerocrosser.htm">zero crossing detector</a> is a real find.&nbsp; I&#39;d thought of accumulating the power over a half-cycle to provide a brief pulse to the LED at zero-crossing for efficiency, but it&#39;s nice to find a finished and extremely well-documented project.</p>
<p>I am in the position of not being able to measure house current, so I need to know the direction of power flow in the meter tails.&nbsp; I imagine that if your mains supply is good (no worries about burst firing causing your neighbours&#39; lights to flicker!), the voltage waveform is going to be pretty clean, so there is no need to obtain a facsimile of it.&nbsp; Instead, you could modify the zero crossing detector to be half-wave, giving you the phase information you need by having a pulse only once per cycle.&nbsp; Simple timing can generate the other pulse if you need it.&nbsp; You then synthesise the waveform in software to get your import/export power from one current transformer and a zero-crossing detector.</p>
<p>I accept that you don&#39;t get a value for mains voltage, but in my case I&#39;m already interfacing to my PV inverter, which tells me this.&nbsp; I&#39;m using a Sheevaplug plug computer to log PV and weather station stats, and I&#39;m considering using this to control and log the immersion heater too.&nbsp; It knows when the inverter has shut down (no data appears) so this can be used to save a bit more power by stopping the immersion heater software too.&nbsp; Well that&#39;s the theory!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4756"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 09/06/2012 - 22:07.</div>
    <div class="content">
     <p>Building your own zero-crossing detector may be an interesting project, but there are already plenty of inexpensive devices on the market which do this.&nbsp; I&#39;ve just bought a couple of triacs and z-c trigger devices for under a tenner but have yet to fire them up.&nbsp; Working out exactly when to switch them on will be interesting!</p>
<p>When measuring power using a c/t (which can only measure current), there are two good reasons to measure voltage too.&nbsp; The first is that power can be more accurately assessed if the <em>actual</em> voltage is known rather than using some nominal value.&nbsp; The second reason is that knowing the phase relationship between V and I allows the <em>direction</em> of the current/power to be ascertained.&nbsp; This approach will work anywhere in your house, not just at the meter point.</p>
<p>Sorry, but I don&#39;t follow your ideas about synthesing a waveform in software.&nbsp; Isn&#39;t the best plan just to activate individual mains cycles at the right rate for the prevailing conditions, preferably using a &pound;15 Arduino rather than an expensive piece of 3rd party kit?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4761"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jimjam&#039;s picture" title="jimjam&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by jimjam (not verified) on Sun, 10/06/2012 - 12:33.</div>
    <div class="content">
     <p>I have just aquired one of these from ebay for &pound;11</p>
<p><a href="http://www.surecontrols.com/support/manuals/eurotherm/425aops.pdf">&nbsp;http://www.surecontrols.com/support/manuals/eurotherm/425aops.pdf</a></p>
<p>Four thyristor firing modes are available:<br />
	&bull; Phase angle - thyristor firing angle variation<br />
	&bull; Single cycle (cycle time 40 ms at 50% power)<br />
	&bull; Fast cycle (cycle time 320 ms at 50% power)<br />
	&bull; Slow cycle (cycle time approximately 10 s at 50% power).</p>
<p>can someone who is more savy than me advise me on what the best way to control this bit of kit.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4766"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sun, 10/06/2012 - 16:52.</div>
    <div class="content">
     <p>I like the elegance and efficiency of the zero crossing detector in the link.&nbsp; A simple resistor in series with an opto-isolator LED is relatively inefficent and subject to drift as the LED ages if you tweak the resistor value to try to reduce the time the LED is on (and hence the power dissipation).&nbsp; If there&#39;s a cheap ready-built module that performs as well then I&#39;d be happy to use it.</p>
<p>My situation is that I already have a Sheevaplug powered 24 hours a day to do inverter monitoring, weather station data collection, file serving, etc.&nbsp; The issue of its cost is therefore irrelevant.&nbsp; If I were starting from scratch then I&#39;d definitely go down the Arduino route, but I&#39;m not.&nbsp; I would like the Sheevaplug to do the processing the Arduino would do.&nbsp; As it is a fully multi-tasking Linux box, this may or may not be practical.</p>
<p>Because the Sheevaplug has an RS485 data feed from the inverter, I know the mains voltage accurately as this is one of the parameters it supplies.&nbsp; So, assuming that the voltage waveform is sinusoidal, I can use the zero-crossing detector to trigger an iteration over a sinewave look-up table to multiply with the current transformer readings and sum to calculate power.&nbsp; I would hazard a guess that this is more accurate then getting a voltage waveform from a small transformer - I have read on here about pitfalls with that (distortion and phase shift).</p>
<p>As to direction of power flow, I think you missed the point I made before: modify the zero-crossing detector to give one pulse per cycle rather than two, and you have the phase information you need to determine the direction of power flow.&nbsp; I need to do this as I don&#39;t have access to a house current measurement.</p>
<p>Incidentally, I don&#39;t think that the mains voltage varies much, although I need to confirm that by analysing my collection of nearly a year&#39;s worth of inverter log files (recording parameters every ten seconds while the inverter is active).&nbsp; If you are in a rural setting at the end of a long piece of 11kV overhead line, your situation may well be different, and your neighbours&#39; lights may also flicker if you burst-fire your immersion heater...</p>
<p>As I don&#39;t have ADCs built into my Sheevaplug, I&#39;m considering using a USB &quot;sound card&quot; to do this.&nbsp; I would feed the current transformer into one channel and the zero-crossing detector into the other to ensure that they remained in sync.&nbsp; Every so often I would grab a cycle and calculate the power.&nbsp; Experimentation required!</p>
<p>Interesting point from the SCR tutorial linked somewhere in this thread: SCRs are more efficient than triacs because they have a smaller voltage drop, so better to use two back to back than one triac if you want to reduce heat dissipation.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4772"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Mon, 11/06/2012 - 18:57.</div>
    <div class="content">
     <p>Are you suggesting that by knowing the zero crossing point on the AC cycle, and the current (from a CT sensor or direct from the inverter) you can calculate the direction of current ?</p>
<p>Additionally, be careful about switching half cycles into a heating element, as you are then driving it like a DC unit, rather than an AC one and I expect this will cause it to reach its end of life quicker.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4776"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Mon, 11/06/2012 - 23:43.</div>
    <div class="content">
     <p>The direction of power flow, yes.&nbsp; If you get a pulse at either the positive or the negative zero crossing point of the mains, but not both, that tells you the absolute phase of the voltage waveform.&nbsp; If you know in addition the RMS (or peak) voltage and the frequency, and you assume that the waveform is sinusoidal (which it ought to be, unlike the current waveform which could be going all over the place), you have all you need to synthesise the voltage waveform exactly.&nbsp; As you know, multiplying current samples by voltage samples over a complete cycle and summing them will give you the net power, with its sign indicating the direction of power flow, however odd the current waveform (assuming your sample rate is high enough to capture all its significant harmonics).&nbsp; Whether you do this with a real feed of the voltage waveform or a synthesised version which is identical obviously makes no difference.</p>
<p>The most efficient way to implement this in software is to have a lookup table holding a quarter of a sinewave, with the number of values being the number of samples your CT ADC produces in a quarter of a cycle (5ms @ 50Hz).&nbsp; When you get a zero-crossing pulse, clear your total and start to traverse the lookup table, multiplying each value by the current sample and adding to the total.&nbsp; When your reach the end of the lookup table, start to traverse back towards the beginning, as the second quarter of a sine function is the same as the first, mirrored in the y axis.&nbsp; When you get to the beginning again, start to traverse to the end, but this time subtract your products from the total, as the third quarter of a sine function is the same as the first, mirrored in the x axis.&nbsp; Finally, traverse back to the beginning, again subtracting your products from the total, as the fourth quarter is the same as the first, mirrored in both the x and y axes, or on the diagonal if you prefer.</p>
<p>The final step is to multiply the total by the peak or RMS voltage measurement (scaled appropriately) and bob&#39;s your uncle - a figure whose magnitude is the power transferred in that cycle and whose sign is the direction of power flow.</p>
<p>I am not going to be putting half cycles into a heater.&nbsp; It is trivial to synthesise two trigger pulses per cycle from one zero crossing point and I would always trigger complete cycles.&nbsp; I doubt that a DC component will do any harm to the heater, but it is certainly an antisocial and I gather illegal thing to be doing with the electricity supply.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4777"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 11/06/2012 - 23:36.</div>
    <div class="content">
     <blockquote><p>&quot;Incidentally, I don&#39;t think that the mains voltage varies much....&quot;</p>
</blockquote>
<p>Perhaps yours does not, but it can vary from the nominal standard (assuming you are in the UK) of 230 V by -6% to +10%. It could therefore be 10% down, or nearly 6% up, on the normal centre value of 240 V.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4778"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Tue, 12/06/2012 - 00:01.</div>
    <div class="content">
     <p>Well yes and no.&nbsp; Those figures do not really represent how much your mains voltage will vary from day to day, but are a fudge to ensure that certified appliances will work across the EU where different countries&#39; nominal voltages range from 220V to 240V.&nbsp; So you may only need to measure it once.&nbsp; Power consumption meters that don&#39;t plug in, like the Owl, can only operate with an estimate of voltage.&nbsp; You can tell the Owl that your supply is either 230V or 240V.&nbsp; Mine is 240V and is unlikely to change unless they have any reason to replace the substation transformer.&nbsp; I would hazard a guess that the inaccuracies you will get from sampling the voltage waveform through a small transformer are going to be at least comparable to synthesising a waveform with a fixed voltage.</p>
<p>I have already mentioned that some people&#39;s supplies will vary more than others - and that the ones that vary most are likely to have relatively high impedance, meaning that it may not be a good idea to burst fire immersion heaters off them because it will cause lights to flicker.&nbsp; When I get the time, I shall analyse my getting on for a year&#39;s worth of daylight voltage readings at 10 second intervals and be able to tell you just how much my supply does vary.&nbsp; I am afraid I won&#39;t be able to tell you the voltage at midnight though.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4785"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 12/06/2012 - 13:14.</div>
    <div class="content">
     <p>I&#39;d be interested to see that - but the &quot;wee small hours&quot; readings would be quite interesting too. I assume you are in an urban area (like me).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4788"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Tue, 12/06/2012 - 17:36.</div>
    <div class="content">
     <p>Voltage distribution graph attached, from about 1.25 million samples.</p>
<p>As you can see, for the vast majority of the time it&#39;s within +/-5V of 240V (+/-2%).&nbsp; The graph extends to the limits of the voltages measured, and the ones at the edges look like freak values.&nbsp; The lumpiness I attribute to ADC non-linearity.&nbsp; I am indeed in suburbia, close to a substation, and would supply overnight figures if I had them but I don&#39;t because the inverter is asleep.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4816"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1088.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fewyatt&#039;s picture" title="fewyatt&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/1088.html" title="View user profile.">fewyatt</a> on Thu, 14/06/2012 - 09:08.</div>
    <div class="content">
     <p>I complained to my electricity company because my voltage was often over 250V and I was worried about it shortening the life of my bulbs, etc.&nbsp;and&nbsp;using more&nbsp;watts.&nbsp;</p>
<p>They fitted a sampler in&nbsp;the meter cupboard&nbsp;for 2 weeks, and although I did not see the detailed results, they claimed it was always in spec, but just. So they were not going to take any action to alter it at the substation. I concur though that the day to day / sample to sample variation is not large, perhaps within +/- 2.5V most of time and I am one of the furthest&nbsp;from the substation.&nbsp;Although I am sure if you went to a different town and measured it you could find it &gt;10% lower.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4818"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Thu, 14/06/2012 - 18:59.</div>
    <div class="content">
     <p>The problem is Fewyatt&nbsp;is with the generation from PV. This generation is relatively new to the grid system but is being monitored by various&nbsp;institutions such as universities; solutions to many of these things will come to light.</p>
<p>It&#39;s a very difficult&nbsp;job distributing electricity and keeping every one happy; the rms readings will be within tolerance if they say so as results have to be logged. I can&#39;t say to much as I work for one of the electricity distribution&nbsp;companies and wouldn&#39;t want to incriminate myself.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4819"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Thu, 14/06/2012 - 19:49.</div>
    <div class="content">
     <p>But how can the high voltage be blamed on PV generation, when it doesn&#39;t go back to normal at night?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4820"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 14/06/2012 - 20:47.</div>
    <div class="content">
     <p>fewyatt - &nbsp;In Great Britain domestic supplies must be maintained within the range 216 volts to 253 volts, corresponding to a nominal value of 230 volts, minus 6% to plus 10%. So unless your supply is more than&nbsp;253 volts, I doubt that any action will be taken by the electricity company.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4826"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Fri, 15/06/2012 - 16:47.</div>
    <div class="content">
     <p>Paul is correct Fewyatt; I calibrate our energy monitors once a year and they are very accurate even on current as well.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4833"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jollygreengiant&#039;s picture" title="jollygreengiant&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by jollygreengiant (not verified) on Sat, 16/06/2012 - 18:28.</div>
    <div class="content">
     <p>If you are in need of an affordable product that will monitor&nbsp;and control the&nbsp;power generated by your renewable energy source please&nbsp;have a look at <a href="http://www.totalpowershop.com/" target="_blank">www.totalpowershop.com</a> and the TP-S610A power / energy management unit</p>
<p>	It will monitor how much energy your house is consuming and how much power you are getting from your solar panels or any other renewable energy source. It will automatically switch on&nbsp;up to&nbsp;3 other&nbsp;appliances when enough surplus energy is being generated.</p>
<p>	And its only &pound;300!! It should pay for itself as well, although it may take a year or two to get the money back. And it will make sure that your home is not consuming anymore power than you want to. The control unit will also record your energy production and consumption and download it to a pc.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4838"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sat, 16/06/2012 - 20:46.</div>
    <div class="content">
     <p>Erm, &pound;420 for the equivalent of an Arduino, a current transformer and three remote controlled mains sockets?&nbsp; I don&#39;t think so!&nbsp; Kindly take your spam elsewhere.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4839"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 16/06/2012 - 22:00.</div>
    <div class="content">
     <p>There is a massive void at present of people who have the same goal as us, yet lack the technical knowledge/skills to build such a device, and if this meets that demand, then I applaud the initiative. At least it&#39;s cheaper than EMMA!</p>
<p>Unfortunately the&nbsp;totalpowershop&nbsp;website does not provide enough technical detail to determine if it&#39;s a serious device or a toy.&nbsp;<br />
	I personally always assume that such devices are toys unless there is some transparency in how it works &amp; operational specifications meet expectations.</p>
<p>eof - by coincidence a similar post has appeared here -&nbsp;<a href="http://www.electriciansforums.co.uk/central-heating-systems/23969-immersion-heater-pv-electricity-22.html">http://www.electriciansforums.co.uk/central-heating-systems/23969-immersion-heater-pv-electricity-22.html</a>&nbsp; &nbsp;- <em>quote </em>&#39;Good news is that this unit is reasonably priced too:&#39;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4841"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sun, 17/06/2012 - 08:27.</div>
    <div class="content">
     <p>You are more charitable than I... this guy can&#39;t even be honest about the price, as &pound;300 buys you nothing more than a &quot;limbless&quot; central controller, which is incapable of any &quot;monitoring&quot; or &quot;switching&quot;, however many exclamation marks are used.</p>
<p>Yes, weird co-incidence that other posting has appeared.&nbsp; And it is indeed much more reasonably priced than the above - <a href="http://www.ebay.co.uk/itm/251077796044">&pound;155</a> for everything rather than &pound;420.&nbsp; A question remains over whether it can measure the direction of power flow in a meter tail and hence whether it&#39;s suitable for systems with a single consumer unit.&nbsp; I&#39;ve asked that question on eBay.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4844"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 17/06/2012 - 10:37.</div>
    <div class="content">
     <p>Is it another coincidence that &quot;<a href="../user/1228.html" title="View user profile.">jollygreengiant</a>&quot; had joined only 8 minutes before that was posted, or am I being a cynical engineer again?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4846"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sun, 17/06/2012 - 12:51.</div>
    <div class="content">
     <p>I did wonder!&nbsp; Incidentally, solarcontrol has promptly and convincingly answered my question on eBay.&nbsp; I think &pound;155 is not a bad price at all for what you get.&nbsp; Of course it&#39;s only able to make step changes to the house load and it isn&#39;t measuring real power, but it should be useful to some people who don&#39;t want to build it all.&nbsp; Not at &pound;420 though!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4852"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 17/06/2012 - 15:04.</div>
    <div class="content">
     <p>Switched-on PV owners need a reliable Arduino-based design which uses a standard triac to route surplus power to a dump load.&nbsp; Apart from the current clamp, there should be just one connection to the mains, and the total cost should not exceed &pound;50.</p>
<p>Watch this space (but probably on a new thread ...)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4917"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jollygreengiant&#039;s picture" title="jollygreengiant&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by jollygreengiant (not verified) on Wed, 20/06/2012 - 21:53.</div>
    <div class="content">
     <p>I am sorry for my enthusiam.&nbsp; Perhaps if I explained my story.&nbsp;</p>
<p>Wanting to be a bit greener and to reduce my energy bills&nbsp;I had solar panels build into my replacement roof.&nbsp; I started looking for an affordable&nbsp;product that would manage the surplus energy that I produced.&nbsp; Like others using this site I couldn't find one so I thought to myself if&nbsp;I could develop one (I hasten to add that I haven't&nbsp; done this on my own, I've developed it in conjuction with a company that has extensive experience of this type of product)&nbsp;that did this&nbsp;not only would my needs be satisfied but&nbsp;I might help some others that were looking for such a product.&nbsp;Before you say, yes&nbsp;I hope to make something extra for myself in the process - but heck what is wrong with that.</p>
<p>If you have a look at the product on my website <a href="http://www.totalpowershop.com/">www.totalpowershop.com</a> it comes with everything you need to monitor and automatically control 2 appliances.&nbsp;&nbsp;The &pound;299 (yes sorry&nbsp;I rounded it up) pack includes&nbsp;the following:</p>
<p>The control unit<br />
TWO 13 Amp UK 3 pin mains wirelessly controlled sensor sockets<br />
TWO 10mm sensor clamps<br />
ONE data lead<br />
Full operating instructions<br />
Software<br />
ONE UK Mains Adapter for powering the control unit.</p>
<p>!!!!!!!!!!!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4921"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 20/06/2012 - 23:08.</div>
    <div class="content">
     <p>&nbsp;jollygreengiant - are you intending to contribute to this thread, or is your intention simply to promote your product?</p>
<p>If it's the former - then please provide a worthwhile contribution and welcome to the forum, if the latter, then you may find that your posts are dealt with as spam.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4946"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Thu, 21/06/2012 - 17:13.</div>
    <div class="content">
     <p>&nbsp;Well I don't think that I will be spending &pound;299 for something that seems to be all front and no knickers! Morrisons were selling three wireless 13A socket adaptors simular to them in the pic for less than a fiver. They seem to work fine untill the power goes off then you have to reprogram them with the remote. I think all the guys in here are intrested in controlling power not just switching it.</p>
<p>My unit is running like a dream in the cellar all on it's own, feeding my Immersion heater with most or all of the surplus power available from the PV panels.</p>
<p>My Mk2 is on it's way which will have one more CT monitor on the Immersion heater circuit to sense when the thermostat has switch off on the Immersion heater, then for it to operate another PWM output controlling a small storage heater in the living room.</p>
<p>Anyway... heres to the future and if the electricity supplier wants to monitor my export in the future then good for them. They can shove their 3.1p where the sun don't shine; I would rather have the electricky I generate than to sell it to them for nearly nothing.</p>
<p>Thanks Jolly Green Giant but your device don't seem much use to us power controllers and monitors!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4955"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Thu, 21/06/2012 - 19:48.</div>
    <div class="content">
     <p>Phil W, using another current transformer just to sense the on/off state of a thermostat looks like overkill. &nbsp;Why don't you use an opto-isolator, possibly configured as that <a href="http://www.dextrel.net/diyzerocrosser.htm">zero-crossing detector</a> for efficincy?&nbsp; That's what I would do.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4964"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Fri, 22/06/2012 - 18:43.</div>
    <div class="content">
     <p>&nbsp;Thats all very well Phil but it involves more components as oppsosed to another input to the Atmega328 involving a couple of resistors and a cap.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4965"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 23/06/2012 - 17:46.</div>
    <div class="content">
     <p>On a good day, it would be nice if surplus PV power could be routed by the Arduino for a secondary purpose.&nbsp; This would require it to know when the thermostat on the primary circuit has cut in. </p>
<p>I can see how this situation could be detected by using an extra C/T clamp, but I've yet to comprehend how an opto-isolator or any other practical assembly of hardware could achieve this.&nbsp; A simple explanation would be most welcome.</p>
<p>As an aside, I've just started a new thread about debugging code which may be of interest to PV routers :)</p>
<p><a href="764.html">http://openenergymonitor.org/emon/node/764</a><br />
&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4966"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 23/06/2012 - 18:37.</div>
    <div class="content">
     <p>Does it matter whether the water heater is absorbing power? I don't think you even care, let alone need to know. If you want to export as the last resort, then surely all that is needed is a list of appliances that can absorb power and you simply attempt to use more of them until all the surplus power has been used. Whether any one comes on or not (or completes its programmed cycle in the case of a washing machine, dishwasher etc) is of no concern. All the controller is interested in is how much power is surplus. If you switch the dishwasher on and there's still surplus power, you switch the washing machine on. If there's still surplus power, then you dump to the immersion heater. If the dishwasher demands more power, you steal it back from the immersion heater. When each completes its program, the surplus naturally increases and you continue to try to dump to the immersion heater. And when that cuts out, you export.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4967"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 23/06/2012 - 19:08.</div>
    <div class="content">
     <p>Robert, I think that most people's systems need to know how much load is connected.&nbsp; The control system can then calculate what percentage of 'mains on' time should be allocated so as to consume the measured amount of surplus power.&nbsp;</p>
<p>At present, my surplus power only goes to the immersion.&nbsp; If the thermostat trips out, the control system works its way up to full power, but no further power can be consumed because the water is already up to temperature.&nbsp;&nbsp; To the Arduino, however, this situation surely appears no different than when the PV is generating at full power and the immersion is consuming all that it's being given.&nbsp; How can it distinguish between these two situations?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4968"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Sat, 23/06/2012 - 19:16.</div>
    <div class="content">
     <p>&nbsp;Well Rae this is my mk two version I am building. I split the Immersion heater from the main consumer unit; that is connected to a Kemo 4kW power controller which in turn is controlled from the Kemo pulse unit from the output of the Atmega328.</p>
<p>Consumer RMS current is deducted from PV RMS current and what is left is for PWM control. The next step I thought of is to use a third CT on the Immersion heater circuit which would used in conjunction with another input on the Atmega. using another output from the Atmega to operate a relay on the pulse controller output. Then using another Kemo power controller on a small storage heater circuit it would divert power to the storage heater when the water heater has switch off.</p>
<p>Every thing would depend on the lovely radiation from that object rarely seen these days but when the fire in the sky is radiating through to my panels then I think that it may be worth doing it.</p>
<p>Phil W said about a zero crossing sensor but at the end of the day for a few more resistors and a cap on my vero board I think the CT would be a lot less hassle and you don't need it to read any accurate readings just to sense when current is flowing or not.</p>
<p>Robert sent me a circuit for a PWM triac controller but I mislaid it, could you send it again Robert please?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4969"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 23/06/2012 - 19:39.</div>
    <div class="content">
     <p>Mark:</p>
<p>I don't think that was me!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4970"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Sat, 23/06/2012 - 19:49.</div>
    <div class="content">
     <p>&nbsp;Ok Robert perhaps a senior moment here.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4971"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 23/06/2012 - 20:32.</div>
    <div class="content">
     <p>This all seems to be getting rather confusing:</p>
<p>I understand why Mark is intending to divert surplus power to more than one appliance, and how an extra CT could be used for that purpose.&nbsp; What I don't follow is how an opto-isolator could be used to sense whether current in the primary circuit is flowing or not.</p>
<p>Powering up such devices in a sequenced manner is important.&nbsp; It's no good if the storage heater starts to consume power before the DHW gets up to temperature.&nbsp; And if some DHW were to be drained off, the system needs to recognise when the thermostat kicks in so that power to the primary system can be reinstated. </p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4972"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sat, 23/06/2012 - 20:38.</div>
    <div class="content">
     <p>You put an opto-isolator on the connection between the thermostat and the heater.&nbsp; It doesn't sense current flowing; it senses voltage at the heating element.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4973"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 23/06/2012 - 20:44.</div>
    <div class="content">
     <p>A&nbsp; C.R.A.F.T&nbsp;&nbsp; moment, Mark?&nbsp;&nbsp;&nbsp; <strong>C</strong>an't <strong>R</strong>emember <strong>A</strong> <strong>F</strong>lipping <strong>T</strong>hing?&nbsp; <img src="../../../s.codeproject.com/script/Forums/Images/smiley_laugh.html" alt="" /> <img src="../../../s.codeproject.com/script/Forums/Images/smiley_laugh.html" alt="" /> <img src="../../../s.codeproject.com/script/Forums/Images/smiley_laugh.html" alt="" /> <img src="../../../s.codeproject.com/script/Forums/Images/smiley_laugh.html" alt="" /> <img src="../../../s.codeproject.com/script/Forums/Images/smiley_laugh.html" alt="" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4974"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 23/06/2012 - 20:58.</div>
    <div class="content">
     <p>Calypso_rae:</p>
<p>This is a new take on an old problem. The principle has been around in the form of maximum demand optimisation for ages - 40+ years to my knowledge. There's bound to be literature about that. In essence, you have a list of loads that you can disconnect to avoid paying a penalty for exceeding demand in any half-hour period (or in your case, connect) and the objective is to prioritise these to achieve the maximum load without passing the limit. Much the same as your desired objective.</p>
<p>If you have multiple switched loads, maybe you need to flip your thinking? Should you be thinking &quot;What loads do I need to disconnect in order to not import power?&quot;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4975"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Sat, 23/06/2012 - 21:08.</div>
    <div class="content">
     <p>&nbsp;well the relay would have its contacts connected to the two Kemo power control inputs and the common would to the pwm controller. &nbsp;Mod the sketch so that when the ct senses no current on the DHW it switches the relay to control the storage heater circuit. If you drain some hot water then the stat switches on again sensed by the CT which switches the relay back to the DHW system. There you are .... NO EXPORT&gt;&gt;&gt;<img src="../sites/all/modules/fckeditor2/fckeditor/editor/images/smiley/msn/devil_smile.html" alt="" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4976"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sat, 23/06/2012 - 21:18.</div>
    <div class="content">
     <p>Small problem with that arrangement:&nbsp;you've removed the power supply to the immersion heater so when the thermostat closes no current will flow!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4979"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Sat, 23/06/2012 - 21:55.</div>
    <div class="content">
     <p>&nbsp;Ah... eof correct; back to the drawing board.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4981"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 23/06/2012 - 23:10.</div>
    <div class="content">
     <p>Mark, after powering up your storage heater, can't you continue to supply mains voltage to the immersion?&nbsp; Then, if/when it starts to draw current again, you can detect this with your c/t and stop feeding the second load.&nbsp; </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4982"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sat, 23/06/2012 - 23:19.</div>
    <div class="content">
     <p>You can solve it with one of those zero-crossing detectors (or opto isolator and sweaty resistor) I keep harping on about.&nbsp; Put it between the common and immersion heater contacts of the relay.&nbsp; When the relay is switched to the storage heater and the stat is closed, there will be a circuit from live through power controller, zero crossing detector, stat and immersion heater to neutral.&nbsp; The only fly in the ointment with this is that you can't use it to detect whether or not the stat is closed when you're powering the immersion heater.&nbsp; If you want to use one detector for both situations, put it across the stat and put a resistor between common and immersion heater contacts which is small enough to activate the zero crossing detector.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4983"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sat, 23/06/2012 - 23:21.</div>
    <div class="content">
     <p>Calypso, the problem with having permanent power to the immersion heater is that you will have both of them switched on at once briefly, which may be too much for controller/circuit.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4988"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 24/06/2012 - 11:43.</div>
    <div class="content">
     <p>Hi eof:&nbsp; My control system, including the device which allocates power to the immersion, is in the garage but the immersion is upstairs in the airing cupboard.&nbsp; Running a new cable up to the thermostat would be a real pain.&nbsp; The power cable for the immersion was already nearby so it was easy to connect into this for control purposes.&nbsp; Using an extra C/T, the presence/absence of current in this existing cable could be easily detected in the garage, so I'm with Mark on this one.</p>
<p>Although not used for anything greater than 3kW, my Carlo Gavazzi controller is rated at 30A.&nbsp; Two 3kW loads being temporarily on at the same time would not therefore be a problem.&nbsp; This situation would only occur while the control system works out what to do next, and this process would presumably only take a second or two.</p>
<p>If the Arduino is to determine which load should get the power, there could be two separate AC controllers each fed from a different output pin.&nbsp; An alternative approach might be to have just one AC controller, but with the Arduino being able to connect/disconnect each individual load from the single controlled supply.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4990"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Sun, 24/06/2012 - 21:11.</div>
    <div class="content">
     <p>&nbsp;Yes Rae I think thats the only solution, have two controllers fed from different PWM pins, then mods to the software. Problem is my wife keeps using what we are generating with this partial sunshine here. She wonders why the water is not to warm after using washing machine, vaccume and what ever else she may find to switch on! &nbsp;Telling her that most of the electric is free in the day may have been a mistake. I'm sure some of you guys know what I mean... &nbsp;don't move wash it, arr little darlings. very difficult to explain about &nbsp;Watts and things.<img src="../sites/all/modules/fckeditor2/fckeditor/editor/images/smiley/msn/wink_smile.html" alt="" />&nbsp; But stll.. at the end of the day if you get a tank of luke warm water then it don't take long for the gas to heat it up to temp thereby saving money on gas as well.</p>
<p>Soon for the gas and electric bill to arrive but I'm hoping that the &nbsp;fual bill has dropped.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5040"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fredfred2&#039;s picture" title="fredfred2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by fredfred2 (not verified) on Sat, 30/06/2012 - 09:43.</div>
    <div class="content">
     <p>I've been looking for a thing that does exactly what you describe. The only systems that I've found so far just switch on when you're above a high threshold, which waste loads of power.</p>
<p>I'm new to this forum, but have been looking to find out who makes this  box (pic). The owners of the house  weren't in when we were doing some wiring,  but this thing controls a standard 3kW immersion heater directly. The  panels are only 2kW capacity, so my guess is that some electronics must  turn down the mains to the heater element. There is nothing between the  box and the immersion heater, which is rated at 3kW.</p>
<p>My guess is that this unit works like a dimmer. When I had put a clamp meter on the in and out cables, the current follow and track precisely. There is a current clamp inside the consumer unit, that must work as a sensor to run the show.</p>
<p>But does anyone know who makes this little unit?</p>
<p>cheers,</p>
<p>fred</p>
<p><img src="http://www.raspberrypi.org/phpBB3/download/file.php?id=336" alt="" /></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5048"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 30/06/2012 - 14:24.</div>
    <div class="content">
     <p>Looks a neat solution.&nbsp; I like the idea of the 90-minute override button.</p>
<p>When my Mk2 design is ready, it would be nice if it could be as compact as this.&nbsp; It all depends how much power a zero-crossing Triac will actually dissipate ...</p>
<p>Calypso</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5049"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 30/06/2012 - 16:01.</div>
    <div class="content">
     <blockquote><p>&quot;a zero-crossing Triac will actually dissipate ...&quot;</p>
</blockquote>
<p>... the rms current&nbsp; x the voltage dropped across the device in the 'on' state.&nbsp;</p>
<p>(To size the heat sink? Assume that it is 'on' continuously, and remember of course that the voltage across the triac is essentially constant for the whole half-cycle, at around 1.5 V - but check the data sheet for your particular device).</p>
<p>So likely to be around 20 W for a 3 kW immersion heater load.</p>
<p>Or the same as any other triac for that matter.</p>
<p><strong><em>Update:&nbsp; </em></strong></p>
<p>The 40 A device that Calypso-rae mentions below dissipates 11 W at 12.5 A with a 180&deg; firing angle, according to the data sheet.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5051"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Sat, 30/06/2012 - 18:54.</div>
    <div class="content">
     <p>&nbsp;I don'y know if of any use to you but I put my mains bit in an aluminium dicast box which I had laying around. This acts as an heat sink with the Kemo triac unit etc inside. The case is earthed therefore reduces the emf from the triac unit and the electronics is in a seperate plastic box with lcd on the front. bothe are linked with a 9 pin type rs232 lead and associated plugs and sockets on the cases. The di cast box seems to disipate the heat ok as it only gets warm on a good day.</p>
<p>I think if anyone wants to make a controller then perhaps the KEMO products are ideal, CE marked from Germany and easy to use and install. You need a filter with this 4KW control unit but thats soon sorted with some bits of old radio ferrites and some enameld copper wire to make the inductors and some ac caps as well. This goes back to my early days when we used to make dimmer switches and fit them all over the house.. ha ha.&nbsp;<img src="../sites/all/modules/fckeditor/fckeditor/editor/images/smiley/msn/teeth_smile.html" alt="" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5054"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sat, 30/06/2012 - 21:52.</div>
    <div class="content">
     <p>I&nbsp;mentioned earlier that an SCR has less voltage drop than a triac so if you use a solid-state relay with back-to-back connected SCRs it will dissipate less power.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5055"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-531.jpg" alt="markbeal2&#039;s picture" title="markbeal2&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/531.html" title="View user profile.">markbeal2</a> on Sat, 30/06/2012 - 22:16.</div>
    <div class="content">
     <p>&nbsp;Using SCR's and the DC rating of the thermostat contacts needs to be took into consideration. I don't think the standard tank/immersion thermostats will have a DC rating which will be lower than ac rating as they are normally used on AC. It could avoid creating a sauna if the contacts burn together using a triac control! &nbsp;&nbsp;<img src="../sites/all/modules/fckeditor/fckeditor/editor/images/smiley/msn/confused_smile.html" alt="" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5056"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sat, 30/06/2012 - 22:51.</div>
    <div class="content">
     <p>You are misunderstanding me. &nbsp;Two <strong>back-to-back</strong> SCRs behave like a triac.&nbsp; I am not suggesting sending half-cycles to the heater, which is both antisocial and I&nbsp;believe illegal.</p>
<p>Also, the thermostat wouldn't care even if being fed with half-cycles: the reason why it is rated more for &quot;AC&quot;&nbsp;than &quot;DC&quot; is because every hundredth of a second the current returns to zero, which extinguishes an arc drawn by slowly-separating contacts. &nbsp;If you were to feed it with half cycles the arc would be extinguished just as quickly. &nbsp;DC de-rating is for steady DC, not pulsed DC.</p>
<p>I&nbsp;would be more worried about thermal stress shortening the life of an immersion heater being fed with a regularly changing power as the sun goes in and out and household loads vary.&nbsp; I&nbsp;wonder if anyone has had a heater fail yet, or if its life is not significantly shortened by this.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5058"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 01/07/2012 - 01:11.</div>
    <div class="content">
     <blockquote><p>&quot;an SCR has less voltage drop than a triac&quot;</p>
</blockquote>
<p>I too thought that was the case, but it seems perhaps it isn't. I've just looked up data sheets for comparable ratings (16 A&nbsp;) and the forward drops are almost identical - both the threshold voltage and the slope resistance.</p>
<blockquote><p>&quot;I&nbsp;would be more worried about thermal stress shortening the life of an immersion heater&quot;</p>
</blockquote>
<p>Don't many if not most immersion heaters spend their entire life being thermally cycled with a thermostat? My feeling (and I've no data to back it up) would be that you might actually gain on life because a proportion of thermostat switching operations will not now take place, or they will take place at less than full power. The optimum condition - from the heating element's point of view - is when the hot water use is exactly balanced by the power dumped into it, so the thermostat is never required to switch. I can't see that the much slower changes (than the mechanical switch) due to light variations would have any great effect.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5060"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sun, 01/07/2012 - 08:43.</div>
    <div class="content">
     <p>Ah, thanks for the research - maybe the thyristor tutorial is wrong then.</p>
<p>Yes, an immersion heater is being switched off and on by its thermostat, but I'm guessing in a conventional situation that this doesn't happen very often, especially if you're on Economy Seven, where this will probably happen only once a day, the power being absent for most of the time when water is being used.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5073"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 01/07/2012 - 15:47.</div>
    <div class="content">
     <p>Thanks, Robert, for your estimate that a triac passing 3kW is likely to dissipate around 20W max, and also Mark for indicating that your die-cast mounted triac is working well.</p>
<p>I've never experimeted with triacs, and frankly have very little idea what I'm doing.&nbsp; Paul's video, and various tutorials on the web, have however convinced me that the Arduino can easily control a triac when equipped with a suitable trigger device.&nbsp; </p>
<p>I've bought a couple of triacs and zero-crossing triggers but have yet to try them out.&nbsp; The datasheets for my 16A and 40A triac appear fairly impenetrable to me at present, but the one for the trigger datasheet seems easier to comprehand.&nbsp; Crucially, it provides a standard circuit which I intend to try out in due course.</p>
<p>If anyone more capable than I would like to inspect and interpret the attached datasheets, that would be great ...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5107"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1088.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fewyatt&#039;s picture" title="fewyatt&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/1088.html" title="View user profile.">fewyatt</a> on Wed, 04/07/2012 - 10:07.</div>
    <div class="content">
     <p>I have made many of these proportional controllers and found that 2 immersions quickly failed. The design is now commercially available from <a href="http://www.engensa.com/solar24" title="www.engensa.com/solar24">www.engensa.com/solar24</a> if you buy a PV system from them and I have not had any reports of failures from them. </p>
<p>One failure was my own within a couple of days. I put it down to old immersions that were seldom used being in a bad state. So with more intensive use they soon failed. Old immersions are often in a poor state, particularly in hard water areas, (mine was corroded right through the outer casing) thus I always recommend replacing the element and putting the new safer thermostat type in when the controller is installed.</p>
<p>My new immersion has been running for > one year OK and I’d agree that the fact that it runs almost all the time  at <<3kW offsets the possible slight reliability degradation due to rapidly fluctuating power. Don’t forget that a boiler has significant maintenance costs too so whichever way you heat your water you need to allow for ongoing maintenance/replacements.</p>
<p>It is a good reason not to buy a stepped controller with a 1 or 2kW element. They could fail quickly due to the rapid full power cycling and are expensive to replace, so the already questionable economics of stepped controllers gets worse when element replacement costs added.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5109"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 04/07/2012 - 10:37.</div>
    <div class="content">
     <p><a href="../user/1088.html" title="View user profile.">fewyatt</a></p>
<p>Can you clarify please, by &quot;proportional controller&quot; do you mean phase controlled and by &quot;stepped controller&quot; do you mean burst fire / whole cycle controlled?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5110"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1088.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="fewyatt&#039;s picture" title="fewyatt&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/1088.html" title="View user profile.">fewyatt</a> on Wed, 04/07/2012 - 12:14.</div>
    <div class="content">
     <p>No. "Proportional" means phase controlled or burst fired. "Stepped" means just turning the load fully on when a certain power level is reached. Perhaps "on/off" is a better term than "stepped" although it is possible to have a 2 or more output "on/off" controller, so it is effectively "stepped" as different loads cut in.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5111"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 04/07/2012 - 12:44.</div>
    <div class="content">
     <p>Thanks. I was struggling to understand how a burst fire controller's repetition rate of maybe a second or two, which has to be much less than the thermal time constant of the element, could result in significant stress.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5113"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Wed, 04/07/2012 - 13:43.</div>
    <div class="content">
     <p>Considering how little metal there is in an immersion heater, spread out and in close thermal contact to water, I&nbsp;imagine the time constant is quite short.&nbsp; Therefore, and to make sure the meter doesn't register, it is best to use a variable timebase scheme, which gives the shortest pattern possible for the required power - certainly well under a second.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5114"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 04/07/2012 - 14:29.</div>
    <div class="content">
     <p>The metal is surrounded by a porcelain-type material inside the sleeve. Hopefully, this is thermally conductive and electrically insulating, and it does does add to the mass.</p>
<p>I have lying about a 3.3 kW one out of an old washing machine. I put power on it <strong>in air</strong> for exactly 5 seconds and the surface temperature rose by 45&deg;C from a 21&deg;C ambient.</p>
<p>So agreed, 5 s on followed by 5 s off would undoubtedly stress it. But the present collective wisdom appears to be inclining towards variable length bursts that are just long enough to obtain the required duty cycle, and my considered opinion is this  won't apply too much thermal stress.</p>
<p>(If you require 1% accuracy, that implies a 2 second maximum period - and I doubt a heater would notice 1 cycle missing in 100. And to counter the obvious comment, if you want 51% you fire one cycle on, one cycle off for 2 seconds then skip an 'off' cycle. The algorithm has to be a bit clever though to do this).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5115"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Wed, 04/07/2012 - 14:36.</div>
    <div class="content">
     <p>Ah good - perhaps it's not as bad as I&nbsp;guessed. &nbsp;Did the temperature rise any higher than 45 degrees above ambient after you removed the power?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5116"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 04/07/2012 - 14:46.</div>
    <div class="content">
     <p>The highest temperature I recorded was 66&deg;C, after I'd removed the power. The setup was - shall we say - hairy so I wasn't touching it until there was a clear air gap in both poles of the supply! It cooled very slowly after that - it was still about 55&deg;C after a couple of minutes - I didn't record it accurately.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5120"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 05/07/2012 - 17:22.</div>
    <div class="content">
     <p><em>RW: If you require 1% accuracy, that implies a 2 second maximum period - and I doubt a heater would notice 1 cycle missing in 100. And to counter the obvious comment, if you want 51% you fire one cycle on, one cycle off for 2 seconds then skip an 'off' cycle. The algorithm has to be a bit cle</em><em>ver though to do this</em></p>
<p>Stuart has already provided&nbsp;a comprehensive table&nbsp;of sequences by which power can be dispensed&nbsp;power evenly over a fixed duration window.&nbsp; That's fine if conditions&nbsp;remain constant, but they seldom do for&nbsp;long.&nbsp;&nbsp; Fridges and kettles go on &amp; off, and weather conditions change.&nbsp; Predicting how much&nbsp;surplus power will be available over the next few seconds will never be an exact science.</p>
<p>Although the future is not clear to see, the past is.&nbsp; By knowing precisely how much energy has been imported or exported during recent seconds, a reliable decision can be made as to whether the dump load can be safely turned on 'now'.&nbsp;&nbsp;Modern meters appear to allow a&nbsp;0.001kWh energy window within which energy can flow to and fro without the customer being charged.&nbsp; If we're&nbsp;near the top&nbsp;of this window, then the load can be safely turned on 'now'; but if we're nearer to the bottom, the load should remain off to allow the energy level (hopefully) to build up again.&nbsp;</p>
<p>When using an Arduino to distribute individual mains cycles, I think we may do better to thinking &quot;energy&quot; rather than &quot;power&quot;.&nbsp; With a 3kW dump&nbsp;load, every cycle that is on consumes 60W.&nbsp; Before each cycle is turned on, a decision could in theory be made as to whether there is enough energy 'in the bag' to support that consumption.&nbsp;</p>
<p>I wonder whether anyone else&nbsp;is thinking along these lines?&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5121"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 05/07/2012 - 21:02.</div>
    <div class="content">
     <p>Calypso_rae: I was simply suggesting from the measured results the <strong><em>maximum</em></strong> period that I could envisage would appear to be unlikely to induce large temperature fluctuations in the heating element.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5122"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Thu, 05/07/2012 - 21:31.</div>
    <div class="content">
     <p>If you're thinking energy instead of power, one cycle consumes 60J, not 60W. <img src="../../../community.openenergymonitor.org/emon/sites/all/modules/fckeditor/fckeditor/editor/images/smiley/msn/wink_smile.html" alt="" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5123"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Fri, 06/07/2012 - 11:32.</div>
    <div class="content">
     <p>c<a title="View user profile." href="../user/956.html">alypso_rae</a> : I wonder whether anyone else&nbsp;is thinking along these lines? </p>
<p>&nbsp;</p>
<p>Not really, but I like the idea, originally&nbsp;I was thinking that we needed more granularity that 1%, but I doubt it would make a difference in the real world.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5127"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Fri, 06/07/2012 - 19:51.</div>
    <div class="content">
     <p>Hi folks, just to tidy up a couple of careless slips of mine :(</p>
<p>@RobertWall:&nbsp; Although different approaches for Arduino-based power distribution were aired a few pages earlier on this thread, there's no real connection between that topic and the likely stress on immersion heater elements when using burst mode control.&nbsp; My attempt at a link, posted during a brief window on a borrowed laptop,  was therefore not well made.&nbsp; My apologies.</p>
<p>@eof: Yes, I did indeed mean to say 60J rather than 60W.&nbsp; Oops!</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5129"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Riggers&#039;s picture" title="Riggers&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Riggers (not verified) on Sat, 07/07/2012 - 10:13.</div>
    <div class="content">
     <p>&nbsp;Hi Tim,</p>
<p>I (and Im sure many others) need an 'idiots guide'.</p>
<p>Are you able to provide a 'to do' list of what is required and how to do it?</p>
<p>Im good at DIY but being new to electronics, I do need the above to complete this project. There are many PV switches one can buy, but at &pound;160-300 it seems vert expensive to me, espically when the parts are so cheap.</p>
<p>Kind regards Tim,</p>
<p>&nbsp;</p>
<p>Steve</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5130"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 07/07/2012 - 12:42.</div>
    <div class="content">
     <p>Hi Riggers,</p>
<p>Welcome to the forum.&nbsp; What, exactly, are you wanting to do?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5131"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Riggers&#039;s picture" title="Riggers&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by Riggers (not verified) on Sat, 07/07/2012 - 13:04.</div>
    <div class="content">
     <p>&nbsp;Thank you for getting back to me.</p>
<p>Im trying to 'store' all of the spare electricty from my PV system (rated at 3.4 kw). ABout 50% of the power goes into the grid. I want to use the spare power to heat up the immersion tank (we have four kids, and they use all the hot water!!).</p>
<p>I dont want to spend out on the 'off the shelf' products, as I believe (wth some help and coaching) that I could build it myself. The commersial systems are very expensive - espicially as this is essentially a smart switch.</p>
<p>I have read all the various forums, and there is alot of useful discussion, but I cannot find a 'how to' description of how to complete the switch - and what to buy?</p>
<p>I hope that makes sense?</p>
<p>&nbsp;</p>
<p>Kind regards - Riggers</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5132"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="eof&#039;s picture" title="eof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Solar Energy Management</h3>

    <div class="submitted">Submitted by eof (not verified) on Sat, 07/07/2012 - 14:08.</div>
    <div class="content">
     <p>Probably because different people have designed different things, and ideas are still under development.</p>
<p>Do you have a separate consumer unit for the PV? &nbsp;If not, it's unlikely you will find a single wire which carries all the house current and nothing else, so you will need to use a meter tail and get&nbsp; a sample of the voltage waveform to give you the direction of power flow.&nbsp; (You could also put one of the cores of the PV feed through the same current transformer as the meter tail, assuming there's physical clearance. &nbsp;If you get the combination right, the PV current will be subtracted from the meter current to give you the house current.)&nbsp; The plus side of using a meter tail is that you can build a system with only one current transformer, as you have all the information you need from that and the voltage waveform.</p>
<p>If you use phase angle control then you will need a bulky and expensive filter to comply with emissions regulations.&nbsp; There is a lot of misunderstanding about this, with people thinking that snubber networks are filters, which they aren't, and that just because they don't get interference on their radios it's ok.</p>
<p>If you use burst firing you will need to make sure your meter doesn't register the larger exchange of energy with the grid as consumption.&nbsp; One model of meter has been confirmed to be OK.</p>
<p>I&nbsp;wouldn't recommend using a relay, or even two, with different heater powers.&nbsp; You won't be making the most of your excess power.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<div class="item-list"><ul class="pager"><li class="pager-current first">1</li>
<li class="pager-item"><a href="1762679.html?page=1" title="Go to page 2" class="active">2</a></li>
<li class="pager-next"><a href="1762679.html?page=1" title="Go to next page" class="active">next ›</a></li>
<li class="pager-last last"><a href="1762679.html?page=1" title="Go to last page" class="active">last »</a></li>
</ul></div><form action="https://openenergymonitor.org/emon/node/176"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-rfPjaf4q7nIOiuz8OcXrhc5I8q19mxP1BTF3KsJmFM0" value="form-rfPjaf4q7nIOiuz8OcXrhc5I8q19mxP1BTF3KsJmFM0"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/176 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:33:02 GMT -->
</html>
