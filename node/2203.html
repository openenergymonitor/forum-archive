<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2203 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:05:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Adding Power display to Robin&#039;s PV diverter | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Adding Power display to Robin&#039;s PV diverter</h3>
        <span class="submitted">Submitted by <a href="../user/2867.html" title="View user profile.">9fingers</a> on Fri, 05/04/2013 - 20:15</span>
        <div class="content"><p>I&#39;ve been experimenting with adding a two row display to an Arduino Uno R3 to show the power being currently diverted and the total so far for the day. Using a simple press button the display will show the total for yesterday and the running total for today.</p>
<p>The display I&#39;m using is the Sainsmart 2 row x 16 character display with a few push buttons for input. A minor modification makes the &#39;Select&#39; switch suitable for a digital input on the A0 input.</p>
<p>The display uses 6 digital pins some of which clash with the original pin allocation in Robin&#39;s code so these have been changed and are commented in the source code.</p>
<p>The mode select is now digital pin 2 and the triac drive is from digital pin 3</p>
<p>One restriction of the first release is that the dump load must be greater than the maximum PV output - this suits my installation which is 2.3kWp and a standard 3kW immersion heater.</p>
<p>Power measurement is performed by counting cycles where the triac is on and the bucket is not overflowing. The power rating of the dump load needs to be entered in the code (currently 2750W) and conversion factors are used to display current power in kW and total energy dumped in kWh.</p>
<p>The way the Anti-flicker works does cause the current power to fluctuate unless it is heavily averaged. I&#39;ve use a rolling average scheme to give a 1 second update rate of the latest 20 second average which to me gives an acceptable performance.</p>
<p>A couple of photos show the default display and the optional comparison between the total yesterday with todays running total.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2202.html" class="topic-previous" title="Go to previous forum topic">‹ Solar Diverter Build Confusions...</a>
              <a href="2175.html" class="topic-next" title="Go to next forum topic">eMonTX for a Hydraulic Generator (3 Phases on 220v) ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
