<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3440 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:25:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>New instance - cannot register user | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">New instance - cannot register user</h3>
        <span class="submitted">Submitted by Guest on Mon, 30/12/2013 - 12:32</span>
        <div class="content"><p>Yesterday I installed emoncms v6 on CentOS 5. I chose v6 as I wanted to avoid installing redis on my machine. I understand that emoncms expects to live in /var/www/emoncms while CentOS has a default document root at /var/www/html. Using an Alias directive and a &lt;directory /var/www/emoncms&gt; entry I got the login page to load correctly. I have also verified that mod_rewrite is on and using the .htaccess file. The backend is MySQL and the database got populated with tables, so access is working there as well.</p>
<p>On to the actual question.... When I try to register a user nothing happens. I see a red bar appearing (where an error message would have to appear?), but there is no error message shown. In the error_log of Apache it shows &quot;File does not exist: /var/www/html/var&quot;. Similar issues are reported and seem to be related to mod_rewrite, but as far as I can tell that is working. I tested by forcing a rewrite to the Google webpage (from the .htaccess file) and that redirect worked without problems. What should I try next?</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11061.html" class="topic-previous" title="Go to previous forum topic">‹ New MyElectric Emoncms app, realtime power graph and energy totals</a>
              <a href="11264.html" class="topic-next" title="Go to next forum topic">Translate v9 to german ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-17100"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 30/12/2013 - 13:12.</div>
    <div class="content">
     <p>Could there be a CentOS configuration for where public html should be that is conflicting, causing the error &quot;File does not exist: /var/www/html/var&quot;, it sounds like you have everything else ok.</p>
<p>Might be worth checking the response in your browser console window to a login request it may give some more debug info to go on. Check the response under the &#39;Network&#39; tab in chrome or firefox</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17115"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="tsjoender&#039;s picture" title="tsjoender&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by tsjoender (not verified) on Mon, 30/12/2013 - 19:03.</div>
    <div class="content">
     <p>Thanks Trystan for the quick reply. I have tried the console from Firefox as you suggested and when I hit the register button it shows a 404 for the URL <a href="http://hostname.local.lan/emoncms/user/register.json" title="http://hostname.local.lan/emoncms/user/register.json">http://hostname.local.lan/emoncms/user/register.json</a>. The login page is shown when I go to <a href="http://hostname.local.lan/emoncms" title="http://hostname.local.lan/emoncms">http://hostname.local.lan/emoncms</a>, so the URL appears to be correct. The access, rewrite and error logfiles of Apache don&#39;t show this 404 error or the emoncms/user/register.json URL which I would have expected.</p>
<p>Anything else I should try?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17137"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="spoutin&#039;s picture" title="spoutin&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by spoutin (not verified) on Tue, 31/12/2013 - 03:41.</div>
    <div class="content">
     <p>I&#39;m also having the same issue.</p>
<p>I did find why there are no 404 being shown in the logs. &nbsp;The .htaccess file is configured to send the error to another file that doesn&#39;t exist (/home/&lt;some username&gt;/error.log</p>
<p>Is is the error I&#39;m getting:</p>
<p>PHP Fatal error:&nbsp; Call to a member function fetch_array() on a non-object in /var/www/html/emoncms/Modules/user/user_model.php on line 377</p>
<p>&nbsp;</p>
<p>This error relates to this line:</p>
<p>$result = $this-&gt;mysqli-&gt;query(&quot;SELECT id FROM users WHERE username = &#39;$username&#39;;&quot;);<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $row = $result-&gt;fetch_array();</p>
<p>&nbsp;</p>
<p>What interesting, and I haven&#39;t really started to look into the source code is I&#39;m using redis and not mysql</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17143"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 31/12/2013 - 12:34.</div>
    <div class="content">
     <p>tsjoender: the error 404 for the URL <a href="http://hostname.local.lan/emoncms/user/register.json" title="http://hostname.local.lan/emoncms/user/register.json">http://hostname.local.lan/emoncms/user/register.json</a> is what you would expect if mod_rewrite is not configured properly, might be worth checking the 000-default settings again and doing an apache2 restart?</p>
<p>spoutin: I will fix the htaccess issue. Are you upgrading or installing from scratch, is sounds like the database has not been setup fully. The redis version of emoncms still uses mysql for disk persistence.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17147"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="spoutin&#039;s picture" title="spoutin&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by spoutin (not verified) on Tue, 31/12/2013 - 15:15.</div>
    <div class="content">
     <p>Thanks, i didn&#39;t have the database created. &nbsp;I didn&#39;t realize I needed both databases. &nbsp;I have never used redis before and I wasn&#39;t sure how it worked.</p>
<p>&nbsp;</p>
<p>Tsjoeder: &nbsp;To check if mod_rewrite is installed on Centos&nbsp;look at the following things.</p>
<p><strong>cat /etc/httpd/conf/httpd.conf |grep rewrite</strong></p>
<p><em>LoadModule rewrite_module modules/mod_rewrite.so</em></p>
<p><em>you should see the above output. &nbsp;Also ensure the module is not commented out (look for the #)</em></p>
<p><strong>vi or nano&nbsp;/etc/httpd/conf/httpd.conf</strong></p>
<p>look for the following line:</p>
<p><strong>&lt;Directory &quot;/var/www/html&quot;&gt;</strong></p>
<p>then scroll down from there and look for&nbsp;</p>
<p><strong>AllowOverride</strong></p>
<p>it should be set to All (default is None)</p>
<p>That should be it.</p>
<p>&nbsp;</p>
<p>On another note, I didn&#39;t create an alias for emoncms&nbsp;to run out of /var/www. &nbsp;I&#39;m running it from /var/www/html/emoncms and it seems to be working ok.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17222"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="tsjoender&#039;s picture" title="tsjoender&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by tsjoender (not verified) on Fri, 03/01/2014 - 10:48.</div>
    <div class="content">
     <p>First of all: Happy new year to you all!</p>
<p>Thanks again Trystan and thanks Spoutin for your time. I had tried to change the PHP logfile location (to /var/tmp), but then no file is created, so no</p>
<p>logs I could check. I had also tried the AllowOverride All in the &lt;directory&gt;/var/www/html&lt;/directory&gt; section, but unfortunately no success either.</p>
<p>Mod_rewrite seems to work because if I comment out:</p>
<p>RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]</p>
<p>and replace it with</p>
<p>RewriteRule ^(.*)$ <a href="http://www.google.com/" title="http://www.google.com">http://www.google.com</a> [R]</p>
<p>Then I&#39;m sent to the Google page when I enter the URL <a href="http://hostname.local.lan/emoncms/bla" title="http://hostname.local.lan/emoncms/bla">http://hostname.local.lan/emoncms/bla</a>. This is why I do not suspect that mod_rewrite is not active,</p>
<p>but maybe this test is not conclusive?</p>
<p>Interestingly when I move the emoncms directory to /var/www/html and remove the alias, but add the AllowOverride All to a</p>
<p>&lt;directory&gt;/var/www/html/emoncms&lt;/directory&gt; section, then the error &quot;File does not exist: /var/www/html/var&quot; is not shown anymore in the Apache error log.</p>
<p>Furthermore the PHP errorfile is now created and shows the error:</p>
<p>&quot;PHP Fatal error:&nbsp; Call to undefined function filter_var() in /var/www/html/emoncms/Modules/user/user_model.php on line 140&quot;</p>
<p>That seems related to my PHP version being 5.1.6 as the filter_var function is introduced in 5.2.x... The server on which I intend to run Emoncms runs</p>
<p>other things as well, so upgrading may break things. I&#39;ll think about how to proceed on this one... Perhaps I&#39;ll start with an Ubuntu virtual machine to</p>
<p>test Emoncms out.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26843"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4307.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4307.jpg" alt="mdknightk&#039;s picture" title="mdknightk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/4307.html" title="View user profile.">mdknightk</a> on Sun, 18/01/2015 - 15:47.</div>
    <div class="content">
     <p>I&#39;m having trouble with an install of emoncms on debian wheezy, and could use some advice.</p>
<p>I tried using apt-get and the pre-packaged install, but that method seems to be broken.</p>
<p>So I tried following the instructions here:</p>
<p><a href="https://github.com/emoncms/emoncms/blob/master/docs/LinuxInstall.md" title="https://github.com/emoncms/emoncms/blob/master/docs/LinuxInstall.md">https://github.com/emoncms/emoncms/blob/master/docs/LinuxInstall.md</a></p>
<p>All went swimmingly until I got to:</p>
<p><em>For &lt;Directory /&gt; and &lt;Directory /var/www/&gt; change AllowOverride None to AllowOverride All. This may be on lines 7 and 11 of /etc/apache2/sites-available/000-default. Modern versions of Ubuntu store these in the main config file: /etc/apache2/apache2.conf.</em></p>
<p><em>$ sudo nano /etc/apache2/sites-available/000-default</em></p>
<p><em>or</em></p>
<p><em>$ sudo nano /etc/apache2/apache2.conf</em></p>
<p>/etc/apache2/apache2.conf contains no &lt;Directory ...&gt; entries at all, and /etc/apache2/sites-available/000-default doesn&#39;t exist.</p>
<p>I carried on until this point:</p>
<p><em>Update your database settings to use your new secure password:</em></p>
<p><em>$username = &quot;USERNAME&quot;; $password = &quot;YOUR_SECURE_PASSWORD_HERE&quot;; $server = &quot;localhost&quot;; $database = &quot;emoncms&quot;;</em></p>
<p>I assumed username=emoncms and password=&lt;the secure one I created during MySQL setup&gt;.</p>
<p>But at the end of the install, I find I cannot register a user.</p>
<p><a href="http://192.168.0.13/emoncms/user/register.json" title="http://192.168.0.13/emoncms/user/register.json">http://192.168.0.13/emoncms/user/register.json</a> gives me &quot;404 Not Found&quot; in the console.</p>
<p>I tried following the suggestions here:</p>
<p><a href="http://blog.asiantuntijakaveri.fi/2013/11/ubuntu-1310-x64-with-emoncms.html" title="http://blog.asiantuntijakaveri.fi/2013/11/ubuntu-1310-x64-with-emoncms.html">http://blog.asiantuntijakaveri.fi/2013/11/ubuntu-1310-x64-with-emoncms.html</a></p>
<p>regarding .htaccess setup and &lt;Directory ...&gt; entries in /etc/apache2/apache2.conf but now I get &quot;500 Internal Server Error&quot;.</p>
<p>I&#39;ve reached the outer limits of my knowledge: can anyone point me in the right direction?</p>
<p>Many thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26862"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Mon, 19/01/2015 - 17:52.</div>
    <div class="content">
     <p>Hi&nbsp;</p>
<p>I just ran into this config&nbsp;edit&nbsp;problem.</p>
<p>Try&nbsp;sudo nano /etc/apache2/sites-enabled/000-default</p>
<p>I think the directory has been changed.</p>
<p>Edit</p>
<p>I also&nbsp;have a problem on a new installation on a Pi.</p>
<p>I can reach the login page but register does not work, I just get a pink line. I am fairly sure I have followed the instructions correctly. Any ideas anyone?</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26864"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 19/01/2015 - 19:45.</div>
    <div class="content">
     <p>I recall not being able to find a&nbsp;&quot;sites-enabled&quot; file when I last had a similar issue, Since then I&#39;ve&nbsp;used&nbsp;the following to create the &quot;sites-enabled&quot; during a scripted installation process&nbsp;</p>
<p><strong>sudo sh -c &quot;echo &#39;Alias /emoncms /var/www/emoncms&#39; &gt; /etc/apache2/sites-available/emoncms&quot;<br />
sudo sh -c &quot;echo &#39;&lt;Directory /var/www/emoncms&gt;&#39; &gt;&gt; /etc/apache2/sites-available/emoncms&quot;<br />
sudo sh -c &quot;echo &#39; &nbsp;Options FollowSymLinks&#39; &gt;&gt; /etc/apache2/sites-available/emoncms&quot;<br />
sudo sh -c &quot;echo &#39; &nbsp;AllowOverride All&#39; &gt;&gt; /etc/apache2/sites-available/emoncms&quot;<br />
sudo sh -c &quot;echo &#39; &nbsp;DirectoryIndex index.php&#39; &gt;&gt; /etc/apache2/sites-available/emoncms&quot;<br />
sudo sh -c &quot;echo &#39; &nbsp;Order allow,deny&#39; &gt;&gt; /etc/apache2/sites-available/emoncms&quot;<br />
sudo sh -c &quot;echo &#39; &nbsp;Allow from all&#39; &gt;&gt; /etc/apache2/sites-available/emoncms&quot;<br />
sudo sh -c &quot;echo &#39;&lt;/Directory&gt;&#39; &gt;&gt; /etc/apache2/sites-available/emoncms&quot;<br />
sudo&nbsp;a2ensite&nbsp;emoncms​<br />
sudo service apache2 restart</strong></p>
<p>Paul<span class="rangySelectionBoundary" id="selectionBoundary_1421696245633_21728754020296037" style="line-height: 0; display: none;">﻿</span></p>
<p>​</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26894"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4307.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4307.jpg" alt="mdknightk&#039;s picture" title="mdknightk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/4307.html" title="View user profile.">mdknightk</a> on Tue, 20/01/2015 - 14:10.</div>
    <div class="content">
     <p>Ian,</p>
<p>that is exactly the error I have.</p>
<p>A trawl through Apache2 docs suggests sites-enabled and sites-available directories&nbsp;serve separate functions, but I will look into it further and report back!</p>
<p>Thanks for the pointer.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26896"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4307.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4307.jpg" alt="mdknightk&#039;s picture" title="mdknightk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/4307.html" title="View user profile.">mdknightk</a> on Tue, 20/01/2015 - 14:22.</div>
    <div class="content">
     <p>Paul,</p>
<p>I&#39;ve read the Apache2&nbsp;docs, which suggest that what you&#39;ve done there is create a new virtual host and enable it, rather than edit the default one. T<span style="line-height: 1.6;">hat is probably&nbsp;the right way to do it.</span></p>
<p><span style="line-height: 1.6;">I don&#39;t seem to have a </span>config<span style="line-height: 1.6;"> file</span><span style="line-height: 1.6;"> called &quot;000-default&quot;:possibly</span><span style="line-height: 1.6;">&nbsp;it is just called &quot;default&quot;? That&#39;s what threw me, being an Apache2 noob!&nbsp;</span></p>
<p><span style="line-height: 1.6;">I need to investigate further.</span></p>
<p>Thanks for the hint.</p>
<p>Matt</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26904"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Tue, 20/01/2015 - 21:31.</div>
    <div class="content">
     <p>I suspect the&nbsp;&quot;default&quot;&nbsp;apache2&nbsp;setup may have changed at some point maybe, if (at least) 3 of us have failed to find the same file in the location many before us have found it ok.</p>
<p>Interested to hear what you find, as I can&#39;t explain&nbsp;why it didn&#39;t work, I just remember what I did to get it <u>to</u> work</p>
<p>Paul. &nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26957"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 21/01/2015 - 20:10.</div>
    <div class="content">
     <p>I currently can&#39;t post certain code in the forum because the spam rules keep banning me!! (3 times in last 24hrs), but there is always a way&nbsp;around things until it gets sorted....</p>
<p><img alt="" src="../sites/default/files/rsz_54c00793d2461_0.jpg" style="width: 663px; height: 204px;" /></p>
<p>CORRECTION - the above should read<a href="http://man.he.net/man8/a2ensite">&nbsp;</a><a href="http://man.he.net/man8/a2ensite">a2en</a><a href="http://man.he.net/man8/a2ensite">site</a>&nbsp;&amp; <a href="http://man.he.net/man8/a2ensite">a2dis</a><a href="http://man.he.net/man8/a2ensite">site</a>.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26964"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4307.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4307.jpg" alt="mdknightk&#039;s picture" title="mdknightk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/4307.html" title="View user profile.">mdknightk</a> on Wed, 21/01/2015 - 21:25.</div>
    <div class="content">
     <p>Paul, Ian,</p>
<p>The good news:&nbsp;I got it to work!</p>
<p>Thanks for the guidance.</p>
<p>Annoyingly, I keep getting blocked when I try to post my solution!</p>
<p>Something in there the forum&#39;s filters are objecting to (this thread&nbsp;http://openenergymonitor.org/emon/node/10037).</p>
<p>Matt</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26993"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4307.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4307.jpg" alt="mdknightk&#039;s picture" title="mdknightk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/4307.html" title="View user profile.">mdknightk</a> on Thu, 22/01/2015 - 11:24.</div>
    <div class="content">
     <p>Paul</p>
<p>I have the same problem posting, but I found the same.</p>
<p>I got it working by editing the default virtual host.</p>
<p>When I tried to create my own emoncms&nbsp;virtual host, I couldn&#39;t make it work.</p>
<p><span style="line-height: 20.7999992370605px;">I believe the default&nbsp;</span>symlink<span style="line-height: 20.7999992370605px;">&nbsp;gets prefixed</span><span style="line-height: 20.7999992370605px;">&nbsp;</span><em style="line-height: 20.7999992370605px;">000-</em><span style="line-height: 20.7999992370605px;">&nbsp;</span><span style="line-height: 20.7999992370605px;">so that it gets</span><span style="line-height: 20.7999992370605px;">&nbsp;enabled 1st at run time</span><span style="line-height: 20.7999992370605px;">.</span></p>
<p>Did you mean&nbsp;<strong>a2ensite </strong>and <strong>a2dssite </strong>to enable/disable virtual hosts?</p>
<p><span style="line-height: 1.6;">Matt</span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27026"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Thu, 22/01/2015 - 21:10.</div>
    <div class="content">
     <p>Matt</p>
<p>For the linux challenged (me in this instance) can you give the exact steps you have to do to get it to work.</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27028"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 22/01/2015 - 21:36.</div>
    <div class="content">
     <p>Matt, yes of course a2ensite and a2dissite!!</p>
<p>I was distracted by<a href="10037.html"> being banned 3 times by the OEM server</a> whilst posting the above!!</p>
<p>Ian, Do you have &nbsp;&#39;sites-available&#39; and &#39;sites-enabled&#39; folders?<br />
If you have a &#39;sites-available&#39; folder, does it contain an apache&nbsp;configuration file called &#39;default&#39;?<br />
If so, you need to edit that file in accordance with your installation (make a backupcopy of it first), and then create a symlink (which will be automatically named 000-default) in your &#39;sites-enabled folder. So from your &#39;sites-available folder;</p>
<pre>
$ sudo a2ensite default</pre><p>So now when Apache runs, it will&nbsp;look in the &#39;sites-enabled&#39; folder and read the &#39;default&#39; file in &#39;&#39;sites-available&#39; via the symlink.</p>
<p>Hope this helps.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27049"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4307.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4307.jpg" alt="mdknightk&#039;s picture" title="mdknightk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/4307.html" title="View user profile.">mdknightk</a> on Fri, 23/01/2015 - 14:58.</div>
    <div class="content">
     <p>Ian,</p>
<p>I&#39;d love to, but seem to be banned from posting certain things!</p>
<p>Matt&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27052"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 23/01/2015 - 17:37.</div>
    <div class="content">
     <p>Hi Ian,&nbsp;Sent you a PM.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28817"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7869.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="tonypascal&#039;s picture" title="tonypascal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/7869.html" title="View user profile.">tonypascal</a> on Thu, 19/03/2015 - 16:27.</div>
    <div class="content">
     <p>Hi there, I have the same problem, could you please also let me know how you solved it ?</p>
<p>thanks !</p>
<p>Tony</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34213"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Wed, 16/09/2015 - 20:41.</div>
    <div class="content">
     <p>I did it by adding this:</p>
<p><em>&lt;Directory /var/www/html/emoncms/&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Options Indexes FollowSymLinks<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AllowOverride All<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Require all granted<br />
&lt;/Directory&gt;</em></p>
<p>In the /etc/apache2/apache2.conf file</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34219"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New instance - cannot register user</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Wed, 16/09/2015 - 21:56.</div>
    <div class="content">
     <p>Hi fluppie,</p>
<p>Interesting that you posted the same &quot;fix&quot; as shown <u><a href="http://blog.asiantuntijakaveri.fi/2013/11/ubuntu-1310-x64-with-emoncms.html">here</a></u>. (with the exception of html in your path, it&#39;s identical)</p>
<p>It&#39;s dated - timestore was in use when it was written.</p>
<p>Some rather eye-opening comments regarding the mod rewrite stanza are on that page too.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/3440"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-qXdMYtvVBCvSKWvVw3fxTLpzGaD_3jJIIl0iG__AFOQ" value="form-qXdMYtvVBCvSKWvVw3fxTLpzGaD_3jJIIl0iG__AFOQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
