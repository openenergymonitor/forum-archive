<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2245 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:33:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Control RF Mains Plugs using the RFM12Pi | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Control RF Mains Plugs using the RFM12Pi</h3>
        <span class="submitted">Submitted by Guest on Tue, 16/04/2013 - 09:48</span>
        <div class="content"><p>I&#39;ve recently got a&nbsp;RFM12Pi&nbsp;connected to my Pi, and am looking to try to control my RF Mains Plugs (<a href="http://www.maplin.co.uk/remote-controlled-mains-sockets-5-pack-348217" title="http://www.maplin.co.uk/remote-controlled-mains-sockets-5-pack-348217">http://www.maplin.co.uk/remote-controlled-mains-sockets-5-pack-348217</a>) from it.</p>
<p>&nbsp;</p>
<p>There&#39;s a project which allows it to send the correct signal at <a href="https://github.com/dmcg/raspberry-strogonanoff" title="https://github.com/dmcg/raspberry-strogonanoff">https://github.com/dmcg/raspberry-strogonanoff</a> but that assumes you have a transmitter connected directly to the GPIO pins on the Pi, which I don&#39;t have.</p>
<p>&nbsp;</p>
<p>Is there a way to send this signal through the RFM12Pi?</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10167.html" class="topic-previous" title="Go to previous forum topic">‹ RFM12Pi vs RFM69Pi differences and implications</a>
              <a href="4024.html" class="topic-next" title="Go to next forum topic">emonplus? emonSCADA?  Looking for feedback on new hardware + Pictures ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-11552"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3623.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="manicmoddin&#039;s picture" title="manicmoddin&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/3623.html" title="View user profile.">manicmoddin</a> on Tue, 23/04/2013 - 19:53.</div>
    <div class="content">
     <p>Hi,</p>
<p>&nbsp;</p>
<p>I dont believe there will be as most of these units use a 433 MHZ AM signal not the FM that the RF Transceivers use.</p>
<p>	I have had limited suces using the other transmitter / receiver pair that they sell (vy48 [http://www.maplin.co.uk/transmitter-and-receiver-pair-22965]) with mome easy kits and an arduino, so if you can get the GPIOs working on the Pi, this should be fine in this instance but there will be some cross over required.</p>
<p>Google Home easy hacks and you will find what I have for them, Currently not got anything set up, but will be doing in the near future hopefully.</p>
<p>&nbsp;</p>
<p>Jimmy</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12813"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3867.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3867.jpg" alt="paul_tanner&#039;s picture" title="paul_tanner&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/3867.html" title="View user profile.">paul_tanner</a> on Mon, 10/06/2013 - 10:26.</div>
    <div class="content">
     <p>I&#39;m also working on this.</p>
<p>As I am not running emoncms on this project I want to do a standalone demo and am going to try in node.js first (PHP and python are fallback options). &nbsp;This will initially do something simple like toggle a socket on and off. &nbsp;I&#39;ll use BBSB sockets which are compatible with the KAKU OOK&nbsp;protocol.&nbsp;</p>
<p>Have not got past plugging the unit in yet but any comments welcome.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12818"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3867.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3867.jpg" alt="paul_tanner&#039;s picture" title="paul_tanner&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/3867.html" title="View user profile.">paul_tanner</a> on Mon, 10/06/2013 - 12:37.</div>
    <div class="content">
     <p>Got a little further. &nbsp;Sent &quot;1,1,1k&quot; and got back:</p>
<p>&gt; 0k</p>
<p>Available commands:<br />
	&nbsp; 123 x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Toggle configuration change protection, 1=Unlocked<br />
	&nbsp; &lt;nn&gt; i&nbsp;&nbsp;&nbsp;&nbsp; - set node ID (standard node ids are 1..26)<br />
	&nbsp; &lt;n&gt; b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - set MHz band (4 = 433, 8 = 868, 9 = 915)<br />
	&nbsp; &lt;nnn&gt; g&nbsp;&nbsp;&nbsp; - set network group (RFM12 only allows 212, 0 = any)<br />
	&nbsp; &lt;n&gt; c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - set collect mode (advanced, normally 0)<br />
	&nbsp; ...,&lt;nn&gt; a - send data packet to node &lt;nn&gt;, with ack<br />
	&nbsp; ...,&lt;nn&gt; s - send data packet to node &lt;nn&gt;, no ack<br />
	&nbsp; &lt;n&gt; l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - turn activity LED on DIG8 on or off<br />
	Current configuration:<br />
	65 i1 g210 @ 433 MHz&nbsp; Lock: 1</p>
<p>which tells me that the k command is not supported in the supplied firmware.</p>
<p>I need to get hold of an updated version.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12857"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ffimon&#039;s picture" title="ffimon&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by ffimon (not verified) on Tue, 11/06/2013 - 12:08.</div>
    <div class="content">
     <p>Being the thug I am I would have probably tried interfacing to the remote.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12862"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Tue, 11/06/2013 - 13:14.</div>
    <div class="content">
     <p>KAKU code was removed from the RFM2Pi firmware to save space and keep code size &lt;8K when the project was running on Attiny84. Now it can be easily returned for the v2 boards with Atmega328. I have experimented with sending OOK&nbsp;to power plugs with a RFM12B and it works well on short distance, however while sending OOK you will miss packets.. In my view, a dedicated 433mhz OOK sender is a better option.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12870"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Tue, 11/06/2013 - 16:45.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>As martin said the KAKU code is not in the RF12 demo currently running on your RFM12Pi./&nbsp;</p>
<p>The sketch which is running on your RFM12Pi is: <a href="https://github.com/mharizanov/RFM2Pi/blob/master/firmware/RF12_Demo_atmega328/RF12_Demo_atmega328.ino">https://github.com/mharizanov/RFM2Pi/blob/master/firmware/RF12_Demo_atmega328/RF12_Demo_atmega328.ino</a></p>
<p>as you can see the remote KAKU commands are not listed.</p>
<p>I&#39;ve just created a new sketch in the RFM12Pi repo on mharizanov github called Full_RF12demo_atmega328. It&#39;s the vanilla RFM12 demo sketch from JeeLabs bit with a few tweaks such as baud rate, turn off bad packet reporting and &quot;OK&quot; printing:&nbsp;<a href="https://github.com/mharizanov/RFM2Pi/tree/master/firmware/Full_RF12demo_atmega328">https://github.com/mharizanov/RFM2Pi/tree/master/firmware/Full_RF12demo_atmega328</a></p>
<p>It&#39;s quite easy to update your RFM12Pi. If you&#39;re running the prebuilt emoncmspi SD card then simply run:</p>
<p>cd RFM2Pi/firmware/<br />
	git pull<br />
	cd RFM12Pi Full_RF12demo_atmega328<br />
	$ sudo service rfm12piphp stop<br />
	sudo avrdude -v&nbsp; -c arduino -p ATMEGA328P -P /dev/ttyAMA0 -b 38400 -U flash:w:Full_RF12demo_atmega328.cpp.hex</p>
<p>If your not running the pre-built emoncmspi SD card then you will need to follow the instructions here to get avrdude to work on you&#39;re raspi: <a href="http://wiki.openenergymonitor.org/index.php?title=RFM12Pi_V2#Upgrading_RFM12Pi_Firmware_Direct_from_the_Pi">http://wiki.openenergymonitor.org/index.php?title=RFM12Pi_V2#Upgrading_RFM12Pi_Firmware_Direct_from_the_Pi</a></p>
<p>I&#39;ve tested the new sketch here on my Pi and it works fine to receive data and log to emocms (normal RFM12Pi operation)</p>
<p>Let me know how you get on. Best of luck.</p>
<p>Glyn.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12871"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Tue, 11/06/2013 - 16:52.</div>
    <div class="content">
     <p>If you have an emonTx / JeeNode&nbsp;/ NanodeRF / Arduino + RFM12B&nbsp;to hand you could try the kaku demo in the JeeLib examples</p>
<p><a href="https://github.com/jcw/jeelib/tree/master/examples/RF12/kaku_demo">https://github.com/jcw/jeelib/tree/master/examples/RF12/kaku_demo</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12896"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3867.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3867.jpg" alt="paul_tanner&#039;s picture" title="paul_tanner&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/3867.html" title="View user profile.">paul_tanner</a> on Wed, 12/06/2013 - 10:35.</div>
    <div class="content">
     <p>Thx Glyn,</p>
<p>I have now updated the firmware in the RFM12pi with your full version and everything is working.</p>
<p>As I am doing this standalone I used this procedure (adapted from the above link).</p>
<p>$ sudo apt-get update # just in case</p>
<p>$ sudo apt-get install arduino</p>
<p>$ sudo apt-get install python-dev</p>
<p>$ sudo apt-get install python-rpi.gpio<br />
	$ git clone <a href="https://github.com/mharizanov/avrdude-rpi.git" title="https://github.com/mharizanov/avrdude-rpi.git">https://github.com/mharizanov/avrdude-rpi.git</a><br />
	$ cd avrdude-rpi<br />
	$ sudo cp autoreset /usr/bin<br />
	$ sudo cp avrdude-autoreset /usr/bin<br />
	$ sudo mv /usr/bin/avrdude /usr/bin/avrdude-original<br />
	$ sudo ln -s /usr/bin/avrdude-autoreset /usr/bin/avrdude<br />
	$ cd ..<br />
	$ git clone <a href="https://github.com/mharizanov/RFM2Pi.git" title="https://github.com/mharizanov/RFM2Pi.git">https://github.com/mharizanov/RFM2Pi.git</a><br />
	$ cd RFM2Pi/firmware/Full_RF12demo_atmega328<br />
	$ avrdude -v&nbsp; -c arduino -p ATMEGA328P -P /dev/ttyAMA0 -b 38400 -U flash:w:Full_RF12demo_atmega328.cpp.hex<br />
	&nbsp;</p>
<p>Then you can control the thing via minicom (my BBSB socket set to channel A1)&nbsp;</p>
<p>minicom -b 9600 -o -D /dev/ttyAMA0</p>
<p>1,1,1k&nbsp;to turn on</p>
<p>1,1,0k to turn off</p>
<p>Also wrote a program in node.js with module &quot;serialport&quot; that flashes a light connected to the socket.</p>
<p>This can be done in your language of choice of course.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12925"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Wed, 12/06/2013 - 16:13.</div>
    <div class="content">
     <p>Ya! Fantastic news. Good work.</p>
<p>Could you post up the make and model of the plug so that others can also get this to work.&nbsp;</p>
<p>I&#39;ll test the full RFM12Demo sketch to work for standard emoncmspi operation, if it works without a hitch after a period of time I&#39;ll make this the default firmware that shipped on the RFM12Pi&#39;s.</p>
<p>I&#39;ll also talk to Trystan&nbsp;regarding making a emoncms&nbsp;GUI amd event trigger in emoncms.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13952"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Fabio&#039;s picture" title="Fabio&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by Fabio (not verified) on Wed, 31/07/2013 - 09:53.</div>
    <div class="content">
     <p>Hi guys,</p>
<p>I have managed to control&nbsp;Elro Remote Switches via the RFM12Pi v2 module.</p>
<p>Now I also want to receive plain RF&nbsp;codes.</p>
<p>Is there any way to communicate with the&nbsp;rfm12b itself?</p>
<p>Like digitalRead or something less JeeLib-ish? JeeLib only seems to support group and node communication...</p>
<p>&nbsp;</p>
<p>I was thinking about a sketch like this:&nbsp;http://forum.jeelabs.net/files/RFM12B_Receive_RC_switch.pde</p>
<p>&nbsp;</p>
<p>Thanks!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16328"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4734.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="galen&#039;s picture" title="galen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/4734.html" title="View user profile.">galen</a> on Fri, 15/11/2013 - 14:00.</div>
    <div class="content">
     <p>Hi guys,</p>
<p>First of all, sorry for my English I&#39;m French,</p>
<p>I would like to monitor my house temperature with :</p>
<p>raspberrry pi&nbsp; + RFM12Pi 433Mhz and some oregon scientific sensor</p>
<p>i have some information about&nbsp; the subject sorry in french but the code is universal :)</p>
<p><a href="http://connectingstuff.net/blog/decodage-protocole-oregon-arduino-1/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+ConnectingStuff+%28Connecting+Stuff%29&amp;utm_content=Google+International">http://connectingstuff.net/blog/decodage-protocole-oregon-arduino-1/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+ConnectingStuff+%28Connecting+Stuff%29&amp;utm_content=Google+International</a></p>
<p><a href="http://connectingstuff.net/blog/decodage-des-protocoles-oregon-scientific-sur-arduino-2/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+ConnectingStuff+%28Connecting+Stuff%29&amp;utm_content=Google+International">http://connectingstuff.net/blog/decodage-des-protocoles-oregon-scientific-sur-arduino-2/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+ConnectingStuff+%28Connecting+Stuff%29&amp;utm_content=Google+International</a></p>
<p><a href="http://connectingstuff.net/blog/decodage-des-protocoles-oregon-scientific-sur-arduino-33/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+ConnectingStuff+%28Connecting+Stuff%29&amp;utm_content=Google+International">http://connectingstuff.net/blog/decodage-des-protocoles-oregon-scientific-sur-arduino-33/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+ConnectingStuff+%28Connecting+Stuff%29&amp;utm_content=Google+International</a></p>
<p>do you think it&#39;s possible to do this ? or i&#39;m a noob and i have misunderstood something :d</p>
<p>Thanks for your answers</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17906"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mtully&#039;s picture" title="mtully&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by mtully (not verified) on Sun, 26/01/2014 - 11:51.</div>
    <div class="content">
     <p>Hi all,</p>
<p>I installed the &quot;full&quot; firmware on my RFM12 pi with the intention of using KAKU. I noticed that my emoncms web UI&nbsp;became unresponsive after a few months, and tracked it back to a bug in the firmware, which was causing hundreds of inputs to be created causing the UI to get bogged down.</p>
<p>Pull request here:&nbsp;https://github.com/mharizanov/RFM2Pi/pull/6</p>
<p>Sorry - I don&#39;t know how to compile the .hex file from the .ico on OS X, if anyone can tell me I&#39;ll happily compile the .hex and include it in the pull request also.</p>
<p>Cheers,</p>
<p>Mark</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17914"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Sun, 26/01/2014 - 22:42.</div>
    <div class="content">
     <p>Pull request has been merged, cheers Mark</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28014"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7625.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7625.png" alt="xrayman&#039;s picture" title="xrayman&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/7625.html" title="View user profile.">xrayman</a> on Sat, 21/02/2015 - 14:32.</div>
    <div class="content">
     <p>Sorry for digging up this post.</p>
<p>I&#39;m not certain if this helps anyone?</p>
<p>I bought the remote controls described in the very first post of this thread. I must admit I had misread the thread and believed that the author further down had been successful in getting them to work. Never mind, I did pull the remote apart and stuck an oscilloscope onto the RF output and recorded traces for ON/OFF for each channel and button combination. I have CSV files as well as these screen grabs. If anyone wants the CSV files I&#39;ll post them as a zip.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28029"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 21/02/2015 - 21:55.</div>
    <div class="content">
     <p>It&#39;s definitely interesting, I can&#39;t comment on how useful the CSV data is (probably&nbsp;&#39;very&#39; in the right hands)&nbsp;but certainly if the file sizes permit an upload I would be keen to take a look and once they are uploaded we can refer back to them if they are useful it the future.</p>
<p>I have several packets of these OOK mains adapters and I intend to get them hooked up one day. (another hopeful ambition on my forever&nbsp;escalating list of things to do)&nbsp;.</p>
<p>Plu the (hopefully) soon to be released emonPi&nbsp;has provision for a OOK transmitter so that should stir up some interest too.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28031"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sat, 21/02/2015 - 22:29.</div>
    <div class="content">
     <p>Paul,</p>
<p>I&#39;m not clued up on the new Hope transceiver but I can&#39;t imagine it can run both AM and FM in tandem. I imagine you will either have to use it as one or the other so&nbsp;if you switch to AM then you&#39;ll potentially miss transmissions from any emonTX.</p>
<p>So as per some of the other threads on this topic, you will need one transceiver for FM style modulation for talking to emonTXs and one for AM style OOK modulation for talking to rf sockets etc.</p>
<p>So in the emonPi the Hope transceiver will be used for comms with emon devices and therefore won&#39;t be available for OOK type comms.</p>
<p>Please correct me if I&#39;m wrong here.</p>
<p>Simon</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28032"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 21/02/2015 - 22:57.</div>
    <div class="content">
     <p>Hi Simon, what you say is&nbsp;correct (although you could run rfm12&#39;s) &nbsp;However</p>
<blockquote><p>Plus the (hopefully) soon to be released emonPi&nbsp;<strong>also</strong>&nbsp;has provision for an&nbsp;OOK transmitter in&nbsp;<span style="line-height:20.7999992370605px">&nbsp;</span><strong style="line-height:20.7999992370605px">addition to the usual&nbsp;RFM transiever,&nbsp;</strong>so that should stir up some interest too.</p>
</blockquote>
<p>I&#39;ll correct myself instead, for not being clearer :-)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28040"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sun, 22/02/2015 - 08:30.</div>
    <div class="content">
     <p>Got it Paul, I hadn&#39;t noticed that, or had forgotten that it was there on the board layout. But then it&#39;s been almost a year since this was first mooted...... &nbsp; &nbsp;;-)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28317"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7625.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7625.png" alt="xrayman&#039;s picture" title="xrayman&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/7625.html" title="View user profile.">xrayman</a> on Sun, 01/03/2015 - 11:59.</div>
    <div class="content">
     <p>Sorry for the slow reply I think I need to have a look at my notification settings. I&#39;ve uploaded the files in an archive. Each folder corresponds to a signal generated from the remote. There are files (index.txt, index.pdf) explaining which channel and button was pressed to generate which signal (and folder).</p>
<p>&nbsp;</p>
<p>I did find a blog online that showed how to generate the pulse sequences and then to use it to turn the plug on and off:</p>
<p><a href="http://jeelabs.org/2009/03/03/ook-signaling-with-an-rfm12b/" title="http://jeelabs.org/2009/03/03/ook-signaling-with-an-rfm12b/">http://jeelabs.org/2009/03/03/ook-signaling-with-an-rfm12b/</a></p>
<p>I&#39;m not sufficiently versed in the rfm12b to have tried it yet. I also use my Pi for monitoring so I do not mind loosing&nbsp; a few status packets to automate turning lights on and off I do mind loosing a lot whilst I make a mess of things trying to learn to program it.</p>
<p>I&#39;m also much happier in python, fortran and PHP than other languages so they do take a while to get right.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28322"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Control RF Mains Plugs using the RFM12Pi</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 01/03/2015 - 13:21.</div>
    <div class="content">
     <p><span class="rangySelectionBoundary" id="selectionBoundary_1425216070716_31273871939629316" style="display:none; line-height:0">﻿</span>Thanks for posting the data I shall take a closer look when I can.</p>
<p>JeeLib&nbsp;and the RF12demo sketches&nbsp;do already have an option or interface&nbsp;for OOK.</p>
<p>Depending on your setup you could just&nbsp;run a second device for OOK, If using a Pi with a RFM2Pi&nbsp;consider adding a JeeLink or jeeNode, that way you can leave one ticking over while experimenting on the other.&nbsp;</p>
<p>emonHub is python based and can use a Jeelink, JeeNode or rfm2pi&nbsp;for data, if you are willing I wouldn&#39;t mind collaborating&nbsp;on a python based OOK interface. We could try using a stock firmware with OOK api on the rfm device and do the work in python.</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2245"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-OxQp5HTwZdjpl8QGnOd76Q6qD9tntSLqbtFFbXtHe1U" value="form-OxQp5HTwZdjpl8QGnOd76Q6qD9tntSLqbtFFbXtHe1U"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
