<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2865 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:21:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Help with first timer setup:  emontx with more than 3 CT sensors input? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>
        <span class="submitted">Submitted by Guest on Sun, 22/09/2013 - 14:24</span>
        <div class="content"><p>Hi!&nbsp; So I have finished building the emonBase using a R-Pi with emoncms and I think this is working fine so far (I haven&#39;t actually had the chance to try it yet to I cannot confirm the antenna RFM12Pi is working yet).</p>
<p>Next step would be to purchase or build a emontx that could monitor 22 electrical circuits from my main electrical panel. Overkill?&nbsp; Perhaps.&nbsp; But here&#39;s why I am looking to do this:</p>
<p>The current emontx design from you guys takes only 3 CT inputs and the sensors seems to be capped at 100A max each.&nbsp; This means that in my case I will not be able to monitor the entire house&#39;s electrical consumption&nbsp; from the main since it is 200A.</p>
<p>The other possibility is to build an emontx with 22 CT sensors and monitor each circuit independently.&nbsp; Software-wise, the sum of all readins will +/- equal to the main&#39;s reading. This also offer the advantage to monitor circuit independently which is usefiul for diagnosing a suspected faulty device such as a baseboard heater, the hot water heater, etc...</p>
<p>So questions for now are:</p>
<p>Is it possible to retrofit the emontx with 200A CT sensors?</p>
<p>If not, then is it possible to build a emontx base with 22 CT inputs?</p>
<p>I am not too experienced in the field so a little explanations would be greatly welcome! ;)</p>
<p>&nbsp;</p>
<p>Thanks!</p>
<p>Note: Not so important to mention but interesting, I want to build this system because since I have changed house, I have received electricity bills at least 40% higher than my known consumption at the previous house.&nbsp; My utility company has stated that their meter wasn&#39;t faulty, but being a single guy working 14 hours per day and having nothing running at home when Im not here, getting a bill of 4,560kWh for 52 days is INSANE!!!!&nbsp; Impossible, my previous bills in my previous house were at least 60% less than what they are now.</p>
<p>Someone tapping into my power? Its a condo unit.&nbsp; I intend t use your equipment to monitor the usage&nbsp; and support my case against the utility company, or if I really use that much electricity (!!) then pin-point the faulty device.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2860.html" class="topic-previous" title="Go to previous forum topic">‹ emontx shield</a>
              <a href="2868.html" class="topic-next" title="Go to next forum topic">Help With  SMA10000TL inverter  ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-15356"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 22/09/2013 - 19:48.</div>
    <div class="content">
     <p>Measuring the flow of energy at&nbsp; 20+ points would not be practical with one emonTx.&nbsp; There&#39;s only processing power to monitor two or three circuits at once.&nbsp; I think you&#39;d be best to measure just at the points where power enters or leaves the premises.</p>
<p>I don&#39;t think there&#39;s any maximum on the amount of AC current that can be measured.&nbsp; It&#39;s the CT along with its input circuit which determines the signal which goes to the processor.&nbsp; If the output signal from the CT is too great, you could maybe use only a fraction of it as is generally done with the AC voltage feed.&nbsp; Or use a smaller burden resistor.</p>
<p>With such a high maximum current to be measured, you could not expect to get good accuracy at low levels of power.&nbsp;</p>
<p>Maybe you could switch off all your equipment for a while and see whether the numbers keep on counting or not.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15358"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 22/09/2013 - 21:22.</div>
    <div class="content">
     <p>As Robin says, there is no limit to the current that the emonTx can handle, it&#39;s the current transformer you use that determines the maximum current. If you want 200 A, then I suggest a <a href="http://www.magnelab.com/products/current-voltage-sensors/split-core-ac-current-sensor-sct-1250">600 A Magnelab</a>, the -000 version with an external burden resistor (600 A because Magnelab c.t&#39;s are designed for 0.333 V output, whereas you need about 1 V for the emonTx. You change the 18 &Omega; burden on the emonTx PCB to 37.5 &Omega; - 36 &Omega; is the best standard value in practice. You also need to alter one line in the code to change the calibration.)</p>
<p>With the emonTx, you can expect reasonable accuracy down to about 1% of the maximum, below that the accuracy deteriorates.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15364"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 23/09/2013 - 17:39.</div>
    <div class="content">
     <p>My own Mk2 rig uses the smaller version of this CT which claims to go up to 200A.&nbsp;</p>
<p><a href="http://www.magnelab.com/products/current-voltage-sensors/split-core-ac-current-sensor-sct-0750">http://www.magnelab.com/products/current-voltage-sensors/split-core-ac-current-sensor-sct-0750</a></p>
<p>(I&#39;m using the SCT-0750-000 version, with a burden resistor of 680R.&nbsp; This CT is much less sensitive that the YHDC one)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15390"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="lpallard&#039;s picture" title="lpallard&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>

    <div class="submitted">Submitted by lpallard (not verified) on Tue, 24/09/2013 - 17:01.</div>
    <div class="content">
     <p>Thanks guys for replying!!!</p>
<p>&nbsp;</p>
<p>I have double checked the main&#39;s capacity, it is 125A not 200A!</p>
<p>I understand the accuracy issue with sensors having a high capacity when reading low values....&nbsp; Really when you think about it, if the main is sized for 125A, its very unlikely that I would use more than 100A at the same time...</p>
<p>Assuming the WORST case scenario:&nbsp; the default emonTX sensor rated at 100A represents 80% of my main&#39;s capacity (125A).&nbsp; 80% is a LOT, probably way too much for any scenario to be realistic.</p>
<p>I guess the default sensors at 100A is sufficient.</p>
<p>Now on to the questions:</p>
<p><strike><strong>In the future, lets say I opt to &quot;upgrade&quot; the CT sensor with a 200A or more, would I need to purchase another emontx or can I retrofit it easily?</strong></strike></p>
<p><strike><strong>The current shop carries only 433 &amp; 868MHz emontx nodes.&nbsp; I am in canada and my Raspberry Pi uses a 915MHz RFM12Pi antenna.&nbsp; How can I retrofit the emontx with a 915MHz RF module??</strong></strike></p>
<p><strike><strong>Finally, the shop no longer carries emontx nodes.&nbsp; What are my options?&nbsp; I am comfortable building my own provided there is an online guide of some sort...&nbsp; I am very strong in soldering but I need guidance not to solder the components in the wrong locations...</strong></strike></p>
<p><u><strong>EDIT:&nbsp; I have noticed that there are emontx shields in the shop.&nbsp; I already own a Arduino UNO.&nbsp; Perhaps this is a viable option?</strong></u></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15391"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="lpallard&#039;s picture" title="lpallard&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>

    <div class="submitted">Submitted by lpallard (not verified) on Tue, 24/09/2013 - 17:00.</div>
    <div class="content">
     <p>Well I think I have answered most of my questions!</p>
<p>Looking at the CT sensors , the product page says they have an opening iof only 13mmx13mm... I am pretty sure the main cable coming from the utility is much bigger than that (top of my head, I&#39;d say around 20mm including the insulation and jacket).&nbsp; That would mean to buy a CT sensor capable of such wire size.&nbsp; I suspect most sensors that are capable of clamping around such wire would have a capacity rated &gt;&gt; 100A...&nbsp;</p>
<p>I will confirm the wire size as soon as possible.</p>
<p>Other than that, I was thinking about this strategy:</p>
<p>EmonTX shield (no RF)</p>
<p>Standalone RFM12B module at 915MHz then soldered onto the emontx shield</p>
<p>Arduino UNO</p>
<p>3X 100A CT sensors from this shop (to measure power from 3 larger circuits (hot water heater, living room heaters, stove))</p>
<p>1X 200A (ideally if possible 150A) CT sensor to be capable of large wire (18-20mm?)</p>
<p>Would that work?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15392"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 24/09/2013 - 18:19.</div>
    <div class="content">
     <p>The short answer - yes.</p>
<p>The long answer - if you go for a c.t. other than the shop standard one, you need to consider the output voltage that the c.t. is capable of. If you go for the larger Magnelab (with a large aperture), remember what I wrote above about the VA rating.</p>
<p>You can swap c.t. and burden resistor at any time in the future (and of course you&#39;ll need to re-calibrate the sketch).</p>
<p>But just a word of warning: don&#39;t consider changing the RF module. Once you&#39;ve soldered the RFM12B module, you will find it very hard if not impossible to remove, as it is surface-mount with 14 joints that need to be melted simultaneously.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15393"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 24/09/2013 - 21:34.</div>
    <div class="content">
     <p>The <em>emonTxShield_CT1234_voltage.ino</em> sketch can only deal with one input at a time.&nbsp; It will measure each input (CT &amp; voltage) for a short period (0.2 seconds I think) before moving on to the next one.&nbsp; Then it will dispatch the relevant data via RF and wait for 2 seconds before starting the sequence again.&nbsp;</p>
<p>To measure power at all four inputs simultaneously would require a new interrupt-based sketch.&nbsp; Each ADC conversion takes 104 uS, so each set of 5 need could take as little as 520 uS.&nbsp; At 50 Hz, that&#39;s 38 sets of samples per 20000 uS period.&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15396"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 24/09/2013 - 22:16.</div>
    <div class="content">
     <p>Just to put calypso_rae&#39;s comment into context and to add a bit of explanation, exactly the same applies to the emonTx, but with only 3 current inputs slightly more samples can be taken each cycle.</p>
<p>The &quot;basic&quot; sketch mentioned - primarily designed for battery operation - measures current and voltage for 10 cycles (0.2 s for us, not for you, but this can be set in the sketch) and this measurement is repeated for each current input in use. The result is then transmitted by radio, and the processor put to sleep for 5 s. Then the sequence is repeated. In this mode, around 46 sample pairs are read each mains cycle (with 60 Hz mains), giving a good measure of the true rms voltage and current and the average real and apparent powers with a reasonably steady load, but not so good with rapidly fluctuating or switched loads.</p>
<p>In the &quot;interrupt-based&quot; sketch, the analogue to digital converter free runs in the background and feeds values to the main sketch. Thus it can run continuously and faster, whilst still performing the same calculations and feeding the results by radio. Unfortunately the downside is a mains power supply is required as the battery life would be too short. With 60 Hz mains, you&#39;re still looking at maybe 32 sets of 5 samples per cycle - much faster.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15412"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with first timer setup:  emontx with more than 3 CT sensors input?</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 25/09/2013 - 14:39.</div>
    <div class="content">
     <p><em>With 60 Hz mains, you&#39;re still looking at maybe 32 sets of 5 samples per cycle - much faster.</em></p>
<p>Indeed ... and someone to write the new code!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2865"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-Q4I_PeB6ZLnESXiBX2ylz1mWIa1mJUj8DZ0CFD2XalY" value="form-Q4I_PeB6ZLnESXiBX2ylz1mWIa1mJUj8DZ0CFD2XalY"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/2865 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:21:36 GMT -->
</html>
