<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/6066 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:28:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Active Power | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Active Power</h3>
        <span class="submitted">Submitted by <a href="../user/7147.html" title="View user profile.">Momo</a> on Wed, 05/11/2014 - 15:47</span>
        <div class="content"><p>Hi,</p>
<p>I have read that is possible to measure apparent power but, is it possible to measure active power and power factor? if so, what kind of clamps need?</p>
<p>Cheers</p>
  <div class="forum-topic-navigation clear-block">
          <a href="6168.html" class="topic-previous" title="Go to previous forum topic">‹ open or closed CTs</a>
              <a href="5794.html" class="topic-next" title="Go to next forum topic">Community application using emonTx Shield on Arduino Mega R3 ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-24993"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 05/11/2014 - 23:04.</div>
    <div class="content">
     <p>I think you need to read the "Building Blocks" section of this website. If by "clamps" you mean split-core current transformers (I always interpret 'clamps' to mean busbar clamps), then you must have a suitable one to measure the current. The one in the shop is suitable for 1 - 100 A in conjunction with the emonTx.<br />
You also need to measure the voltage, of course.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25254"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7147.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7147.jpg" alt="Momo&#039;s picture" title="Momo&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/7147.html" title="View user profile.">Momo</a> on Thu, 20/11/2014 - 22:32.</div>
    <div class="content">
     <p>Ok, thank you Robert. I have already read &quot;Building Blocks&quot; section but can&#39;t find any response to my doubt. To calculate Active Power is the product of V x I x Cos(Phi), my doubt is if the system is using cos(Phi) to calculate Active Power.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25259"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 21/11/2014 - 01:48.</div>
    <div class="content">
     <p><i>"To calculate Active Power is the product of V x I x Cos(Phi), my doubt is if the system is using cos(Phi) to calculate Active Power."</i> </p>
<p>That isn't the question you first asked. No, the system does not use cos(&phi;), and in any case your formula is not correct - generally at least. It is only true in one very specific case, and that is where both current and voltage waveforms are perfect sine waves. In practice, even the voltage wave is not a perfect sine wave, and the current wave may be nothing like. </p>
<p>The way real power is calculated in the emonTx is, around 2500 times per second, to multiply the instantaneous voltage by the instantaneous current, and then average those readings. That gives you real power, requiring neither a sine wave nor knowledge of phase angle. Phase angle is meaningless once you depart from pure sine waves. We determine the power factor from its true definition: the ratio of real power to apparent power, which does have a meaning whether the waveforms are true sine waves or not (noting that using our algorithm, we cannot determine whether it is leading or lagging). </p>
<p>[Note: I'm not mentioning Fourier and what happens when you know the harmonic content of the two waves. Doing that would be beyond the processing power of the Atmega 328P anyway.]</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25262"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7147.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7147.jpg" alt="Momo&#039;s picture" title="Momo&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/7147.html" title="View user profile.">Momo</a> on Fri, 21/11/2014 - 10:47.</div>
    <div class="content">
     <p>Thank you Robert!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25268"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Sat, 22/11/2014 - 08:01.</div>
    <div class="content">
     <p><em>We determine the power factor from its true definition.... &nbsp;noting that using our algorithm, we cannot determine whether it is leading or lagging).</em></p>
<p>I don&#39;t think power factor can ever reveal leading Vs lagging can it? &nbsp; Power factor only goes negative when real power goes negative, i.e. you&#39;re now producing rather than consuming (or vice versa depending on your local conventions).</p>
<p>You need to calculate reactive power to determine if things are leading or lagging, and even then, as you say, once there are harmonics present it all gets very ugly.... it can even be leading at some frequencies and lagging at others.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25273"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 22/11/2014 - 13:41.</div>
    <div class="content">
     <p>By the definition, you're right, but by custom the <i>overall</i> power factor is called leading or lagging depending on whether the overall effect of the load on the system is capacitive or inductive. Generally it is assumed that there are minimal harmonics present (as they must be to conform with the rules), but we agree that once the harmonics become significant, then it needs detailed analysis to determine what's really happening.</p>
<p>If you were to delay the voltage wave by 90&deg;, you'd then be able to do the V &times; I calculation and get vars, which <i>would</i> enable you to know if the overall power factor was leading or lagging. (And presumably by comparing  all three quantities, real power, apparent power and vars, you could get a more accurate value for power factor when it is small.) I must try that one day with Martin's PLL sketch.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25286"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Sun, 23/11/2014 - 21:57.</div>
    <div class="content">
     <p>I&#39;m trapped in the IEEE-endorsed Budeanu&nbsp;definition of reactive power, all done in the frequency domain. &nbsp;I&#39;m not sure it&#39;s useful for anything, including calculating power factor. &nbsp;With my very stiff local grid my V is pretty much a perfect sine wave, and an FFT confirms no harmonics in V. &nbsp;In that case, all the terms bar the first in the Budeanu sum are zero and my Reactive Power becomes the fundamental reactive power. &nbsp;All the harmonic currents get booked to Distortion Power. &nbsp;You can see the three components (Real, Reactive and Distortion) of my apparent power in the dials below. &nbsp;This is how my whole-house feed appears to the grid in the wee hours (when the fridge compressor is not running). &nbsp;So slightly inductive at 50 Hz (13.8 vars), and lots of junk in the harmonics (110 vars).</p>
<p><img alt="" src="../sites/default/files/Screen%20Shot%202014-11-23%20at%207.00.23%20pm.png" style="height:101px; width:500px" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25288"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 23/11/2014 - 23:46.</div>
    <div class="content">
     <p>It's OK for some. Look at the report on the Ideal adapter to see the flat-topping I have! It wouldn't be hard to run an FFT on that, but I think I'd have to go some way up the harmonics to get anywhere near a zero.<br />
What does the Distortion Power look like with <strike>all</strike> most of  the electronic devices (with SMPS) switched off?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25326"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Tue, 25/11/2014 - 08:53.</div>
    <div class="content">
     <p>Yes, yours is almost as much square wave as it is sine wave. &nbsp;Any idea where in the network that happens? &nbsp;Is it just the final distribution transformer and local wiring, or do the high voltage trunks suffer from it too?</p>
<p>As expected, distortion drops right away once I turn a bunch of electronics off:</p>
<p><img alt="" src="../sites/default/files/Screen%20Shot%202014-11-25%20at%205.45.35%20pm.png" style="width:600px" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25333"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Active Power</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 25/11/2014 - 13:02.</div>
    <div class="content">
     <p>I don't know where it happens, I've never worked in generation or distribution. I'd guess it's at the later stages of the distribution network where the fault level is necessarily lower. The only time I've had any dealings with anything above the normal domestic/factory supply (240/415V) was the 11 kV grid in Nottinghamshire, and although we were interested in harmonic currents, I can't remember ever seeing the voltage waveform (in my defence, it was about 1982-3).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/6066"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-eIGxzcySBZVpOywld5zXFjQCODX01EufYNq22jWcOxo" value="form-eIGxzcySBZVpOywld5zXFjQCODX01EufYNq22jWcOxo"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
