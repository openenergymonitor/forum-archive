<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3244 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:05:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The Blackbox Project | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">The Blackbox Project</h3>
        <span class="submitted">Submitted by Guest on Fri, 29/11/2013 - 19:01</span>
        <div class="content"><p>Hi all,</p>
<p>A few of us on the midnite solar forum have been working on the above project. Initially it was a way of monitoring midnite off grid charge controllers, but its now growing into a project more akin to yours.</p>
<p>First of all, hats off to everything youve done, its fantastic. You are much further on than we are. Reading here, our projects while applied to grid v off grid have approximately the same goals, so i guess im hoping that we can cooperate in some way. We certainly dont want to duplicate things that you are doing, thats pointless.&nbsp; However i cant immediately see, just yet, how your building blocks will work with our needs.</p>
<p>The two main differences between our projects is DC v AC and the fact that with off grid an internet connection cant be assumed. A typical off grid installation and its monitoring needs are these.</p>
<p>1. PV array in the range 1-3kWp, with occasional support from wind and microhydro.</p>
<p>2. one or two 80 amp charge controllers charging lead acid banks in the 10-30kWh range.</p>
<p>3. 2-6kW off grid inverter supplying AC needs.</p>
<p>The charge controllers and inverters both tend to produce adequate monitoring data, usually by ethernet or serial, but using various semi-proprietary protocols, modbus, zanbus etc. And basically this is what we are doing to date, collecting this data and storing it on low power local servers.</p>
<p>As well as battery voltage and temp, and charge controller input and output data, the midnite family now also includes a battery current sensor, which allows us to monitor DC loads and battery state of charge (SOC). It is connected via 1 wire to a 500A 50mV deltec shunt. So this data is good and nothing much more is required. However where we became interested in your sensor node concept is the following:</p>
<p>- the desire to add reference solar insolation data, to better know what surplus power exists, to inform opportunity loads. The &#39;waste not&#39; implementations in the charge controller are fairly blunt instruments, and we are hoping to get better data. Load diversion is typically to domestic hot water, occasionally well pumps, HVAC and such. This is done using three methods, battery voltage DC, PV voltage DC, and AC. All three have pros and cons, and we need support for each.&nbsp; Our plan for this is a small PV in the 2W range on the same plane as the array, and used as a reference panel (having the same glass and PV material as the main array). Basically measuring its Isc with an ADC, and a wireless connection to the monitoring system.</p>
<p>-This method is superior than theoretical models of insolation, (which we are also working on using sandia&#39;s PV-LIB, however collecting back of panel temperature, humidity, windspeed, and air pressure would allow us to monitor actual PV performance against the sandia models, which is a way of checking for system malfunctions or design issues. Having gone that far, we may as well get rainfall, to complete a full weather dataset.</p>
<p>-we also have a subproject underway which will monitor the cell balance, measuring the voltage of each cell. This uses a cascading set of PIC controllers each measuring 3 cells.</p>
<p>-the flexibility for each installation to define and add their own unique sensing requirements.</p>
<p>In terms of hardware we like the beaglebone and cubieboard. These baords have just enough resources to run a full webserver implementation in order to serve monitoring data to LAN connected computers and mobile devices. This is our primary and preferred way of presenting data. A cheap android tablet serves for those that want something like your emonglcd.</p>
<p>Learning from what youve done, it appears that we need an arduino/atmega communications board to talk to the remote sensors, which is connected to the ARM board vie uart/i2c/spi. It should also allow direct connection from sensors in the electrical room. Then a flexible radio connected sensor node design, with a variety of plug in sensors, using some kind of&nbsp; standardized port connector.</p>
<p>The beaglebone in particular does&nbsp; have fairly good connectivity options, several uarts, 12bit ADCs etc, but we think in best to outsource the &#39;realtime&#39; activitys to another board, as the ARM board has its work cut out talking to the RE gear, and rendering webpages.</p>
<p>Thats about it. Wed be interested in any pointers to material you might already have, or any ideas at all how we might work together. We do have a guy cabable of designing and building PCBs, and my own focus is on the web application.</p>
<p>The project page is <a href="http://code.google.com/p/theblackboxproject/" title="http://code.google.com/p/theblackboxproject/">http://code.google.com/p/theblackboxproject/</a></p>
<p>As a guide my own off grid system is documented here <a href="http://zoneblue.org/cms/page.php?view=off-grid-solar" title="http://zoneblue.org/cms/page.php?view=off-grid-solar">http://zoneblue.org/cms/page.php?view=off-grid-solar</a></p>
  <div class="forum-topic-navigation clear-block">
          <a href="3246.html" class="topic-previous" title="Go to previous forum topic">‹ questions about emoncms feed api</a>
              <a href="3220.html" class="topic-next" title="Go to next forum topic">Add data from csv file to emoncms ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-16537"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The Blackbox Project</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 03/12/2013 - 00:12.</div>
    <div class="content">
     <p>Hello Zoneblue, looks like a nice project, good work and thanks for sharing! Yes we are mainly measuring AC electricity here but I did do some DC monitoring a couple of years back of a wind turbine which was interesting. As a fellow PHP developer you might be interested in looking at emoncms which is one of the main things I work on. The blog is usually a good place to look for a development log:<br />
	<a href="http://openenergymonitor.blogspot.co.uk/search/label/emoncms" title="http://openenergymonitor.blogspot.co.uk/search/label/emoncms">http://openenergymonitor.blogspot.co.uk/search/label/emoncms</a><br />
	there&#39;s also a lot of resources in building blocks that may interest you more on the hardware side of things: <a href="../buildingblocks.html" title="http://openenergymonitor.org/emon/buildingblocks">http://openenergymonitor.org/emon/buildingblocks</a></p>
<p>I like the live PV + battery power flow diagram display that your developing, looks good!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/3244"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-83eUrOp1WpE8tucXcgM3PvgF7Ez2C936ODF6Wyl-3qI" value="form-83eUrOp1WpE8tucXcgM3PvgF7Ez2C936ODF6Wyl-3qI"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
