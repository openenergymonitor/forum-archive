<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5521 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:02:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Updated Event Module | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Updated Event Module</h3>
        <span class="submitted">Submitted by <a href="../user/4234.html" title="View user profile.">XaroRSA</a> on Tue, 05/08/2014 - 12:39</span>
        <div class="content"><p>Hi Folks.</p>
<p>Find updated Event module at&nbsp;<a href="https://github.com/XaroRSA/event">https://github.com/XaroRSA/event</a></p>
<p>Need to figure out how to do pull or push request?</p>
<p>New SMS via Twilio and Pre-mute functionality!</p>
<p>XaroRSA Event Module additions:</p>
<p>Twilio SMS function</p>
<p>Pre-Mute function</p>
<p>Twilio:<br />
	How to use:<br />
	&nbsp; 1: Sign up for Twilio trail or full account at <a href="http://www.twilio.com/" title="www.Twilio.com">www.Twilio.com</a><br />
	&nbsp; 2: Enter ACCOUNT SID and AUTH TOKEN into event Settings.<br />
	&nbsp; 3: Look under Numbers tab in Twilio account page. They allocate a number to use. Enter number into &quot;FromNumber&quot; when creating new event in format of +12345124124(This works, not sure about brackets and dashes)<br />
	&nbsp; 4: On trail Twilio accounts, number you want to send to must be verified. Do this via Twilio page.<br />
	&nbsp; 5: Once number is verified, enter number into &quot;ToNumber&quot; tab when creating new event.</p>
<p>Pre-mute:<br />
	Set a pre-mute time before sending notification. After pre-mute time is reached, regular post-mute function runs eg. 15seconds pre-mute, after 15seconds, every 30seconds post-mute if alarm remains active.<br />
	Note: only works when values are continuously posted. Will not automatic &quot;check&quot; after time-outs are reached.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5749.html" class="topic-previous" title="Go to previous forum topic">‹ how much space does logging take?</a>
              <a href="5731.html" class="topic-next" title="Go to next forum topic">typo in &quot;How good is your multimeter?&quot; article ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-23010"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Wed, 13/08/2014 - 06:08.</div>
    <div class="content">
     <p>Not sure if anyone has come across mqttwarn&nbsp;(<a href="https://github.com/jpmens/mqttwarn" title="https://github.com/jpmens/mqttwarn">https://github.com/jpmens/mqttwarn</a>) but I think this would be an excellent tool for use with the event module. If we could update the event module to publish events to an MQTT topic then we can use mqttwarn&nbsp;for any number of notifications - e.g. twitter, Pushover, XBMC, even phone calls (via Freeswitch)!</p>
<p>I use mqttwarn&nbsp;extensively in my home automation system and it is a fantastic way to decouple notifications and alerts from the system generating the messages.&nbsp;</p>
<p>All the event module would need is a way to publish the &#39;events&#39; to an MQTT topic and then everything else is handled by mqttwarn. If you have a look at the Github readme for mqttwarn you will see there is a HUGE list of supported &#39;targets&#39;.&nbsp;</p>
<p>Any questions about mqttwarn sing out - I was involved in writing the early versions.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23011"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Wed, 13/08/2014 - 06:09.</div>
    <div class="content">
     <p>BTW - mqttwarn already has support for Twilio...https://github.com/jpmens/mqttwarn#twilio</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23014"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4234.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="XaroRSA&#039;s picture" title="XaroRSA&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/4234.html" title="View user profile.">XaroRSA</a> on Wed, 13/08/2014 - 08:15.</div>
    <div class="content">
     <p>Ill look into this, might be a fun implementation.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23349"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Tue, 26/08/2014 - 02:35.</div>
    <div class="content">
     <p>Hey XaroRSA - did you have any joy implementing an MQTT&nbsp;event notifier? Very keen to see it if you have, cheers, Ben.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23353"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4234.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="XaroRSA&#039;s picture" title="XaroRSA&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/4234.html" title="View user profile.">XaroRSA</a> on Tue, 26/08/2014 - 11:02.</div>
    <div class="content">
     <p>Summerboy, did you have a look here&nbsp;http://openenergymonitor.org/emon/node/3634</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23355"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Tue, 26/08/2014 - 11:19.</div>
    <div class="content">
     <p>Yep - I was pretty active in that thread ;). That was talking about getting data into EmonCMS using MQTT. With the event module I am talking about getting events out of EmonCMS using MQTT. So currently I have a tweet configured to send if my solar PV generation goes about 10kWh in a day. I would prefer that to be an MQTT publish, which I can then monitor using mqttwarn and generate any number of notifications, i.e. tweet, mail, pushover alert, xbmc notification...twilio...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23360"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4234.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="XaroRSA&#039;s picture" title="XaroRSA&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/4234.html" title="View user profile.">XaroRSA</a> on Tue, 26/08/2014 - 13:30.</div>
    <div class="content">
     <p>O ok, I can look into it at a later stage. Still looking for a full time job, perhaps donations would be welcome.</p>
<p>I need to fix a few other modules that I work on</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23368"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Tue, 26/08/2014 - 20:36.</div>
    <div class="content">
     <p>Good luck with the job hunting. I will have a go at this myself when I get a chance.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23803"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 14/09/2014 - 20:57.</div>
    <div class="content">
     <p>Any luck with this? I know it&#39;s on the radar for future development, but it would be great to get feed data OUT of emoncms, esp as a MQTT&nbsp;publish, so it can be processed in node-red.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23804"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Updated Event Module</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Sun, 14/09/2014 - 21:18.</div>
    <div class="content">
     <p>Sorry Paul, haven&#39;t had a chance to look at this, but I have zero experience with PHP so am not really sure where to start...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5521"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form--zDG3d-fSURulR7ZfXItw6Fw0lZhd4DNL-EFly5FQVo" value="form--zDG3d-fSURulR7ZfXItw6Fw0lZhd4DNL-EFly5FQVo"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/5521 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:02:40 GMT -->
</html>
