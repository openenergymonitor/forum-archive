<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5807 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:02:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The while loop | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">The while loop</h3>
        <span class="submitted">Submitted by <a href="../user/6377.html" title="View user profile.">yhabib</a> on Sat, 20/09/2014 - 19:49</span>
        <div class="content"><p>Why is the calcVI function always fed with 20 and 2000? In other words what does int crossings and int timeout signify in the while loop shown below? And what will be the value of int numberOfSamples?&nbsp;</p>
<p>&nbsp;</p>
<p>while ((crossCount &lt; crossings) &amp;&amp; ((millis()-start)&lt;timeout))<br />
	&nbsp; {<br />
	&nbsp;&nbsp;&nbsp; numberOfSamples++;</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>}</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5718.html" class="topic-previous" title="Go to previous forum topic">‹ Merging 2 sketches...</a>
              <a href="5797.html" class="topic-next" title="Go to next forum topic">cant login to emoncms ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-24023"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sat, 20/09/2014 - 20:07.</div>
    <div class="content">
     <p>The &#39;20&#39; is the number of half-cycles that are measured, so that equates to 10 whole cycles of the AC mains supply.</p>
<p>The &#39;2000&#39; is the timeout period in milliseconds.</p>
<p>So this routine normally runs for 10 whole cycles of the AC voltage signal plus some time at the start for initialisation.&nbsp; If it fails to terminate for any reason (maybe there is no AC signal), the routine will abort after 2 seconds.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24024"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6377.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="yhabib&#039;s picture" title="yhabib&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/6377.html" title="View user profile.">yhabib</a> on Sat, 20/09/2014 - 20:30.</div>
    <div class="content">
     <p>Its still so confusing. I am printing a value every 5 seconds as shown below, am i still taking 20 half cycles (meaning at the end of the while loop as shown above, int&nbsp;numberOfSamples=20)??</p>
<p>void loop()<br />
	{<br />
	&nbsp; unsigned long time = millis();</p>
<p>&nbsp; if (time - lasttime &gt;= 5000)<br />
	&nbsp; {<br />
	&nbsp;&nbsp;&nbsp; lasttime = time;</p>
<p>&nbsp;&nbsp;<br />
	&nbsp;&nbsp;&nbsp; port.calcVI(20,2000);</p>
<p>Serial.print(port.Real_Power)</p>
<p>}</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24030"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 20/09/2014 - 21:45.</div>
    <div class="content">
     <p>Yes, you sample 20 half-cycles every 5 seconds. We assume nothing big will change in that time, or if it does - say a big load comes on - then the error will tend to average out when the load goes off.</p>
<p>The name of the demonstration sketch that uses this method is &quot;emonTxV3_RFM12B_DiscreteSampling.ino&quot;&nbsp; <a href="http://dictionary.reference.com/browse/discrete">The adjective &#39;discrete&#39; means</a></p>
<p class="rteindent1">1.<br />
	apart or detached from others; separate; distinct: <em>&quot;six discrete parts&quot;.</em><br />
	2.<br />
	consisting of or characterized by distinct or individual parts; discontinuous.</p>
<p>and that accurately describes how the section of code you quoted works.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24032"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6377.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="yhabib&#039;s picture" title="yhabib&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/6377.html" title="View user profile.">yhabib</a> on Sat, 20/09/2014 - 22:02.</div>
    <div class="content">
     <p>So the sampling frequency in this case is 4 Hz since i am taking 20 samples over a period of 5 seconds or 4 samples in 1 second??</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24033"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 20/09/2014 - 22:13.</div>
    <div class="content">
     <p>No. You are taking about 50 sample pairs per cycle over 10 cycles - about 500 sample pairs - and calculating the average and printing it. You then go to sleep and wake up 5 seconds later to do it all over again.</p>
<p>(By &#39;sample pairs&#39; I mean a voltage and a current.)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24034"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6377.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="yhabib&#039;s picture" title="yhabib&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/6377.html" title="View user profile.">yhabib</a> on Sat, 20/09/2014 - 22:29.</div>
    <div class="content">
     <p>Let me put it this way for my understanding.</p>
<p>The while loop runs 500 times, each time taking instantaneous value of current and voltage and then calculate their average by dividing their total with 500 (since int numberOfSamples&nbsp;= 500) ? Please correct me if i am wrong.</p>
<p>If thats the case then what is my sampling frequency? I was asked by someone and i had no answer to it. I really need to understand the code.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24039"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 21/09/2014 - 00:31.</div>
    <div class="content">
     <p><em>&quot;The while loop runs 500 times, each time taking instantaneous value of current and voltage and then calculate their average by dividing their total with 500 (since int numberOfSamples = 500) ? Please correct me if i am wrong.&quot;</em></p>
<p>You are right, but where I think you are confused is here: <em>there is not one sampling frequency, there are two</em>.</p>
<p>The &#39;fast&#39; sampling frequency is within emonLib in calcVI( ) and that is the one that runs for 20 half-cycles. It goes fast enough to be able to accurately measure all the important harmonics in the voltage and current waves and accurately calculates the average power during those 20 half-cycles. That is the one you are describing.</p>
<p>The &#39;slow&#39; sampling frequency - one sample every 5 seconds - is controlled by the main loop of your sketch. That runs the fast samples in calcVI( ), which samples the average power for 200 ms (in the 50 Hz world), every 5 seconds.</p>
<p>The code is two nested loops. The outer loop (stripped down to the minimum, and not strictly accurate) is</p>
<p>loop( )<br />
	{<br />
	&nbsp;&nbsp;&nbsp; every 5 s<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; calcVI( )<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; print power<br />
	}</p>
<p>Similarly, the inner loop is</p>
<p>calcVI( )<br />
	{<br />
	&nbsp;&nbsp;&nbsp; while (&lt; 20 half-cycles)<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; measure V &amp; I<br />
	&nbsp;&nbsp;&nbsp; calculate average power<br />
	}</p>
<p>If you wish to measure the power continuously, look at one of the &#39;continuous&#39; sketches. But I warn you, they are very complicated.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24042"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 21/09/2014 - 08:51.</div>
    <div class="content">
     <p><em>If you wish to measure the power continuously, look at one of the &#39;continuous&#39; sketches. But I warn you, they are very complicated.</em></p>
<p>Nah, there are plenty of experts now in this field Robert.&nbsp;</p>
<p>IMHO, &quot;continuous&quot; monitoring is the only way to go :D</p>
<p>To understand how it works, I would recommend studying&nbsp; Mk2_PV_Router_mini_3.ino,&nbsp; this code is available at <a href="../sites/default/files/Mk2_PV_Router_mini_3.ino_.zip">http://openenergymonitor.org/emon/sites/default/files/Mk2_PV_Router_mini_3.ino.zip</a></p>
<p>No library files are used, and it&#39;s all floating point maths.&nbsp; Voltage x Current gives the instantaneous power (instP).&nbsp; These instP values are summed during each mains cycle to give average power.&nbsp; To make the Router work, these power values are converted to energy and accumulated, but that&#39;s not part of the measurement side.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24043"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6377.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="yhabib&#039;s picture" title="yhabib&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/6377.html" title="View user profile.">yhabib</a> on Sun, 21/09/2014 - 10:16.</div>
    <div class="content">
     <p>So here in UK, we get 50 cycles of voltage and current every second. The while loop only considers 10 cycles from these 50 cycles each second. And from these 10 cycles, it samples a total of 500 samples of instantaneous voltage and current each. It calculates instantaneous power each time, doing it 500 times and then calculates the real power by dividing their total with 500. So practically we are taking 500 samples each second which sets our fast sampling frequency at 500 Hz.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24050"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 21/09/2014 - 13:30.</div>
    <div class="content">
     <p><em>So here in UK, we get 50 cycles of voltage and current every second.&nbsp;</em> <strong>Yes&nbsp; </strong></p>
<p><em>The while loop only considers 10 cycles from these 50 cycles each second.&nbsp; </em><strong>No</strong>.&nbsp; The while loop runs for ten mains cycles and then stops until it is next called upon to run</p>
<p><em>And from these 10 cycles, it samples a total of 500 samples of instantaneous voltage and current each. It calculates instantaneous power each time, doing it 500 times and then calculates the real power by dividing their total with 500.&nbsp; </em><strong>Yes</strong>, the sampling period lasts for approx 0.2 seconds whenever it is called upon to run.</p>
<p><em>So practically we are taking 500 samples each second which sets our fast sampling frequency at 500 Hz.</em>&nbsp; <strong>Not quite</strong>.&nbsp; During the first 0.2 seconds, we take enough samples to calculate the average power.&nbsp; Then, the system waits until it is called upon to take the next set of measurements.</p>
<p>Hope this helps.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24062"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6377.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="yhabib&#039;s picture" title="yhabib&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/6377.html" title="View user profile.">yhabib</a> on Sun, 21/09/2014 - 22:13.</div>
    <div class="content">
     <p><em>The while loop only considers 10 cycles from these 50 cycles each second.</em>&nbsp; <strong>No</strong>.&nbsp; <u>The while loop runs for ten mains cycles and then stops until it is next called upon to run.</u> Isn&#39;t my statement same as yours? All i am saying is that each time the while loop is called, it runs for 10 mains cycles out of the 50 mains cycles available each second.&nbsp;</p>
<p><em>So practically we are taking 500 samples each second which sets our fast sampling frequency at 500 Hz</em>.&nbsp; <strong>Not quite.</strong>&nbsp; <u>During the first 0.2 seconds, we take enough samples to calculate the average power.&nbsp; Then, the system waits until it is called upon to take the next set of measurements.</u> How many are these &#39;enough&#39; samples? My supervisor asked me the sampling frequency and i had absolutely no idea. Please tell me what my sampling frequency is? In other words, how many samples i am taking each second?</p>
<p>Sorry for bothering you guys again and again :(</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24071"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 21/09/2014 - 23:26.</div>
    <div class="content">
     <p><em>&quot;Isn&#39;t my statement same as yours?&quot; </em>No, because your statement to me implies that you will sample 10 cycles out of the first 50, then 10 out of the next fifty, and so on, which is not the case in your sketch.</p>
<p>&quot;<em><em>My supervisor asked me the sampling frequency and i had absolutely no idea. Please tell me what my sampling frequency is? In other words, how many samples i am taking each second?&quot;&nbsp;&nbsp; </em></em>There is no simple answer to that. You must explain that there are two sampling rates, as I tried to explain to you several posts above: You sample voltage and current at around 2500 times per second to calculate power, but you only do that for 200 ms in every 5, or 10 seconds, or however often you want, depending on what your needs are.</p>
<p>But if you are not happy with sampling power every few seconds, change to one of the &quot;continuous&quot; sketches, which does exactly as it says. It measures power continuously and reports the average over the preceding interval every second, sampling at around 2500 sample pairs per second.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24081"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: The while loop</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 22/09/2014 - 07:14.</div>
    <div class="content">
     <p>The &quot;continuous code&quot; that I have posted was developed for my Mk2 PV Router project.&nbsp; This application needs to have a rapid response time, so it&#39;s no good having to wait until a lengthy measurement window has run its course.&nbsp; When&nbsp; someone turns the kettle on, the control system needs to stop diverting surplus power very quickly, otherwise the user will be charged by their meter for the energy that is consumed from the grid.</p>
<p>To provide a rapid response time, the measurement window in my Router code has been shortened to the duration of a single mains cycle.&nbsp; The average power is calculated every mains cycle, and this knowledge is used to updated an energy bucket.&nbsp; The objective is to match how the meter works, and this simple approach seems to work well.</p>
<p>With the &quot;continuous code&quot; that has been posted, the average power is only transmitted occasionally.&nbsp; So although the results are accurate (because the 2500 Hz sampling rate is maintained throughout), the response time is poor because the results are only displayed or transmitted every few seconds.</p>
<p>Power meters and energy meters are like the speedo and mile-ometer in a car.&nbsp; The speedo shows the speed of motion at all times whereas the mile-ometer shows the total distance travelled.&nbsp; Each meter is useful for its own purpose.&nbsp; The questions &quot;how fast am I going&quot;, and &quot;how far have I travelled&quot;, can only be answered easily by consulting the relevant meter.&nbsp;</p>
<p>If you can explain exactly what you are trying to achieve, we may be able to help you better.&nbsp; What hardware are you using, or is this just a theoretical investigation?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5807"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-0THid4fByyYhBy2nJunoXAS9D1oEAOFyIK-9WH2lIak" value="form-0THid4fByyYhBy2nJunoXAS9D1oEAOFyIK-9WH2lIak"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
