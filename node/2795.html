<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2795 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:04:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>CT Sensor circuit not working | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">CT Sensor circuit not working</h3>
        <span class="submitted">Submitted by Guest on Mon, 09/09/2013 - 20:46</span>
        <div class="content"><p>Hi everybody,</p>
<p>I recently built this project:</p>
<p><a href="58.html" title="http://openenergymonitor.org/emon/node/58">http://openenergymonitor.org/emon/node/58</a></p>
<p>At first it worked fine. After building the circuit I wrapped the CT sensor around a wire connected to a lamp (only one of the two wires of AC). When i switched on the lamp, the values shown in serial monitor changed proportionally. Wonderful, it worked OK.</p>
<p>Next day, i tested it again and nothing happened. I spent several hours checking the circuit and changing some of the components (and then changing every component, including Arduino itself)&nbsp;But i couldn&#39;t make it work again. The serial monitor shows a lot of readings from analog input, but when i switched on the light nothing happened...</p>
<p>I tested the CT sensor with a multimeter. It responds OK. It shows continuity and some measure in the multimeter display.<br />
	I don&#39;t have another CT sensor to try with, but it seems to me very weird that it could broke.</p>
<p>One strange thing is: sometimes when the light is switched on, the arduino hangs and i have to disconnect it from serial port and connect it again. I thought the arduino&nbsp;was the problem so i tried with one, two and three different boards... with no luck.</p>
<p>I don&#39;t supply code or schematics here because they are identically to the ones in the url above.</p>
<p>Any ideas about what can be happening?</p>
<p>Thank you in advance,</p>
<p>Carlos.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2018.html" class="topic-previous" title="Go to previous forum topic">‹ Public url cannot load data </a>
              <a href="2792.html" class="topic-next" title="Go to next forum topic">ethernet shield library ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-14995"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: CT Sensor circuit not working</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 09/09/2013 - 22:14.</div>
    <div class="content">
     <p>You have made the circuit with only the current sensing part, the three resistors, capacitor and links on the left-hand side of the prototype board. Is that correct?</p>
<p>1. Is you Arduino working correctly without the prototype board connected?</p>
<p>2. If you connect the prototype board using ONLY the red and black wires, is the 5 V supply present and correct?&nbsp; Do you measure 2.5 V d.c. approx. on both wires to the current transformer, and on the disconnected yellow wire?</p>
<p>3. If you now connect the yellow wire to Analog In 1, but do not put the c.t. around the lamp wire, does the Arduino hang when you switch the lamp on and off?</p>
<p>4. If you change this part of the sketch like this:</p>
<p class="rteindent1">void loop()<br />
	{<br />
	&nbsp; <strong>//</strong> emon1.calcVI(20,2000);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Calculate all. No.of wavelengths, time-out<br />
	&nbsp; <strong>//</strong> emon1.serialprint();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Print out all variables<br />
	&nbsp; <strong>Serial.println(analogRead(2));<br />
	&nbsp; delay(1000);</strong><br />
	}</p>
<p>do you see a number close to 512 printed every 1 second?</p>
<p>5. If you load the sketch from here <a href="1705.html#comment-8535" title="http://openenergymonitor.org/emon/node/1705#comment-8535">http://openenergymonitor.org/emon/node/1705#comment-8535</a> do you see a flat line in the middle of the range, and when you put your c.t. on the lamp cable, do you see a full sine wave something like the picture/text file listing in that post?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2795"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-GvqOqwR-jZWrte9QHzGNzQcJePA3_t_ginafUCqjxUY" value="form-GvqOqwR-jZWrte9QHzGNzQcJePA3_t_ginafUCqjxUY"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/2795 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:04:14 GMT -->
</html>
