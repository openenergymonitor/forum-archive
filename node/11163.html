<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11163 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:30:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Voltage and Current reading varies alot[Arduino] | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Voltage and Current reading varies alot[Arduino]</h3>
        <span class="submitted">Submitted by Guest on Sat, 22/08/2015 - 21:25</span>
        <div class="content"><p>Hello,</p>
<p>I am trying to build a Energy Meter. I am using Raspberry pi as Gateway and Arduino to capture the readings. I purchased Hardware exactly as mentioned in the Building Blocks section. My hardware is as below:</p>
<ul>
<li>Arduino Mini</li>
<li>0-9v transformer Sec/ 230v Pri</li>
<li>YHDC SCT-103-000 current transformer.</li>
<li>33Ohm burden resistor across CT</li>
</ul>
<p>Followed the steps here<br />
<a href="https://learn.openenergymonitor.org/?redirect=measuring-voltage-with-an-acac-power-adapter" title="http://openenergymonitor.org/emon/buildingblocks/measuring-voltage-with-an-acac-power-adapter">http://openenergymonitor.org/emon/buildingblocks/measuring-voltage-with-...</a><br />
and<br />
<a href="https://learn.openenergymonitor.org/?redirect=ct-sensors-interface" title="http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface">http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface</a></p>
<p>Calibrated the voltage as per the voltage shows on my home Energy meter. used Kill-o-watt to calibrate the Current.</p>
<p>The issue I am facing now is We have a lot of fluctuations in voltage. During day its around 220-225v and at night is goes up to 250v. After calibrating I switched off the device and next day the module shows weird readings. In a span of 10 mins emon reading range from 80v to 150v. So I recalibrated and this time the calibration values are different. Next day the same thing, the voltage reading ranges from 180v-320v which is not true. I am not able to figure out where the issue is. I am using the sketch provided here for Voltage and Current.</p>
<p>My calibration values for Voltage and Current are 240 and 68 respectively.</p>
<p>Please help me figure out what could be the problem. Thanks.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2540.html" class="topic-previous" title="Go to previous forum topic">‹ CT offset problem with opamp bias.</a>
              <a href="5478.html" class="topic-next" title="Go to next forum topic">Newbie and some confusion on what to buy ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-33550"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Voltage and Current reading varies alot[Arduino]</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 22/08/2015 - 22:29.</div>
    <div class="content">
     <p>I think the likeliest cause of your problem is a badly soldered joint, or a faulty prototyping board if that is what you used, or it might be a faulty voltage transformer or another component, or even a faulty power supply for your Arduino. Until you measure some voltages and compare them with what you expect, I don't think anyone can give you very much help, because almost anything could cause the symptoms you describe.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33551"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sureshmali&#039;s picture" title="sureshmali&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Voltage and Current reading varies alot[Arduino]</h3>

    <div class="submitted">Submitted by sureshmali (not verified) on Sat, 22/08/2015 - 22:40.</div>
    <div class="content">
     <p>Thanks Robert for your response.</p>
<p>Yes I did use prefboard. Could you suggest where do I begin with troubleshooting. Maybe some points that I must check for voltage and expected values.</p>
<p>I checked the transformer, on no load I get a reading of 11.9v to 12v.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33552"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Voltage and Current reading varies alot[Arduino]</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 22/08/2015 - 23:44.</div>
    <div class="content">
     <p>Hint: <i>NEVER</i> assume the same voltage at both ends of a wire, always check.<br />
If you tap, or shake, or gently bend or twist your board, does that affect what the Arduino reads?<br />
If you press on each component in turn, does that affect what the Arduino reads?<br />
If you move the interconnecting wires, does that affect what the Arduino reads?</p>
<p>That voltage sounds right for a small 9 V transformer. Does the output voltage vary exactly in proportion to the mains voltage? It should do.</p>
<p>Start with power supplies and steady voltages. Where does the Arduino power come from? Is the 5 V on the Arduino steady at 5 V d.c. all the time? Is it the same on your prototype board? </p>
<p>Looking at your voltage and current input circuits, they both have a "mid-point" created by two equal resistors and a capacitor to provide a mid-supply voltage of 2.5 V d.c. Are those mid-points both steady at 2.5 V or very nearly? With your meter on the d.c. voltage range still, are the two input pins at the same voltage as their respective mid-points? They should be.</p>
<p>If you have a steady load, e.g. a heater, the current should be exactly proportional to mains voltage. When the voltage varies, does the current indicated by your Arduino remain correct? i.e. is it proportional to the true mains voltage, or is it proportional to the voltage read by your Arduino?</p>
<p>Looking at the voltage input, measure the a.c. voltage between the mid-point and the input pin; that is, across R1. Is that about 1 V and always in exactly the same proportion to the true mains voltage?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11163"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-yv7Mxo2qbw_6oK3sqVHNl06igkM0R_Kp_4beuc5c23Q" value="form-yv7Mxo2qbw_6oK3sqVHNl06igkM0R_Kp_4beuc5c23Q"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
