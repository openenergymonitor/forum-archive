<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2886 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:57:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Negative power when not generating | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Negative power when not generating</h3>
        <span class="submitted">Submitted by Guest on Tue, 01/10/2013 - 08:52</span>
        <div class="content"><p>Hi,</p>
<p>I am newby, so please bear with me...</p>
<p>I have a EmonTx&nbsp;(3xCT + Voltage) transmitting to Raspberry Pi in Gateway mode. &nbsp;The sketch I am using is CT123-Voltage. I have calibrated the voltage on the AC-AC adaptor to reflect the measured voltage. &nbsp;The AC-AC adaptor is on the same phase as CT1. &nbsp;Some questions:</p>
<p>- I initially got negative values on CT1, which I ascribed to the polarity of the AC-AC adaptor. &nbsp;Since I have a European plug version, I turned it around in the plug, which then made the readings positive. &nbsp;My logic says this is the same as switching the polarity of the DC plug, correct?</p>
<p>- I am getting positive readings for realPower&nbsp;on CT1 and CT3, but negative on CT2. &nbsp;I am not generating. &nbsp;The direction of the CT clamps is identical for all three phases, so unless there is a wiring difference in the clamps (using the&nbsp;SCT-013-000 clamp from the shop), it seems more likely to be a software or calibration issue.</p>
<p>Any ideas?</p>
<p>Thanks</p>
<p>Willem</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2874.html" class="topic-previous" title="Go to previous forum topic">‹ Pull up value of feed with name</a>
              <a href="2875.html" class="topic-next" title="Go to next forum topic">0-5VDC Current Transducer ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-15519"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Negative power when not generating</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 01/10/2013 - 11:13.</div>
    <div class="content">
     <p>The sign of power (positive or negative) depends on the direction of power flow and that in turn is detected by the relative phase of voltage and current. First, as the AC adapter is a transformer, it makes no difference whether you change it round on the primary side or the secondary side, so what you did is OK.</p>
<p>As for one CT being different, it could easily be a manufacturing error. What you can do to test this is try the same c.t. in each input, where it should give exactly the same power (both in amplitude within a few percent, and sign). If the sign changes, you must look at the software.&nbsp; If that does not reveal a problem, put all 3 c.t&#39;s on the same cable, when all should read the same. If one is negative, the easiest solution is label it and reverse it on the cable (but the proper solution would be to change the wires round in the plug).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15523"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="wvb&#039;s picture" title="wvb&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Negative power when not generating</h3>

    <div class="submitted">Submitted by wvb (not verified) on Tue, 01/10/2013 - 16:05.</div>
    <div class="content">
     <p>Thanks for the comments Robert, but I think I have figured it out:</p>
<p>CT123_Voltage appears to assume that all CTs are on the same phase, and (at least for real power) the Voltage is in phase with the current, which it would normally be in a single phase setup. &nbsp;This also requires the output of the AC-AC adapter to be in phase with the supply voltage. &nbsp;This is why reversing its polarity made a difference - it changed the AC phase by 180 degrees. &nbsp;Apparent power will never be negative, because it is calculated from a sum of squares, so this only applies to real power.</p>
<p>I have 3-phase, and so I now use the CT123_3Phase_Voltage sketch, which stores voltage values and does a phase shift before applying it to calculation for phases 2 and 3. &nbsp;I still had negative values on phases 2 and 3, but again it turned out to be a phase error - I had them the wrong way round, and once I had the 120 and 240 degree offset phases correctly identified, all is now well.</p>
<p>Now I still need to calibrate phase error (and current, but that&#39;s a little harder since I don&#39;t have a clamp meter).</p>
<p>Willem</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15529"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Negative power when not generating</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 01/10/2013 - 20:43.</div>
    <div class="content">
     <p>You didn&#39;t say you had a three-phase supply. It does make a difference, as you realise.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2886"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-_K6QH4lpx1HZAllUKLuS0ZjOrU9l2myrloPyOfn6tmU" value="form-_K6QH4lpx1HZAllUKLuS0ZjOrU9l2myrloPyOfn6tmU"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
