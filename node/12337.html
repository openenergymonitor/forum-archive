<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/12337 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:08:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Three Phase PV and Grid-In Monitoring | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Three Phase PV and Grid-In Monitoring</h3>
        <span class="submitted">Submitted by <a href="../user/5562.html" title="View user profile.">rtX</a> on Sun, 13/03/2016 - 13:31</span>
        <div class="content"><p>I want to monitor my three phase solar PV generation and grid usage.&nbsp; I&#39;ve searched on the forum and found many posts about this but none seem to be more recent than about two years ago. Maybe things have moved on since then, and so I thought I&#39;d post anew.</p>
<p>I have three phase electricity coming in and also have a three phase inverter attached to a 10KW array (three strings).&nbsp; The inverter, the three phase generation meter and three phase grid-in meter are all located reasonably close to one another in a garage. I have an internet connection in the garage (using internet over power plugs).</p>
<p>I want to accurately measure the power I am drawing from the grid and the power I am generating - real time.&nbsp; In particular I want to be able to calculate my usage etc. of both self generated electricity and grid power and log it so that it can be analysed by time periods of my choice (down to the minute).</p>
<p>What do I need hardware-wise to make the above possible and give me some scope for future amendments, such as those I&#39;ll mention below? I already have a number of Arduino boards (including Uno and Mega) and I&#39;d like to get into understanding what I am doing rather than buying a plug-and-play system.&nbsp; I also have a Raspberry Pi and a Beaglebone Black. I mention that I have this hardware as I&#39;d like to use it rather than buy more of the same if I can avoid doing that and so that this can be taken into account if I can buy a shield rather than the whole kit, if feasible.</p>
<p>As I understand it, I&#39;ll need to program the Arduinos and would also appreciate any software hints (as to what I need).</p>
<p>My intention is to install a battery storage system at some point in the near future and I want to be able to analyse what is going on with that (when I get round to that). I&#39;m also keen to divert excess power at some point to other energy using devices (water heaters etc.). I also want to get to understand what I am doing so that I can use Arduinos better than I am presently.</p>
<p>Many thanks in advance.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12594.html" class="topic-previous" title="Go to previous forum topic">‹ RFM69Pi V3 - Frequency Change - Sensus C620</a>
              <a href="12585.html" class="topic-next" title="Go to next forum topic">Soil moisture measurements integration ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-40325"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5562.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="rtX&#039;s picture" title="rtX&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/5562.html" title="View user profile.">rtX</a> on Mon, 14/03/2016 - 20:20.</div>
    <div class="content">
     <p>I&#39;ve been trying to work out what I need.</p>
<p>I think I need:</p>
<ul>
<li>8 no. CT sensors - 3 to go on the line feeds from the solar PV inverter and one (somewhere else)? And similarly 3 to go on the main meter in feeds and again one more (somewhere else)?</li>
<li>3 no. emonTx V3 - Electricity Monitoring Transmitter Unit - 433MHz to collect the data, one for each phase.</li>
<li>3 no AC-AC Power Supply Adapter - AC voltage sensor (UK Plug) - one for each phase on grid in. Do I need another 3 for the solar pv inverter feeds?</li>
<li>1 no. RFM69Pi 433Mhz Raspberry Pi Base Station Receiver Board, which I can attach to my existing Raspberry Pi.&nbsp; Does anyone know the maximum distance that can exist between the emonTx and the base station?</li>
<li>1 no. Programmer - USB to serial UART to program the emonTX&#39;s with three phase sketch.</li>
</ul>
<p>If I&#39;m going awry here, I&#39;d be grateful for pointers. Many thanks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40331"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 14/03/2016 - 22:21.</div>
    <div class="content">
     <p>The idea of one emonTx per phase is a good one as it allows the most accurate measurements. So per emonTx, for the main PV and grid measurements, you need as you say 2 CTs and one ac adapter. The voltage&nbsp;on the grid is the voltage on the grid, so you don&#39;t need and cannot use a separate ac adapter for the PV infeed. You can add a further 2&nbsp;CTs per emonTx for loads on the same phase. Note that by changing a resistor, the emonTx input sensitivity can be customised. You must NOT have&nbsp;the three-phase sketch, as each emonTx is dealing with a single phase, but I recommend you keep the programmer as you&#39;re bound to need to adjust something sooner or later.&nbsp;Also note that the 3 emonTx&#39;s&nbsp;will operate independently, so will report to your Pi at different times - and the reporting intervals might also drift due to crystal tolerances. This shouldn&#39;t be a major problem but if two try to transmit at the same instant, both messages will be lost. There is no firm maximum distance over which the RFM69CW will operate as so much depends on obstacles in the path and local sources of interference. You might find some indications over on the JeeLabs&nbsp;website.</p>
<p>You might not&nbsp;need the emonTx&#39;s - if you have suitable Arduino&nbsp;boards, you could convert the suitable ones (don&#39;t ask me - I don&#39;t know the Arduino range, hopefully someone knowledgeable&nbsp;will chip in) by using the emonTx Shield instead. You should also look at&nbsp;<a href="1170.html">MartinR&#39;s&nbsp;full-fat 3-phase monitor</a>, which stacked the old emonTx V2 (no longer available) and used a wired connection between the three.</p>
<p>And of course read the Building-Blocks articles about diversion.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40332"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6518.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="JD&#039;s picture" title="JD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/6518.html" title="View user profile.">JD</a> on Mon, 14/03/2016 - 23:40.</div>
    <div class="content">
     <p>Hi rtX, &nbsp;I have done exactly what you suggested, using 3 single phase EmonTX&#39;s&nbsp;as Robert mentioned. &nbsp; The resulting hardware looks like the attached photo.</p>
<p>The dashboard we built looks like this:</p>
<p><a data-jsbanchorprepared="WpmlnICFmPAHhEa" href="http://data.peakmonitor.com/test01" rel="noreferrer" target="_blank">http://data.peakmonitor.com/test01</a></p>
<p>(although it looks like the site lost internet connection on Saturday as the data has stopped then).</p>
<p>Works great! &nbsp;10 second resolution on each phase. &nbsp;If you zoom in on the graphs (click and drag to zoom) you can see the differences in power usage on each phase. &nbsp;Also check out the voltage history on the &quot;subpanels&quot; page.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40499"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9108.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-9108.jpg" alt="ChrisValentine&#039;s picture" title="ChrisValentine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9108.html" title="View user profile.">ChrisValentine</a> on Mon, 21/03/2016 - 15:33.</div>
    <div class="content">
     <p>Very interesting to see this, but at the same time worrying because I am now looking at having to install monitoring on a few three-phase systems and certainly had not anticipated having to use anything more than an emon Pi and perhaps a single Tx.</p>
<p>Is there absolutely no way it can be done using a single box? I have ethernet sockets available so don&#39;t need wireless - although I guess that doesn&#39;t get me far given the Tx doesn&#39;t have ethernet either.</p>
<p>Chris.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40510"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 22/03/2016 - 07:19.</div>
    <div class="content">
     <p>I have developed a PCB for continuously monitoring real power at one point in a 3-phase system.&nbsp; It uses the standard Atmel 328P processor, so programming is the same as for the emonTx.&nbsp; If connected at the grid supply point, the associated code can control the diversion of any surplus energy to one or more dump-loads.&nbsp; This board has an integral power supply so no DC or AC adapters are required; the phases are fed directly to three separate transformers on the board.&nbsp; To measure the flow of energy at a second location, a second board would be required.&nbsp; Each board can send its data by RF to an emonBase unit just as the emonTx does.&nbsp; Temperature sensing is not yet supported for this application.</p>
<p>Full details at <a href="http://mk2pvrouter.co.uk/61101.html">http://mk2pvrouter.co.uk/61101.html</a> &nbsp; and there&#39;s an email address for enquiries on my <a href="http://mk2pvrouter.co.uk/13779.html">Shop page</a>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40549"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9308.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-9308.jpg" alt="G7OBC&#039;s picture" title="G7OBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9308.html" title="View user profile.">G7OBC</a> on Wed, 23/03/2016 - 21:00.</div>
    <div class="content">
     <p>Hello &nbsp;First post so please don&#39;t be unkind....</p>
<p>I can see what Chris is getting at .....With the EmonPi only having 2 CT inputs, the Emon_TX has 4, so....</p>
<p>EmonTX_1 (on Node 9)&nbsp;measuring current on the three phases with CT1, CT2 and CT3</p>
<p>The AC voltage reference will be between nutral and a single Phase (i.e. 240V)</p>
<p>The second Emon_tx (on node 10)will look at the three phase loads ...</p>
<p>So the hardware requirements will be 1 off Emon_pi, 2 off Emon_Tx and 6 off CT units ...</p>
<p>What am I missing?</p>
<p>Roj</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40550"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 23/03/2016 - 21:32.</div>
    <div class="content">
     <p><em>What am I missing ...</em></p>
<p>Although each of your emonTx units has a CT for each phase, it can&#39;t measure the AC voltage on more than one phase.&nbsp; So you will only be able to calculate apparent power (I * I) rather than real power (V * I).</p>
<p>[You mean apparent power = V<sub>rms</sub>&nbsp;&times; I<sub>rms</sub>, whereas real power = 1 / n &times;&nbsp;&Sigma; (V<sub>n</sub>&times;I<sub>n</sub>) &nbsp;<em>- RW</em>]</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40552"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 23/03/2016 - 22:33.</div>
    <div class="content">
     <p>Roj, you&#39;re missing 2-off ac adapters to measure the alternating voltage, one for each emonTx.</p>
<p>Robin:&nbsp;With the delayed waveform in the 3-phase sketch, you can get a good approximation for real power in the 2nd &amp; 3rd phases. It&#39;s better than apparent power&nbsp;but it depends on the phase voltages remaining in balance. Unless you can guarantee that,&nbsp;it&#39;s clearly never going to be as accurate as your dedicated 3-phase unit with the voltage of each phase accurately monitored and the real power accurately calculated.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40556"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9308.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-9308.jpg" alt="G7OBC&#039;s picture" title="G7OBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9308.html" title="View user profile.">G7OBC</a> on Thu, 24/03/2016 - 00:20.</div>
    <div class="content">
     <p>Many thanks. Got it</p>
<p>Roj</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40567"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Thu, 24/03/2016 - 14:22.</div>
    <div class="content">
     <p>OK Robert, I think we&#39;ve got multiple ideas in this thread as to how to go about monitoring 3-phase power.</p>
<p>With 3 separate emonTx V3 boards, one per phase, accurate measurements of real power can be done at up to four locations on the associated phase.&nbsp; This will allow calculations for real power (or anything else) to be transmitted for datalogging purposes every few seconds.</p>
<p>With a single emonTx at each of two locations, Robert&#39;s 3-phase sketch can provide a good approximation to the above by measuring voltage on just one of the phases, and using delayed versions for calculations on the other two phases.</p>
<p>Neither of the above approaches would be suitable for diverting surplus power in a 3-phase environment.&nbsp; For that application, voltage and current measurements are needed for all three phases.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40982"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9108.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-9108.jpg" alt="ChrisValentine&#039;s picture" title="ChrisValentine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9108.html" title="View user profile.">ChrisValentine</a> on Thu, 07/04/2016 - 14:18.</div>
    <div class="content">
     <p>Due to the layout of the rather large switch rooms, I am unable to monitor incoming power on each phase - I can only measure PV generated power. In fact its not feasible or even sensible to measure any temperatures at these locations - &quot;outside&quot; is too far away and &quot;inisde&quot; can be absolutely roasting hot due to the presence of heating ducts and even solar themal installations (which I&#39;m hoping to monitor at a later date). Additionally its going to be pushing things asking for more than one or maybe two 13A sockets for the bricks.</p>
<p>If I use an emon Tx and an emon Pi, is there any way I can avoid having to use radio transmission between the boxes?</p>
<p>Chris.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40984"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 07/04/2016 - 15:26.</div>
    <div class="content">
     <p>Yes, you can use a <a href="3872.html">serial connection</a>.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40985"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 07/04/2016 - 15:34.</div>
    <div class="content">
     <p>Yes, that&#39;s a concise summary.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41140"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9108.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-9108.jpg" alt="ChrisValentine&#039;s picture" title="ChrisValentine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9108.html" title="View user profile.">ChrisValentine</a> on Thu, 14/04/2016 - 10:18.</div>
    <div class="content">
     <p>Think this must be the page you&#39;re referring to regards a serial connection, <strong>Robert</strong>?</p>
<p><a href="3884.html" title="https://openenergymonitor.org/emon/node/3884">https://openenergymonitor.org/emon/node/3884</a></p>
<p>...but it doesn&#39;t actually show <em>where</em> I need to connect to on the emon Pi circuit board. I&#39;d like to power both the Pi and Tx off the DC brick that will power the emon Pi. I see there are pads marked 5v and GND next to the RJ45 I/O connector - should solder onto those? And there are Tx and Rx data pins on the header marked &#39;ATmega328 UART&#39; - would the Rx pin be correct for serial data from the emon Tx3.4?</p>
<p>Once I&#39;ve got the connections made, what <em>exactly</em> do I need to do to the Pi&#39;s code to get it to read the data off the serial connection? Is this included in &quot;Robert&#39;s 3-phase sketch&quot; - which I assume I&#39;ll have to put on my Pi ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41142"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 14/04/2016 - 11:42.</div>
    <div class="content">
     <p>The emonPi&#39;s add-on board&nbsp;is already using the only serial port on the Pi&#39;s GPIO. You would be far better off using a usb serial port (e.g. usb programmer). That makes connecting to&nbsp;the emonPi much simpler due to the usb ports being external.</p>
<p>Paul</p>
<p>For a perhaps tidier connection, one of the&nbsp;<a href="http://www.ebay.co.uk/sch/i.html?_from=R40&amp;_trksid=p2053587.m570.l1313.TR0.TRC0.H0.Xusb+serial+adapter+lead+for+raspberry+pi.TRS0&amp;_nkw=usb+serial+adapter+lead+for+raspberry+pi&amp;_sacat=0">&quot;flylead&quot; type usb to serial adapters</a> may be better than a full blown usb programmer.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41152"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 14/04/2016 - 17:34.</div>
    <div class="content">
     <p>Yes, that page will do - I&#39;ve edited the link above (copy/paste goof!).</p>
<p>From memory, if you specify NO radio, the 3-phase sketch will default to sending data via the serial port that&nbsp;<em>should</em>&nbsp;be usable (i.e., it sends the raw data as an ASCII string but with no text annotations). I was assuming you&#39;ll be using a RPi, not the emonPi, if you want a wired rather than radio connection.&nbsp;And yes, if you&#39;ve got 3 phases and want anything like real power, that&#39;s the sketch that you need. The &#39;standard&#39; sketches are all single-phase, so will only give apparent power (VA) on a 3-phase system.</p>
<p>[Edit]<br />
It looks as if the version with in-built default to serial output is the one I&#39;m still working on, so you&#39;ll need to either add&nbsp;the required print statements inside an appropriate pre-processor directive, or convert the existing&nbsp;print statements to send only what is required by emonHub.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41278"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9108.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-9108.jpg" alt="ChrisValentine&#039;s picture" title="ChrisValentine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9108.html" title="View user profile.">ChrisValentine</a> on Wed, 20/04/2016 - 08:49.</div>
    <div class="content">
     <p>Having a bit of a re-think on the serial connection and wondering if it would be possible to get two or more emon Txes to transmit to a single emon Pi from different locations? It might be that my various switch rooms are all in range so that I only need locate the Txes in them and have the Pi somewhere I can get to more easily.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41560"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9157.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="whitecitadel&#039;s picture" title="whitecitadel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/9157.html" title="View user profile.">whitecitadel</a> on Tue, 03/05/2016 - 14:22.</div>
    <div class="content">
     <p>I think as long as you change the node ID on one of the emon TX so they are not reporting the same node that will be no problem?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-41561"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Three Phase PV and Grid-In Monitoring</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 03/05/2016 - 14:59.</div>
    <div class="content">
     <p><em>&quot;that will be no problem?&quot;</em> Correct. An even better trick is to change the node numbers to ones that are already set up in the emonPi.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/12337"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-17gdFHGXYQamynKXXn_Aye3_e61wVgdCDZhvLEIA98I" value="form-17gdFHGXYQamynKXXn_Aye3_e61wVgdCDZhvLEIA98I"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/12337 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:08:54 GMT -->
</html>
