<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2327 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:29:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Directly connecting Emontx and Raspberry PI? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Directly connecting Emontx and Raspberry PI?</h3>
        <span class="submitted">Submitted by <a href="../user/3651.html" title="View user profile.">nubble</a> on Fri, 03/05/2013 - 14:37</span>
        <div class="content"><p>Hi,</p>
<p>Im new here so forgive my upcoming stupid question/s.</p>
<p>Im planning my energy monitoring solution using emontx, raspberry pi and an old laptop gathering dust. Not sure weather dusty the laptop or PI will run local emoncms, but I also want to send data onto Sen.se for viewing.</p>
<p>I have about 10 circuits to monitor and thought about stacking emontx units as someone posted <a href="1170.html">here</a>.&nbsp;</p>
<p>What I want to do is <strong>directly connect</strong> the emonTx stack to the Raspberry PI as they will be situated in the same enclosure.</p>
<p>How do I do this? Would I use I2C as well with SDA and SCK signals? What about ISP? or even FTDI?</p>
<p>&nbsp;</p>
<p>Then I also want to add some control in addition to the monitoring above and integrate that with openRemote [or is there a control project here and methods and mobile app from emon?]. There are GPIO on emontx and pi that I want to use for this and somehow integrate that into the same hardware [dusty or pi] running emoncms.</p>
<p>Thanks in advance from South Africa</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2901.html" class="topic-previous" title="Go to previous forum topic">‹ Connecting CT Sensors directly to arduino</a>
              <a href="2903.html" class="topic-next" title="Go to next forum topic">Temperature power sketch issues ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-11834"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1824.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="MartinR&#039;s picture" title="MartinR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/1824.html" title="View user profile.">MartinR</a> on Fri, 03/05/2013 - 18:22.</div>
    <div class="content">
     <p><em>What I want to do is directly connect the emonTx stack to the Raspberry PI as they will be situated in the same enclosure.</em></p>
<p>Should be fairly straightforward. You&#39;d need to connect the master emonTx to the Pi via the serial ports and then replace the emonTx RFM12B code with the serial code from the sketch for the Pi daughter board.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11841"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3651.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3651.png" alt="nubble&#039;s picture" title="nubble&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3651.html" title="View user profile.">nubble</a> on Fri, 03/05/2013 - 19:43.</div>
    <div class="content">
     <p>Is it safe to assume that the serial ports connection between emontx and pi is not the same as the i2c bus between the stackable emontx units?</p>
<p>What are the pins on the emontx called for the serial ports? ISP? The same for PI?</p>
<p>btw. Martin great work with your&nbsp;3-phase solar PV monitoring.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11850"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1824.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="MartinR&#039;s picture" title="MartinR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/1824.html" title="View user profile.">MartinR</a> on Sat, 04/05/2013 - 07:25.</div>
    <div class="content">
     <p>Yes, the serial ports and I2C ports are completely independent. I suggested using the serial port because that&#39;s how the Pi daughter board currently talks to the Pi. You could use the SPI instead but then you&#39;d have to modify the Pi scripts.</p>
<p>The emonTx serial port is also used for programming so you will have to bare that in mind and you&#39;ll also have to remove any serial print statements.</p>
<p>The emonTx serial port is connected to both the FTDI header and the PWR.SER/I2C header. You&#39;ll find all the info you need on pinouts etc. on the schematics for the emonTx and Pi daughter board.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12368"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Sun, 26/05/2013 - 02:53.</div>
    <div class="content">
     <p>I am interested in this project too. Did you make something working in the end Nubble? Do you think you could give us pinout connections you made. Any code modifications at all?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12413"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Mon, 27/05/2013 - 20:15.</div>
    <div class="content">
     <p>I certainly need you guys help.</p>
<p>Am I correct assuming the rfm12pi only convert a radio signal to a serial message on the rpi? Then all I need to do is connecting an arduino rx/tx to the rpi rx/tx. Then hopefully that should not need any code change in the raspberrypi_run.php script and nothing in the arduino sketch too.</p>
<p>I looked at <a href="http://blog.oscarliang.net/raspberry-pi-and-arduino-connected-serial-gpio/">this page here</a> and I might have to do a level conversion between the 3.3V and 5v. I might opt for the resistor bridge.</p>
<p>Let me know if that&#39;s the right track. Thanks.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12757"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Sat, 08/06/2013 - 22:21.</div>
    <div class="content">
     <p>I wish I had more support. :(</p>
<p>Direct connection with serial does not seem possible without any code change of the raspberrypi_run.php script. I checked the serial output of the emontx and it differ from what the Raspberrypi receives normally with the rfm12pi. Ideally I&#39;d prefer changing too much code if possible.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12760"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Sat, 08/06/2013 - 22:42.</div>
    <div class="content">
     <p>could that help?</p>
<p><a href="https://github.com/openenergymonitor/EmoncmsPythonLink/blob/master/pylink.py" title="https://github.com/openenergymonitor/EmoncmsPythonLink/blob/master/pylink.py">https://github.com/openenergymonitor/EmoncmsPythonLink/blob/master/pylin...</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12808"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Mon, 10/06/2013 - 08:01.</div>
    <div class="content">
     <p>&gt; Am I correct assuming the rfm12pi only convert a radio signal to a serial message on the rpi?</p>
<p>Correct.</p>
<p>&gt; Then all I need to do is connecting an arduino rx/tx to the rpi rx/tx.</p>
<p>Yes.</p>
<p>&gt; Then hopefully that should not need any code change in the raspberrypi_run.php script and nothing in the arduino sketch to</p>
<p>You&#39;ll need to change (simplify) the code in the arduino to remove the &quot;RF&quot; layer, basically, to let the output format stick to what the RPi expects to receive.</p>
<p>Besides, there is a layer of data encoding you don&#39;t need when using a simple serial link. You may want to remove such encoding in the arduino code and simplify the code in the RPi. (I&#39;m referring to the fact that numbers are sent as unsigned chars and thus are scaled, and all).</p>
<p>The pylink would help but may need adaptation (node ID is hardcoded). It is meant as an exemple to build upon. I&#39;m working on a rewrite of the python gateway that runs on the RPi and it should be able to read serial input (not yet, work in progress) of the form :</p>
<pre>
NodeID val_1 val_2 val_3
NodeID val_1 val_2 val_3
NodeID val_1 val_2 val_3</pre><p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12934"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Wed, 12/06/2013 - 21:43.</div>
    <div class="content">
     <p>Thanks J&eacute;rome , I am just waiting on my logic level converter to arrive and some more cables. Then I can test all that.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13011"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Sun, 16/06/2013 - 19:25.</div>
    <div class="content">
     <p>Right I have this connected and I can read my emontx output on the rpi serial port.</p>
<p>The pylink looks like the easiest option for me. I understand what the emontx outputs, that&#39;s quite clear. BUt I can&#39;t make any sense of what the rpi expect (I can see my node ID on the first two character but that&#39;s all.)</p>
<p>What Rpi expect:</p>
<p>10 9 2 0 0 0 0 109 11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	&nbsp;10 6 2 0 0 0 0 109 11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	&nbsp;10 7 2 0 0 0 0 109 11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	&nbsp;10 7 2 0 0 0 0 109 11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	&nbsp;10 13 2 0 0 0 0 109 11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>What emontx outputs:</p>
<p>17 19 17 3236<br />
	13 15 15 3236<br />
	15 16 16 3227<br />
	14 17 18 3227<br />
	16 20 16 3236<br />
	13 20 15 3227<br />
	&nbsp;</p>
<p>Also I know python well but not much php. So I&#39;ll avoid tempering with the rfm12piphp for now...</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13091"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3695.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chaveiro&#039;s picture" title="chaveiro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3695.html" title="View user profile.">chaveiro</a> on Wed, 19/06/2013 - 15:35.</div>
    <div class="content">
     <p>Why not arduino the ethernet directly?</p>
<p>I&#39;ve this solution for a few weeks and it&#39;s fine.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13125"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Fri, 21/06/2013 - 08:09.</div>
    <div class="content">
     <p>If you mean adding ethernet to the emonTX, sure, some people do.</p>
<p>The design choice of OEM is to have a single base with ethernet connection to a modem, along with one or more emonTX communicating with the base by RF. The reason for this being that the router is not necessarily close to what we measure. .</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13447"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Fri, 05/07/2013 - 20:32.</div>
    <div class="content">
     <p>Right. I have completed this now. Thanks for your help.</p>
<p>On the hardware side I connected the serial link from the ftdi port of the emontx to the gpio serial link on the rpi. In between the two I have used a &quot;logic level converter&quot; bought for three quids on the web. (note rfm12pi and rfm12b are absent on this setup)</p>
<p>On the coding part I managed not to have to modify anything in the Rpi. (I made the pylink working but gave up that option) The emontx sends data in the same way the rfm12pi does. For this I took a basic CT_123 sketch and removed anything that concerns rf (mainly because I did not connect a rfm12b). Then for each sensor value that is sent I have formatted them with the 2x 8bit that the php script expect. I used the function below:</p>
<p>void print_formatted(signed short nData)<br />
	{<br />
	&nbsp; unsigned char nDataMSB = nData &gt;&gt; 8 ;<br />
	&nbsp; unsigned char nDataLSB = nData ;<br />
	&nbsp; Serial.print(&quot; &quot;); Serial.print(nDataLSB);<br />
	&nbsp; Serial.print(&quot; &quot;); Serial.print(nDataMSB);<br />
	&nbsp;<br />
	}</p>
<p>Then somewhere in the loop function I can use:</p>
<p>print_formatted(emontx.power1);</p>
<p>All this works pretty nicely. Obviously the limitation is that only one emontx can be used but in my case of application this is not an issue.</p>
<p>I guess this is all fairly simple for the audience of this forum here. I just wanted to post a small recipe if someone intend to take the same path.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13499"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Mon, 08/07/2013 - 13:47.</div>
    <div class="content">
     <p>Hi, Great work this is something I wanted to try for a while ( unfortunately not an expert ) and when I read your post I ordered a logic level convertor. Connectivity setup seems easy enough and I am receiving ok (minicom).&nbsp; Tried above emontx code above but couldn&#39;t get it to work fully e.g. receiving ok but wrong format. Could you please share your emontx sketch. I have assumed your using standard Raspberry Pi Module (php code).</p>
<p>Thanks</p>
<p>Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13515"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Mon, 08/07/2013 - 20:58.</div>
    <div class="content">
     <p>Hi Peter,</p>
<p>Good to hear you are into this as well. Yes I use the standard php service running on the Rpi. Nothing to change on the Rpi (except that you disconnect the rfm12pi of course).</p>
<p>I have the project to make a circuit board that will make a clean and easy connection between the ftdi and the gpio&#39;s.</p>
<p>My setup for this particular project is a single box emontx/rpi together with wifi on the rpi. I plan to use several of them for some estate properties on which I need just electrical monitoring. Hence no need for multiple emontx&#39;s.</p>
<p>I am attaching a sketch that I have been modifying. Note I have inserted more code for doing CT and temperature together. Just ignore what I added for temperature.</p>
<p>I hope that will help.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13516"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Mon, 08/07/2013 - 21:16.</div>
    <div class="content">
     <p>right... took me a little while to find out how attachements works here. Getting there...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13519"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Mon, 08/07/2013 - 22:02.</div>
    <div class="content">
     <p>Hi Chacal,</p>
<p>Great thanks, let you know shortly.</p>
<p>I&#39;m using 3G dongle and similarly would like to have emontx in same enclosure. I&#39;ve got wifi ( TPLink -Argos) working with XBMC on Raspberry Pi but having some problems with emoncms ready to go image.</p>
<p>Thanks</p>
<p>Peter</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13520"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Mon, 08/07/2013 - 22:33.</div>
    <div class="content">
     <p>Hi Chacal,</p>
<p>Thanks again, it&#39;s working - no changes. I&#39;ll leave it over night.</p>
<p>Cheers Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14859"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3735.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chacal&#039;s picture" title="chacal&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/3735.html" title="View user profile.">chacal</a> on Wed, 04/09/2013 - 16:29.</div>
    <div class="content">
     <p>I have finally completed a little board that connects rpi and emontx together directly.</p>
<p>pm me if you are interested in one of them.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15619"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2128.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jb79&#039;s picture" title="jb79&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Directly connecting Emontx and Raspberry PI?</h3>

    <div class="submitted">Submitted by <a href="../user/2128.html" title="View user profile.">jb79</a> on Mon, 07/10/2013 - 02:32.</div>
    <div class="content">
     <p>Hello!</p>
<p>Do you have a schematic for this project that you can share?</p>
<p>best regards Juergen Brenner</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2327"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-USjK_3zpANUOi3SVAJQ17GKse9s9prVncObdQLUiA7w" value="form-USjK_3zpANUOi3SVAJQ17GKse9s9prVncObdQLUiA7w"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/2327 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:29:42 GMT -->
</html>
