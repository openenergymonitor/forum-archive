<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/6255 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:01:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Added an ADE7878A based design for rpi | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Added an ADE7878A based design for rpi</h3>
        <span class="submitted">Submitted by <a href="../user/7334.html" title="View user profile.">savenlid</a> on Mon, 08/12/2014 - 15:00</span>
        <div class="content"><p>Just wanted to say that I added an ADE7878A&nbsp;baseed design on the wiki.</p>
<p><a href="http://www.analog.com/static/imported-files/data_sheets/ADE7854A_7858A_7868A_7878A.pdf">http://www.analog.com/static/imported-files/data_sheets/ADE7854A_7858A_7868A_7878A.pdf</a></p>
<p>Read page 27 and forward of datasheet above to understand theory of operation and challenges in power measurments.</p>
<p>Project link</p>
<p><a href="http://wiki.openenergymonitor.org/index.php?title=ADE7878A_rpi">http://wiki.openenergymonitor.org/index.php?title=ADE7878A_rpi</a></p>
<p>/Nicholas</p>
<p>Datasheet</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1987.html" class="topic-previous" title="Go to previous forum topic">‹ Galvanically Isolated Voltage Monitor  -  GIVmon </a>
              <a href="9983.html" class="topic-next" title="Go to next forum topic">Getting started ›</a>
      </div>
</div>
      </div>
    
      </div>
<div id="comments">
  <a id="comment-25696"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Added an ADE7878A based design for rpi</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Mon, 08/12/2014 - 21:19.</div>
    <div class="content">
     <p>I may be mis-reading your schematic, but it looks like you&#39;ve tied your RPi GND to grid neutral? &nbsp;If that&#39;s true, the whole system, including the RPi needs to be considered potentially live.</p>
<p><strong>[EDIT]</strong>&nbsp;&nbsp;P.S. Some of those voltage phase traces look very close together for signals that have 415V between them.</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-25705"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Added an ADE7878A based design for rpi</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 09/12/2014 - 00:33.</div>
    <div class="content">
     <p>It looks to me as if your design is very dangerous if not illegal within the EU. You need to consider what happens if the neutral becomes disconnected between the unit and the supply. If that happens, the entire unit and anything and everything connected to it could become live to the full line voltage.</p>
<p>In broad terms, to make your unit safe, you need a totally separate power supply for the metering IC, you need to add optical or transformer isolation in all the signal lines between it and the rest of the circuit, and that isolation needs to be good to the full test voltage, with the correct tracking distances between the high voltage and low voltage sides. And the whole high voltage side needs to enclosed in an earthed metal box or double-insulated.  </p>
<p>RobP with his <a href="1987.html">GIVMon</a> has very clearly explained the difficulties in making a <b>SAFE</b> means of monitoring mains voltages.</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-25708"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7334.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="savenlid&#039;s picture" title="savenlid&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Added an ADE7878A based design for rpi</h3>

    <div class="submitted">Submitted by <a href="../user/7334.html" title="View user profile.">savenlid</a> on Tue, 09/12/2014 - 10:03.</div>
    <div class="content">
     <p>Correct, its not safe and its was not aimed to be in version 1.0</p>
<p>I don&#39;t claim to comply with any rules or regulation, nor do I sell this product to anyone.</p>
<p>Do not build the this in version 1.0&nbsp;if you don&#39;t&nbsp;understand the risks.</p>
<p>Wait for updates, as version 1.0&nbsp;is just a quick and dirty to get running with the software.</p>
<p>My goal now is not to comply with any safety regulations or discussion about safety or rules.</p>
<p>I want to see how good the ADE7878A is at measuring power and if it will be in harmony with my regular (from the power-company) meter in measuring power consumption. I also want to have this capability to load balance between phases and delay loads to avoid peaks.</p>
<p>&nbsp;</p>
<p>If you want this isolated I can fix that, but I will &nbsp;not do it if no&nbsp;one wont use it.</p>
<p>Me personally don&#39;t need it. If others want to build this, fine I fix that.</p>
<p>I want some discussion bout the capabilities of the ADE7878 vs other home-brews.</p>
<p>Thanks</p>
<p>/Nicholas</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-25729"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Added an ADE7878A based design for rpi</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Tue, 09/12/2014 - 15:52.</div>
    <div class="content">
     <p>Here&#39;s the wiki link:&nbsp;<a href="http://wiki.openenergymonitor.org/index.php?title=ADE7878A_rpi">http://wiki.openenergymonitor.org/index.php?title=ADE7878A_rpi</a></p>
<p>Thanks for adding.&nbsp;</p>
<p>I&#39;m interested to see how this develops, have you built a prototype yet? I have not got experiance with the&nbsp;ADE7878A. What made you choose this chip over others?</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-25731"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7334.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="savenlid&#039;s picture" title="savenlid&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Added an ADE7878A based design for rpi</h3>

    <div class="submitted">Submitted by <a href="../user/7334.html" title="View user profile.">savenlid</a> on Tue, 09/12/2014 - 16:23.</div>
    <div class="content">
     <p>Thanks Glyn.</p>
<p>Happy to share if it can be of use for someone else.</p>
<p>PCB is under manufacturing, maybe 1-2 weeks away.</p>
<p>made by : <a href="https://oshpark.com/" title="https://oshpark.com/">https://oshpark.com/</a> &nbsp;(first try with this&nbsp;vendor)</p>
<p>Parts are in transit to my home.</p>
<p>ADE7878A chosen based on googling.</p>
<p>Part is&nbsp;readily available from mouser and digikey. Good documentation and app-note.</p>
<p>I wanted a side-kick chip for the PI that is&nbsp;dedicated and specialized on accurate poly phase power metering.</p>
<p>I did not want another CPU.</p>
<p>I already use&nbsp;pi for different&nbsp;measurements that goes into&nbsp;sql database and then reports/actions are generated from the database by other pi/computers. Also the PI has WLAN (over USB).</p>
<p>It will be an addition to my&nbsp;echo-system of measurement and control.</p>
<p>/Nicholas</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-25767"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7334.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="savenlid&#039;s picture" title="savenlid&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Added an ADE7878A based design for rpi</h3>

    <div class="submitted">Submitted by <a href="../user/7334.html" title="View user profile.">savenlid</a> on Thu, 11/12/2014 - 07:28.</div>
    <div class="content">
     <p>Design was removed from forum by request&nbsp;of moderators.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-26554"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7334.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="savenlid&#039;s picture" title="savenlid&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Added an ADE7878A based design for rpi</h3>

    <div class="submitted">Submitted by <a href="../user/7334.html" title="View user profile.">savenlid</a> on Thu, 08/01/2015 - 11:13.</div>
    <div class="content">
     <p>Communication with device established.</p>
<p>8 / 16 / 32 read and writes functions created.</p>
<p>Init of device started just now.</p>
<p>C++ files available.</p>
<p>&nbsp;</p>
<p>ADE7878A is an c++ object / class.</p>
<p>Compiled as shared library, &nbsp;.so file can be shared.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-26600"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7334.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="savenlid&#039;s picture" title="savenlid&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Added an ADE7878A based design for rpi</h3>

    <div class="submitted">Submitted by <a href="../user/7334.html" title="View user profile.">savenlid</a> on Fri, 09/01/2015 - 15:05.</div>
    <div class="content">
     <p>Works like a charm now</p>
<p>3 phase.</p>
<p>accurate.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-26602"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Added an ADE7878A based design for rpi</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 09/01/2015 - 15:19.</div>
    <div class="content">
     <p><i>Works like a charm now</i></p>
<p>Maybe, but the design has serious safety concerns as per the posts above,&nbsp;and therefore it is not supported or endorsed by this forum.</p>
<p>Paul - Moderator</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<form action="https://openenergymonitor.org/emon/node/6255"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-45PshtO7LBUuAk_zlHIno5KBSEbGOK2stm6srHhumIg" value="form-45PshtO7LBUuAk_zlHIno5KBSEbGOK2stm6srHhumIg"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/6255 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:01:09 GMT -->
</html>
