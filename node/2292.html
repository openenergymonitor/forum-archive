<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2292 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:19:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>RaspberryPi as emonBase forwarder only - SD card life expectancy concern | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>
        <span class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Tue, 23/04/2013 - 22:31</span>
        <div class="content"><p>Hi.</p>
<p>I&#39;ve seen concern expressed in several posts here about the life length of the SD cards reduced by frequent write accesses.</p>
<p>I chose the Pi as a base because it appeared to me as about the same price but with more versatility. If I was mass-producing OEM systems, the price would be more important, and I wouldn&#39;t care about versatility, but it is not the case. Yet, I don&#39;t really need a local server.</p>
<p>As far as I can tell, there are two main sources of write accesses : logs and database sample recordings.</p>
<p>Apache logs should not be frequent if the Pi is not used as a server.</p>
<p>The gateway scripts do a bit of logging. This can or could be disabled, although this option is not offered yet. It is easy to add.</p>
<p>Regarding the sample recording, it looks as if the whole design is done to store locally, while the &quot;remote send&quot; feature is an option. Changing this would imply to modify both the gateway scripts (the python script was designed with this in mind from the beginning, the php script is adaptable) and the GUI (could be a bit more painful from my POV).</p>
<p>Do you think this would be worth doing for a future emonCMS/raspberrypi version ?</p>
<p>Ultimately, the most generic approach would be to let the user define as many emonCMS targets as he wants through the GUI, one of which could be the local one. But if that makes it too complicated, sticking to local and remote, with the possibility to enable/disable each, would address the SD card life expectancy issue.</p>
<p>What do you think ?</p>
<p>A linux machine running 24/7 does some writing anyway. Do you have an idea of what kind of usage makes OEM become problematic ? I mean, can one record every 3 seconds be too much already ?</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5093.html" class="topic-previous" title="Go to previous forum topic">‹ Planning a system and need some advice - first post!</a>
              <a href="5302.html" class="topic-next" title="Go to next forum topic">Hot water dripping into cold tank in loft ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-11573"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Wed, 24/04/2013 - 11:22.</div>
    <div class="content">
     <p>Hi</p>
<p>I can confirm that the PI SD card eventually fails if used as the database. I have had 2 fail. I now have a USB hard disk and used berryboot to move the PI Linux installation onto the hard disk. Time will tell if this is more reliable.</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11576"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 24/04/2013 - 11:48.</div>
    <div class="content">
     <p>Sorry to repeat myself, but the accumulated wisdom elsewhere is to boot from the SD card and run on and do all writing to a genuine spinning hard disc.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11582"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 24/04/2013 - 19:57.</div>
    <div class="content">
     <p>Ian, you&#39;re right. I think a spinning USB hard disk should be more reliable in time, or so I&#39;ve heard. But this means higher cost, higher power consumption, and more space needed.</p>
<p>Now, if the Pi is just used as a repeater, like a Nanode RF, there should not be so many write accesses, and I don&#39;t see where the problem is in terms of reliability. There may be too much logging but this is something that can be customized, and, well, the Pi is supposed to be running a linux on an SD card, I hope this can handle a reasonable amount of logging.</p>
<p>(One may argue that it is more expensive than a Nanode, but it has other advantages: versatility, possibility to connect to and operate on via ssh,...).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11586"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3329.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3329.jpg" alt="lobolobo&#039;s picture" title="lobolobo&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/3329.html" title="View user profile.">lobolobo</a> on Thu, 25/04/2013 - 06:03.</div>
    <div class="content">
     <p>Hi Ian and J&eacute;r&ocirc;me,</p>
<p>in my system, i combine two devices at the same time to run it. At the beginning used only the SD card and the system fails when time passed. So i combine a SD card (small capacity, it&acute;s not necessary a big one. 128 Mb is more than enough) only for boot purposes (RasPi) and then a pendrive (32 GB) to store data. This combination runs perfect for me with no problem and completely&nbsp;stable. &nbsp;</p>
<p>Best regards,</p>
<p>Nacho</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11587"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 25/04/2013 - 08:02.</div>
    <div class="content">
     <p>Isn&#39;t there just the same issue with a pendrive !?</p>
<p><a href="https://en.wikipedia.org/wiki/Pendrive#Disadvantages" title="https://en.wikipedia.org/wiki/Pendrive#Disadvantages">https://en.wikipedia.org/wiki/Pendrive#Disadvantages</a></p>
<p><a href="https://en.wikipedia.org/wiki/Flash_memory#Memory_wear" title="https://en.wikipedia.org/wiki/Flash_memory#Memory_wear">https://en.wikipedia.org/wiki/Flash_memory#Memory_wear</a></p>
<p>By the way, I read this:</p>
<blockquote><p>Some developers have produced special versions of operating systems (such as Linux in Live USB) or commonplace applications (such as <span class="mw-redirect">Mozilla Firefox</span>) designed to run from flash drives. These are typically optimized for size and configured to place temporary or intermediate files in the computer&#39;s main RAM rather than store them temporarily on the flash drive.</p>
</blockquote>
<p>I don&#39;t know what is done on raspian regarding this. (Haven&#39;t searched for it specifically.)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11596"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3329.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3329.jpg" alt="lobolobo&#039;s picture" title="lobolobo&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/3329.html" title="View user profile.">lobolobo</a> on Thu, 25/04/2013 - 10:14.</div>
    <div class="content">
     <p>Hi&nbsp;J&eacute;r&ocirc;me,</p>
<p>may be, but nowadays has been the only method i find to run it stable.&nbsp;At the moment I have no problems with this configuration. May be in the future. The only thing i could tell you is that it&acute;s work fine for me. Very stable with that configuration at the moment.</p>
<p>It&acute;s very important to me to have my data base in good conditions and for now that&#39;s what happens. In the past my data (specifically the SD card) was corrupted after a certain time but not now ...&nbsp;I will tell you if the problems return.</p>
<p>Is important for me simplify system installation without using a usb hard drive and for now, the pendrive&nbsp;works perfectly.</p>
<p>This is my pendrive in use:</p>
<p><img alt="" src="../../../fotos.wiju.es/compraventa/2/969a6e7b8395eb5179591e275ca1355a22861094.jpg" style="width: 150px; height: 112px; " /></p>
<p>Thanks for the wikipedia&nbsp;links by the way ... I&acute;ll read them carefully.</p>
<p>Regards,</p>
<p>Nacho</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11598"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Thu, 25/04/2013 - 11:16.</div>
    <div class="content">
     <p>Hi J&eacute;r&ocirc;me</p>
<p>I just realized that you are suggesting the PI as a replacement for the NandodeRF&nbsp;to be used as a base station forwarding all data to a remote server. I think that is an excellent idea for those prefering to use a PI.</p>
<p>We would then have the possibility of using a PI used in 3 different modes.</p>
<p>1 - As an&nbsp;emoncms server network connected to a base station. (This is how I have been using it prior to the latest emoncms software with a nanodeRF&nbsp;used as a base station)</p>
<p>2 - Fitted with the RFM12PI&nbsp;used as a direct radio connected server which seems to be what is currently being promoted. (Which I think could be a mistake unless the data is written to a hard disk) .</p>
<p>3 - Fitted&nbsp;with the RFM12PI&nbsp;used as a dumb base station forwarding data to a remote server as you are suggesting.</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11599"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Thu, 25/04/2013 - 11:36.</div>
    <div class="content">
     <p>Interesting subject,</p>
<p>also check this topic, where they discuss the option to mount the SD as R/O</p>
<p>raspberrypi.org/phpBB3/viewtopic.php?p=217757#p217757</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11603"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1587.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="edllew&#039;s picture" title="edllew&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/1587.html" title="View user profile.">edllew</a> on Thu, 25/04/2013 - 17:53.</div>
    <div class="content">
     <p>I went through a couple SD cards that didn&#39;t work well with emonCms, but have been running for about four months without problems, logging data continuously.&nbsp; I do expect eventual SD card failure.&nbsp; So my solution has been to run an automated backup of the mysql database, using automysqlbackup as I read about here on OpenEnergMonitor a couple months ago.&nbsp; Every day the emoncms data is automatically backed up to my main computer whenever I happen to turn it on.</p>
<p>For now I am using a NanodeRf as an emonBase, forwarding data for emonCms logging on my RasPi.&nbsp; I do have an Rfm2Pi running on my RasPi, but I am using it for other purposes (controlling my house heat pump).</p>
<p>I did set up (on a second RasPi) a USB hard drive.&nbsp; It works, but it is loud and draws about 8 watts.&nbsp; That drive is an older external drive that I was no longer using.&nbsp; If I had a small, inexpensive, low power USB hard drive, the external drive could be a good solution.&nbsp; In my quick search, it seems there is no large market out there for hard drives like that.</p>
<p>I have an SSD (solid state drive) in my desktop computer.&nbsp; SSD warranties are approaching those of HDDs.&nbsp; But isn&#39;t the technology of the SSD memory more-or-less the same as SD card memory?&nbsp; So why is the SSD more reliable than the SD card?&nbsp; Or is it, I am a bit confused about that.&nbsp; A small SSD (say 32GB), if it actually were reliable, would seem good for the RasPi.&nbsp; Cost should be mostly proportional to size, so it would be relatively inexpensive, though the trend is toward larger drives, which might make small ones unavailable and/or more expensive.</p>
<p>A quick check at Newegg shows a 32GB SATA SSD for $50 with three year warranty.&nbsp; Add an SATA-USB converter for say $10, and that would be a solution.&nbsp; Though maybe there are reasons this wouldn&#39;t work with the RasPi, I don&#39;t know.&nbsp; And again, just because they say 3 years, I don&#39;t know why this would be more reliable than an SD card.</p>
<p>-Ed</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11605"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3329.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3329.jpg" alt="lobolobo&#039;s picture" title="lobolobo&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/3329.html" title="View user profile.">lobolobo</a> on Thu, 25/04/2013 - 19:18.</div>
    <div class="content">
     <p>My quick solution was to create a MySQL Master to Slave replica to have a backup. Master is the database in the RasPi&nbsp;instance and Slave is a database&nbsp;in a Windows system with Wamp server (and of course MySQL instance) in it.</p>
<p>I know this is not the best solution but a had a lot of problems in forwarding data from RasPi&nbsp;to the laptop instance. Every thing in the Raspi emoncms parameters is correct (green color) but no data in the laptop instance with the forward method.</p>
<p>My emoncms data is backed up automatically hourly but for me, replication is the best method that i could find. When i try to restore a backup, this is a slow process for me. It takes me a few hours to restore the entire database.</p>
<p>Regards,</p>
<p>Nacho</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11614"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3594.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3594.jpg" alt="nothing clever&#039;s picture" title="nothing clever&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/3594.html" title="View user profile.">nothing clever</a> on Fri, 26/04/2013 - 08:39.</div>
    <div class="content">
     <p>The Raspberry Pi is the first small Linux computer I have ever seen that boots and runs from SDHC or Compact Flash.</p>
<p>All small Linux computers I&#39;ve seen prior to this boot from SDHC or Compact Flash, and then run from a ramdisk with the SDHC or CF unmounted and powered down.</p>
<p>To preserve data when the computer is powered off, closedown scripts either back up the written files to a Network File system, or scribble them back to the SDHC.</p>
<p>I have only had my Raspberry Pi a few days, but this is the first mod I will make to my system.</p>
<p>Anyone interested in this should look at the buildroot project <a href="http://www.buildroot.org/">http://www.buildroot.org/</a> where I understand Raspberry Pi is now an official build target.</p>
<p>&nbsp;</p>
<p>Mike</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11840"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 03/05/2013 - 19:33.</div>
    <div class="content">
     <p>My SD card failed earlier this week (after just 5 weeks), and rather than buy another 16Gb card (to accommodate my backup image), I&#39;ve split the SD card partitions to boot from a 120mB&nbsp;SD card (old TomTom card!), and moved the &#39;root&#39; to a external USB HDD partition.</p>
<p>I want to use one of the other partitions in the USB HDD to act as a network backup device for my other computers (not quite sure how to do that yet!!).<br />
	If I can do that, then the cost of buying and running the external HDD is more justifiable.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12104"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3594.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3594.jpg" alt="nothing clever&#039;s picture" title="nothing clever&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/3594.html" title="View user profile.">nothing clever</a> on Mon, 13/05/2013 - 18:59.</div>
    <div class="content">
     <p>I&#39;ve now got a version of Linux running completely in RAM. There is no SDHC activity after the system finishes booting. The system has been running now for several days, and here are my disk stats</p>
<p>$ cat /proc/diskstats | grep mmc<br />
	179&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 mmcblk0 182 3 1480 210 0 0 0 0 0 200 210<br />
	179&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 mmcblk0p1 17 3 160 50 0 0 0 0 0 50 50<br />
	179&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 mmcblk0p2 80 0 640 70 0 0 0 0 0 70 70</p>
<p>They have not changed since I first logged on.</p>
<p>I guess I could upload the kernel image here because the filesystem is an initramfs, so you&#39;d only need the kernel.img file, but it&#39;s not easy for anyone to change the filesystem without the complete build environment. You can of course change it when you log in, but of course you loose any changes when the system reboots.</p>
<p>As I have it running, there&#39;s no X environment, no emoncms, the system just listens to the RFM12pi and collects data, passing emoncms .json requests out to the www.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12105"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Mon, 13/05/2013 - 19:35.</div>
    <div class="content">
     <p>Hi Mike.</p>
<p>Thanks for your inputs.</p>
<blockquote><p>I guess I could upload the kernel image here because the filesystem is an initramfs, so you&#39;d only need the kernel.img file, but it&#39;s not easy for anyone to change the filesystem without the complete build environment.</p>
</blockquote>
<p>Perhaps can you just list the steps to accomplish this. Is this a linux you built more or less from scratch ? A raspian ? Did you recompile a kernel with different options ?</p>
<blockquote><p>As I have it running, there&#39;s no X environment, no emoncms, the system just listens to the RFM12pi and collects data, passing emoncms .json requests out to the www.</p>
</blockquote>
<p>What gateway do you use to listen to the RFM and send the data ? Currently, I think emoncms is needed because the parameters for the radio are entered through the Raspberry Pi module GUI. Did you hardcode the parameters in an existing gateway script (php or python) or did you make your own ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12111"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3594.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3594.jpg" alt="nothing clever&#039;s picture" title="nothing clever&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/3594.html" title="View user profile.">nothing clever</a> on Mon, 13/05/2013 - 22:04.</div>
    <div class="content">
     <p>I&#39;ve been using the buildroot environment for creating embedded systems for several years. Details can be found here <a href="http://buildroot.uclibc.org/" title="http://buildroot.uclibc.org/">http://buildroot.uclibc.org/</a>. Buildroot is a complete build system. You tell it what the target system is, what programs you want included, the format of your filesystem etc, and then sit back for an hour or so while it downloads all the code and builds it for you.</p>
<p>There is a default configuration for the Raspberry Pi. I used that. I notice it has pulled in a load of stuff I&#39;ll never use, like programs to process the optional camera, but they are not large so I&#39;ve left them in the image.</p>
<p>As for the RFM gateway, I wrote my own in C. I&#39;ll attach the code. It is nothing clever. I used minicom to program up the RFM radio interactively, then locked it. I&#39;ve not seen any corruption of the frequency or node numbers that the php gateway comments seem to imply happens, though my gateway code (monitor) does occassionally get stuff it&#39;s not expecting, i.e.</p>
<p>May 13 08:24:06 pi user.info syslog: monitor: Uknown packet Available commands:<br />
	May 13 08:24:06 pi user.info syslog: monitor: Uknown packet&nbsp;&nbsp; 123 x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - Toggle configuration change protection, 1=Unlocked<br />
	May 13 08:24:06 pi user.info syslog: monitor: Uknown packet&nbsp;&nbsp; &lt;nn&gt; i&nbsp;&nbsp;&nbsp;&nbsp; - set node ID (standard node ids are 1..26)<br />
	May 13 08:24:06 pi user.info syslog: monitor: Uknown packet&nbsp;&nbsp; &lt;n&gt; b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - set MHz band (4 = 433, 8 = 868, 9 = 915)<br />
	May 13 08:24:06 pi user.info syslog: monitor: Uknown packet&nbsp;&nbsp; &lt;nnn&gt; g&nbsp;&nbsp;&nbsp; - set network group (RFM12 only allows 212, 0 = any)<br />
	May 13 08:24:06 pi user.info syslog: monitor: Uknown packet&nbsp;&nbsp; &lt;n&gt; c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - set collect mode (advanced, normally 0)<br />
	May 13 08:24:06 pi user.info syslog: monitor: Uknown packet&nbsp;&nbsp; ...,&lt;nn&gt; a - send data packet to node &lt;nn&gt;, with ack<br />
	May 13 08:24:07 pi user.info syslog: monitor: Uknown packet&nbsp;&nbsp; ...,&lt;nn&gt; s - send data packet to node &lt;nn&gt;, no ack<br />
	May 13 08:24:07 pi user.info syslog: monitor: Uknown packet&nbsp;&nbsp; &lt;n&gt; l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - turn activity LED on DIG8 on or off<br />
	May 13 08:24:07 pi user.info syslog: monitor: Uknown packet Current configuration:<br />
	May 13 08:24:07 pi user.info syslog: monitor: Uknown packet 79 i15 g210 @ 433 MHz&nbsp; Lock: 0<br />
	May 13 08:24:07 pi user.info syslog: monitor: Uknown packet &gt; 0s<br />
	May 13 08:24:07 pi user.info syslog: monitor: Uknown packet&nbsp; -&gt; 1 b</p>
<p>Code for monitor - my RFM gateway attached. Node numbers are currently hardwired, as are the names of various shell scripts I run to do the processing. I had intended to set all that stuff interactively with command line options but have not got around to it yet.</p>
<p>If you want to try buildroot, download it into a directory called buildroot, cd to it. type &quot;make menuconfig&quot;, exit out of the menu. Then untar the buildroot_configs.tar file. That will unroll all the config files I have used. Type &quot;make&quot; and sit back. You will get a complete copy of my system built from scratch.</p>
<p>Mike</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14672"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3980.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jan&#039;s picture" title="jan&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/3980.html" title="View user profile.">jan</a> on Thu, 29/08/2013 - 11:10.</div>
    <div class="content">
     <p>After my first SD card failure (the original pre-loaded has lasted only 3 weeks), I have moved the root partition to a USB pendrive, and left boot partition on a small 128 Mb SD card.</p>
<p>Nacho, is it yours still running?</p>
<p>I cross my fingers hoping that my pendrive have implemented the wear leveling and so. Next step will be replace the USB by a (small and cheap) USB HDD that I am still looking for.</p>
<p>In order to avoid massive writing to the Sd card or USB pendrive, is it possible to configure the Raspberry as only a gateway and send all the data directly to emoncms.org server?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14680"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 29/08/2013 - 12:52.</div>
    <div class="content">
     <blockquote><p>In order to avoid massive writing to the Sd card or USB pendrive, is it possible to configure the Raspberry as only a gateway and send all the data directly to emoncms.org server?</p>
</blockquote>
<p>I&#39;ve been working on a standalone gateway, and I&#39;d be happy to get your feedback :</p>
<p><a href="https://github.com/Jerome-github/oem_gateway" title="https://github.com/Jerome-github/oem_gateway">https://github.com/Jerome-github/oem_gateway</a></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14681"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Thu, 29/08/2013 - 12:54.</div>
    <div class="content">
     <p>I did experiment with a USB pen drive, mine lasted only two weeks. I guess the larger capacity, the better wear leveling would be, mine was just a basic 4GB&nbsp;USB drive. My final approach was to do a R/O root file system and have the Raspberry Pi as forwarder only.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14693"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3734.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PhilThy&#039;s picture" title="PhilThy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/3734.html" title="View user profile.">PhilThy</a> on Thu, 29/08/2013 - 19:25.</div>
    <div class="content">
     <p>I&#39;ve had a 4gb thumb drive (integral) working for nearly three months now without error. I thought it would make sense to upgrade to a larger capacity drive after reading about wear problems, so I purchased 2 32gb mini usb thumb drives (again Integral) - one for the Pi and one spare. The first failed after about 4 hours of use and is now unmountable on my Debian laptop. The second hit problems after a few hours use and after checking, was found to be heavily corrupted. I guess some are more robust than others, even down to different types from the same manufacturer (the failed drives were purchased direct from Amazon.uk)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15525"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Tue, 01/10/2013 - 21:52.</div>
    <div class="content">
     <p>Hi Martin,</p>
<p>Sounds greats - downloaded oemgateway but can&#39;t login to change pi settings e.g. ssh using normal default pi and raspberry login. What is default raspberry pi login for oemgateway ready to go.</p>
<p>Thanks</p>
<p>Peter</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15539"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 02/10/2013 - 09:34.</div>
    <div class="content">
     <p>Do you mean you downloaded emoncms as a ready-to-go SD card ?</p>
<p>emongateway designates (to me) the python gateway I coded, to be used on a Pi with a linux installation, it has no login/pwd by itself.</p>
<p>If you intend to use the Pi as a repeater, you don&#39;t need the ready-to-go SD card, rather a raspian or other distro (I&#39;m using raspian) on which you just have to install the gateway.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15541"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Wed, 02/10/2013 - 11:08.</div>
    <div class="content">
     <p>Hi Jerome, I found this file which I assumed was complete ready to go for&nbsp; oem gateway &quot;oem_gateway24sep2013.img.zip&quot; at <a href="http://emoncms.org/site/docs/raspberrypigateway" title="http://emoncms.org/site/docs/raspberrypigateway">http://emoncms.org/site/docs/raspberrypigateway</a></p>
<p>I loaded it onto cleaned SDHC card and booted my Pi. Seemed to boot ok. It offers login and also displays gateway traffic.</p>
<p>I just tried ssh and that offered login, woeked when I tried login root &amp; username root. Now I&#39;m confused, do I work with above or is there a different procedure I should have followed to get oemgateway.</p>
<p>This comes up on log in -</p>
<p>Industrial Perennial Environment - Release 1<br />
	by NutCom Services, Inc. - <a href="http://nutcom.hu/ipe/" title="http://nutcom.hu/ipe/">http://nutcom.hu/ipe/</a></p>
<p>&nbsp;</p>
<p>Thanks Peter</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15545"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 02/10/2013 - 13:02.</div>
    <div class="content">
     <p>Wow. This indeed is the python gateway I&#39;m referring to. I just didn&#39;t know a ready-to-go card had been released that used it (which I&#39;m glad. Means it might be useful to someone.). Hence the confusion.</p>
<p>According to the doc page you provided, root/root is the way to go. Are you saying it worked when you did this ? Then everything&#39;s fine. Change root password and you&#39;re done.</p>
<p>(I would have created a normal (non root) user account, but perhaps the rationale here is that the system being read-only, it is not meant to be used for usual tasks anyway.)</p>
<p>I&#39;m not sure. Are you still stuck or is everything settled ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15546"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Wed, 02/10/2013 - 14:07.</div>
    <div class="content">
     <p>Hi, No not stuck just wondering was I on right path. I&#39;ll try configure to suit my setup tonight. Also try a 3G solution I&#39;ve been working on using &quot;umtskeeper&quot;. Excellent</p>
<p>Thanks Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15583"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2292.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jpm32526&#039;s picture" title="jpm32526&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/2292.html" title="View user profile.">jpm32526</a> on Fri, 04/10/2013 - 20:25.</div>
    <div class="content">
     <p>Hi Jerome and Glyn, great work on the oemgateway image.&nbsp; I am having a small problem with the SD image.&nbsp; When I run -</p>
<p>root@oemgateway:~# ps -ef | grep python<br />
	root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1221&nbsp; 1206&nbsp; 2 14:30 pts/0&nbsp;&nbsp;&nbsp; 00:00:48 python /root/oem_gateway/oemgateway.py --config-file /boot/oemgateway.conf<br />
	root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1242&nbsp; 1226&nbsp; 0 15:06 pts/1&nbsp;&nbsp;&nbsp; 00:00:00 grep python</p>
<p>the system returns the above.&nbsp; If I run the kill command for 1221 it tells me there is no such process running.&nbsp; Also no data is being sent to emoncms unless I run the command</p>
<p>python /root/oem_gateway/oemgateway.py --config-file /boot/oemgateway.conf</p>
<p>and then it spews out the expected data on the monitor and emoncms begins to update.&nbsp; When I CTRL-C out of that, emoncms quits updating.&nbsp; Essentially the system does not start or continue the process to run the program when the system boots.</p>
<p>Any ideas about what could be wrong?</p>
<p>Regards...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22004"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6523.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="g_mascolo&#039;s picture" title="g_mascolo&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RaspberryPi as emonBase forwarder only - SD card life expectancy concern</h3>

    <div class="submitted">Submitted by <a href="../user/6523.html" title="View user profile.">g_mascolo</a> on Tue, 17/06/2014 - 19:04.</div>
    <div class="content">
     <p>Hi.</p>
<p>I can&#39;t figure out how i experienced two SD failure in two days using emonCMS linux images, while i have a little raspberrypi server running mysql + php since one year without any problem. I think to investigate deeper what kind of failure SD had. One difference with two platforms is that my working set i used ext4 fs with &quot;noatime&quot; option.&nbsp; May failure due to rewriting many times the same block? I&#39;m not expert of filesystems but i realized it is very strange a so fast failure. If i could write any cycle a different location in my 8GB data structure it would take a long time return in the same cell before filling the whole data space available. Could we consider to use a special filesystem for SD memory cards?</p>
<p>I found an interesting discussion in <a href="http://raspberrypi.stackexchange.com/questions/169/how-can-i-extend-the-life-of-my-sd-card">http://raspberrypi.stackexchange.com/questions/169/how-can-i-extend-the-life-of-my-sd-card</a></p>
<p>Thanks</p>
<p>Giuseppe.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2292"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-ED646UdkXBJgIjLe0piF7OpZBNyIjPf7YCKrMpmx_bc" value="form-ED646UdkXBJgIjLe0piF7OpZBNyIjPf7YCKrMpmx_bc"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
