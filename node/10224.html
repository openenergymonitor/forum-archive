<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10224 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:48:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Emoncms to openHAB | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Emoncms to openHAB</h3>
        <span class="submitted">Submitted by <a href="../user/7497.html" title="View user profile.">eugen66</a> on Thu, 26/02/2015 - 09:27</span>
        <div class="content"><p>I have 2 Emontx&nbsp;3.4 and 3 EmonTH and a PI with RFM12&nbsp;with a local version of EmonCMS. I would really like to have a lot of these&nbsp;values &quot;exported&quot; dynamically&nbsp; to openHAB on Raspbian&nbsp;which&nbsp;I have on the same network. I have read a lot on this forum, but I cant really find out what is the best AND latest solution. When looking at the proposed way in openHAB using a binding, it seems quite complicated and I don&#39;t have any programming skills. And I&#39;m wondering if that is possible without interfering with my installed Emoncms.</p>
<p>So&nbsp;what would be&nbsp;the &quot;easiest&quot;&nbsp; way of doing this, MQTT, JSON??</p>
<p>Please anyone, would really appreciate some input, and&nbsp;very grateful.&nbsp; ;)</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11798.html" class="topic-previous" title="Go to previous forum topic">‹ IMPORTANT! - Modularisation of emoncms</a>
              <a href="6155.html" class="topic-next" title="Go to next forum topic">EmonCMS - Absolute? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-38170"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7376.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7376.jpg" alt="allmac&#039;s picture" title="allmac&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms to openHAB</h3>

    <div class="submitted">Submitted by <a href="../user/7376.html" title="View user profile.">allmac</a> on Tue, 12/01/2016 - 03:44.</div>
    <div class="content">
     <p>Try:&nbsp;https://github.com/openhab/openhab/wiki/Open-Energy-Monitor-Binding</p>
<p>Or:&nbsp;https://community.openhab.org/t/mqtt-show-data/2562/5</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38173"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms to openHAB</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Tue, 12/01/2016 - 09:37.</div>
    <div class="content">
     <p>Also see our blog post&nbsp;<a href="http://openenergymonitor.blogspot.com/2015/12/openenergymonitor-emonpi-and-openhab.html">http://openenergymonitor.blogspot.com/2015/12/openenergymonitor-emonpi-and-openhab.html</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38309"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7376.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7376.jpg" alt="allmac&#039;s picture" title="allmac&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms to openHAB</h3>

    <div class="submitted">Submitted by <a href="../user/7376.html" title="View user profile.">allmac</a> on Fri, 15/01/2016 - 18:24.</div>
    <div class="content">
     <p>I am not using NODE-Red...<br />
Is this the only way to publish some data from EMONHUB to MQTT?</p>
<p>I was using HTTP to send data to EMONHUB, but it was really hard to send this data to OPENHAB.<br />
Than, I decided to send everything to MQTT Broker running in my EMONHUB.</p>
<p>Now I am able to read data in OPENHAB and EMONHUB, and the same time.</p>
<p>*** The only problem is... MQTT&nbsp;received data is going only to NODES, and I am not able to send this data to INPUT.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38339"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms to openHAB</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Sat, 16/01/2016 - 21:41.</div>
    <div class="content">
     <p>You can log the data from Nodes to Feeds:&nbsp;<a href="https://guide.openenergymonitor.org/#locallog">http://openenergymonitor.org/emon/modules/emonpi#locallog</a></p>
<p>What functionality do you require?&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38359"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7376.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7376.jpg" alt="allmac&#039;s picture" title="allmac&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms to openHAB</h3>

    <div class="submitted">Submitted by <a href="../user/7376.html" title="View user profile.">allmac</a> on Sun, 17/01/2016 - 02:15.</div>
    <div class="content">
     <p>Thanx Glyn,</p>
<p>I need to choose between Nodes or Input?</p>
<p>Because, if this is correct...<br />
Than I will stop to use local&nbsp;EmonHubEmoncmsHTTPInterfacer to transfer RFM data from Nodes to Input.<br />
And than rebuild all my Feeds from Nodes.<br />
However, how can I send Nodes data to Emoncms.org?</p>
<p>One more question...<br />
Nodes has no &quot;Process List&quot; &nbsp;to know created Feeds?<br />
Should not be like INPUT?<br />
Specially if I need to choose between one or other, and MQTT&nbsp;can use only NODES.</p>
<p>It looks like...<br />
Received data from HTTP I should use&nbsp;INPUT,<br />
But received data from&nbsp;MQTT&nbsp;I should use NODES.<br />
Is this correct?</p>
<p>But NODES interface is complete like INPUT interface?<br />
Can I do everything from NODES like from INPUT?</p>
<p>Regards.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38368"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7376.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7376.jpg" alt="allmac&#039;s picture" title="allmac&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms to openHAB</h3>

    <div class="submitted">Submitted by <a href="../user/7376.html" title="View user profile.">allmac</a> on Sun, 17/01/2016 - 04:02.</div>
    <div class="content">
     <p>I was looking for a solution...<br />
Is there not a way to just &quot;mirror&quot; all data&nbsp;received into NODES also into INPUT?</p>
<p>Then people could choose between receive data from HTTP (direct into INPUT) or from MQTT (into NODES and mirror it into INPUT). This should be not so hard&nbsp;to do inside database.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38437"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms to openHAB</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 18/01/2016 - 15:30.</div>
    <div class="content">
     <p>Hello allmac, if your using the emon-pi variant of emonhub you can send data using the EmonHubMqttInterfacer. Perhaps this interfacer could be used to send data directly to openhab? Although the data is in the form:</p>
<p><strong>topic: </strong>emonhub/nodeid/rx/values<br />
<strong>payload: </strong>csv data (ie: 100,200,300)</p>
<p>There has been a fair bit of discussion about how emonhub and emoncms MQTT support should work and it may well be that its current implementation is not ideal for what you want to do. You may need to find a work around.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38445"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7376.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7376.jpg" alt="allmac&#039;s picture" title="allmac&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms to openHAB</h3>

    <div class="submitted">Submitted by <a href="../user/7376.html" title="View user profile.">allmac</a> on Mon, 18/01/2016 - 17:13.</div>
    <div class="content">
     <p>Openhab is able to read MQTT data without problems. I receive already&nbsp;all my Emoncms data into Openhab interface using MQTT. But I send all my data to Emoncms server MQTT broker, than my Emonhub also receives data from MQTT, and I don&#39;t need to send data again to Openhab (process twice same information).</p>
<p>The problem is...<br />
Emonhub&nbsp;receives data only into Nodes. And Nodes do not work correctly if I create FEEDs.<br />
If you delete a Node, than you have &quot;ghost feeds&quot; lost in configuration. And you need to remove it manually.<br />
And I have no interface to easly see the Node where each Feed where created, and I don&#39;t have Node data into database.</p>
<p><a href="11210.html" title="http://openenergymonitor.org/emon/comment/reply/11210">http://openenergymonitor.org/emon/comment/reply/11210</a></p>
<p>Then... what I want to do is send all my Nodes data to Input and work without problems.</p>
<p>I could have an option in Nodes like &quot;input: true/false&quot;, where Node data could be copied to Input, or not. Or Input receives data from MQTT.</p>
<p>I could solve this, if I was able to find where Nodes data is received sent to interface, and where are configurations created. I am really looking for this, and try to enable this.</p>
<p>EmonHubEmoncmsHTTPInterfacer is also&nbsp;not able to get all my nodes, and send&nbsp;to Emoncms.org (for example).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-38562"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7376.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7376.jpg" alt="allmac&#039;s picture" title="allmac&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms to openHAB</h3>

    <div class="submitted">Submitted by <a href="../user/7376.html" title="View user profile.">allmac</a> on Wed, 20/01/2016 - 21:55.</div>
    <div class="content">
     <p>Well... I did a quick modification into&nbsp;EmonHubMqttInterfacer.<br />
Now it is able to get my MQTT Server data AND send it directly to INPUT.</p>
<p>Could I do a new interfacer to connect MQTT&nbsp;broker to INPUT/Feed.<br />
Or maybe just add a setting like &quot;INPUT: true/false&quot; to enable or disable it in MQTT&nbsp;interfacer.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10224"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-4R-COvJ0T7btR0spGu7T80CbrZuCjU4lpeLuGResIQ8" value="form-4R-COvJ0T7btR0spGu7T80CbrZuCjU4lpeLuGResIQ8"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
