<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11233 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:10:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Enecsys Gen 2 Gateway Firmware | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Enecsys Gen 2 Gateway Firmware</h3>
        <span class="submitted">Submitted by <a href="../user/8693.html" title="View user profile.">mbehensky</a> on Thu, 10/09/2015 - 10:52</span>
        <div class="content"><p>Hi, All..&nbsp; I just purchased two Enecsys grid tie inverters and a Gen 2 gateway on EBay to start my PV system.&nbsp; Since the company went out of business, it seems like the monitoring system is down.&nbsp; You can see a little of what is going on using the display, but it would be great to have more information about how much power is coming from which inverter.</p>
<p>From the penguin you see when the gateway boots up, it seems like they are running linux, and this seems to be confirmed by comments I&#39;ve seen on this site.&nbsp; I have some questions, and I was wondering if anyone could help:</p>
<p>1.&nbsp; There is a web interface on the gateway which you can access by opening a browser to the IP address you see at the top of the gateway screen.&nbsp; Unfortunately the &quot;admin&quot; username and &quot;password&quot; default password for the Gen 1 gateways doesn&#39;t seem to work.&nbsp; Does anyone know how to log into the thing?</p>
<p>2.&nbsp; I understand that there is an SD card in the gateway (I haven&#39;t opened mine up yet, but I assume it is inside).&nbsp; I guess I could plug it into my laptop and poke around the file system, but I was wondering if enecsys ever released the source code for their linux distribution.&nbsp; As far as I can see, the GPL license for linux would require them to do so.&nbsp; Of course, since they are bankrupt there is probably nothing to do about this now.</p>
<p>3.&nbsp; There are a few people who seem to have built monitoring systems that can work with the Gen 2 gateways, including various folks talking (mostly in dutch on tweakers.net) about using a raspberry pi.&nbsp; I looked at what the gateway was doing with wireshark, and it seems to be opening an SSL connection to dcl.monitor.enecsys.net and sending encrypted reports out.&nbsp; Has anyone been able to intercept this data, and if so, how?&nbsp; Obviously, if you hack the OS on the gateway you can do anything you want, but is there some other choice?</p>
<p>Thanks in advance for any info..</p>
<p>Max Behensky</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12395.html" class="topic-previous" title="Go to previous forum topic">‹ aerial position on rfm modules and pi case physical interference</a>
              <a href="12399.html" class="topic-next" title="Go to next forum topic">EmonTX v3.4 - Can it be powered from the 5v terminal? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-34073"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8620.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="npmp&#039;s picture" title="npmp&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/8620.html" title="View user profile.">npmp</a> on Fri, 11/09/2015 - 15:01.</div>
    <div class="content">
     <p>See my post here re SolarBob&#39;s script</p>
<p><a href="10377.html" title="http://openenergymonitor.org/emon/node/10377">http://openenergymonitor.org/emon/node/10377</a></p>
<p>Simple perl script running on a raspberry Pi and the gateway! Job done!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34084"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8693.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mbehensky&#039;s picture" title="mbehensky&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/8693.html" title="View user profile.">mbehensky</a> on Fri, 11/09/2015 - 20:36.</div>
    <div class="content">
     <p>Hi, and thanks for the info.&nbsp; I&#39;m still stuck, though.&nbsp; I understand that there is a perl script that runs on a raspberry pi (although I&#39;d probably run it on my linux server) that can decode the data output by the enecsys gateway.&nbsp; Everyone says something like &quot;point your gateway to the ip address of your raspberry pi&quot;.</p>
<p>I can&#39;t see how to do this.&nbsp; I have a <u>Generation 2</u> gateway.&nbsp; In setup mode, it has 6 sections:</p>
<p>&quot;Inverter Settings&quot; &nbsp;&nbsp; &quot;Gateway Settings&quot; &nbsp; &quot;Repeater Settings&quot;</p>
<p>&quot;Server Settings&quot; &nbsp;&nbsp;&nbsp; &quot;Restart/Shutdown&quot; &nbsp;&nbsp; &quot;Installation Wizard&quot;</p>
<p>&quot;Server Settings&quot; seems promising; it has:</p>
<p>&nbsp;&nbsp;&nbsp; Server Report URL (dcs.monitor.enecsys.net)</p>
<p>&nbsp;&nbsp;&nbsp; Server Command URL (ccs.monitor.enecsys.net)</p>
<p>However, no matter how you poke at the touch screen you can&#39;t change anything.</p>
<p>&quot;Restart/Shutdown&quot; only lets you do that.</p>
<p>The &quot;Installation Wizard&quot; lets you select your inverter serial numbers if you enter the 2100 pin, but you can&#39;t change anything else.&nbsp; None of the other choices let you do anything, either.</p>
<p>You can try to log into the gateway with a web browser through the IP address shown on the main screen, but it requires a username and password.&nbsp; I&#39;ve tried everything there without success.</p>
<p>I must be missing something obvious, but how do you change the report IP address?&nbsp; Maybe the US gateway has different firmware?</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34101"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8693.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mbehensky&#039;s picture" title="mbehensky&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/8693.html" title="View user profile.">mbehensky</a> on Sat, 12/09/2015 - 15:46.</div>
    <div class="content">
     <p>Hi, again-</p>
<p>Well, after carefully reading the Enecsys Gen 2 rack mount inverter installation guide, I know more.&nbsp; In that guide, it shows a screenshot of the setup mode screen.&nbsp; In this screenshot, the center button at the bottom reads &quot;Maintenance Mode&quot; instead of &quot;Restart/Shutdown&quot; like it does on my gateway.&nbsp; There is some text about needing a password to go into maintenance mode.&nbsp; I think that this is what allows you to actually change the server settings.</p>
<p>I don&#39;t know why my gateway is different.&nbsp; Maybe they changed the firmware to disable maintenance mode, or maybe there is some secret way to enable the &quot;Maintenance Mode&quot; button.&nbsp;</p>
<p>I have dis-assembled my gateway (remove the 4 stick on rubber feet on the bottom to reveal the screws that hold it together).&nbsp; There is a 4Gb SanDisk microsd-hc card on the bottom side of the board which I have removed.&nbsp; I&#39;m about to go get another one and copy the data from the stock card to that.&nbsp; I&#39;ll make sure that the replacement card boots, and then I can experiment with less chance of breaking everything.</p>
<p>There are also two pins on the board which looks like they take one of those small jumpers.&nbsp; I bet that if I short them it will put the gateway into factory reset mode or something.&nbsp; I don&#39;t want to brick my gateway, though, so I want to have a backup SD card before I try it.</p>
<p>I&#39;m going to poke around on the linux filesystem on the SD card and see if I can access /etc/password and /etc/shadow.&nbsp; I can hopefully patch the encoded passwords from my linux box into there and be able to log in via telnet or the web interface.&nbsp; I may try and crack the stock passwords (they might have used something insecure).&nbsp; This would allow anyone to log into their gateway without taking it apart..</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34118"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8693.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mbehensky&#039;s picture" title="mbehensky&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/8693.html" title="View user profile.">mbehensky</a> on Sun, 13/09/2015 - 17:11.</div>
    <div class="content">
     <p>Well, I keep replying to my own posts as I figure more stuff out...</p>
<p>I figured out how to log into the web interface on my Gen 2 gateway.&nbsp; Before you read how to do this, however, you need to READ THE FOLLOWING WARNINGS, and agree that you PROCEED AT YOUR OWN RISK:</p>
<p>1.&nbsp; The web interface seems to give you a lot of power.&nbsp; YOU CAN CHANGE THE POWER LIMIT ON YOUR INVERTERS AND A LOT OF OTHER THINGS THAT LOOK LIKE THEY MIGHT HAVE THE POTENTIAL TO BURN THINGS OUT, START FIRES, BRICK YOUR GATEWAY OR INVERTERS, AND OTHERWISE CREATE EXPENSIVE AND DANGEROUS CHAOS.&nbsp; Enecsys is now out of business, so anything you break you can&#39;t replace. You might render your $10,000 PV array useless.&nbsp; I think you shouldn&#39;t change any settings related to the inverters at all.</p>
<p>2. As you will see below, the security on the Enecsys Generation 2 gateway web interface is EXTREMELY POOR.&nbsp; The password protection is a nearly useless fig leaf.&nbsp; Do not, under any circumstances, place your gateway on a subnet that is not well protected by a firewall.&nbsp; Considering the above described dangers, it should probably be on its own subnet behind its own firewall, with no other computers and no inbound access to the internet at all.</p>
<p>Here we go:</p>
<p>I plugged the SD card from my Gen 2 gateway into my linux box and found that it had a straightforward linux file system with two partitions, boot and rootfs.&nbsp; The /etc/passwd file in the root file system has only one user with shell access, root.&nbsp; There is another file (etc/passwd-) in the partition that is identical, except that the root login has no password at all.</p>
<p>Before I changed anything I tried to make a raw copy with dd of the data on the SD card.&nbsp; This failed after 935 mb with a disk error.&nbsp; I don&#39;t know what was up.&nbsp; I thought that maybe the SD card was copy protected somehow, but I seemed to be able to access all of its files.&nbsp; Anyway, I took the first 935MB and copied it to another 4Gb SD card, repaired the linux file system on the rootfs partition on the new card, and copied the files from the original card to the new one with cp -a.</p>
<p>The new card booted my gateway just fine.&nbsp; I took the card out and copied the /etc/passwd- file to /etc/passwd, and I was able to boot the gateway, telnet to it and log in as root without a password.</p>
<p>You have access to what looks like a standard linux command line interface.&nbsp; You can look around, edit files with vi, etc.</p>
<p>The linux system runs thttpd as its web server.&nbsp; The web directory is /srv/www.&nbsp; If you look in there you will fine two HTML files, index.htm (the default) and CommandControl.htm.</p>
<p>I looked at the index.htm file and it creates the login page.&nbsp; When you enter your username and password it runs the following script:</p>
<p>$(document).ready(function () {<br />
&nbsp;&nbsp;&nbsp; $(&quot;button&quot;).button();<br />
&nbsp;&nbsp;&nbsp; $(&quot;#LoginFail&quot;).hide();</p>
<p>&nbsp;&nbsp;&nbsp; $(&quot;#btnSubmit&quot;).click(function () {<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$.post(&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;/cgi-bin/fetchDatabase.py&quot;,<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{ user: $(&quot;#txtLogin&quot;).val(),<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; pass: $(&quot;#txtPassword&quot;).val()},<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;function(data) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var returnVal = String(data);<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if (returnVal.indexOf(&quot;True&quot;) != -1) {<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$(&quot;form&quot;).submit();<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else {<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$(&#39;#LoginFail&#39;).show();<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$(&#39;#LoginFail&#39;).delay(3000).fadeOut(2000);<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return false;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;);<br />
&nbsp;&nbsp;&nbsp; });<br />
});</p>
<p>If you look at cgi-bin/fetchDatabase.py it connects to a sqlite database and looks up the username to see if the password matches.&nbsp; Opening the database on my linux box you find the following username/password pairs in the users database:</p>
<p>admin/robin</p>
<p>maintenance/batman</p>
<p>helpdesk/superman</p>
<p>However, if you try to enter these usernames and passwords into the web interface they don&#39;t work for me.&nbsp; If you run the javascript debugger you get &quot;OperationalError:No such table USERS&quot;.&nbsp; I don&#39;t know what is up; maybe the problem is with the case on the database name.</p>
<p>In any case, all that happens if the password matches is the form gets submitted to ./CommandControl.htm.&nbsp; If you just type:</p>
<p>&lt;gateway ip address&gt;/CommandControl.htm into your browser you get the web interface WITH NO PASSWORD NEEDED AT ALL.</p>
<p>At this point you can look at your inverters, see their status, and probably screw everything up.</p>
<p>The &quot;Properties&quot; tab seems to let you change the reporting URL for your gateway.&nbsp; Here is where it seems like you would point it to whatever new server you wanted.</p>
<p>After looking at this it is clear that the software on the Enecsys Gen 2 gateway is barely beta test quality.&nbsp; It contains an insecure web interface that doesn&#39;t even work as designed.&nbsp; In hindsight, you can figure out everything I did just with an internet connection and a copy of firefox without opening the gateway.</p>
<p>Be careful.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34138"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8066.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="firefox7518&#039;s picture" title="firefox7518&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/8066.html" title="View user profile.">firefox7518</a> on Mon, 14/09/2015 - 13:50.</div>
    <div class="content">
     <p>I&#39;ve investigated this 9&nbsp;months ago as well when enecsys started to fall apart and the monitoring went out.</p>
<p>The risks are high and that&#39;s why I didn&#39;t post this information here for everyone available. As you have mentioned the risk&nbsp;to destroy the firmware of the inverter or Gateway is too high! The risk of frying your inverters is DEFINITELY there! I know that because I learned that the hard&nbsp;way.&nbsp;<br />
They never built a 100% solution and everything is just a development disaster from my point of view. They completely fooled all the clients by thinking they are buying stronger 300W Inverters whereas it is just a firmware setting limiting it to 240 or 300W. However, playing around in this UI and saving stuff to the inverter could lead into corrupt data if light conditions are not perfect (full sunshine on the panels!) If during storing the data to the inverter the DC Power is not enough to keep it powered on you will have maybe a dead inverter and no exchange available for it!&nbsp;</p>
<p>That&#39;s why I started to offer it as a service to others. Besides that I also built some workarounds and a real-time dashboard on the gateway itself with feeds to EmonCMS and pvoutput.org.</p>
<p>The gateway process showing the UI is the GatewayUI&nbsp;binary. It also has others to control the DBUS&nbsp;etc.</p>
<p>The db is a SQlite DB but be careful to not lock it as the gateway has a watchdog which will constantly reboot until it has access again. Also it has Watchdogs for sending the data. If there are more than 5 entries in the reporting table it will trigger a watchdog which will also reboot the gateway. Thousand of Gateways are doing this at the moment. I also did a workaround for that to avoid that 99% of the time. However, I still try to find the perfect Server response which the gateway then will acknowledge and does delete the data in the reporting table. Without that it&#39;s doing the reboots until it was able to send the data.</p>
<p>Furthermore it also has a watchdog which checks if there is connections to the inverters. If there is no connection for a certain time it will also trigger reboots. The reboots are just reloading the GatewayUI and not doing a complete reboot. It&#39;s still annoying to see your gateway in a blue screen state for 20s every 30-40 mins.</p>
<p>The binaries are written in Q&#39;t. The rest is python 2.6 and Javascript. My code is written also in python also the dashboard</p>
<p>Be careful when changing the URL&#39;s. It sometimes (50% of the time) happens that the Gateway DB is stuck in a locked condition where you will never be able anymore to change the URLs ;-) &nbsp;And this lock situation will not even clear with shutdown restart. You have to manually change the URL then via SQL queries etc.</p>
<p>The 1st Gens are very simple. Their gateway is just sending the data and not storing them. The 2nd Gen has a lot of logic (poorly written and executed) which will prevent it&nbsp;to be&nbsp;a nice solution.</p>
<p>If you want to know more you can look here:&nbsp;<a href="http://swiss-solar-log.ch/products-services/enhanced-enecsys-2nd-gen-gateway-firmware-external-portals/">http://swiss-solar-log.ch/products-services/enhanced-enecsys-2nd-gen-gateway-firmware-external-portals/</a></p>
<p>For the ones who do not need the realtime dashboard or pvoutput.org stream I can offer the&nbsp;simple URL change to my emonCMS instance. I already have more than 200+ 1st and 2nd Gen Inverters running on it.</p>
<p>Kind Regards<br />
Andreas</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35423"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8910.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="amcom&#039;s picture" title="amcom&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/8910.html" title="View user profile.">amcom</a> on Tue, 27/10/2015 - 12:14.</div>
    <div class="content">
     <p>10-27-2015</p>
<p>Hello from St Louis Missouri.&nbsp; My name is Dan and I&#39;m a software and hardware engineer.&nbsp; I have a few questions for you Andreas or anybody else who might have some answers. First let me lay a foundation.</p>
<p>I have about 150 Enecys inverters that I bought cheap on ebay.&nbsp; Most of them are 1st generation.&nbsp; About 30 are 2nd gen units.&nbsp; I&#39;m going to install 50 of them on a close friends roof system.&nbsp; We are old time ham radio / electronics buddies.&nbsp; Back in the late 70s and early 80s we made antennas.&nbsp; Ok so&nbsp;I made a first class&nbsp;inverter test / repair&nbsp;work bench.&nbsp; It has a meter socket and electrical panel. There is a 10amp double pole breaker connected to a cord with a wieland 3 pin plug that mates with the enecsys inverter. This breaker feeds the meter socket.&nbsp; There is an electronic LCD meter that shows energy flow direction and kw/watts flowing.&nbsp; It connects two a 30 amp 240 vac outlet which in turn is connected to a two 100 watt light bulbs in series which is connected to a very high performance 10kw trip lite always on power / battery backup system with a toroid transformer.&nbsp;&nbsp;The trip lite system is used to simulate perfect sine wave grid power with a display of the amount of load.</p>
<p>When I connect up an enecsys inverter I can see it pumping power out through the LCD amp meter.&nbsp; I can also see the load drop on the trip lite unit while the enecys inverter is running.&nbsp;</p>
<p>Ok so I know these 1st inverters have problems.&nbsp; It is very easy to cause them to fail.&nbsp; I am am able to reproduce the exact conditions that cause the 1st gen units to self destruct.&nbsp; When I open / throw the double pull breaker that supplies the grid power to the wieland 3 pin plug, it normally causes no problem.&nbsp; The inverter shuts down.&nbsp; But if the grid power is turned back on too soon it causes&nbsp;a fire cracker pop sound and the inverter is damages.&nbsp;</p>
<p>When you do an autoposy of the 1st gen inverter you discover a surface mount 3 amp fuse is blown and one sometimes two mosfets are shorted out.&nbsp; Obviously these 1st gen units have a engineering flaw with the Q5 mosfet driver circuit.&nbsp;</p>
<p>Ok so my 1st question is ... Im curious if anyone has engineered a true&nbsp;modification that will prevent this from happening.&nbsp; You can use a heat gun and warm up the solder and&nbsp;remove the bad mosfet.&nbsp; When I replace it and the blown fuse the unit starts working again.&nbsp; So I have proven that I can damage the unit and then repair it.&nbsp; You can put a larger mosfet in and it seems to hold up better.&nbsp;</p>
<p>I want to come up with a quick modification that can be done to all these units to prevent this failure.&nbsp; Im wondering if maybe the circuit needs a zener diode, a resister to prevent the stock 20N60 mosfet from shorting out.&nbsp; Or maybe these 20N60 mosfet are a bad low quality.&nbsp; After all you can buy them in&nbsp; quantities of 10 for about .30 cents each.&nbsp; Enecys was prob only paying about ten cents each for these.</p>
<p>So does&nbsp;anybody have any suggestions for modify this gen mosfet driver circuit ?</p>
<p>I read here that on gen 2 inverters you can use the gateway to re-program the inverter firmware.</p>
<p>Does&nbsp;anybody know if the firmware on gen 1 units can be changed from a gen 2 gateway?</p>
<p>The gen one units have a nasty 6-8 minutes&nbsp;delay timer.&nbsp; The gen 2 units only have a few seconds of grid delay timer.&nbsp; Does&nbsp;anybody know if this can be changed?&nbsp; Can the&nbsp;firmware on gen 1 units be changed perhaps from a gen 2 gateway?<br />
&nbsp;</p>
<p>Dan</p>
<p>St Louis, MO</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37008"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8066.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="firefox7518&#039;s picture" title="firefox7518&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/8066.html" title="View user profile.">firefox7518</a> on Mon, 14/12/2015 - 17:38.</div>
    <div class="content">
     <p>Hi Dan</p>
<p>Sorry, never saw your questions here. &nbsp;No the 1st and 2nd Gen Firmwares are not compatible. They even did never manage to bring the new gateway firmware which was able to read 1st and 2nd Gen inverters. They always promised but never delivered.</p>
<p>I think this 6-8 delay is exactly because of the high possibility for self destruction. I would not change it. I even would say ramp it up to 10mins to be sure not to fry them. :-(</p>
<p>I&#39;m still trying to find the perfect server response for the 2nd Gens so that they drop&nbsp;their reporting table. The gatewas&nbsp;otherwise will panic and try to send their data non-stop. &nbsp;It was a nice feature storing the data to the gateway in case the connection was lost to the server. However it&#39;s hard to figure out the necessary response which says that the reception of the data was ok.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-39238"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8456.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Running Cloud&#039;s picture" title="Running Cloud&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/8456.html" title="View user profile.">Running Cloud</a> on Mon, 08/02/2016 - 22:54.</div>
    <div class="content">
     <p>Any chance you could send me a copy of the firmware? I want to have a look for the response code.</p>
<p>Regards</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40634"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9698.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jimluschen&#039;s picture" title="jimluschen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/9698.html" title="View user profile.">jimluschen</a> on Sat, 26/03/2016 - 21:03.</div>
    <div class="content">
     <p>Hey Max, did you ever develop the program you need for your Gen2 Gateway? &nbsp;I just got one, and like you I also need a solution.</p>
<p>&nbsp;</p>
<p>Jim Luschen</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40668"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8066.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="firefox7518&#039;s picture" title="firefox7518&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Enecsys Gen 2 Gateway Firmware</h3>

    <div class="submitted">Submitted by <a href="../user/8066.html" title="View user profile.">firefox7518</a> on Sun, 27/03/2016 - 22:58.</div>
    <div class="content">
     <p>Here is my solution. It bases on my enhancements and workarounds and uses EmonCMS for data visualizing.</p>
<p><a href="http://swiss-solar-log.ch/products-services/enhanced-enecsys-2nd-gen-gateway-firmware-external-portals/">http://swiss-solar-log.ch/products-services/enhanced-enecsys-2nd-gen-gateway-firmware-external-portals/</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11233"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-IWGI9K4Kurix8EJG0-wOcT5q3zefws2lRsWJ-KJbfxQ" value="form-IWGI9K4Kurix8EJG0-wOcT5q3zefws2lRsWJ-KJbfxQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
