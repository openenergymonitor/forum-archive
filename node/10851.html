<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10851 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:57:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Issue using 8.5XT | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Issue using 8.5XT</h3>
        <span class="submitted">Submitted by <a href="../user/8066.html" title="View user profile.">firefox7518</a> on Mon, 15/06/2015 - 09:56</span>
        <div class="content"><p>Hi all</p>
<p>I have a running installation of V8.4 and I wanted to check out 8.5XT because of the timezone fixes etc.</p>
<p>I have a windows machine runing WAMP&nbsp;so I&#39;m using an Apache Webserver&nbsp;and MySQL DB instead of my other sites IIS/MySQL configuration.</p>
<p>However I made a parallel install of it with a copy of the DB. When opening it up it shows me the following message:</p>
<p>&nbsp;Notice: Undefined variable: session in C:\wamp\www\emoncms-Extended\Modules\dashboard\dashboard_menu.php on line&nbsp;7<br />
Call Stack<br />
# Time Memory Function Location<br />
1 0.0000 276560 {main}( ) ..\index.php:0<br />
2 0.5161 667136 load_menu( ) ..\index.php:149<br />
3 0.5161 679784 require(&nbsp;&#39;C:\wamp\www\emoncms-Extended\Modules\dashboard\dashboard_menu.php&#39;&nbsp;) ..\core.php:145&nbsp;</p>
<p>What could be the issue for this? I also checked in the Admin section if it has something to update and it did a small change but still the message appears and now Dashboard selection.</p>
<p>Any ideas?</p>
<p>Also I use nodes for my installations. How can I bring back the nodes into V8.5XT? I downloaded the nodes module and installed it in the modules directory. It shows me the Nodes link in the top row but when clicking on it, there are no nodes and there should be plenty of them.</p>
<p>Also any ideas for this issue?</p>
<p>Regards</p>
<p>Andreas</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10863.html" class="topic-previous" title="Go to previous forum topic">‹ Social Sharing of Emon Data</a>
              <a href="10902.html" class="topic-next" title="Go to next forum topic">Frequency Calculation ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-31303"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3695.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chaveiro&#039;s picture" title="chaveiro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue using 8.5XT</h3>

    <div class="submitted">Submitted by <a href="../user/3695.html" title="View user profile.">chaveiro</a> on Mon, 15/06/2015 - 14:51.</div>
    <div class="content">
     <p>I&#39;ve made a fix for this.</p>
<p>See <a href="https://github.com/emoncms/emoncms/pull/341/files" title="https://github.com/emoncms/emoncms/pull/341/files">https://github.com/emoncms/emoncms/pull/341/files</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31309"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8066.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="firefox7518&#039;s picture" title="firefox7518&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue using 8.5XT</h3>

    <div class="submitted">Submitted by <a href="../user/8066.html" title="View user profile.">firefox7518</a> on Mon, 15/06/2015 - 19:20.</div>
    <div class="content">
     <p>Hi chaveiro</p>
<p>I made the changes as you did in the file and now receive the following message:</p>
<p>( ! )&nbsp;Parse error: syntax error, unexpected &#39;)&#39; in C:\wamp\www\emoncms-Extended\Modules\dashboard\dashboard_menu.php on line&nbsp;7<br />
Call Stack<br />
# Time Memory Function Location<br />
1 0.0000 274568 {main}( ) ..\index.php:0<br />
2 0.5041 774520 load_menu( ) ..\index.php:149</p>
<p>&nbsp;</p>
<p>When I delete one of the &#39; it shows me this message:</p>
<p>( ! )&nbsp;Parse error: syntax error, unexpected &#39;profile&#39; (T_STRING) in C:\wamp\www\emoncms-Extended\Modules\dashboard\dashboard_menu.php on line&nbsp;8<br />
Call Stack<br />
# Time Memory Function Location<br />
1 0.0000 274568 {main}( ) ..\index.php:0<br />
2 0.4520 774488 load_menu( ) ..\index.php:149</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31329"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sub3marathonman&#039;s picture" title="sub3marathonman&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue using 8.5XT</h3>

    <div class="submitted">Submitted by <a href="../user/8238.html" title="View user profile.">sub3marathonman</a> on Mon, 15/06/2015 - 23:15.</div>
    <div class="content">
     <p>Wow, that is the exact problem I&#39;ve been having!&nbsp; As a newbie, I&#39;m not sure about posting the screenshot, but I have the most basic setup possible.&nbsp; I followed the instructions for the localhosting with Windows.</p>
<p>I can also document that the errors I get are different depending on if I&#39;m using Version 8.5.0 or 8.5.1 XT.&nbsp; It doesn&#39;t seem to keep either version from working, so I went with 8.5.0 for now as I&#39;m trying to just learn to use the emoncms.</p>
<p>For the 8.5.0, the error is shown when using the basic graph with the eye:</p>
<p>&quot;(!) Notice: Undefined offset: 2 in &quot;C:\wamp\www\emoncms\Modules\vis\vis_controller.php on line 74</p>
<p>Call Stack</p>
<p>1&nbsp;&nbsp;&nbsp;&nbsp; 0.0007&nbsp;&nbsp;&nbsp;&nbsp; 275368&nbsp;&nbsp;&nbsp;&nbsp; {main}()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...\index.php:0</p>
<p>2&nbsp;&nbsp;&nbsp;&nbsp; 0.0092&nbsp;&nbsp;&nbsp;&nbsp; 646808&nbsp;&nbsp;&nbsp;&nbsp; controller()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...\index.php:109</p>
<p>3&nbsp;&nbsp;&nbsp;&nbsp; 0.0100&nbsp;&nbsp;&nbsp;&nbsp; 689232&nbsp;&nbsp;&nbsp;&nbsp; vis_controller()&nbsp;&nbsp;&nbsp; ...\core.php:66</p>
<p>&nbsp;</p>
<p>For the 8.5.1 XT, the errors (2 instead of just one, but actually the same error listed twice) are immediate:</p>
<p>(!) Notice: Undefined offset: 2 in &quot;C:\wamp\www\emoncms\Modules\dashboard\dashboard_menu.php on line 7</p>
<p>Call Stack</p>
<p>1&nbsp;&nbsp;&nbsp;&nbsp; 0.0011&nbsp;&nbsp;&nbsp;&nbsp; 272232&nbsp;&nbsp;&nbsp;&nbsp; {main}()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...\index.php:0</p>
<p>2&nbsp;&nbsp;&nbsp;&nbsp; 0.3392&nbsp;&nbsp;&nbsp;&nbsp; 770592&nbsp;&nbsp;&nbsp;&nbsp; load_menu()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;...\index.php:149</p>
<p>3&nbsp;&nbsp;&nbsp;&nbsp; 0.3431&nbsp;&nbsp;&nbsp;&nbsp; 783000&nbsp;&nbsp;&nbsp;&nbsp; require(&#39;C:\wamp\www\emoncms\Modules\dashboard\dashboard_menu.php&#39;)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...\core.php 145</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31332"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue using 8.5XT</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Mon, 15/06/2015 - 23:42.</div>
    <div class="content">
     <p><em>When I delete one of the &#39; it shows me this message:</em></p>
<p>Firefox,</p>
<p>If you deleted the &#39; character, that&#39;s what&#39;s causing the syntax error you&#39;re getting</p>
<p>Your error message <em>Parse error: syntax error, unexpected &#39;)&#39;</em> is saying that it&#39;s getting an unexpected ) i.e. close parenthesis on line 7.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31333"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue using 8.5XT</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Tue, 16/06/2015 - 00:12.</div>
    <div class="content">
     <p>Chaveiro,</p>
<p>When I view your patched line of code in a text editor, (Notepad++) and check it for matching parentheses, it shows no matches for the last two parentheses on the line.</p>
<pre>
<strong>$sess = (isset($session[&#39;write&#39;]) &amp;&amp; $session[&#39;write&#39;]) ? &#39;write&#39;:
(isset($session[&#39;read&#39;]) &amp;&amp; $session[&#39;read&#39;]) ? &#39;read&#39;:&#39;&#39;));</strong></pre><p>All the other parentheses match up OK. IOW, there are 4 open parens, and six close parens.</p>
<p>Regards,</p>
<p>Bill</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31358"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8066.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="firefox7518&#039;s picture" title="firefox7518&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue using 8.5XT</h3>

    <div class="submitted">Submitted by <a href="../user/8066.html" title="View user profile.">firefox7518</a> on Tue, 16/06/2015 - 13:27.</div>
    <div class="content">
     <p>Hi Bill</p>
<p>Thanks, I misswrote that in my last comment.&nbsp;When I deleted the two parens&nbsp;I still get an error message.</p>
<p>&nbsp;I then tried it this way (sorry no programmer):</p>
<p>$sess = (isset($session[&#39;write&#39;]) &amp;&amp; $session[&#39;write&#39;]) ? &#39;write&#39;:(isset($session[&#39;read&#39;]) &amp;&amp; $session[&#39;read&#39;]) ? &#39;read&#39;:&#39;&#39;;</p>
<p>&nbsp;</p>
<p>This way I get no error message but still no dashboard menu.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31804"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3695.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chaveiro&#039;s picture" title="chaveiro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue using 8.5XT</h3>

    <div class="submitted">Submitted by <a href="../user/3695.html" title="View user profile.">chaveiro</a> on Tue, 30/06/2015 - 10:02.</div>
    <div class="content">
     <p>Update to latest from github.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10851"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-cVNw_LYgg38EAm4CFyIBFMWcYZigEPPwa3yeRP9l15c" value="form-cVNw_LYgg38EAm4CFyIBFMWcYZigEPPwa3yeRP9l15c"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
