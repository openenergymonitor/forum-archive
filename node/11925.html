<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11925 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:49:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Any reason why you shouldn&#039;t do the switch to HDD before installing emoncms? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Any reason why you shouldn&#039;t do the switch to HDD before installing emoncms?</h3>
        <span class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sun, 03/01/2016 - 15:40</span>
        <div class="content"><p>I guess this is a question to Paul...</p>
<p>Messing around with a new install and i wondered if there was any reason why if you plan to run from a USB HDD you shouldn&#39;t do the switch to the HDD from the SD card before doing all the install steps?</p>
<p>If so how would you do it? I&#39;ve tried copying the usb_hdd file into the pi directory and using chmod but can&#39;t seem to get the system to see it as a valid executable file. I get &#39;command not found&#39;. &nbsp;This will absolutely be&nbsp;to do with my lack of linux skills &nbsp; :-(</p>
<p>Paul, anyone, how would you do this?</p>
<p>Thanks for any help</p>
<p>Simon</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11951.html" class="topic-previous" title="Go to previous forum topic">‹ POST request using perl</a>
              <a href="11946.html" class="topic-next" title="Go to next forum topic">[emoncms] No more &quot;kwh to power&quot; process? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-37798"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 03/01/2016 - 15:57.</div>
    <div class="content">
     <p>Hi Simon.</p>
<p>Assuming the file is accepting&nbsp;the executable status change (you can check using &quot; ls -la &quot;) are you prefixing&nbsp;your&nbsp;command to start the script with &quot;./&quot; if running from the same directory?</p>
<p>(the other) Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37799"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sun, 03/01/2016 - 16:12.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>ls -ls gives</p>
<p>pi@HomePi-emoncms:~ $ ls -la<br />
total 36<br />
drwxr-xr-x 2 pi &nbsp; pi &nbsp; 4096 Jan &nbsp;3 15:58 .<br />
drwxr-xr-x 3 root root 4096 Nov 21 20:32 ..<br />
-rw------- 1 pi &nbsp; pi &nbsp; 1088 Jan &nbsp;3 15:56 .bash_history<br />
-rw-r--r-- 1 pi &nbsp; pi &nbsp; &nbsp;220 Nov 21 20:32 .bash_logout<br />
-rw-r--r-- 1 pi &nbsp; pi &nbsp; 3512 Nov 21 20:32 .bashrc<br />
-rw-r--r-- 1 pi &nbsp; pi &nbsp; &nbsp;675 Nov 21 20:32 .profile<br />
-rwxr-xr-x 1 pi &nbsp; pi &nbsp; 5178 Jan &nbsp;3 15:04 usb_hdd<br />
-rw------- 1 pi &nbsp; pi &nbsp; &nbsp; 60 Jan &nbsp;3 15:58 .Xauthority</p>
<p>then</p>
<p>pi@HomePi-emoncms:~ $ sudo ./usb_hdd -d /dev/sda<br />
: No such file or directory</p>
<p>I&#39;ve tried almost every other combo I can think of, e.g.:</p>
<p>pi@HomePi-emoncms:~ $ sudo usb_hdd -d /dev/sda<br />
sudo: usb_hdd: command not found</p>
<p>I&#39;m sure it&#39;s some arcane linux magic I&#39;m not understanding....</p>
<p>Simon</p>
<p>PS I&#39;m assuming by this that there is no real reason why you shouldn&#39;t do this first then do the install steps?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37801"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 03/01/2016 - 16:30.</div>
    <div class="content">
     <p>I see no reason you can&#39;t do it in that order, Ive not looked closely at the script to see if there are any pitfalls but it is a generic &quot;move filesystem to hdd&quot; script and not tied to emoncms.</p>
<p>I think the shebang forces the use of the bash command, try &quot; sudo bash ./usb_hdd &quot;</p>
<p>Paul&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37802"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sun, 03/01/2016 - 17:05.</div>
    <div class="content">
     <p>Nah - then there&#39;s lots of errors:</p>
<p>pi@HomePi-emoncms:~ $ sudo bash ./usb_hdd -d /dev/sda<br />
./usb_hdd: line 2: $&#39;<strong>\r&#39;</strong>: command not found<br />
./usb_hdd: line 8: $&#39;<strong>\r&#39;</strong>: command not found<br />
: invalid option9: set: -<br />
set: usage: set [-abefhkmnptuvxBCHP] [-o option-name] [--] [arg ...]<br />
./usb_hdd: line 10: $&#39;<strong>\r&#39;</strong>: command not found<br />
./usb_hdd: line 11: syntax error near unexpected token `$&#39;{\r&#39;&#39;<br />
&#39;/usb_hdd: line 11: `function print_version() {<br />
p</p>
<p>I&#39;m doing the install on Jessie Lite, so that might be the issue.</p>
<p>Never mind. I&#39;d just thought it might be faster doing the install on the HDD rather than the SD card. Next time I&#39;m messing with the full version of Jessie I&#39;ll try it out again.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37805"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 03/01/2016 - 17:50.</div>
    <div class="content">
     <p>Could&nbsp;well be Jessie-lite, I had tried it on a&nbsp;full install of Jessie before I posted the &quot;try&nbsp;bash&quot; comment. although I was only checking for the script to start so&nbsp;I only called up the help text, I didn&#39;t enter any target details.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37809"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 03/01/2016 - 19:10.</div>
    <div class="content">
     <p>Hi Simon, the rationale in installing emoncms first,&nbsp;before moving root to a HDD, was simply to ensure that you got a basic &#39;working&#39; system before doing anything further, so it would make troubleshooting easier. That&#39;s all.</p>
<p>How did you copy the script to your Pi - did you use a laptop/desktop?</p>
<p>If so, it may be that other than Unix line endings have been introduced (&#39;\r&#39; in your post above)&nbsp;and stopping the script from running. A way around this would be to git clone emoncms - so the script is downloaded direct to the pi, and try running it again - there&#39;s no need to set up emoncms - just run the script as per the guide.</p>
<p>Remember to check (as per the emoncms installation guide) is to make sure that your operating system only boots into the command line, and not Desktop. Because Desktop will mount your HDD when you connect it, and stop the script.</p>
<p>Paul</p>
<p>PS If you are using an external HDD, OS size shouldn&#39;t really be an issue, I just wondered&nbsp;why&nbsp;you chose Jessie Lite?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37812"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 03/01/2016 - 19:43.</div>
    <div class="content">
     <p>@Paul - well spotted, the &quot;\r&quot; could well be a OS line endings issue, I tested using &quot;wget&nbsp;https://raw.githubusercontent.com/emoncms/emoncms/master/scripts/usb_hdd/usb_hdd&quot; rather than cloning or trusting cut &amp; paste.</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37813"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Sun, 03/01/2016 - 20:02.</div>
    <div class="content">
     <p>Yep. Did the copy from windows, but.... I only copied the file, so not the content. The original worked though after the installation, so can&#39;t be any missing bits in Jessie lite.</p>
<p>As for Jessie lite, I only had a 4Gb SD lying around and the full Jessie is nearly 4Gb.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37814"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 03/01/2016 - 20:06.</div>
    <div class="content">
     <p><em>...A way around this would be to git clone emoncms - so the script is downloaded direct to the pi, and try running it again</em></p>
<p>Did you try this?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37815"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9233.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-9233.jpg" alt="Rhys&#039;s picture" title="Rhys&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/9233.html" title="View user profile.">Rhys</a> on Sun, 03/01/2016 - 20:07.</div>
    <div class="content">
     <p>Bramco,</p>
<p>I believe Paul is correct regarding the script having Windows line terminations.<br />
The error lines you show above that have&nbsp;&#39;\r&#39; confirms it...</p>
<p>I&#39;m not sure if the following will work, I&#39;m still awaiting my first Pi so not sure of the device yet...<br />
Paul&#39;s suggestion to download the script directly onto the Pi should work perfectly, but you can also try the following, if I&#39;m correct about the Pi OS..<br />
Execute<br />
&nbsp;&nbsp; sudo apt-get install dos2unix<br />
if this installs<br />
then try execute<br />
&nbsp;&nbsp; dos2unix&nbsp;usb_hdd<br />
this should convert the file from Windows line terminations to LINUX line terminations.</p>
<p>Rhys</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37816"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 03/01/2016 - 20:12.</div>
    <div class="content">
     <p>...they can also be removed just by running the command below to strip out the offending line endings;</p>
<pre>
tr&nbsp;-d&nbsp;&#39;\r&#39;&nbsp;&lt;&nbsp;input.file&nbsp;&gt;&nbsp;output.file</pre><p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37825"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Mon, 04/01/2016 - 08:23.</div>
    <div class="content">
     <p>Thanks guys,</p>
<p>It feels like back to the dark ages of 30 years ago with the DOS bs Unix line endings. I had blithely assumed that if I was moving a file round the systems wouldn&#39;t mess with it (especially as it doesn&#39;t have a type, e.g. .TXT)&nbsp;- how stupid can you be!!</p>
<p>I did do a git clone to my Windows machine and then used MobaXterm with the upload file button to get the file into the raspi, so I&#39;m guessing it was the MobaXterm action that screwed it.</p>
<p>@Paul (Reed), I&#39;m not sure I get the rationale of doing the install first, surely it doesn&#39;t matter if there are any issues either way. In fact you&#39;re minimally better off if it fails on an HDD because if the system is producing lots of log entries they are going to HDD not the SD so lengthening the life of the SD but I&#39;m splitting hairs here of course.</p>
<p>@Rhys, I&#39;m sure that would work but I think I&#39;ll wait until next time. Each re-install takes half a day as it is.</p>
<p>I think though in future I&#39;ll use the wget route Paul (pb) suggested.</p>
<p>Thanks for your help and insight guys.</p>
<p>Simon</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37826"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Mon, 04/01/2016 - 09:49.</div>
    <div class="content">
     <p><em>@Paul (Reed), I&#39;m not sure I get the rationale of doing the install first... </em></p>
<p>I think that you&#39;ve already proved my case!</p>
<p>If you had followed the installation guide you wouldn&#39;t have had this problem, because the guide tells you to git clone emoncms, which would give you a workable&nbsp;HDD script.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37828"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Mon, 04/01/2016 - 10:08.</div>
    <div class="content">
     <p>I get your message Paul but my point was that it should be possible to do it either way. If I had another spare half day I&#39;d try it HDD first to see if it is any faster.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37841"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Mon, 04/01/2016 - 15:53.</div>
    <div class="content">
     <p>Nothing ventured nothing gained - it&#39;s raining so can&#39;t/don&#39;t want to get out on the bike, so here&#39;s the results:</p>
<p>wget didn&#39;t work</p>
<p>pi@Homepi-emoncms:~ $ wget <a href="https://raw.githubusercontent.com/emoncms/emoncms/master/scripts/usb_hdd/usb_hdd" title="https://raw.githubusercontent.com/emoncms/emoncms/master/scripts/usb_hdd/usb_hdd">https://raw.githubusercontent.com/emoncms/emoncms/master/scripts/usb_hdd...</a><br />
--2016-01-04 13:36:17-- &nbsp;https://raw.githubusercontent.com/emoncms/emoncms/master/scripts/usb_hdd/usb_hdd<br />
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 62.252.172.241<br />
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|62.252.172.241|:443... connected.<br />
GnuTLS: A TLS fatal alert has been received.<br />
GnuTLS: received alert [0]: Close notify<br />
Unable to establish SSL connection.</p>
<p>&nbsp; &nbsp;sudo apt-get install dos2unix&nbsp; &nbsp;then&nbsp; &nbsp;dos2unix&nbsp;usb_hdd worked of course.</p>
<p>Then doing the install up to the point where emoncms is installed which is the longest bit of the install, onto the SD card took&nbsp;10% longer than onto the HDD, so no real gain there. In my case on a B it took about 30 minutes or so.</p>
<p>However - as I was doing this I realised the real reason why you would want to set up the SD card first is that you can make a copy of the image so you don&#39;t&nbsp;have to go through all the steps again. &nbsp;</p>
<p>In fact it would be a good idea I think to add this to the instructions, especially now there is the button in Admin to back up the databases. This would enable anyone to quickly re-instate a system. So just after the sudo&nbsp;shutdown, add a note to the effect that at this point it&#39;s a good idea to make a copy of the SD card using Win 32 Disk Imager to do the read.</p>
<p>Simon</p>
<p>PS Still can&#39;t get this system to work but that&#39;s another story &nbsp;:-( &nbsp; &nbsp; More in another post &nbsp;;-)<br />
&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37850"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 04/01/2016 - 17:30.</div>
    <div class="content">
     <p>Simon - are you still using the lite&nbsp;Jessie?</p>
<p>The &quot;wget&quot; method should work without any issue, I&#39;ve been using it as the &quot;obvious tool for the job&quot; for as long as I recall for fetching a very wide range of scripts from various targets very frequently and I never have any issues.</p>
<p>pi@raspberrypi:~ $ wget <a href="https://raw.githubusercontent.com/emoncms/emoncms/master/scripts/usb_hdd/usb_hdd" title="https://raw.githubusercontent.com/emoncms/emoncms/master/scripts/usb_hdd/usb_hdd">https://raw.githubusercontent.com/emoncms/emoncms/master/scripts/usb_hdd...</a><br />
--2016-01-04 16:34:08-- &nbsp;https://raw.githubusercontent.com/emoncms/emoncms/master/scripts/usb_hdd/usb_hdd<br />
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.31.19.133<br />
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.31.19.133|:443... connected.<br />
HTTP request sent, awaiting response... 200 OK<br />
Length: 5029 (4.9K) [text/plain]<br />
Saving to: &lsquo;usb_hdd&rsquo;</p>
<p>usb_hdd &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 100%[==============================================================&gt;] &nbsp; 4.91K &nbsp;--.-KB/s &nbsp; in 0s</p>
<p>2016-01-04 16:34:08 (20.0 MB/s) - &lsquo;usb_hdd&rsquo; saved [5029/5029]</p>
<p>pi@raspberrypi:~ $</p>
<p>Is what you should get, that was just rechecked on a full Jessie install and it works just the same on wheezy. basically when browsing any code on github click on the &quot;raw&quot; button, copy the url into your ssh window with a &quot;wget &quot; prefix and job done no permission or cross platform line endings to worry about.</p>
<p>regards the &quot;install&nbsp;order&quot; it is best done in the order&nbsp;instructed, but ONLY because that&#39;s the order instructed, there are no major benefits to either route and comes down to personal preference,&nbsp;but if you follow the guide it will hopefully be a more well trodden path, tried&#39;n&#39;tested and therefore a good base to work from if things don&#39;t go quite&nbsp;to plan.</p>
<p>If you are looking for install speed then installing Raspbian&nbsp;direct to the hdd and editing the fstab and cmdline.txt files is the direct method. but the saving is still minimal and easily lost again if you don&#39;t get it right first time.&nbsp;</p>
<p>If the basic &quot;wget&quot; isn&#39;t working I think you may well find other obstacles along the way too</p>
<p>Paul</p>
<p>EDIT - I just noticed the different IP&#39;s in your&nbsp;and my wget prints and noticed mine&nbsp;is the same every time I try it. if I navigate to just the ip used in my wget&nbsp;I find a github 404 page, but your wget&nbsp;ip is a blank page (for me) when doing a reverse lookup it is a virginmedia&nbsp;ip address, you may have dns issues.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37851"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Mon, 04/01/2016 - 17:26.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>I&#39;ve had no other issues, only that the wget didn&#39;t work. I was doing this on Jessie Lite if you recall, so maybe that&#39;s the issue.</p>
<p>Simon</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37852"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 04/01/2016 - 17:27.</div>
    <div class="content">
     <p>sorry, editing my post above while you where writing, see above.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37865"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Mon, 04/01/2016 - 19:49.</div>
    <div class="content">
     <p>Hi Paul, thanks. Not a clue how to fix this. I can certainly get to the site from other machines. I&#39;ll have to have a play around tomorrow to see if I can work out what&#39;s wrong.</p>
<p>Lots of googling methinks....</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-37970"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Any reason why you shouldn't do the switch to HDD before installing emoncms?</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Thu, 07/01/2016 - 14:05.</div>
    <div class="content">
     <p>just a quick update. After posting on the RPi Forum and having a number of other Virgin Media users find that they wget works for them, I have to assume that the DNS server we get to use in our area is somehow out of step with others in the network.</p>
<p>There is a solution though.</p>
<p>Edit the file (sudo nano)&nbsp;<strong>/etc/resolvconf.conf</strong></p>
<p>This is the config file for the resolv&nbsp;tool if I have things right. Gets a bit confused with names there.</p>
<p>Anyway, simply remove the # from the line <strong>name_servers=x.x.x.x</strong> &nbsp;and replace the default with for example 8.8.8.8 for the google&nbsp;dns.</p>
<p>Shouldn&#39;t be necessary but it does work.</p>
<p>You can see the dns order in /etc/resolv.conf &nbsp; (nearly the same name but this is the dymanic one managed by resolv - you shouldn&#39;t edit this.) &nbsp;(There was another solution I tried which involved editing the dhclient file and adding the dns entry in there but this didn&#39;t seem to work for me.)</p>
<p>Simon</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11925"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-iFrRXqOAGtFRGZKefak5r36qK7H-rKtaqWJhWKxKJF4" value="form-iFrRXqOAGtFRGZKefak5r36qK7H-rKtaqWJhWKxKJF4"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
