<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/1949 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:37:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Measuring current AND voltage? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Measuring current AND voltage?</h3>
        <span class="submitted">Submitted by Guest on Tue, 22/01/2013 - 21:52</span>
        <div class="content"><p>Hi,</p>
<p>i am trying to understand the webpage about &quot;Arduino Math&quot;.</p>
<p>There is written, that the emonTX measures current and voltage from the ct.</p>
<p>When i look at the schematics i can only see that the ct is connected with the Arduion over a shunt and then biased</p>
<p>with DC. The result is voltage, which is then connected to arduino analog input.</p>
<p>Or is the arduino capable of measuring also current?</p>
<p>I am confused. Please help me.</p>
<p>Olaf</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="761.html" class="topic-previous" title="Go to previous forum topic">‹ emonGLCD v1.4 schematic</a>
              <a href="2047.html" class="topic-next" title="Go to next forum topic">EmonGLCD test sketch compile error ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-9307"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Measuring current AND voltage?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 22/01/2013 - 22:45.</div>
    <div class="content">
     <p>Hello, Olaf and welcome.</p>
<p>The emonTx measures current and voltage separately.</p>
<p>Current is from the ct which gives 50 mA at 100 A mains current, a burden resistor of 18 Ohms converts this to a 1 V rms (approximately) voltage signal that is biassed to 1.65 V and fed into the Atmel processor analogue input.</p>
<p>Mains supply voltage is transformed down to 9 V with an ac-ac adapter, then divided by a potential divider (two resistors) to about the same 1 V rms and likewise biassed to 1.65 V.</p>
<p>The Atmel processor runs at 3.3 V so 1.65 V is half of this and so the whole wave is digitised, and from that the current, voltage, real power, apparent power and power factor can be calculated.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-9308"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Measuring current AND voltage?</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 22/01/2013 - 22:53.</div>
    <div class="content">
     <p>Hello Olaf,</p>
<p>The Arduino can only measure voltage at its analogue input pins.&nbsp; These voltages come from sensors which are made out of hardware.&nbsp; There are two different types of sensors:</p>
<p>1. There is a voltage sensor for measuring the voltage of the mains supply.&nbsp; In the UK, we have 240Vrms at 50Hz AC.&nbsp; This voltage is reduced in size by a transformer so that it is OK for connecting to the Arduino.&nbsp; This type of sensor is fully described at <a href="https://learn.openenergymonitor.org/?redirect=measuring-voltage-with-an-acac-power-adapter">http://openenergymonitor.org/emon/buildingblocks/measuring-voltage-with-an-acac-power-adapter</a></p>
<p>2.&nbsp; There is a different kind of sensor for measuring current.&nbsp; This has two main parts: first, there is the Current Transformer, or CT, which clips around the cable where AC current is flowing (this can be the Live wire, or the Neutral, it does not matter which one).&nbsp; Second, there is a burden resistor (shunt?) which connects across the output coil of the CT.&nbsp; This completes the circuit.&nbsp; Current from the output of the CT can now flow through the burden resistor so that an AC voltage is developed across that resistor.&nbsp;</p>
<p>Both types of sensor are connected to the Arduino in the same way.&nbsp; One part of each sensor is connected to a reference point which is at the mid point of the ADC&#39;s input range.&nbsp; A different part of the sensor is connected the the ADC input of the Arduino.&nbsp;</p>
<p>So, although the Arduino makes two measurements of voltage, one of these is proportional to AC <strong>voltage</strong>, and one is proportional to AC <strong>current</strong>.&nbsp; The best way to measure power or energy is to measure both current and voltage, and then multiply these values together (at least 2500 times every second)&nbsp;</p>
<p>I hope this helps :)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-9319"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="olfried&#039;s picture" title="olfried&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Measuring current AND voltage?</h3>

    <div class="submitted">Submitted by olfried (not verified) on Wed, 23/01/2013 - 08:53.</div>
    <div class="content">
     <p>Thank you very much for the explanation.</p>
<p>So the device can measure the current of three lines with these ct and the voltage.</p>
<p>But doesn&#39;t than mean, that the ct&#39;s have to be on the same phase?</p>
<p>Otherwise i get problems with cos phi, right?</p>
<p>Olaf</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-9321"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Measuring current AND voltage?</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 23/01/2013 - 09:31.</div>
    <div class="content">
     <p>Olaf, the normal approach is to measure the power on just one phase,&nbsp; The best way to do this is with one voltage sensor and one current sensor.&nbsp; These will both be on the same phase.</p>
<p>If you have a 3-phase system, then you would need to measure the current on each phase separately.&nbsp;&nbsp; To find the total power, you may need to measure the voltage on each phase separately too.&nbsp; That would probably require the use of three separate processors.&nbsp; Some people on the forum are working with 3-phase power, but most of us only have a single-phase supply.</p>
<p>I think it would be best for you to measure power on one just phase first!</p>
<p>Calypso</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10105"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3310.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="hunber&#039;s picture" title="hunber&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Measuring current AND voltage?</h3>

    <div class="submitted">Submitted by <a href="../user/3310.html" title="View user profile.">hunber</a> on Mon, 25/02/2013 - 12:07.</div>
    <div class="content">
     <p>Dear all,</p>
<p>&nbsp;</p>
<p>I&#39;m new in this project, I have few question.</p>
<p>It&#39;s clear to me that we measure current with CT sensor and AC voltage via the below descriped way.</p>
<p>I would like to know the resolution of the Current measurement .</p>
<p>Where can I read abouth the calculation of the real power, apparent power and power factor ?</p>
<p>I mean mathematic, Electrical side and program side.</p>
<p>I would like to understand deeply how it&#39;s calculated.</p>
<p>&nbsp;</p>
<p>Thanks in advance for your help.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10107"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Measuring current AND voltage?</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 25/02/2013 - 12:27.</div>
    <div class="content">
     <p><em>Where can I read abouth the calculation of the real power, apparent power and power factor ?</em></p>
<p>Theory:&nbsp; <a href="https://learn.openenergymonitor.org/?redirect=ac-power-advanced-maths">http://openenergymonitor.org/emon/buildingblocks/ac-power-advanced-maths</a></p>
<p>Code:&nbsp; <a href="https://learn.openenergymonitor.org/?redirect=ac-power-arduino-maths">http://openenergymonitor.org/emon/buildingblocks/ac-power-arduino-maths</a></p>
<p>The Building Blocks section seems to have a lot more useful info now than when I started (or maybe I just didn&#39;t look hard enough!)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/1949"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-TwIzFxNLjchjtBw1oYg_LbrOTXM7degxoTXh-S1Tcsg" value="form-TwIzFxNLjchjtBw1oYg_LbrOTXM7degxoTXh-S1Tcsg"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/1949 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:37:34 GMT -->
</html>
