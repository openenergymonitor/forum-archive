<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2096 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:18:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Old dog new tricks | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Old dog new tricks</h3>
        <span class="submitted">Submitted by Guest on Tue, 05/03/2013 - 16:47</span>
        <div class="content"><p>Sorry about the wordyness of this post but I can&#39;t trim it down any.</p>
<p>Hi, I wish I found openenergy before I bought the Efergy home hub kit:-)</p>
<p>I&#39;m still avidly reading all the stuff and trawling the forums, pity I&#39;ve got to that stage of my life cycle where I&#39;m now in the slow learners club lol. I&#39;ve read so much info, my brain hurts and I think I have got myself confused :-)</p>
<p>I was hoping that I could use the Efergy CT sensor and battery powered transmitter along with the RFM12Pi wireless board for my Raspi but a thread on the forum suggests that the Efergy CT sensor is not the sensor of choice! I was pretty impressed with the Efergy kit and how simple it was to set up and the info provided by the Dashboard. However, the Dashboard &quot;portal&quot; seems to be a bit unreliable or maybe it&#39;s the ct sensor that isn&#39;t as good as it could be? I&#39;m also finding that the historical graph is a bit limiting as I can only only see a max of 24 hrs and the downloadable CSV only gives a summary of the KWh for the 24 hour period.</p>
<p>I&#39;m currently trying to monitor each circuit separately to establish a baseline and am getting some strange readings which I&#39;m now taking with a &quot;pinch of salt&quot;. e.g. my pond pump is on a circuit of it&#39;s own and yesterday the Dashboard Real Time Usage (RTU) showed it was using 920 W fairly steady. The following morning I noticed the graph display stopped at 23:30 and the RTU was now showing 90 - 93 W, they fixed the graph problem later in the day but the RTU is still showing 90 - 93 W. I was very surprised at the 920 W but 93 W is unbelievable! Unfortunately the pump doesn&#39;t have a rating plate. Googling hasn&#39;t thrown anything up as it&#39;s a discontinued model.</p>
<p>My son is anxious to have a go at using my Raspi and to incorporate the use of StatsD and Graphite along with Nginx, instead of Apache (He&#39;s a Web Developer and Zend Engineer!) but I see that there already is a emoncms &quot;dashboard&quot; so he would probably be re-inventing the wheel!</p>
<p>From my point of view, I would just like to grab the data being sent to the Efergy hub using Efergy&#39;s Elink application or something similar: so that I don&#39;t need to bother with their &quot;Web Portal&quot; dashboard - Graphs don&#39;t do it for me, I&#39;m more of a spreadsheet numbers guy and would like to see the data that is squirted out every 12 sec so I can see the historical data and do with it whatever I want but I guess the CSV would get quite large. I do appreciate the visual aspect of graphs for a quick reference but find this to be more of a novelty as I don&#39;t have access to the historical data.</p>
<p>Where do I go from here, not forgetting that the main aim is to reduce my &quot;lecky&quot; bills and not keep spending money on trying to find out how much energy I&#39;m using so that I can see where I can trim the fat!</p>
<p>I&#39;d like to be able to see, reasonably easily, on my PC screen how much power we are consuming and where the biggest culprit is. I&#39;m happy to play with the Raspi but I&#39;m a little confused about what emoncms is! It seems to be a &quot;web portal&quot; and the data from the sensors is squirted up to emoncms.org but I&#39;m looking for an application that will run either on my Windows 8 desktop with a nice 23&quot; widescreen or if necessary, I can stick Ubuntu on a spare laptop. The Efergy Elink application doesn&#39;t currently work with the Home Hub (that might change!) but maybe a browser based &quot;application&quot; will ultimately be better than a non browser based application?</p>
<p>To monitor the energy I&#39;m using, I think I understand that I need:-</p>
<p>1. a CT sensor(s)<br />
	2. a tranmitter (Wireless preferred)<br />
	3. a receiver (Wireless preferred) cum base station (Raspi with RFM12Pi board and LAMP stack installed)</p>
<p>Then it gets confusing:-)</p>
<p>If using the Raspi, it seems I have to make it become a &quot;Web Server&quot; so that the data can be squirted up to emoncms.org and/or local webserver (i.e. Raspi) and then I can view the &quot;converted data&quot; using a browser. If my son did his &quot;smoke n mirrors&quot; stuff, the Raspi would still be a web server but I would (hopefully) be able to view the collected data locally - probably using a browser again, which I suppose would be OK but wouldn&#39;t really be what I want. I want numbers, they talk to me, graphs are&nbsp; pictures that don&#39;t talk to me:-) I imagine my son would be able to squirt the data into a csv so that I can do whatever I want with the data and not be restricted to only having a cummlative total of KWh.</p>
<p>I&#39;m not yet senile but go easy with me lol</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5334.html" class="topic-previous" title="Go to previous forum topic">‹ Solar Decathlon Europe 2014</a>
              <a href="5331.html" class="topic-next" title="Go to next forum topic">Configuring Raspbian as Read-Only ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-10310"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Old dog new tricks</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 05/03/2013 - 23:19.</div>
    <div class="content">
     <p>Welcome, Jeff,</p>
<p>Picking up a few points:</p>
<p>As far as I know, Efergy measures current and guesses power. You need to know some electrical engineering but for things like tungsten lamps and electric fires, P = V x I.&nbsp; So a fire that takes 4 A at 250 V dissipates 1 kW. That equation doesn&#39;t work for things like the motor in a pond pump. The real power will be quite a bit lower than V x I. (And before anyone points it out, I&#39;m carefully not mentioning power factor, which is the &#39;fiddle factor&#39;.)</p>
<p>The Efergy c.t. has components inside it that I think are part of the input circuit of their transmitter, so it won&#39;t give linear readings if you try to use it with the emonTx.</p>
<p>Emoncms is a program you can download and run on your server. emoncms.org is a publicly available server running the same program. Your server needs to run full time to collect data in real time - or there will be gaps.</p>
<p>To measure power (more accurately than Efergy) you need an EmonTx (or several). Each can have 3 c.t&#39;s plugged in so can measure 3 circuits, add in a voltage monitor for the system voltage and you can calculate the real power on each circuit. It transmits the data by radio to a base station and/or a small LCD display. The base station can be a Raspi (RF equipped), and (I think I&#39;m right here - no doubt somebody will correct me if not) it can either shunt the data off via the internet to emoncms.org, or to a local server running emoncms.org; or it can run emoncms (the program) and function as the server as well. The LCD gives you real-time consumption data - and that&#39;s about all.</p>
<p>Emoncms (the program) does two things: it stuffs received data into a database, and it pulls it out and draws histograms and graphs to allow you to view the data you&#39;ve collected. The program is open source so if you have your own server, you can modify and rewrite the program as you want, read the database and make tables to give you the output you prefer.</p>
<p>A lot of people are working on identifying the &#39;signature&#39; of each appliance so that, even by monitoring only the whole house current, it can identify each one as it is turned on. That research seems to be making progress but it&#39;s some way off being foolproof at this time.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10361"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="JeffDvo&#039;s picture" title="JeffDvo&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Old dog new tricks</h3>

    <div class="submitted">Submitted by JeffDvo (not verified) on Thu, 07/03/2013 - 14:05.</div>
    <div class="content">
     <p>Hi Robert,</p>
<p>Thanks for that. I tried having at look at Emoncms to see how it could be modified etc (if it&#39;s pearl or python we should be ok) but had to install github on my Win8 box and gave up trying to get the docs. Seems the github is not aimed at old gits like me lol.</p>
<p>My son originally said if I can find a way to capture the data, he&#39;ll use StatsD and Graphite along with Nginx to do whatever I want graph or table wise. We don&#39;t know if StatsD can capture the raw data from the Raspi without using emoncms.</p>
<p>Nothing simple is there :-(</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10391"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Old dog new tricks</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 09/03/2013 - 00:00.</div>
    <div class="content">
     <p>Emoncms is written in PHP. You didn&#39;t need to install Github, all you have to do is download the zip file and follow your nose from there. Emoncms uses MySQL, so any language or script that can interface to that should be able to extract the data and use it.</p>
<p>If you want to run emoncms on a Windows box, you need WAMP. I use Wampserver <a href="http://www.wampserver.com/en/" title="http://www.wampserver.com/en/">http://www.wampserver.com/en/</a> on my WinXP and it loads and runs with no problem (but I only use it for website development and testing; although I have an old emoncms set up, I don&#39;t do energy logging). Once you&#39;ve got WAMP running, there are instructions on this site here: <a href="../emoncms/installing-ubuntu-debian-pi%c2%a0%c2%a0.html" title="http://openenergymonitor.org/emon/emoncms/installing-ubuntu-debian-pi  ">http://openenergymonitor.org/emon/emoncms/installing-ubuntu-debian-pi  </a> for setting up emoncms. However, you must follow them very loosely. You start just above No.8 but use the tools in WampServer to create the database. But you do need to set up the various options etc. It&#39;s pretty straightforward - the main &#39;gotcha&#39; is getting the passwords and permissions correct in MySQL.</p>
<p>(And less of the &quot;old gits&quot; - I&#39;ve got a free bus pass!)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22134"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="seamanrob&#039;s picture" title="seamanrob&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Old dog new tricks</h3>

    <div class="submitted">Submitted by seamanrob (not verified) on Mon, 23/06/2014 - 19:30.</div>
    <div class="content">
     <p>Thought I would register and just add a useful resource for anyone with a desire to access their hub data. &nbsp;I couldnt get past the engage.efergy url, but the blog link below tells you how to access it from a standard programming language.</p>
<p>Made my integration into my LED display so much easier.</p>
<p>Regards</p>
<p>Rob</p>
<p>&nbsp;</p>
<p><a href="http://blog.xojs.org/post/40590080661/how-much-energy-is-my-house-using" title="http://blog.xojs.org/post/40590080661/how-much-energy-is-my-house-using">http://blog.xojs.org/post/40590080661/how-much-energy-is-my-house-using</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2096"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-CWTrSKyvLaIh1VQ2QILesS_QQVgjQQAbOWBg_hhlqXI" value="form-CWTrSKyvLaIh1VQ2QILesS_QQVgjQQAbOWBg_hhlqXI"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
