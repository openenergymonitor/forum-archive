<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5568 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:03:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>EmonTXv3 solar inverter standby power reading positive | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">EmonTXv3 solar inverter standby power reading positive</h3>
        <span class="submitted">Submitted by <a href="../user/6745.html" title="View user profile.">normosb</a> on Sat, 16/08/2014 - 11:56</span>
        <div class="content"><p>I have an&nbsp;EmonTXv3&nbsp;with type 2 installation. 1 ct on solar inverter feed. 1ct&nbsp;on grid supply. ac-ac adaptor for real power.</p>
<p>Sketch in use is&nbsp;emonTxV3_continuous_kwhtotals_noeeprom</p>
<p><b>Everything seems to be reading correctly except solar inverter standby (night) usage indicates positive (around 3 watts). Shouldn&#39;t it be negative?&nbsp;</b></p>
<p>Solar production during the day indicates positive.</p>
<p>Grid power indicates positive when importing, negative when exporting.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5553.html" class="topic-previous" title="Go to previous forum topic">‹ Replacement HDD</a>
              <a href="5543.html" class="topic-next" title="Go to next forum topic">Inputs but no updates – emonTH standard? Setup ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-23110"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTXv3 solar inverter standby power reading positive</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 16/08/2014 - 12:13.</div>
    <div class="content">
     <p>It probably&nbsp;should be a small positive amount, however a swing of +/- 5w on a 4.5kw scale is around 0.22% accuracy. is the calibration otherwise acceptable? if so I believe some sketches have had a &quot;less than +/-10w&quot; filter in built&nbsp;so that an inverter is displayed as 0w until over 10w&nbsp;is being produced, this would hide the nighttime drain.</p>
<p>The CT calibration is not uniform across the &nbsp;scale so if accurate at zero it will probably suffer from inaccuracy at full production which will give a greater error amount by percentage.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23121"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTXv3 solar inverter standby power reading positive</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 16/08/2014 - 15:14.</div>
    <div class="content">
     <p>Paul: &quot;The CT calibration is not uniform across the scale&quot;&nbsp; -&nbsp; I think some might be misled by that. As far as I could measure it, the YHDC CT is linear to above 100 A. True, I measured a 2% error at 1 A, but I mean 2% <strong><em>of 1 A</em></strong>, not of 100 A. You must not confuse that with noise picked up by the analogue input that is added to the CTs output.</p>
<p>I would expect the inverter to show a few watts of consumption overnight. My best guess is you do have some pickup that&#39;s getting into the input and getting added to the CT output. Depending on which input you&#39;re using, full scale is either 24 kW or 4.5 kW, as Paul says, 5 W could be 0.11% or it could be 0.02%. Remember, the Atmel 328P has a 10-bit ADC which gives a resolution of 1 in 1024, and it needs to calculate the shape of the current wave inside that resolution. If the input bias sits exactly on the edge of a step in the ADC, then it will only take a sniff of noise to give to an input.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23127"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6745.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="normosb&#039;s picture" title="normosb&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTXv3 solar inverter standby power reading positive</h3>

    <div class="submitted">Submitted by <a href="../user/6745.html" title="View user profile.">normosb</a> on Sat, 16/08/2014 - 21:34.</div>
    <div class="content">
     <p>I think I found the source of the induced noise on the solar CT. See attached screen capture.</p>
<p>If there was no noise (and 100% accurate) should the power value from the solar CT be negative at night? and positive during the day?</p>
<p>The solar CT is on input 2 (24kW). Inverter output is 5kW max would the 4.5kW input cope?</p>
<p>Thanks</p>
<p>Norm</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23131"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTXv3 solar inverter standby power reading positive</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 16/08/2014 - 23:55.</div>
    <div class="content">
     <p>All the input ranges are actually a maximum current, not a power, so we need the maximum current that your inverter can output. The range is set by the burden resistor at 120 &Omega;, so the current is 18.5 A rms (assuming that it is a reasonable sine wave, and allowing a few percent for component tolerances). It is easy to increase the range by adding a parallel wire-ended resistor. The holes are provided ready - adjacent to the jack socket on the pcb, or you could put the resistor inside the plug if it&#39;s small enough (1/10 W). Let&#39;s say you want to increase the range to 25 A, the parallel combination needs to be 88.8 &Omega;, so 330 &Omega; is the closest standard value to put in parallel. (That will give 25.25 A.) You will need to change the calibration constant in the sketch to 22.73 to give the correct numbers out to emonCMS.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23146"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTXv3 solar inverter standby power reading positive</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 17/08/2014 - 18:33.</div>
    <div class="content">
     <p>What are the units (x &amp; y) on those graphs in your screenshot? I am guessing the x axis is time and the units are hours and minutes.&nbsp; You might not see any advantage, but I think it would be worth trying one of the &quot;continuous monitoring&quot; sketches. The default sketch measures a short sample of the power every 10 s, whereas the &quot;continuous&quot; sketches measure continuously and report the average over the last 10 s every 10 s. This should not alter the noise problem, but it might give you more accurate and stable readings.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23151"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6745.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="normosb&#039;s picture" title="normosb&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTXv3 solar inverter standby power reading positive</h3>

    <div class="submitted">Submitted by <a href="../user/6745.html" title="View user profile.">normosb</a> on Sun, 17/08/2014 - 23:40.</div>
    <div class="content">
     <p>The maximum&nbsp;output current of my 5kW Enasolar&nbsp;inverter is 25A.&nbsp;</p>
<p>Input 2 is connected to my inverter, is it worth reducing the range of this input from 100A to say 28A? Will this increase the accuracy much? I have input 4 (4.5kW) connected to my heat pump.&nbsp;</p>
<p>If there was no noise (and 100% accurate) should the power value from the inverter CT be negative at night? and positive during the day?</p>
<p>The x/y units of my graph above are x = time/ y = watts.</p>
<p>I&#39;m using the &#39;emonTxV3_continuous_kwhtotals_noeeprom&#39; sketch.</p>
<p>Thanks heaps for your responses!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23152"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonTXv3 solar inverter standby power reading positive</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 18/08/2014 - 00:03.</div>
    <div class="content">
     <p>Yes, as I wrote above, I would expect to see a small power consumption overnight by your inverter. The consumption is only going to be enough to keep the sensing circuitry going, so maybe in the order of 10 W, therefore with an input scaled to 100 A, it&#39;s very doubtful that you would see it anyway, let alone measure it with any accuracy.</p>
<p>It&#39;s going to be a lot easier to reduce the sensitivity of input 4 rather than increase the sensitivity of input 2. To achieve the latter, you&#39;d need to remove the on-board SMT burden and replace it with a wire-ended resistor, which is a lot harder (and more likely to damage the PCB) than adding a wire-ended one in parallel. 270 &Omega; in parallel with the existing 120 &Omega; burden should give you 26.7 A, 220 &Omega; in parallel 28.6 A, both with the standard CT.</p>
<p>If you change the input sensitivity by a factor of 4, you should improve the low-end accuracy by the same factor. (More precisely, you&#39;ll get the same inaccuracy at a quarter of the current - it gets worse as the current gets less.)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5568"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-IHB94GBS8a0Ybtpxefq2ULPnhHwY3aVQ6_Uuqa3KDb0" value="form-IHB94GBS8a0Ybtpxefq2ULPnhHwY3aVQ6_Uuqa3KDb0"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
