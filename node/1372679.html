<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/137?page=1 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:30:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>emonTx V1.4 | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
          <span class="submitted"></span>
      <div class="taxonomy"></div>
      <div class="content"><p><img width="180" height="97" alt="" src="../sites/default/files/emontx.png" />v1.4</p>
<p><strong>For documentation on new version of emonTx (V2.0) see </strong><a href="205.html"><strong>here&nbsp;</strong></a></p>
<p>emonTx stands for Energy Monitoring Transmitter.</p>
<p>It's a small wireless energy monitoring node. It's designed to take inputs from multiple CT sensors, optically from a pulse-output utility meter and from multiple one-wire temperature sensors. It is designed to be powered by 2x AA batteries or 5V USB.</p>
<h3><strong>Interested in the emonTx? Please fill in the </strong><a href="155.html"><strong>interest form</strong></a><strong>&nbsp;</strong></h3>
<h3><a href="199.html"><strong>Buy an emonTx V1.4 ki</strong><strong>t&nbsp;</strong></a></h3>
<p><a href="https://picasaweb.google.com/glyn.hudson/EmonTxV14KitAssemblySteps#">Assembling an emonTx V1.4 kit</a></p>
<p>
<meta http-equiv="content-type" content="text/html; charset=utf-8" /></p>
<p><a href="../sites/default/files/EmonTx_nanode_0.png"><img width="750" height="352" alt="" src="../sites/default/files/EmonTx_nanode_0.png" /></a></p>
<table cellspacing="1" cellpadding="1" border="0" width="750">
<tbody>
<tr>
<td><b><br />
            </b></td>
<td><b><br />
            </b></td>
<td><b><br />
            </b></td>
</tr>
<tr>
<td>&nbsp;<a href="../sites/default/files/DSCF2274.jpg"><img width="150" height="124" alt="" src="../sites/default/files/DSCF2274.jpg" /></a></td>
<td>&nbsp;<a href="../sites/default/files/DSCF2275.jpg"><img width="250" alt="" src="../sites/default/files/DSCF2275.jpg" /></a></td>
<td>&nbsp;<a href="../sites/default/files/DSCF2273.jpg"><img width="200" height="120" alt="" src="../sites/default/files/DSCF2273.jpg" /></a></td>
</tr>
</tbody>
</table>
<p>&nbsp;above: emonTx V1.4 with one CT channel soldered in</p>
<p>emonTx is based on the Atmega328 8-bit micro-controller and is fully compatible with Arduino IDE. An FTDI to USB cable is required for programming. &nbsp;</p>
<p>The design is based on the JeeNodeV5, is fully open-source and is designed for easy expandability and compatability with JeeLabs&nbsp;shields.</p>
<h1>Applications</h1>
<ul>
<li>Electricity consumption monitoring&nbsp;&nbsp;</li>
<li>Renewable generation monitoring&nbsp;</li>
<li>Heatpump monitoring&nbsp;</li>
<li>Water and gas monitoring (from pulse output meter)&nbsp;</li>
<li>Temperature monitoring&nbsp;</li>
<li><span style=" font-size: 12px; ">Large scale monitoring - up to 29 emonTx's can potentially transmit to a single base station</span></li>
</ul>
<h1>Hardware&nbsp;</h1>
<ul>
<li>Based on<a href="http://jeelabs.com/products/jeenode"> JeeNodeV5</a> design - many thanks to&nbsp;Jean-Claude Wippler for sharing his good work&nbsp;</li>
<li>Compatible with most<a href="http://jeelabs.com/collections/types?q=Add-ons"> JeeNode shields</a>&nbsp;(JeeNode ports P2 and P3 fully available)&nbsp;</li>
<li>Designed to run on 3.3V and be powered by 2x AA batteries</li>
<li>Designed to fit in <a href="http://uk.farnell.com/jsp/search/productdetail.jsp?SKU=645734">this</a> case</li>
<li>Uses 2.5mm jack plug connections&nbsp;</li>
<li>Can be powered using 5V mini-USB</li>
<li>Requires FTDI cable for programming&nbsp;</li>
</ul>
<h3>Energy Monitoring&nbsp;</h3>
<ul>
<li>2 x CT monitoring channels - based on <a href="58.html">OpenEnergyMonitor design</a> using <a href="http://www.efergy.com/Products/efergy-Shop-Accessories/EFERGY/Jackplug-Extra-Sensor/pid-184334.aspx">efergy CT sensors&nbsp;</a></li>
<li>1x pulse counting input for interfacing directly or optically (using <a href="http://uk.farnell.com/taos/tsl257-lf/sensor-light-voltage-converter/dp/1226886?Ntt=TSL257">TSL257</a> Light to Voltage sensor)&nbsp;with pulse output utility meters&nbsp;</li>
</ul>
<h3>Temperature</h3>
<ul>
<li>Supports multiple <a href="98.html">DS18B20 digital temperature sensors</a> on a one-wire bus. Potentially up to 16; limited by wireless data packet size. &nbsp;</li>
</ul>
<h3>Wireless&nbsp;</h3>
<ul>
<li>Uses Hope <a href="http://uk.farnell.com/rf-solutions/alpha-trx433s/module-transceiver-trx433s/dp/1718689">Alpha RF </a>/ RFM12B Transceiver available on ISM band 433Mhz (All countries), 868Mhz (Europe only), or 915 MHz (US and Australia only). Country information taken from <a href="http://shop.moderndevice.com/products/rfm12b-radio">here</a>. The OpenEnergyMonitor kit includes the 433Mhz module.&nbsp;</li>
<li>Up to 30 emonTx's can potentially communicate with one emonBase station&nbsp;</li>
<li>Up to 250 different network groups can potentially be setup in a single location&nbsp;</li>
</ul>
<h2>Power&nbsp;</h2>
<p>The emonTx is designed to be powered by 2 x AA batteries or by 5v USB/FTDI. When powering the unit with 5V through the USB or FTDI header the on-board voltage regulator will reduce the voltage to 3.3V. The battery connection header is not regulated, therefore <strong>3.3V max should be connected to the battery header</strong>. If higher voltage is connected the RFM12 is at risk of damage. The RFM12 can be run at 5V but it's outside it's&nbsp;recommended operating voltage&nbsp;<b><br />
</b></p>
<p>emonTx has been designed to be low power (see <a href="115.html">here</a> for details of low power optimisation). Much power optimisation can be done in software like putting the Atmega and RF12 to sleep for periods of time. The following measurements were taken with two CT channel soldered in but the software was only reading from one channel:&nbsp;</p>
<p>
<meta http-equiv="content-type" content="text/html; charset=utf-8" /></p>
<blockquote><p><em>0.1mA @ 3.13V =&nbsp; 0.31mW when Atmega and RF12 in sleep mode</em></p>
<p><em>6.7mA @ 3.13V = 21mW when RF12 in sleep mode </em></p>
<p><em>7.14mA @ 3.13V = 22.35mW when RF12 awake but not transmitting </em></p>
<p><em>14mA (approx) @ 3.13V = 43.8mW when RF12 is transmitting&nbsp;</em></p>
</blockquote>
<p>This should give a battery life of <strong>almost 3 months</strong> if the Atmega is asleep for 4s and on for 332ms (the time taken to read from CT and calculate power over 1480 samples) assuming 2500mAh of AA battery capacity. Battery life calculation spreadsheet: <a href="../sites/default/files/Battery%20life%20calculations%20(1).xls">download</a>.&nbsp;</p>
<h2>Schematic &amp; PCB board layout:</h2>
<p><a href="../sites/default/files/emonTx_V1.4_sch.png"><img width="300" height="207" alt="" src="../sites/default/files/emonTx_V1.4_sch.png" /></a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<a href="../sites/default/files/Emon_1.4_brd.png"><img width="224" height="207" alt="" src="../sites/default/files/Emon_1.4_brd.png" /></a></p>
<p>
<meta http-equiv="content-type" content="text/html; charset=utf-8">                                                                                          </meta>
</p>
<h2>Port map:</h2>
<p>&nbsp;<a href="../sites/default/files/EmonTx_portmap_0.png"><img width="600" height="313" alt="" src="../sites/default/files/EmonTx_portmap_0.png" /></a></p>
<h2>Part List:</h2>
<p><iframe width="600" height="300" frameborder="0" src="https://spreadsheets.google.com/pub?hl=en_GB&amp;hl=en_GB&amp;key=0AtyLIKTN3csqdHE0ZnhtcEM5eDhraEZlOXMwUzBYWWc&amp;single=true&amp;gid=0&amp;range=A1%3AD24&amp;output=html&amp;widget=true"></iframe></p>
<p>&nbsp;</p>
<h2>Change log</h2>
<ul>
<li>V1.0 - first release&nbsp;</li>
<li>V1.1 - corrected CT circuit error&nbsp;</li>
<li>V1.2 - compleate re-route with GND plate added and singal wires increased to 10mill and power to 16mill. JeeNode offest header pins changed.&nbsp;</li>
<li>V1.3 - compleate re-route with&nbsp;<a href="http://www.freerouting.net/">http://www.freerouting.net/</a>. Reduced vias from 36 to 5!</li>
<li>V1.4 fixed R9 (one-wire temp) to be pull-up not pull-down</li>
<li>V1.5 Changed one-wire temperature connection 2.5mm jack-port to enable the use of standard mono 2.5mm jack-plug</li>
<li>V.2.0 Added another channel to make 3 CT channels. Added option for voltage measurement for real power measuremements. Chaged to 3.5mm CT jacks for compatability with <a href="http://www.seeedstudio.com/depot/noninvasive-ac-current-sensor-100a-max-p-547.html?cPath=144_154">seedstudio CT's</a></li>
<li>&nbsp;</li>
</ul>
<h1>emonBase / NanodeRF</h1>
<p>
<meta http-equiv="content-type" content="text/html; charset=utf-8">                                                   </meta>
</p>
<p><a href="http://www.nanode.eu/"><img width="200" height="55" alt="" src="../sites/default/files/nanode_0.png" /></a></p>
<p>The base station will receive the wireless signal from one or more emonTx's and post the data online either to&nbsp;<a href="http://www.pachube.com/">Pachube</a>&nbsp;or a server installation of&nbsp;<a href="../emoncms.html">emoncms</a></p>
<p>The base station development is a collaboration&nbsp;between OpenEnergyMonitor and&nbsp;<a href="http://www.nanode.eu/">Nanode</a>&nbsp;(Ken Boak and London Hackspace) The emonBase comprises of a&nbsp;Nanode&nbsp;V.5&nbsp;with the addition of the RFM12B wireless module. JeeLabs sell a&nbsp;<a href="http://jeelabs.com/products/rfm12b-board">breakout board</a>&nbsp;for this. In the future we would &nbsp;developing a NanodeRF board to include the RFM12 module on a single PCB.</p>
<p>Older versions of the Nanode can be used with several&nbsp;<a href="143.html">modifications</a></p>
<p>&nbsp;<a href="../sites/default/files/DSCF9733.jpg"><img width="250" height="188" alt="" src="../sites/default/files/DSCF9733.jpg" /></a></p>
<p>Nanode base and emonTx in action&nbsp;</p>
<h1>Firmware</h1>
<p>In development! Please contribute new examples and bug fixes</p>
<p>
<meta http-equiv="content-type" content="text/html; charset=utf-8" /></p>
<p><img alt="" src="../../../d3nwyuy0nl342s.cloudfront.net/images/modules/header/logov3-hover.html" /></p>
<p><strong>emonTx exmple code:</strong></p>
<ul>
<li><a href="https://github.com/openenergymonitor/emonTxFirmware">Single CT wireless monitoring node example</a></li>
<li><a href="https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTx_onewire_temperature_Example">One-wire temperature + CT example&nbsp;</a></li>
<li><a href="124.html">Interrupt Pulse Counting (in development)&nbsp;</a></li>
</ul>
<p><strong>emonBase/Nanode RF example code:</strong></p>
<ul>
<li><a href="https://github.com/openenergymonitor/sketchbook/tree/master/EtherShield_simpleClient_RF12">Lots of examples to receive data from emonTx and send it to emoncms or Patchube.&nbsp;</a></li>
</ul>
<h2>Environmental &amp; Life Cycle</h2>
<p>Every effort has been made to reduce the environmental impact of the emonTx. The board has been designed on a laptop running off-grid powered by solar PV (see setup <a href="104.html">here</a>).&nbsp;</p>
<p>The PCB board is manufactured in the UK using a lead free process.&nbsp;</p>
<p>All components are RoHS compliant</p>
<p>At the end of its useful life we will gladly accept the unit back. The Atmega 328 can easily be re-programmed for other&nbsp;purposes.</p>
<h1>Licence&nbsp;</h1>
<p><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="../../../licensebuttons.net/l/by-sa/3.0/88x31.png" /></a><br />
The emonTx hardware deisgnes (schematics&nbsp;and CAD files) are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p>
<p>The emonTx firmware is released under the <a href="4.html">GNU GPL V3 license</a></p>
<p>The documentation is subject to<a href="http://en.wikipedia.org/wiki/GNU_Free_Documentation_License"> GNU Free Documentation License&nbsp;</a></p>
<p>The emonTx hardware designs follow the terms of the&nbsp;<a style="text-decoration: none; color: rgb(51, 153, 204); " href="http://freedomdefined.org/OSHW">OSHW (Open-source hardware) Statement of Principles 1.0</a>.</p>
<p><img alt="Open-source hardware (OSHW) logo " src="../sites/default/files/3536a4f5e3file-1.jpg-150x150.jpg" /></p>
<p>What this basicly means is that you are free to modify, re-distribute and use the design in a personal or commercial environment&nbsp;as long as you attribute OpenEnergyMonitor and make any resulting designs or derivatives available under the same open-source licenses.&nbsp;<a href="112.html">Read more about open-source...</a></p>
<p>
<meta http-equiv="content-type" content="text/html; charset=utf-8" /></p>
</div>
    
    
      </div>
<div id="comments">
  <div class="indented"><a id="comment-1745"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx V1.4</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Sun, 15/05/2011 - 10:55.</div>
    <div class="content">
     <p>That's the sort of comment I like, well done for finding it yourself! Let me know if you need other parts. Do you mind me asking what you are designing? &nbsp;</p>
<p>Glyn.&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1790"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="arteqw&#039;s picture" title="arteqw&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx V1.4</h3>

    <div class="submitted">Submitted by arteqw (not verified) on Sun, 22/05/2011 - 14:03.</div>
    <div class="content">
     <p>How is your DRC settings in Eagle ?&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<a id="comment-1758"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="arteqw&#039;s picture" title="arteqw&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx V1.4</h3>

    <div class="submitted">Submitted by arteqw (not verified) on Mon, 16/05/2011 - 18:17.</div>
    <div class="content">
     <p>No problem. I do a wireless weather station. It's very similar to your project, I want to have a base with several sensors(SHT21, BMP85, analog wind sensor oraz simple LDR) and two receivers. One with LED display, second connected so router or computer via USB port. Router with OpenWrt frmware receive data and plot graphs.&nbsp;</p>
<p>Another project is energy monitor shield to arduino, but here i use RF modules form seedstudio.</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1759"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx V1.4</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Mon, 16/05/2011 - 19:00.</div>
    <div class="content">
     <p>Sounds interesting. Let us know when you have something to show and we will post a link to it &nbsp;in 'Builds and Case Studies' section. Suneil&nbsp;Tagore recently documented a wind speed and wind turbine energy datalogger for the site. If it helps you at all, here is the link:&nbsp;<a href="135.html">http://openenergymonitor.org/emon/node/135</a></p>
<p>Good luck with your project.&nbsp;</p>
<p>Glyn.&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
</div></div></div><a id="comment-1733"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="harrys&#039;s picture" title="harrys&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx V1.4</h3>

    <div class="submitted">Submitted by harrys (not verified) on Tue, 10/05/2011 - 15:06.</div>
    <div class="content">
     <p>&nbsp;Nice design...</p>
<p>Just a note. If you only use 2 AA batteries the available voltage will not be able to drive the LDO so as to give you the 3.3V for the Vcc..</p>
<p>&nbsp;</p>
<p>Harry</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1735"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx V1.4</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Wed, 11/05/2011 - 20:52.</div>
    <div class="content">
     <p>Hi Harry,</p>
<p><div><span style="font-size:9.0pt;Arial&quot;,&quot;sans-serif&quot;;color:black">Thanks for your comment. If you look carefully at the schymatic the battery connection actually goes straight to VCC (Not through the voltage regulator). The voltage regulator is only used when powering the unit via mini-USB or FTDI. &nbsp;This does mean that only up to about 3.3V can be connected to the battery input. Perfect for powering the unit from 2xAA. </span><span style="font-size:9.0pt;Arial&quot;,&quot;sans-serif&quot;;color:black">The RF module can actually tolerate 5V (it&rsquo;s just not recommended).&nbsp;</span></div>
<div>&nbsp;</div>
<div>All the best, Glyn.&nbsp;</div>
</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
</div><div class="item-list"><ul class="pager"><li class="pager-first first"><a href="137.html" title="Go to first page" class="active">« first</a></li>
<li class="pager-previous"><a href="137.html" title="Go to previous page" class="active">‹ previous</a></li>
<li class="pager-item"><a href="137.html" title="Go to page 1" class="active">1</a></li>
<li class="pager-current last">2</li>
</ul></div></div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/137?page=1 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:30:50 GMT -->
</html>
