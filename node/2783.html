<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2783 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:27:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>OpenBEM Buiding temperature modelling  | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">OpenBEM Buiding temperature modelling </h3>
        <span class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 07/09/2013 - 12:57</span>
        <div class="content"><p>Been making good progress on this building energy modeling idea, both on developing a simpler interface to replace the <a href="http://openenergymonitor.blogspot.co.uk/2013/06/building-energy-modelling-carbon-coop.html">SAP model I blogged about before </a>and on the idea of integrating actual measured data from realtime temperature and power monitoring.</p>
<p>This screenshot shows modeled&nbsp;internal temperature (black line) overlayed on 4x low power temperature node feeds that show the temperature distribution in the lab. The modeled internal temperature is calculated from the actual outdoor temperature, the actual power feed data (2.2kW heater) and estimated properties for heat capacity of the walls, air+surfaces and heat loss through walls, windows and infiltration.</p>
<p><img alt="" src="../sites/default/files/sim.png" style="width: 600px; height: 306px;" /></p>
<p>The code so far is up on github here:&nbsp;https://github.com/emoncms/openbem, the openbem interface is not editable yet, everything is hard coded in javascript, its not actually editable in the browser yet. Feed id&#39;s are also hardcoded for the simulation page.</p>
<p>The model type is a 2 stage resistor-capacitor model, using the resistor-capacitor analogy for thermal modelling is a standard approach used in many thermal models, there&#39;s an interesting page on it here: <a href="http://lpsa.swarthmore.edu/Systems/Thermal/SysThermalModel.html" title="http://lpsa.swarthmore.edu/Systems/Thermal/SysThermalModel.html">http://lpsa.swarthmore.edu/Systems/Thermal/SysThermalModel.html</a></p>
<p>The lab is quite a simple test case, its a single room, quite small with a small electric heater for heating, its also an overcast day today so solar gain contribution is small. How this will carry over to more complex situations, other seasons, and all the other potential variables is of course an open question, No doubt it will take a lot more work to make it a useful tool but I think its a promising start.</p>
<p>If it can be made to work for different buildings, heating systems etc this could have some interesting application in intelligent heating control as well as building performance characterisation, exciting!</p>
<p>Its interesting the difference of adding the 2nd stage to the resistor capacitor model, Il write-up on that next.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2218.html" class="topic-previous" title="Go to previous forum topic">‹ do we have a good programmer?</a>
              <a href="3182.html" class="topic-next" title="Go to next forum topic">Fixing and extracting Datapoints ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-14958"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: OpenBEM Buiding temperature modelling </h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 08/09/2013 - 10:50.</div>
    <div class="content">
     <p>Improved the simulation code to allow for a 3 stage RC model and in-browser constant editing.</p>
<p>This is how the resistor-capacitor analogy of the model looks like:</p>
<p><img alt="" src="../sites/default/files/rcsimdiagram.png" style="width: 600px; height: 166px;" /></p>
<p>Heat input via the heater acts like a current source into the circuit, the external temperature acts as a constant voltage.</p>
<p>Another screenshot of it in action with the constants table below:</p>
<p><img alt="" src="../sites/default/files/heatingmodel_p2.png" style="width: 600px; height: 513px;" /></p>
<p>&nbsp;</p>
<p>One interesting outcome of this is that its appears that the temperature decay curves cant be described by a single exponential decay curve and are instead a superposition of exponential decay curves with different decay rates.</p>
<p>The code for the module is all up on github here: <a href="http://github.com/emoncms/openbem">http://github.com/emoncms/openbem</a></p>
<p>The simulation script is this one:</p>
<p><a href="https://github.com/emoncms/openbem/blob/master/graph.php">https://github.com/emoncms/openbem/blob/master/graph.php</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14959"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: OpenBEM Buiding temperature modelling </h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 08/09/2013 - 11:11.</div>
    <div class="content">
     <p>For an idea of what kind of building the above data is from here&#39;s a pic (the pic is taken with a wide angle lens to take it all in, it doesnt actually curve like that). The floor area is 21m2, walls are 600mm thick stone with plaster on hard, 100mm insulation in roof, roof lights, solid floor.</p>
<p><img alt="" src="../sites/default/files/labpicture.png" style="width: 400px; height: 225px;" /></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16490"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4803.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4803.jpg" alt="samthetechie&#039;s picture" title="samthetechie&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: OpenBEM Buiding temperature modelling </h3>

    <div class="submitted">Submitted by <a href="../user/4803.html" title="View user profile.">samthetechie</a> on Thu, 28/11/2013 - 18:10.</div>
    <div class="content">
     <p>Great work guys, it has been really interesting reading your notes and following progress. Thanks for all the modelling! ^_^</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2783"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-uOjv7u2IYfkP862A9KMdR2AWJBTQN7SZEHqVnOLeIpQ" value="form-uOjv7u2IYfkP862A9KMdR2AWJBTQN7SZEHqVnOLeIpQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
