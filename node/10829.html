<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10829 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:29:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Using Chip ID instead of API key,  simple setup energy monitor, less skills required. | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>
        <span class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Wed, 10/06/2015 - 00:14</span>
        <div class="content"><p>As i am new to the board and the OpenEnergyMonitor&nbsp;hardware i found it very interesting with the possibility of this platform.&nbsp;And also i find the threshold a bit high for people who really want to use this platform, but lack the computer skills.</p>
<p>I spent some time thinking about how to make a small easy setup system from the Nanode that does not require any programming of the Arduino/Nanode board and can be delivered pre programmed from the emon shop. Just a plug and play user experience.</p>
<p>&nbsp;</p>
<p>As of today, the API key has to be put into the software. And since this API key is user specific each unit needs to be programmed by the user himself. This gives the system a high technical threshold. The whole arduino programming and github thing scares most people away.</p>
<p>&nbsp;</p>
<p>However, if each unit had a ID chip on the one wire bus like this unit:</p>
<p><a href="http://www.maximintegrated.com/en/products/digital/memory-products/DS2401.html" title="http://www.maximintegrated.com/en/products/digital/memory-products/DS2401.html">http://www.maximintegrated.com/en/products/digital/memory-products/DS240...</a></p>
<p>And the emoncms&nbsp;had a feature for finding Nanodes&nbsp;from the same IP as the user who is logged in, then it would be possible to link Nanodes to a specific user with no programming. Just one simple link/connection to the DS2401&nbsp;unique chip ID instead of the API key.</p>
<p>In the emoncms&nbsp;database, the DS2401 ID will be the post that replaces the API key, or the ID will be part of this key.</p>
<p>&nbsp;</p>
<p>Basicly if a user connects 10 of these Nanodes on the same network, and logs in to the emoncms, he will find 10 units each identified by the DS2401 in the emoncms account. And emoncms knows they belong to this user because they are all logged in from the same IP address. This is a first time setup only.</p>
<p>After the first setup, emoncms knows that these units belong to this account, and all logging from these unique IDs will be on this account.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>If this unit has inputs for only one CT, One optical pulse input and some Dallas sensors on the one wire bus it will be a really cheap system that anyone can set up. It might be inside the technical boundaries of the Nanode&nbsp;alone.&nbsp;And the production cost will be very low. If it can handle 3CTs, 2 pulse inputs, and some Dallas sensors it will be more then most people will ever need.&nbsp;</p>
<p>One unit can be used to monitor a heatpump, or the ventilation, or houshold electricity.. Just about anything.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Of course this system will not be as good and flexible as the current wireless systems. But it will come in at ~&nbsp;&pound;30 and be all that the small, first time user needs. If there is no network connection, a cheap RJ45--&gt;WiFi bridge can be used for another ~&nbsp;&pound;15.</p>
<p>WiFi unit (running linux and can be reprogrammed for ease of use) price &lt; &pound;15</p>
<p><a href="http://www.ebay.com/itm/Dual-Ethernet-Ports-Wireless-Network-WiFi-Repeater-Bridge-Router-Client-4-Modes-/181472970361?pt=LH_DefaultDomain_15&amp;hash=item2a40a1c679" title="WiFi Bridge">http://www.ebay.com/itm/Dual-Ethernet-Ports-Wireless-Network-WiFi-Repeater-Bridge-Router-Client-4-Modes-/181472970361?pt=LH_DefaultDomain_15&amp;hash=item2a40a1c679</a></p>
<p>Is there any technical limitations in the emoncms that will not allow this idea to work?</p>
<p>&nbsp;</p>
<p>Thanks</p>
<p>&nbsp;</p>
<p>//J</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11257.html" class="topic-previous" title="Go to previous forum topic">‹ Connecting an RFM12Pi to raspberry pi via serial(just for education purposes)</a>
              <a href="11251.html" class="topic-next" title="Go to next forum topic">EmonTH Power ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-31152"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 10/06/2015 - 10:33.</div>
    <div class="content">
     <p>Thats a really neat idea to check the unque ID against the logged in IP of the user! I had been thinking of the idea of preprogramming a serial number to the basestation which was also printed on the case, that the user could then enter in emoncms to link the account to the device, but your suggestion is simpler both from a configuration point of view on the shop side and for the user.</p>
<p>I cant see the needed changes to emoncms to make this work being an issue either, nice idea!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31157"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Wed, 09/09/2015 - 20:21.</div>
    <div class="content">
     <p>Thanks Trystan!</p>
<p>I am an engineer in energy and&nbsp;construction (buildings), i really dont&nbsp;know much about software and hardware stuff but sometimes i can figure it out ;)</p>
<p>Im always obsessing with ease of use and price, because i know that these two points are always the ones that makes my customers back off. No matter how much money they can save from energy monitoring, they don&#39;t care if it means they need to be learning new things or spending big &euro;&euro;. They don&#39;t want to learn, they don&#39;t&nbsp;want to spend money.. They just want it to work straight out of the box.</p>
<p>This means alot of time goes into setting a system up for the customer. This is expensive, so then it is back to square one.</p>
<p>Ease of use puts the price down for installation, as well as producing and maintaining. Not to mention support.</p>
<p>Programming different IDs into each unit with the arduino&nbsp;software&nbsp;will be time consuming or require some kind of special equipment i guess, if nobody wants to make it manually. But just adding this ID chip will fit straight into current production methods and will not require any modification to production lines other then specification for components and maybe small alteration to the board-drawing and the basic sketch. After that it&#39;s just the same work flow as you have today. Some smaller changes in the emoncms&nbsp;will be needed also.</p>
<p>I hope this can work. It would be nice with a really small and simple unit that can compete with the basic systems that are on the market today.</p>
<p>Simple systems avalible:</p>
<p><a href="http://www.eliq.se/" title="http://www.eliq.se">http://www.eliq.se</a></p>
<p><a href="http://www.efergy.com/" title="http://www.efergy.com">http://www.efergy.com</a></p>
<p><a href="http://www.theenergydetective.com/" title="http://www.theenergydetective.com">http://www.theenergydetective.com</a></p>
<p>They are all simple to set up, and cheap. But they are not very flexible, and they all work pretty much the same.</p>
<p>It is obvious to me that people who design these systems in general don&#39;t know so much about buildings or energy&nbsp;usage in buildings. And people who do, don&#39;t know so much about data processing and electronics. And this is making all the systems above crippled in some way.</p>
<p>&nbsp;</p>
<p>Anyways. Hopes this idea can be some small seed to a cheap and simple energymonitor&nbsp;to get people started.</p>
<p>&nbsp;</p>
<p>//J</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31162"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Wed, 10/06/2015 - 15:10.</div>
    <div class="content">
     <p>From the DS18S20 datashet: (<a href="http://datasheets.maximintegrated.com/en/ds/DS18S20.pdf">http://datasheets.maximintegrated.com/en/ds/DS18S20.pdf</a>)</p>
<p><em>64-Bit Lasered ROM Code<br />
Each DS18S20 contains a unique 64-bit code (see<br />
Figure 8) stored in ROM. The least significant 8 bits of the<br />
ROM code contain the DS18S20&rsquo;s 1-Wire family code:<br />
10h. The next 48 bits contain a unique serial number.<br />
The most significant 8 bits contain a cyclic redundancy<br />
check (CRC) byte that is calculated from the first 56 bits<br />
of the ROM code.</em></p>
<p>From the DS2401 datasheet: (<a href="http://datasheets.maximintegrated.com/en/ds/DS2401.pdf">http://datasheets.maximintegrated.com/en/ds/DS2401.pdf</a>)<br />
<em>Unique, Factory<br />
Lasered and Tested<br />
64-Bit Registration Number<br />
(8-Bit FamilyCode +48-Bit Serial Number + 8-Bit CRCTester)</em></p>
<p>Are these two similar enough that the same thing could be done with a DS18S20 vice the DS2401, with the added benefit of available temperature data?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31219"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Thu, 11/06/2015 - 23:59.</div>
    <div class="content">
     <p>Bill!</p>
<p>That has been also on my mind, and i did not research price difference maybe its the same price anyways.</p>
<p>To find the correct answer i think many aspects should be analyzed.&nbsp;</p>
<p>- Price</p>
<p>- Ease of use</p>
<p>- Ease of use in the emoncms</p>
<p>- Powerusage on the arduino board</p>
<p>- Total length of the ID tag for both chips, and if they are totally unique</p>
<p>Will it be a good idea to have a Dallas sensor mounted on the board, does it make any use there? Will it be a good idea to have it on cable, in case something happens and it needs to&nbsp;get exchanged, what will happen to data in emoncms?</p>
<p>However, the idea to use Dallas sensor instead of ID chip can be&nbsp;very smart. And will suit many users just as well, or even better. In terms of standardizing&nbsp;a product i am not so sure.</p>
<p>Can there be more pros/cons with ID chip vs Dallas sensor?</p>
<p>&nbsp;</p>
<p>Best regards</p>
<p>Johannes</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31223"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Fri, 12/06/2015 - 04:30.</div>
    <div class="content">
     <p>Hi Johannes,</p>
<p>Comparing the two components, we get:</p>
<p><em>Price</em><br />
2401 ~2USD<br />
18B20 ~4USD</p>
<p><em>Ease of use</em><br />
There shouldn&#39;t be much difference here. Both the 18B20, and the 2401, use the 1-Wire protocol.</p>
<p><em>Ease of use in emoncms</em><br />
This is more of an &quot;ease of use on the nanode&quot; kind of question, as display of temperature on an emoncms dashboard is something that users have done for quite some time.</p>
<p><em>Power consumption</em><br />
This <strong><em>is</em></strong> one area where the 2401 has the 18B20 beat. 18B20 standby current is ~750nA,<strong><em> </em></strong>whereas the 2401 has zero standby current requirements. 18B20 operating current is typically 1mA. 2401 operating charge is 30nC. The emonTH battery life is spec&#39;d at ~16 months for a unit with only the DS18B20 sensor, that takes a temp reading once every 60 seconds. <a href="http://shop.openenergymonitor.com/emonth-433mhz-temperature-humidity-node/">http://shop.openenergymonitor.com/emonth-433mhz-temperature-humidity-node/</a><br />
&nbsp;</p>
<p><em>Total length of the ID tag for both chips, and if they are totally unique</em><br />
The difference here is the 2401 has a <strong><em>guaranteed</em></strong> unique serial number, where the 18B20 is advertised as having a <strong><em>unique</em></strong> serial number, but no mention is made of a guarantee that it&#39;s unique. Since both chips have 48-bit serial numbers, it <em><strong>appears</strong></em> the odds of any given serial number being truly unique should be very good.</p>
<p><em>However, the idea to use Dallas sensor instead of ID chip can be&nbsp;very smart. And will suit many users just as well, or even better. In terms of standardizing&nbsp;a product i am not so sure.</em></p>
<p>Both components are from Maxim, and the 18B20 is already an emonTH option, so it makes sense to use a part that&#39;s &quot;already in the pipeline,&quot; and can supply a serial number. The only down side I can see, is if some of the serial numbers aren&#39;t unique.</p>
<p>Bill</p>
<p><em>Edit - changed 18S20, and relevant data, to 18B20</em></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31226"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Fri, 12/06/2015 - 07:40.</div>
    <div class="content">
     <p>Thats a nice comparision!</p>
<p>The difference in price is almost nothing, and the serial seems unique enough.</p>
<p>The power drain difference can be controlled in the software for the Arduino, if there is no need for temperature measurements&nbsp;the software can be setup to only check the ID at startup. And then never check back on that one wire protocol. I dont know anything about the programming but i think that can be done.</p>
<p>In total, this would be a nice feature to add to coming versions, and i will avoid the API key programming problem and the boards can be delivered with pre programmed software that will work direct with emoncms.</p>
<p>Thank you Bill for supporting this idea with your thoughts and ideas.</p>
<p>//J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31234"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 12/06/2015 - 09:12.</div>
    <div class="content">
     <p>Really interesting! and nice idea to use the DS18B20. This could also be used on a raspberrypi based basestation for easier setup</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31236"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Fri, 12/06/2015 - 10:55.</div>
    <div class="content">
     <p>&nbsp;</p>
<p>Trystan, it&#39;s even better to use it for the raspberry as well.&nbsp;</p>
<p>Maybe I should change topic for this thread. It&#39;s a bit wrong for the discussion.</p>
<p>//J</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31257"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Sat, 13/06/2015 - 01:05.</div>
    <div class="content">
     <p>Hi J,</p>
<p>Thanks for the nice comment!</p>
<p><em>Will it be a good idea to have a Dallas sensor mounted on the board, does it make any use there? Will it be a good idea to have it on cable</em></p>
<p>When I was an Electronics Technician for the US National Weather Service, part of the job involved repairing weather station equipment supplied by&nbsp;Vaisala, RM Young, Davis Instruments, and Peet Brothers.</p>
<p>One thing in common was a cabled temperature sensor.</p>
<p>All of the manufacturers mentioned above recommend housing an outdoor temp sensor inside a solar radiation shield to prevent false temp readings as a result of direct exposure to the Sun. Here&#39;s a commercially available example: <a href="http://www.ambientweather.com/amwesrpatean.html">www.ambientweather.com/amwesrpatean.html</a>.<br />
Here&#39;s an example of a DIY rad shield: <a href="http://www.weather-watch.com/smf/index.php?topic=38652.0">www.weather-watch.com/smf/index.php?topic=38652.0</a>.</p>
<p>A board mounted sensor would pick up heat from the electronics, unless the housing the sensor is in, is aspirated, or the sensor is located away from the electronics i.e. on a cable. So a cabled sensor is advantageous for indoor use too.</p>
<p><em>Im always obsessing with ease of use and price, because i know that these two points are always the ones that makes my customers back off. No matter how much money they can save from energy monitoring, they don&#39;t care if it means they need to be learning new things or spending big &euro;&euro;. They don&#39;t want to learn, they don&#39;t&nbsp;want to spend money.. They just want it to work straight out of the box.</em></p>
<p>Sadly enough, that&#39;s a common attitude in the US too. Just the mention of the word &quot;Linux,&quot; or &quot;software&quot; scares away lots of people.</p>
<p>B</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31258"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 13/06/2015 - 01:11.</div>
    <div class="content">
     <p><i>"A board mounted sensor would pick up heat..."</i></p>
<p>That's a complaint that was made about the GLCD. The temperature sensor was at the top of the board when the GLCD was standing in it's normal 'on edge' orientation and several users claimed it was over-reading as a result of heat coming off the processor.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31259"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Sat, 13/06/2015 - 01:23.</div>
    <div class="content">
     <p>I noticed that too, and filed it away as one of those &quot;I&#39;ll do it later&quot; projects of putting the sensor on a cable to get it away from the PC Board. Haven&#39;t gotten &#39;round to it, yet. Oh Well...</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31379"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Tue, 16/06/2015 - 22:19.</div>
    <div class="content">
     <p>Ok, thanks for all the input guys!</p>
<p>&nbsp;</p>
<p>I am still thinking about what suits the users best here.</p>
<p>Using the Dallas will give more features to the package with no extra cost. But mounting it on the board will give bad readings, and mounting it on a cable can cause problems in the emoncms later if the sensor needs to be exchanged, as all the old data will be linked to the old sensor.</p>
<p>Is this conclusion correct from what was pointed out earlier in this thread?</p>
<p>Is there any clever way to overcome this?</p>
<p>&nbsp;</p>
<p>//J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31386"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 16/06/2015 - 22:50.</div>
    <div class="content">
     <p>Just to be awkward, what happens when you have multiple sensors on one node?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31415"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Wed, 17/06/2015 - 10:47.</div>
    <div class="content">
     <p>Hello Robert!</p>
<p>I think that one solution can be to keep one data&nbsp;bus&nbsp;for one unit for retrieving ID, and never connect multiple units on this data&nbsp;bus.</p>
<p>There can be another data bus for other sensors.</p>
<p>If its done this way, i think it will be very easy to write the code in such way that the ID number can be retrieved on startup of the unit. Just by&nbsp;addressing this bus&nbsp;with a query for ID.</p>
<p>I am just trying to think about how to do it in such way that the units can be shipped with no software modifications needed. Just hook it up and create account in the emoncms, and there is all your units on the same IP. Each unit can be given a name, but will be identified from the ID on this data&nbsp;bus&nbsp;in hardware.</p>
<p>Maybe this is a loss of one data bus, but it sure will be easy for beginners to set up.</p>
<p>//J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31421"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 17/06/2015 - 11:28.</div>
    <div class="content">
     <p>I was thinking in terms of a substitution list in emonCMS, which would (probably as an option) allow the user to tag the ID or IDs with the chosen node number or a "friendly" name. That would allow ID device and node replacements (you just edit the table) and assuming multiple devices on the bus with the IDs being returned in random order, with the node software could send whichever it liked - first discovered, lowest number - and CMS would recognise all as equivalent and allocate the data correctly.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31428"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Wed, 17/06/2015 - 11:56.</div>
    <div class="content">
     <p>A Microchip 24AA02E64 MAC EEPROM is available at ~&euro;0.20 with 64 bits unique ID. As it is I&sup2;C it uses up two I/Os, of which one could be reused for user porposes.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31454"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Wed, 17/06/2015 - 17:47.</div>
    <div class="content">
     <p>Now i &nbsp;found DS2401&nbsp;for less then 1$ incl. shipping on ebay.</p>
<p>If one buys 100pcs&nbsp;i guess the price will be even less.</p>
<p>I think that using the one wire protocol is better then using I2C, because the I/O is still usable for other stuff and the ID chip can be mounted on the PCB as standard.</p>
<p>Still the idea with Dallas sensor is pretty good, if it can be done in such way that will not make problems in the emoncms if it needs to be exchanged or something like that.</p>
<p>&nbsp;</p>
<p>//J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31455"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Wed, 17/06/2015 - 18:06.</div>
    <div class="content">
     <p><em>Using the Dallas will give more features to the package with no extra cost. But mounting it on the board will give bad readings, and mounting it on a cable can cause problems in the emoncms later if the sensor needs to be exchanged, as all the old data will be linked to the old sensor.</em></p>
<p><em>Still the idea with Dallas sensor is pretty good, if it can be done in such way that will not make problems in the emoncms if it needs to be exchanged or something like that.</em></p>
<p>Even if the 2401 is used, the same problem exists if it fails. i.e. you now have a copy of emoncms tied to a serial number from a dead chip. Seems like the temp sensor is the way to go. Same comm protocol, 48-bit serial number like the 2401, and temp data available for use if desired.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31456"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Wed, 17/06/2015 - 18:07.</div>
    <div class="content">
     <p>I don&#39;t want to say the MAC EEPROM is the better solution, but it is much cheaper and any two (or one, see above) I/Os can be used with a bit-banged minimal I&sup2;C emulation. For a board with ethernet it can additionally be used for MAC address.</p>
<p>BR, J&ouml;rg.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31697"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/450.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stuart&#039;s picture" title="stuart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/450.html" title="View user profile.">stuart</a> on Thu, 25/06/2015 - 13:17.</div>
    <div class="content">
     <p>I&#39;ve always liked the idea of each &quot;node&quot; either nanode or emonTX/TH and the base all having unique ids/addresses.</p>
<p>This way the base can be modified to just listen for the devices it wants. I&#39;d still like to see each of the sending devices communicating using a generic protocol to deliver their readings rather than having to configure all the nodes in the base and what each of there readings mean.</p>
<p>It would be very cool if the base station (Pi?) &quot;discovers&quot; new sensors/nodes and simply asks the user to confirm they want to receive data from them - especially if the input configuration was automatic as well.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31812"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3695.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chaveiro&#039;s picture" title="chaveiro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/3695.html" title="View user profile.">chaveiro</a> on Tue, 30/06/2015 - 17:04.</div>
    <div class="content">
     <p>Some notes:</p>
<p>- Arduino with ATMEGA328 already has a 1k eprom on chip.<br />
- Ethernet developer boards usualy have mac address configured by the host cpu. That means it gets set from the arduino firmware and must be saved there.</p>
<p>You could implement a simple random serial id generated by pressing a button at arduino boot that gets saved on its internal eprom for further usage. One firmware fits all.</p>
<p>There is no assurance that the serial id is unique across devices.</p>
<p>I personally dont like the fixed serial id, it&#39;s like old intel Pentium III Processor Serial Number, rastreability of devices is a privacy issue&nbsp;that may have legal concerns on some countries.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31817"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Tue, 30/06/2015 - 23:57.</div>
    <div class="content">
     <p>Chaveiro, thanks for your input.</p>
<p>&nbsp;</p>
<p>Do you have another idea, except from a ID chip, that will allow the emon hardware to run with no alterations at all to the firmware by the user and still be unique in that way that the emoncms can differentiate between each unit?</p>
<p>I am open to all kinds of solutions that allows the user to just plug the unit, log into emoncms and have the unit located there with no tampering in hardware or software. It does not need to be a chip.</p>
<p>I think to most users privacy is not a major concern, and if someone manages to log into the emoncms, they can pretty much get all the data they want even if the IDs are randomized. The data always ends up one place, its just a matter about how easily it finds its way there.</p>
<p>&nbsp;</p>
<p>//J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31821"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Wed, 01/07/2015 - 09:25.</div>
    <div class="content">
     <blockquote><p>I personally dont like the fixed serial id, it&#39;s like old intel Pentium III Processor Serial Number, rastreability of devices is a privacy issue&nbsp;that may have legal concerns on some countries.</p>
</blockquote>
<p>Hmmm, I really don&#39;t see the problem. Every ethernet node already has a unique MAC address (or &#39;serial number&#39;). As have many RF nodes which are pre-configured by the manufacturer. I am using a lot of Homematic devices and each has a unique serial number, too. So it is very easy to automatically find and register the nodes in the system.</p>
<p>Why not re-use things that work perfectly in other (very similar) environments?</p>
<p>J&ouml;rg.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31865"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3695.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chaveiro&#039;s picture" title="chaveiro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/3695.html" title="View user profile.">chaveiro</a> on Thu, 02/07/2015 - 22:19.</div>
    <div class="content">
     <p>Well i see 2 scenarios :</p>
<p>A - Ethernet/wifi nodes that have a local server used for ip / ssid configuration where you input your apikey.</p>
<p>B - RF write only nodes that has no mean to receive data</p>
<p>For A it&#39;s partially solved and easy implemented, connect to node config page, set apikey that gets saved on eprom.</p>
<p>For B it will have to write to a local hub via rf so you can implement this nodes with a switch on one cpu pin to act as node configuration that increments it&#39;s node ID each time its booted with the pin pressed. Or switch to a configuration mode with led blink status report for setting the ID that gets saved on eprom also.<br />
&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33487"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6961.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6961.png" alt="ondrej1024&#039;s picture" title="ondrej1024&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/6961.html" title="View user profile.">ondrej1024</a> on Fri, 21/08/2015 - 08:02.</div>
    <div class="content">
     <p>Here is another very simple idea.</p>
<p>If using the emonPi module, you could just read the RaspberryPi serial number from /proc/cpuinfo and use that as identification.</p>
<p>This number should be unique and there is no additional hardware required. Any thoughts?</p>
<p>Ondrej</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33496"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Fri, 21/08/2015 - 15:53.</div>
    <div class="content">
     <p>This was a really good idea!</p>
<p>It will work very well with all people who are using only one board anyway, for people who are using multiple nodes i think that it could be useful with ID on each unit.</p>
<p>&nbsp;</p>
<p>Since this is just a ID number anyway i dont see why both can be used?</p>
<p>&nbsp;</p>
<p>I am interested to know if this idea will be implemented in the next version?</p>
<p>&nbsp;</p>
<p>//J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34107"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Sun, 13/09/2015 - 10:14.</div>
    <div class="content">
     <p>After some more carful thinking around this i came to some simple conclusions.</p>
<p>If the raspberry pie identifies with the serial as ondrei suggested, and all the EMON units have an ID chip for unique serials. This will make it very easy to organize data in the emoncms.</p>
<p>It can also make room for a very simple setup process for the users.</p>
<p>Today setting up the pie requires tinkering in terminal. This will scare 99% of all normal users away. A simple GUI for setting up the Pie on the web can be done like this (one of many alternatives):</p>
<ul>
<li>- Raspberry pie comes preloaded with all software needed to run and upload data to emoncms.org</li>
<li>- Upon startup it will contact emoncms.org, and it will ID with build in serial as unique ID (smart idea Ondrej!!).</li>
<li>- Emoncms will check if there are any users logged in from the same IP address</li>
<li>- Emoncms will prompt user logged in from same IP address, if they would like to pair this unit with their account</li>
<li>- After this there will be one setup page inside the Emoncms where setup for specific stuff in the Pie can be done (if needed) and this setup can be downloaded automatically to the Pie from the users account. For example&nbsp;the ID and PW for WiFi network if WiFi is going to be used.</li>
</ul>
<p>This can create some problems with read/write privileges or stuff like that. Or might not be possible du to other reasons. But as i see it, this will be a very easy way to configure the Pie for users that are not very well oriented in unix&nbsp;/ commandline based&nbsp;environment. Configfile&nbsp;will be downloaded/rewritten from the openenergymonitor.org. That will make for possibilities to create nice GUI, and make simple changes for all users no matter if they are on the same network as the Pie.</p>
<p>If user wants to remove one unit from their account, it should be a simple &quot;release&quot; button to release that unit.</p>
<p>If more units are added, it should be very simple for the user to just login to the emoncms.org from the same IP address as the new unit is added, and the emoncms.org will automatically prompt the user also when adding more units.</p>
<p>I also suggest that emoncms.org should have a feature to add names to all the nodes in the network. So that they are presented with names inside the emoncms, that will correspond to their unique ID. This way various locations can be logged with no problems, and multiple sites can be within one account.</p>
<p>Maybe they should be organized with a tree&nbsp;structure&nbsp;or something like this, so that it is visually easy to determine what nodes are under what hub. That will be a later matter, but very useful for people who use multiple Raspberrys on multiple sites, all logging to one account.</p>
<p>Ex as follows:</p>
<p>Main user account.</p>
<p><u><strong>&quot;Villa&quot;</strong> = Raspberry Pie&nbsp;ID 1277545312</u></p>
<ul>
<li><em><strong>&quot;Energy, CTs and Pulse counter&quot;</strong> One&nbsp;EmonTX&nbsp;ID = 33828389</em></li>
<li><em><strong>&quot;Temperature and Humidity&quot;</strong> One&nbsp;EmonTH&nbsp;ID&nbsp;= 33827389</em></li>
</ul>
<p><u><strong>&quot;Garage&quot;</strong> = Raspberry Pie&nbsp;ID 2231231231</u></p>
<ul>
<li><em><strong>&quot;Temp and Pulse counter&quot;</strong> &nbsp; &nbsp;One emon TH ID= 4435342</em></li>
</ul>
<p><u><strong>&quot;Summerhouse&quot;</strong> = Raspberry Pie&nbsp;ID 1245545312</u></p>
<ul>
<li><em><strong>&quot;Energy, CTs and Pulse counter&quot;</strong> One EmonTX&nbsp;ID = 55828389</em></li>
<li><em><strong>&quot;Temperature and Humidity&quot; </strong>One EmonTH&nbsp;ID&nbsp;=&nbsp;55827389</em></li>
</ul>
<p>I think this can make all the setup process very simple for people with only one unit, and people with many units.</p>
<p>&nbsp;</p>
<p>//J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34122"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 13/09/2015 - 20:15.</div>
    <div class="content">
     <p>I do not have static IP address. If I reset my router, my ISP allocates a different IP address to me. So I am the same user, with the same hardware, but not the same IP address. How will that work?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34126"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Sun, 13/09/2015 - 21:05.</div>
    <div class="content">
     <blockquote><p>I do not have static IP address. If I reset my router, my ISP allocates a different IP address to me. So I am the same user, with the same hardware, but not the same IP address. How will that work?</p>
<p>&nbsp;</p>
</blockquote>
<p>Hi Robert!</p>
<p><strong>This is a idea for a first time setup (its actually just two steps):</strong></p>
<ul>
<li>1. Connect your raspberry pie to your router, and plug power. The raspberry will now start to transmit your raspberry ID number to the emoncms.org and say hello to the server. But because your raspberry is brand new, it&#39;s ID is not associated with any account on the emoncms.org the server will start looking for users logged in from the same IP.</li>
<li>2. That is when you create a new&nbsp;account, or login to your existing emoncms.org account&nbsp;shortly after you connected the raspberry.&nbsp;This is done from the same router as the raspbery in order to obtain the same external IP as the raspberry.&nbsp;</li>
</ul>
<p>Now the raspberry and your web&nbsp;session towards the emoncms.org will have the same IP,&nbsp;because this is happening at the same time. This makes for simple association between the two units, that cannot be hijacked so easily by others.</p>
<p><strong>Inside the server, automatically this will happen:</strong></p>
<p>So the emoncms.org will now notice that there is one unidentified raspberry connected, and one user logged in from the same IP. The emoncms.org will prompt the user who is logged in and ask if the user wants to associate this new raspberry pie (ID) with his account.</p>
<p>After this&nbsp;first time setup process, which is very simple and requires no typing/input of&nbsp;API key or serial numbers for devices, this raspberry will be associated with the account you have setup on emoncms.org. Even if you move it to other IPs all the data will still be delivered to the same account on the emoncms.org server, because its based on the serial from the raspberry, and not the IP or API key. You could say that the API key is replaced by the serial of the raspberry, and instead of putting the API key in the config file, the emoncms.org server gets the API key from the raspberry.</p>
<ul>
<li>If the Raspberry is to be replaced, a new raspberry could be configured to replace it simply by re&nbsp;associating the new raspberry with the same account and feeds.</li>
<li>If the raspberry is moved to another account it can easily be disconnected from the account.</li>
<li>If multiple raspberrys is to be later connected to the same account, its just the same setup process for every raspberry that is added.</li>
<li>If multiple raspberrys i associated with one account, this can be done at the same time to save time.</li>
<li>If one raspberry is to be used with m2m or other connection that does not have extra ports&nbsp;it needs to be connected first only once&nbsp;from any location just to associate it with an account, and then later moved to desired location with any connection type or IP address.</li>
</ul>
<p>This is just an idea, and if implemented it will make emoncms.org and openenergymonitor.org the most easily setup system on the market.. For everything i know. Efergy, eliq, smappee and the others have more complex setups not to mention the professional systems on the market.&nbsp;</p>
<p>This will make a really good situation for the openenergymonitor.org, because now they can sell a complete system that does not need any configuration at all from the user. It works straight out of the box. The new user just plugs everything in and registers a new account. No API keys, no config files, no linux command prompt.. Nothing. Just pure pleasure and energy monitoring ;)</p>
<p>If all new accounts that are registered like this&nbsp;comes with a standard setup of pre-configured feeds for the emonTH and EmonTx, the user will not even have to make the setup for the feeds. There can be standard feeds pre&nbsp;configured for each new account that is associated with this kind of process. Removable for professionals ofcourse.</p>
<p>If the emonTH and EmonTx gets ID chips on board, they don&#39;t need to be configured with node IDs in the firmware. This allows for mass&nbsp;production of this product, with no special configuration what so ever. Just power up, login in and go!</p>
<p>And also there can be a simple dashboard page, that is pre&nbsp;configured for the first time user that shows power now, energy consumption, temperature or stuff like that. Just a simple nice page that does not require any setup with feeds or dashboards, working only with the standard configuration emonTH and emonTX.</p>
<p>If this were to become reality, emoncms can be a product that my mother could set up in 15 minutes and start using. Right now it takes a long time to set this system up, understand how it works,&nbsp;and start using it. Reducing this threshold is important if this system is to attract new less experianced users.</p>
<p>All this is possible but requires some job on the emoncms server side..</p>
<p>Myself i really think this is a good idea, and that if the skilled guys on this forum gives it a go it will be doable.</p>
<p>All the time that can be saved, and all the new potential users for this project will really be good. And from there its not to far to start competing with the commercial systems. Its only price and visuals from there.</p>
<p>I think this idea can be polished but this is one way to go.</p>
<p>//J</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34149"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 14/09/2015 - 22:09.</div>
    <div class="content">
     <p>I quite like the idea of the while logged in to emoncms&nbsp;using a&nbsp;&quot;search for other devices on same IP&quot; to then add them&nbsp;to an authorized list BUT I think emoncms should pass the apikey (auth token) to the device so that you are not using a &quot;non-changeable if compromised&quot; serial number, it doesn&#39;t restrict users to the Pi club and it circumvents any &quot;personal data&quot; issue attached to reading and retaining a devices serial number.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34151"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Mon, 14/09/2015 - 22:21.</div>
    <div class="content">
     <blockquote><p>I quite like the idea of the while logged in to emoncms&nbsp;using a&nbsp;&quot;search for other devices on same IP&quot; to then add them&nbsp;to an authorized list BUT I think emoncms should pass the apikey (auth token) to the device so that you are not using a &quot;non-changeable if compromised&quot; serial number, it doesn&#39;t restrict users to the Pi club and it circumvents any &quot;personal data&quot; issue attached to reading and retaining a devices serial number.</p>
</blockquote>
<p>&nbsp;</p>
<p>That could also be a way to do it, actually its just as good. And the way you suggest can allow existing system to with API key to keep on going with no changes, only that the raspberry downloads the API key.</p>
<p>One way to solve the association problem could also be putting names on each unit, so that all the feeds from one unit will still be possible to transfer to the replacing unit just by simply giving it the same name.</p>
<p>The same goes for the ID chip i suggested in the EmonTH and EmonTx. If this ID chip is used it will be very easy for the system do differentiate between units. And there will be no need to put different IDs to keep them apart. Its all included in the design. And that way, even if you swap the EmonBase, all the Nodes will still have the same numbers and keep feeding to the same feeds even if there is a new base.</p>
<p>All my thinking around this is actually around making this system simple enough for ordinary people. Today we are a board full of Linux/PhP/Electronics/Arduino gurus.. But in order to reach the big markets and more users it has to be just as simple as smappee, eliq and efergy. I think we can do that.. But better =)</p>
<p>But before its implemented, i really think that everything should be well planned, so that in case units gets swapped or needs to be exchanged for various&nbsp;reasons, all the data in the emoncms should be kept intact.&nbsp;</p>
<p>I am so much hoping for someone to pick this idea up and implement it in the emoncms.</p>
<p>//J</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34152"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 14/09/2015 - 23:22.</div>
    <div class="content">
     <p>I&#39;m not convinced a per node recognition is required in emoncms&nbsp;unless they are devices posting direct in which case they will be connected via the same ip, have thier own mac address and could be altered&nbsp;to accept an apikey from emoncms. this option is going to become less frequent as most devices will either log to a local emonhub&nbsp;or in time post to a remote mqtt server which has its own encryption and authentication built-in.</p>
<p>I think concentrate on making the emonhub to emoncms connection both easier and more secure as well as improving the current node to hub authentication. the hub would be responsible for providing emoncms with pre-authenticated channels (nodes) via it&#39;s own authentication.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34168"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Chip ID instead of API key,  simple setup energy monitor, less skills required.</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Tue, 15/09/2015 - 16:45.</div>
    <div class="content">
     <p>About security i don&#39;t&nbsp;know much so i cant contribute to that discussion.</p>
<p>When you mention API key download i get another idea too..</p>
<p>I&#39;m&nbsp;thinking that it might be a good idea to have a preferences/settings page in the emoncms, that creates a config file for the emonhub.</p>
<p>This way no one would ever have to go into the unix grotto to configure the unit. All the settings could be stored in the emoncms and downloaded automatically to the base. This could make a really nice interface to setup the pie. Stuff like launching the wunderground&nbsp;interfacer and all other kinds of scripts that is in the emonbase.</p>
<p>However, that&#39;s another thread for that discussion. And i dont even know if it&#39;s possible.</p>
<p>//J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10829"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-qRKIdhCwNpxetNseE_LVPN2pxzn5TnLDnYDs2FgH6sk" value="form-qRKIdhCwNpxetNseE_LVPN2pxzn5TnLDnYDs2FgH6sk"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
