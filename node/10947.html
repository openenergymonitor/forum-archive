<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10947 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:57:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>where to modify code if you want to add a relay control  | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">where to modify code if you want to add a relay control </h3>
        <span class="submitted">Submitted by <a href="../user/8314.html" title="View user profile.">nigel91</a> on Sun, 05/07/2015 - 20:31</span>
        <div class="content"><p>Im really new to emontx and arduino programming . I was wondering if i can modify the code and allow a relay control or compare current measurements .I dont know if its possible . I am planning to link this data to MakerPlot . please help&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10957.html" class="topic-previous" title="Go to previous forum topic">‹ Is the solar app  broken ATM</a>
              <a href="10948.html" class="topic-next" title="Go to next forum topic">How do I delete rf_fail ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-31953"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: where to modify code if you want to add a relay control </h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Sun, 05/07/2015 - 21:12.</div>
    <div class="content">
     <p>1. The emonTx can measure currents using several CTs, and it should be easy to compare the resulting values.&nbsp;</p>
<p>2. By setting an IO pin to be either high or low, it should be easy to control a relay.&nbsp;</p>
<p>Does this answer your questions?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31966"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8314.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="nigel91&#039;s picture" title="nigel91&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: where to modify code if you want to add a relay control </h3>

    <div class="submitted">Submitted by <a href="../user/8314.html" title="View user profile.">nigel91</a> on Mon, 06/07/2015 - 04:04.</div>
    <div class="content">
     <p>Can I modify the code in any of the scripts. Or just in the main script written voltage and current.. And is there any code  modifications needed for me to use arduino mega 2560 . </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31974"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: where to modify code if you want to add a relay control </h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 06/07/2015 - 10:44.</div>
    <div class="content">
     <p>You can modify whatever you like. Everything published here is subject to the <a href="../opensustech.html">Open Source philosophy</a>.<br />
You will want to modify it in the most appropriate place. Where that is, is for you to judge. Only you know what you wish to achieve.</p>
<p>You may have to change some things to work with an Arduino Mega. I don't know how that differs from our emonTx. I'm sure that when you understand what the sketch is doing, you will see what you need to change. It will probably be limited to some I/O designations.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32003"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8314.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="nigel91&#039;s picture" title="nigel91&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: where to modify code if you want to add a relay control </h3>

    <div class="submitted">Submitted by <a href="../user/8314.html" title="View user profile.">nigel91</a> on Tue, 07/07/2015 - 10:54.</div>
    <div class="content">
     <p>Thank you soo much. I read some more and have gotten some results. Have started running it on my mega. Seems to be somewhat correct. But I am having problems with the power factor and when I take 4 readings all the power readings become mixed. I'm getting a power factor of 1.35 sometimes.. Do you know what might be my problems </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32005"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: where to modify code if you want to add a relay control </h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 07/07/2015 - 11:35.</div>
    <div class="content">
     <p>I have absolutely no idea what you are doing, and neither has anyone else, so how can I or anybody know what your problem might be? One thing is certain, something that you have done is wrong. Part of the learning process is finding out what that is and correcting it. What you need to do is take one of our published sketches from Github. We know those work on the emonTx, make the absolute minimum changes needed to make it run on your Mega and give credible results; then pause. You now have a basic working sketch. Carefully analyse exactly what it is doing and work out why each line of the sketch is there and what it does. There is a lot of good information in Building Blocks that will help you there. Only when you are confident that you know exactly how it works should you go on to introduce features of your own.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10947"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-i6o9yMh4gviW3i2DMWIwLPz7A1w2-nGWHJBSB_2jTlA" value="form-i6o9yMh4gviW3i2DMWIwLPz7A1w2-nGWHJBSB_2jTlA"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/10947 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:57:02 GMT -->
</html>
