<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11502 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:45:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Using Surplus PV output for battery charging | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Using Surplus PV output for battery charging</h3>
        <span class="submitted">Submitted by <a href="../user/8193.html" title="View user profile.">Book_woorm</a> on Fri, 30/10/2015 - 14:08</span>
        <div class="content"><p>For some time I&#39;ve been looking into diverting the surplus (that I sell to the grid) from my PV to a battery backup system. Now I know that there are commercial systems out there but they are expensive and generally use Lead acid batteries which have a limited DOD and number of cycles. Also you cannot have a battery system and an immersion heater dump at the same time as both would require their own CT on the incoming main and there is no way to get the two systems&nbsp;to talk to each other to set priorities. The commercial Hybrid Inverters&nbsp;are all about maximumising self consumption and some have&nbsp;UPS functionality but I haven&#39;t seen one yet that allows you to reserve some of the battery capacity purely against mains failure.</p>
<p>Robin Emley&#39; Mk2 router being &#39;open source&#39; is extensible so multiple outputs are possible. A little extra code and some other inputs in its ATMEGA heart would sort the priority problem,&nbsp; but you then need a charging circuit that can handle a &#39;reduced&#39; input supply (say when there is only 600watts spare from the PV and the nominal input to the charger is 1KW).&nbsp;Robins output circuit is a simple TRIAC and I presume that his quest for CE marking will take the optical isolation route and MOFET&#39;s. That being so, it should be possible to change the output switching to high speed PWM. This would also avoid the need for an &#39;anti flicker&#39; mode.</p>
<p>In terms of batteries&nbsp;LiFePO4 seams to be the way to go especially as it can be kept at a partial charge. Now most efficient voltage reducers/charging circuits&nbsp;use the so called PWM Buck/Boost circuits, so as to not waste energy as heat.&nbsp;I am wondering therefore if it is possible to build a charger that uses PWM but where the width of the pulses is controlled by both the need to divert current away from being sold to the grid and the charging requirements of the battery. Anything that is left over can go to an immersion heater.</p>
<p>From the self consumption point of view if you have inputs to the CPU that are monitoring the battery and you are already monitoring the direction and quantity of flow of power in your supply, it should be possible to provide control signals to the battery powered inverter to produce just enough output to prevent import when the battery is charged until you get&nbsp;to a predetermined, priority set, mid point&nbsp;DOD. As well as telling the inverter that mains has failed so it has to handle the whole load until the maximum DOD is reached.</p>
<p>Has anybody any thoughts on this approach or suggestion for existing kit that could be building blocks in such a system?</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1768.html" class="topic-previous" title="Go to previous forum topic">‹ 120/240V split phase monitoring</a>
              <a href="11456.html" class="topic-next" title="Go to next forum topic"> WARNING  emoncmsorg emoncmsorg couldn&#039;t send to server, HTTPError: 401 ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-35518"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/937.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bramco&#039;s picture" title="Bramco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Surplus PV output for battery charging</h3>

    <div class="submitted">Submitted by <a href="../user/937.html" title="View user profile.">Bramco</a> on Fri, 30/10/2015 - 16:05.</div>
    <div class="content">
     <p>I think most systems have the batteries on the DC side, so they would charge until full and then the PV would be converted as normal to AC and if you have a diverter, then any excess over house consumption would be diverted. Which would seem to be the best way to do things. A full charge would last all night if&nbsp;the&nbsp;batteries&nbsp;are&nbsp;large enough.</p>
<p>I&#39;m not sure what the advantages would be of what I understand you are proposing which is to have a partially charged set of batteries and some PV diverted.</p>
<p>I&#39;m sure you&#39;ve googled&nbsp;the commercial offerings on the market which vary from a sort of UPS functionality to full systems. Have you also seen the Tesla system which apparently should be available next year?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35524"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8780.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8780.jpg" alt="PhilWadsley&#039;s picture" title="PhilWadsley&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Using Surplus PV output for battery charging</h3>

    <div class="submitted">Submitted by <a href="../user/8780.html" title="View user profile.">PhilWadsley</a> on Fri, 30/10/2015 - 18:07.</div>
    <div class="content">
     <p>We have had a Solaredge PV system installed since mid-2012. Have just received their StorEdge sales on Optimising&nbsp;Self-Consumption with a 7kW Tesla Powerwall&nbsp;battery Pack and control through their StorEdge&nbsp;Interface, which can&#39;t be cheap...!... There is an interesting article from the Guardian which shows the economic issues of this...</p>
<p>However, their interface may be of interest for more info on how it deals with the time-shifting of the PV-derived energy to non-PV periods.</p>
<p>How it works during shorter-day-lengths/poor weather comes back to the point of concern above, ie how to deal with partially charged batteries...I do not think there is a complete answer, unless we can be plugged into your friendly wind-farm, hydro scheme...Maybe shifting supplier of &quot;Clean&quot;&nbsp;energy&nbsp;is part of the equation, as suggested elsewhere.</p>
<p>We have a Thermodynamic MagicBox (Air-Gas-Hot Water), and a big tank(!),&nbsp;installed over a year ago, which uses 600W&nbsp;of electricity, for a couple of hours, to heat. We use a timer, at present, to put the operation into PV generation period, to improve efficiency (but variable, of course). We also have a SolarImmersion&nbsp;(PWM) diverter, which has a separate switched outlet for further diversion once the Immersion Heater Thermometer cuts in.</p>
<p>The Immersun&nbsp;(spelling?) diverter looks more advanced with possibility of linking two via wifi, giving possibility of one for an immersion heater and a second to feed a UPS, say...</p>
<p>We&#39;ve just got the emonpi to carry out accurate monitoring...Must get the Gas pulse-monitoring sorted, next...</p>
<p>I am&nbsp;thinking of&nbsp;possibilities&nbsp;to split the load, to deal with time-shifting.</p>
<p>1. We have changed all our light bulbs for Low-Energy ones, so use of a (fairly small)&nbsp;UPS and switch control is practical and relatively cheap...</p>
<p>2. Build a second smaller (1-2kW)&nbsp;PV system, with 200Ah &nbsp;Batteries&nbsp;( but without FIT benefit!) to deal with lights and overnight (Fridge/Freezer/etc.) load&nbsp;and help with the day-time running, by time-shifting...Amore costly solution</p>
<p>3. Upgrade the Solaredge with StorEdge...Requires Lottery Win...Hell freezing over&nbsp;looks like being delayed by Global Warming, tho!...</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11502"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-chw1x65Q6b3aFmqc8MwD4l1jG4mLyuVTA0TO9tzmMqg" value="form-chw1x65Q6b3aFmqc8MwD4l1jG4mLyuVTA0TO9tzmMqg"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
