<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/6315 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:24:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Issue with installing new version | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Issue with installing new version</h3>
        <span class="submitted">Submitted by <a href="../user/3679.html" title="View user profile.">bbroge</a> on Thu, 18/12/2014 - 22:38</span>
        <div class="content"><p>Hi, I have been using emoncms for a couple years now without much issue. I have been using github and ubuntu. Now I am trying to install the new version 8 and having lots of issues. I have a new server and am basically starting from scratch. I was able to create a mysql database and an admin user and login to emoncms.</p>
<p>(**FYI, I am using a brultech greeneye monitor and btmon.py, it was working fine with my old hosted web server and still works with emoncms.org server but not my new server)</p>
<p>1st issue is that when I first starting sending data to emoncms I somehow ended up with thousands of inputs (yes thousands, they appear to be hundreds of duplicates). How do I clear these out without individually clicking the trash bin on each one? Where is the timeseries data stored? I have tried dropping the emoncms database and deleting my emoncms folder. All other folders I have created using the emoncms install instructions appear to be empty.</p>
<p>2nd issue and I am not sure if it is related but when I go to the feeds section I get the following error. I dont have any of these two issues when using emoncms.org website but I want to host my own dashboard on my own webserver.</p>
<p>Parse error: syntax error, unexpected &#39;if&#39; (T_IF) in /var/www/root/emoncms/Modules/feed/feed_controller.php on line 54</p>
<p>Thanks.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10027.html" class="topic-previous" title="Go to previous forum topic">‹ Emonglcd keeps saying basefail</a>
              <a href="10030.html" class="topic-next" title="Go to next forum topic">GLCD test sketch error ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-25985"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 19/12/2014 - 02:33.</div>
    <div class="content">
     <p>While I can&#39;t offer any explanation for the 1st issue, I have to put my hand up to the 2nd. There was an issue in a pull request that got merged, a correction has been submitted and will hopefully be merged asap.</p>
<p>​The details are <a href="https://github.com/pb66/emoncms/commit/e97602dca0f614796ef119425df7512f311455fb">here</a> if you want to&nbsp;manually edit the file in the meantime.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25986"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Fri, 19/12/2014 - 04:40.</div>
    <div class="content">
     <p>Paul,</p>
<p>Thanks for the parse error fix, worked like a champ!</p>
<p>Bill</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25996"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3679.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bbroge&#039;s picture" title="bbroge&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3679.html" title="View user profile.">bbroge</a> on Fri, 19/12/2014 - 16:12.</div>
    <div class="content">
     <p>Hi Thanks for fixing the 2nd issue. Surely somebody on here has to know where the inputs are stored. I don&#39;t think they are in mysql anymore because I looked in phpmyadmin. Is there a file on ubuntu somewhere I need to delete to clear out all the inputs in emoncms?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26010"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 20/12/2014 - 12:02.</div>
    <div class="content">
     <p>Try looking at this page, near the bottom: <a href="https://github.com/emoncms/emoncms/blob/master/docs/Backup.md" title="https://github.com/emoncms/emoncms/blob/master/docs/Backup.md">https://github.com/emoncms/emoncms/blob/master/docs/Backup.md</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26045"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3679.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bbroge&#039;s picture" title="bbroge&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3679.html" title="View user profile.">bbroge</a> on Mon, 22/12/2014 - 03:26.</div>
    <div class="content">
     <p>All of those folders are empty. I have even cleared my browser cache. Where else could the inputs be stored?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26063"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3679.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bbroge&#039;s picture" title="bbroge&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3679.html" title="View user profile.">bbroge</a> on Mon, 22/12/2014 - 17:20.</div>
    <div class="content">
     <p>Why are my posts needing to be approved before they show up? I&#39;ve been a member for over a year?</p>
<p>&nbsp;</p>
<p>I am going to be as simple as possible for my issue. How can I delete all the garbage inputs without clicking the trash bin on each one?</p>
<p>Go to this link to see what i am talking about, user is bbroge, pass is winter.</p>
<p><a href="http://24.181.167.25/emoncms/" title="http://24.181.167.25/emoncms/">http://24.181.167.25/emoncms/</a></p>
<p>I&#39;ve never had such a ridiculous issue with this software. I&#39;ve dropped the mysql database, removed and reinstalled the emoncms web folder, and deleted the following folders which are empty anyway.</p>
<p>/var/lib/phpfiwa</p>
<p>/var/lib/phpfina</p>
<p>/var/lib/phptimeseries<br />
&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26068"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 22/12/2014 - 19:33.</div>
    <div class="content">
     <p>First problem is solved - I've changed your status. I don't know what the algorithm is for determining whether posts are held for moderation or not (but some of the spammers seem to know!), so I can't help you there.</p>
<p>Do you have directories with those names elsewhere - the data has to be stored somewhere. I'm no expert on emoncms so sorry, but I can't be of much help.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26069"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3679.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bbroge&#039;s picture" title="bbroge&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3679.html" title="View user profile.">bbroge</a> on Mon, 22/12/2014 - 19:47.</div>
    <div class="content">
     <p>Thanks for fixing that. Bill noticed that when he logs in he can delete the inputs individually but then they pop right back up. I have reinstalled emoncms several times since this issue and everytime the api key changes and I don&#39;t have my brultech pushing data to this anymore, so I&#39;m out of ideas. I have two nodes on my server now. Is there a way to delete everything for a specific node, &quot;Node NoGroup&quot;</p>
<p>&nbsp;</p>
<p>I think there is a file or database I&#39;m not deleting where this input data is stored when I have been reinstalling. I&#39;ve used the instructions for re-installing the github version of emoncms.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26070"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 22/12/2014 - 20:32.</div>
    <div class="content">
     <p><span class="rangySelectionBoundary" id="selectionBoundary_1419279046140_4921440165489912" style="display:none; line-height:0">﻿</span>If you have redis installed it&#39;s quite common for some old&nbsp;(thought to be rid of)&nbsp;data to pop back up unless you run</p>
<blockquote><p>sudo redis-cli FLUSHALL</p>
</blockquote>
<p>​I believe the inputs details (but not the data)&nbsp;are still kept&nbsp;in the sql tables.</p>
<p>To get more info on deleting the inputs you could<a href="https://github.com/emoncms/emoncms/blob/master/Modules/input/input_model.php#L464-L477">&nbsp;take a look at the code to see&nbsp;what actually happens when click the trash can</a>, while you are there have a look at the <a href="https://github.com/emoncms/emoncms/blob/master/Modules/input/input_model.php#L479-L498">function directly below it&nbsp;</a>&nbsp;I cannot vouch for it as I&#39;ve never used it but it looks like a &quot;redundant input&quot; removal tool, <a href="https://github.com/emoncms/emoncms/blob/master/Modules/input/input_controller.php#L299">triggered using &quot;clean&quot; in an&nbsp;api url&nbsp;</a>.</p>
<p>I assume something like&nbsp;http://localhost/emoncms/input/clean.json&nbsp;will trigger the action (USE&nbsp;AT YOUR OWN DISCRETION -&nbsp;no warranty expressed or implied)</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26072"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3679.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="bbroge&#039;s picture" title="bbroge&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3679.html" title="View user profile.">bbroge</a> on Mon, 22/12/2014 - 20:48.</div>
    <div class="content">
     <p>Thanks for the tips, I&#39;ll give it a try. On another note I think I know why this happened:</p>
<p>I think 8.4.0 may have a bug... If I enter in the below two lines in my browser it doesn&#39;t update the existing. It will create two completely new entries or inputs. This isn&#39;t supposed to happen right? It is supposed to update the existing and that is why I got so many duplicates in the beginning.</p>
<p>http://emoncms.org/input/post.json?json={power:200}<br />
http://emoncms.org/input/post.json?json={power:201}</p>
<p>I will work on downgrading my server version to verify this works but on my emoncms.org account it works as it is supposed to and doesn&#39;t create thousands of duplicates.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26118"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2887.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stema&#039;s picture" title="stema&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/2887.html" title="View user profile.">stema</a> on Thu, 25/12/2014 - 12:30.</div>
    <div class="content">
     <p>I can confirm, I got the same problem after I upgrade to 8.4.0 /Stema</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26204"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2887.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stema&#039;s picture" title="stema&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/2887.html" title="View user profile.">stema</a> on Sun, 28/12/2014 - 18:12.</div>
    <div class="content">
     <p>I found my problem, my fault! I forgot to specify which node (node0) to be updated! It worked in previous versions, not anymore .. /Stema</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26322"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Thu, 01/01/2015 - 18:55.</div>
    <div class="content">
     <p>Hi - can you shed any more light on this please - I am also facing the same problem following an upgrade from 8.1.1, in that I cannot update emoncms 8.4.0 by specifying the key name - instead, for each submission, the command is creating a new entry in the NoGroup node.</p>
<p>Here is the command I am using (and which was working fine with 8.1.1):</p>
<p>http://192.168.0.30/emoncms/input/post.json?json={boiler:1}&amp;apikey=xxxxxxxxxxxx</p>
<p>I have also tried:</p>
<p>http://192.168.0.30/emoncms/input/post.json?node=0&amp;json={boiler:1}&amp;apikey=xxxxxxxxxxxx</p>
<p>but this does not make any difference.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26335"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Fri, 02/01/2015 - 04:10.</div>
    <div class="content">
     <p>The problem appears to be that in the current version, a node id is required (whereas this was not required in the previous version, and is not specified in the current API help page) and a node id of 0 is not accepted.</p>
<p>If I try:</p>
<p>http://192.168.0.30/emoncms/input/post.json?node=1&amp;json={boiler:1}&amp;apikey=xxxxxxxxxxxx</p>
<p>then this works as expected.</p>
<p>Is there a fix that I can apply that will revert to the previous behaviour please? (I don&#39;t want to create a new node because I will then lose my historical data - and because I am currently posting to both my local emoncms and the emoncms.org site).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26470"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 05/01/2015 - 14:42.</div>
    <div class="content">
     <p>Hi&nbsp;Engeeaitch, Your data is stored in the feeds not the inputs, so it should be relatively easy to switch to using a node id. I&#39;m happy&nbsp;to help&nbsp;If you want to switch and need some assistance.</p>
<p>I think this&nbsp;&quot;change&quot; may of occurred when some changes were made to accommodate mqtt topics, but I can&#39;t be sure. likewise I&#39;m unsure if this is an unexpected result that can/will be fixed or it the change is essential to future development.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26835"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Sun, 18/01/2015 - 08:23.</div>
    <div class="content">
     <p>Hi pb66,</p>
<p>Thanks for your offer.</p>
<p>There are two issues with the new version: a node id is now required (or else every input results in a new entry under a NoNode heading); and secondly, the node id must be greater than 0.</p>
<p>On my local copy, I have now included a node in my input postings, and I have managed to change the the node to 1 (instead of zero).</p>
<p>I am concerned about emoncms.org, which is currently running on 8.3.5&nbsp; If this is updated to 8.4.0, then unless I make changes at my end, all my postings will be converted to new entries with NoNode.&nbsp; I have no way of changing my existing node on emoncms.org from 0 and so my only option as I see it, is to set up a new node 1 and start using that, which will mean that I will lose all my existing data. (My postings are following the current API specification e.g. http://emoncms.org/input/post.json?json={power:200})</p>
<p>I would like to request please that posting to node zero remains an option (either explicitly, or as the default if no node is specified).&nbsp; If this is really not possible, then could someone change my current node id from 0 to 1 please.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26845"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 18/01/2015 - 16:19.</div>
    <div class="content">
     <p>You are right in thinking this could be problematic for emoncms.org if upgraded to 8.4,&nbsp;I hope Trystan&nbsp;see&#39;s this or is aware of the issue.</p>
<p>I would recommend&nbsp;protecting yourself by switching to a node &gt; 0, this not only gives greater security due to &quot;&amp;node=<em>n&quot; </em>being required in the url but also avoids any potential (existing or) future issues arising from not only unspecified&nbsp;node ids but also zero node ids, neither of these have a &quot;value&quot; and both equate to &quot;false&quot; in programming terms whist every other value is &quot;True&quot; so 1 and up are all more robust&nbsp;node ids.&nbsp;</p>
<p>This is (relatively) easy to do as the feeds (where your data is held) are only connected to the inputs by the processing lists.</p>
<p>If you create a second input by either using the input api or changing the node id at source. you can then copy the input processing from node0&nbsp;input1 to node1 input1 and so on for each input.</p>
<p>You will not have to create any new feeds, as you add the processes to the processlist&nbsp;you can select the same existing feeds you are currently posting to, totally replicating node0 as node1. it will be quick(ish) to do as there are no new feeds to create.&nbsp;</p>
<p>Once the new &quot;node1&quot; is created you can stop posting to node0 and post to node1, when you are happy all is well you can delete all&nbsp;node0&#39;s inputs&nbsp;with no effect to your data or node1.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26846"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 18/01/2015 - 16:33.</div>
    <div class="content">
     <p>I&#39;ve PM&#39;d&nbsp;Trystan a &quot;heads up&quot; just in case.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26870"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3052.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="engeeaitch&#039;s picture" title="engeeaitch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/3052.html" title="View user profile.">engeeaitch</a> on Mon, 19/01/2015 - 21:38.</div>
    <div class="content">
     <p>Thanks Paul - I had not realised that I could create a new input and send it to the same feed as the old input.&nbsp; So I am now posting to Node 1, and that is logging to the original feed.&nbsp; All OK for the moment.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26875"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="michal@krnak.cz&#039;s picture" title="michal@krnak.cz&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by michal@krnak.cz (not verified) on Mon, 19/01/2015 - 23:59.</div>
    <div class="content">
     <p>Its strange, after upgrade to 8.4.0 I faced the same issue. Every new input log created new input. (I had app. 3000+&nbsp;new inputs in few hours after upgrade :-((..)</p>
<p>After troubleshooting and finding that node is mandatory now,&nbsp;I had to&nbsp;rewrite all python&nbsp;codes and then I was&nbsp;able log my inputs values again.</p>
<p>BUT, I was able to create <strong>node 0 </strong>and I am using it and it works - its strange against&nbsp;to described new validation, isn`t ?</p>
<p>AND I have&nbsp;found another issue: Newly any&nbsp;name of sensor can not contain some special characters.</p>
<p>My old inputs were named as &quot;e-mon_kw&quot; and this does not work now. So I had to rename my inputs as &quot;emonkw&quot;.&nbsp;</p>
<p>I am writing this because&nbsp;I think&nbsp;&nbsp;it could help somebody.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26902"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Issue with installing new version</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Tue, 20/01/2015 - 21:17.</div>
    <div class="content">
     <p>By far the most common source of data to emoncms is via the rfm network, the restrictions around node id numbers imposed by the rfm protocols used ie JeeLib, makes nodeids&nbsp;1 to 30 the most common as&nbsp;<span style="line-height: 20.7999992370605px;">node 31 is &quot;</span><span style="line-height: 20.7999992370605px;">promiscuous&quot;</span><span style="line-height: 20.7999992370605px;">&nbsp;mode and the use of&nbsp;</span><span style="line-height: 1.6;">node 0 when using JeeLib denotes &quot;self&quot; and gets&nbsp;</span><span style="line-height: 20.7999992370605px;">replaced</span><span style="line-height: 20.7999992370605px;"> with the&nbsp;</span><span style="line-height: 20.7999992370605px;">&quot;host&quot; devices node or base </span><span style="line-height: 20.7999992370605px;">id reserving the &quot;network&nbsp;use&quot; of node 0 </span><span style="line-height: 1.6;">for use with </span><span style="line-height: 1.6;">OOK,&nbsp;</span></p>
<p>Assuming data is from a specific device because it isn&#39;t asked where it&#39;s from therefore it can&#39;t&nbsp;tell you it&#39;s from somewhere else isn&#39;t sound logic and w<span style="line-height: 20.7999992370605px;">hile setting 0 as a node id is marginally better than no node id, which&nbsp;should indeed be&nbsp;</span><span style="line-height: 20.7999992370605px;">possible&nbsp;to do as int 0 is &lt;&nbsp;32 (the only restriction imposed by emoncms) it still isn&#39;t worth the potential confusion a zero node id <u>could</u>&nbsp;cause unless you have used every other available node id.</span></p>
<p><span style="line-height: 20.7999992370605px;">I&#39;m not suggesting the unexpected&nbsp;change is welcome, but of all the node IDs, if there was to be an unexpected change that effected just one node id&nbsp;it would probably be 0 and since node 0 is &quot;reserved&quot; in the JeeLib it also the node ID that could attract future development (eg OOK) down the line,&nbsp;</span></p>
<p>Interesting find about the input names, I was already aware of <a href="3885.html">an issue with using special characters in feed names</a> so have avoided using them for a while now.</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/6315"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-L2NUlujSPUn2qrQWlDwOaqbqY-5zIOASjGgi7oka75o" value="form-L2NUlujSPUn2qrQWlDwOaqbqY-5zIOASjGgi7oka75o"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/6315 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:24:44 GMT -->
</html>
