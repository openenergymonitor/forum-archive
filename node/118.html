<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>ASK RF Link  | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/emon/sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="/emon/modules/node/node.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/defaults.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/system.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/system-menus.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/user/user.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/modules/mollom/mollom.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/forum/forum.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/modules/views/css/views.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/comment/comment.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/themes/emon3/style.css?r" />
<style type="text/css" media="all">@import "/emon/sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="/emon/" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="/emon/">Home</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
          <span class="submitted"></span>
      <div class="taxonomy"></div>
      <div class="content"><h1>ASK&nbsp;RF Link&nbsp;</h1>
<p><em>Created 12/1/11 by Glyn Hudson&nbsp;</em></p>
<p><img alt="" height="200" src="https://openenergymonitor.org/emon/sites/default/files/KLP-315A-0.jpg" width="200" /></p>
<p>Xbees are great, but they are expensive. If all you require is a one-way link between two Arduinos, low cost RF transmission is the way to go.&nbsp;</p>
<p>&nbsp;</p>
<h2>Hardware</h2>
<p>There are several types of RF transmitters and receivers</p>
<p>I have been using &nbsp;the <a href="https://openenergymonitor.org/emon/sites/default/files/MO-SAWR.pdf">MO-SAWR-A</a> transmitter module and the<a href="https://openenergymonitor.org/emon/sites/default/files/MO-RX3400.pdf"> MO-RX3400-A</a> receiver module. These are available in 434Mhz and 315Mhz from <a href="https://www.coolcomponents.co.uk/catalog/index.php?cPath=25&amp;osCsid=fd1f58e6d6f5212d4c63f88480995712">coolcomponents</a>&nbsp;at a very reasonable &pound;8.80 for a pair (12/1/11). They are also available from <a href="http://www.sparkfun.com/categories/79">Sparkfun</a>.</p>
<p>The modules use ASK (amplitude shift keying), they have a maximum bit rate of 4800 bps and a very impressive range of about 150 metres in open air.&nbsp;</p>
<p>The modules are wired as follows:&nbsp;</p>
<h2>&nbsp;<img alt="" src="https://openenergymonitor.org/emon/sites/default/files/RF module connections_0.png" /></h2>
<p>The antenna should be 30cm long. Don&#39;t be tempted to coil the antenna, as it reduces performance.</p>
<p>&nbsp;</p>
<h2>Software&nbsp;</h2>
<p>The VirtualWire Arduino library is used to package data to be transmitted into a data frame. A sync preamble is prepended, and a checksum appended, to the data. The library was written by Mike McCauley.&nbsp;</p>
<p><a href="http://www.open.com.au/mikem/arduino/">http://www.pjrc.com/teensy/td_libs_VirtualWire.html</a></p>
<p><a href="http://www.open.com.au/mikem/arduino/VirtualWire.pdf">Documentation for VirtualWire&nbsp;library</a></p>
<p>The library contains a simple string transmitting example.</p>
<p>&nbsp;</p>
<p>Additional example code:</p>
<p><a href="https://openenergymonitor.org/emon/sites/default/files/RF Range Tester.zip">Range Tester</a> - by&nbsp;Suneil Tagore</p>
<p>The range test transmitter code transmits the integers 1-9 in order repeatedly. The receiver code checks to see if the integers were received in order. If a transmission is dropped it is flagged. The number of dropped transmissions can be counted over a period of time to determine the transmission reliability rate.&nbsp;</p>
<p><a href="https://openenergymonitor.org/emon/sites/default/files/RF Multiple value transmission.zip">Multiple value transmission (four values)</a> &nbsp;- by Trystan Lea&nbsp;</p>
<p>It is often useful to transmit multiple values such as power, temperature etc. I have used this code to make a <a href="https://openenergymonitor.org/emon/node/119">wireless home energy monitor display</a>. The code works by adding a letter such as &#39;A&#39;, &#39;B&#39;, &#39;C&#39; or &#39;D&#39; before each value. The transmission can then be separated into the individual values at the receiver. &nbsp;</p>
<p>&nbsp;</p>
<h2>&nbsp;Future development&nbsp;</h2>
<p>A more advanced library is being developed by Miles Burton <a href="http://milesburton.com/index.php/HyperCom_Packet_Library">here</a></p>
</div>
    
    
      </div>
<div id="comments">
  <a id="comment-1675"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/default_0.png" alt="Guest&#039;s picture" title="Guest&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: ASK RF Link </h3>

    <div class="submitted">Submitted by Guest (not verified) on Thu, 28/04/2011 - 15:19.</div>
    <div class="content">
     <p>FYI, I've found that the 4800bps receivers require a buffer to work properly, ie: directly connecting the data line to an Arduino or an AVR IC will not work. The modules can't source enough current to pull the data line low, so all you get is a solid 5v out of the data line once wired to your micro. Using a buffer or two logic inverters in series will resolve this however (two gates in series from a 4049 hex inverter works great for this). The 2400bps receivers don't seem to have this problem, they can directly drive an Arduino or AVR input. This applies to both the 315MHz and 434MHz versions, I hope this helps anyone having problems. </p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1678"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/10" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: ASK RF Link </h3>

    <div class="submitted">Submitted by <a href="/emon/user/10" title="View user profile.">glyn.hudson</a> on Fri, 29/04/2011 - 23:54.</div>
    <div class="content">
     <p>Good work! Thanks for the information. I'm sure it will save someone many hours. Cheers, Glyn.&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
</div><a id="comment-1577"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/default_0.png" alt="Dave Heneghan&#039;s picture" title="Dave Heneghan&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: ASK RF Link </h3>

    <div class="submitted">Submitted by <a href="http://www.heneghan.com" rel="nofollow">Dave Heneghan</a> (not verified) on Fri, 04/03/2011 - 14:39.</div>
    <div class="content">
     <p>Trystan,<br />
Great work as usual!<br />
I have had my 'Open Energy Monitor' running for some time now, and have an i2c lcd [16 x 2] attached locally for displaying values (I also have an i2c Real Time Clock attached so that I can display cumulative values).  In addition I have the Ethernet Shield (old one) on pins 10, 11, 12, 13 sending real time values (Power, Voltage &amp; Temperature) to webservices which then log the realtime values and cummulative data for historical analysis.  I would like to exand my set up to use these and have a remote display, but am getting confused looking at the specs - would I have any issues with pin assignments?  Obviously all my Analogue pins are in use and so are 10, 11, 12, 13 digital pins.</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1578"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/10" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: ASK RF Link </h3>

    <div class="submitted">Submitted by <a href="/emon/user/10" title="View user profile.">glyn.hudson</a> on Fri, 04/03/2011 - 17:10.</div>
    <div class="content">
     <p>&nbsp;Hi David,</p>
<p>Nice work, sounds like you have a tidy setup going on.&nbsp;</p>
<p>These RF trasnsmitters and receivers only require one digital pin. This is set by the line&nbsp;vw_set_tx_pin(6); in the void setup() section of the code. So you could easily add an RF transmitter to your setup.</p>
<p>As for the receiver you would need another arduino. I used the Nokia 3310 shield from Nuelectronics to display the data (see&nbsp;<a href="http://openenergymonitor.org/emon/node/119">http://openenergymonitor.org/emon/node/119</a>). You wont be able to use this shield stright on to your current setup. The pins conflict with the Ethernet shield. See this great website for checking Arduino shield pin assignments:&nbsp;<a href="http://shieldlist.org/nuelectronics/nokia-lcd">http://shieldlist.org/nuelectronics/nokia-lcd</a></p>
<p>Good luck, let me know how you get on.</p>
<p>All the best, Glyn.&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1584"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/default_0.png" alt="Guest&#039;s picture" title="Guest&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: ASK RF Link </h3>

    <div class="submitted">Submitted by <a href="http://www.heneghan.com" rel="nofollow">Guest</a> (not verified) on Wed, 09/03/2011 - 16:28.</div>
    <div class="content">
     <p>Many thanks for the quick reply Glyn,</p>
<p>Just have to order one now and get some spare time to play!!</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
</div></div></div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org">https://community.openenergymonitor.org</a></p>
   
</div>

<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
