<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11126 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:58:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Visualizing pulse data at less than 24 hour intervals? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Visualizing pulse data at less than 24 hour intervals?</h3>
        <span class="submitted">Submitted by <a href="../user/8490.html" title="View user profile.">meso</a> on Sat, 15/08/2015 - 20:21</span>
        <div class="content"><p>My system has an electric meter pulse detector, and several CT&#39;s. I&#39;d like to be able to see the meter&#39;s opinion of real-time* power consumption that I can correlate the utility&#39;s power measurement with what I see on the CT&#39;s.</p>
<p>Can I do this with the emoncms UI?</p>
<p>It appears that I get one pulse per Wh, so something like the number of pulses in the last minute, scaled, would be the sort of value I&#39;d like to graph.</p>
<p>&nbsp;</p>
<p>*&quot;real time&quot; meaning with 1 minute or so resolution. Since I&#39;m getting the power from the meter in terms of pulses per kWh, there is no way for instantaneous readings. But a graph of pulses/minute or pulses/5 minutes, properly scaled, would do the trick.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11304.html" class="topic-previous" title="Go to previous forum topic">‹ Error after upgrading from PHP 5.3 to PHP 5.5 (also Apache 2.2 to 2.4)</a>
              <a href="11218.html" class="topic-next" title="Go to next forum topic">EmonPi losing connection to EmonTX and EmonTH ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-34395"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8541.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Toberwine&#039;s picture" title="Toberwine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Visualizing pulse data at less than 24 hour intervals?</h3>

    <div class="submitted">Submitted by <a href="../user/8541.html" title="View user profile.">Toberwine</a> on Wed, 23/09/2015 - 08:28.</div>
    <div class="content">
     <p>I am also trying to visualise pulse counter data iin this way. Because I have a 3 phase PV system it is unreliable to use CT sensors to monitor my PV output so counting pulses from my meter should be&nbsp;the right way. My meter also flashed at 1 pulse per Wh.</p>
<p>There is an input processor on <a href="http://www.emoncms.org/" title="www.emoncms.org">www.emoncms.org</a> called &quot;kWh to Power&quot; which sounds like it ought to do what I need, however I have been unable to configure it properly as it results in obviously erroneous values (eg it seems to &quot;count&quot; in units of 720000).</p>
<p>Have you had any luck with graphing power from your pulse counter?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34419"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8490.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="meso&#039;s picture" title="meso&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Visualizing pulse data at less than 24 hour intervals?</h3>

    <div class="submitted">Submitted by <a href="../user/8490.html" title="View user profile.">meso</a> on Wed, 23/09/2015 - 20:57.</div>
    <div class="content">
     <p>Hi,</p>
<p>&nbsp; No, I have had no luck. I have no idea if it is even possible.</p>
<p>&nbsp; My sensor data comes in as an increasing count - presumably it increases one count for each pulse. That would correspond to total Wh used, rather than d/dT (Wh) -&gt; W</p>
<p>What would be needed is something that can subtract a count from the count N samples before.</p>
<p>&nbsp;</p>
<p>Good luck!</p>
<p>&nbsp;</p>
<p>Tks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34458"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Visualizing pulse data at less than 24 hour intervals?</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Thu, 24/09/2015 - 19:30.</div>
    <div class="content">
     <p>Hi,</p>
<p><em>&quot;What would be needed is something that can subtract a count from the count N samples before.&quot;</em></p>
<p>According to me, you don&#39;t need anything much because the &quot;kWh to power&quot; processor converts accumulating kWh to instantaneous power.</p>
<p>Toberwine, I guess you&#39;re using emonpi. Looking at the emonpi sketch, it sends the accumulated number of pulses too. Before applying the kWh_to_Power processor, you must apply a 0.001 factor (using the x processor, in Calibration) as one pulse corresponds to one <strong>Wh</strong> and not to one <strong>kWh</strong>. Again in the sketch one can see that emonpi sends data every 5 seconds. That is why the power is a multiple of 1Wh/5s = 720 W</p>
<p>In order to monitor your PV production, you need a better resolution. And I guess you don&#39;t need an update every 5s. Just make emonpi send data every minute -&gt; the power will be&nbsp;multiple of 1Wh/60s = 60 W. It means modifying the emonpi sketch (TIME_BETWEEN_READINGS constant)</p>
<p>&nbsp;</p>
<p>Eric</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34459"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8541.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Toberwine&#039;s picture" title="Toberwine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Visualizing pulse data at less than 24 hour intervals?</h3>

    <div class="submitted">Submitted by <a href="../user/8541.html" title="View user profile.">Toberwine</a> on Thu, 24/09/2015 - 19:47.</div>
    <div class="content">
     <p>Eric,</p>
<p>I think you have cracked it! What you say makes good sense.&nbsp;</p>
<p>I will try what you suggest.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34465"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8490.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="meso&#039;s picture" title="meso&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Visualizing pulse data at less than 24 hour intervals?</h3>

    <div class="submitted">Submitted by <a href="../user/8490.html" title="View user profile.">meso</a> on Thu, 24/09/2015 - 23:46.</div>
    <div class="content">
     <p>Eric,</p>
<p>Thanks you for your comment. However, I see no kWh to Power processor, only the reverse. See image below.</p>
<p>I have tried using the raw pulse as a feed, but it is just an ever incrementing (mod 65536) value.</p>
<p>&nbsp;</p>
<p>Thanks</p>
<p>&nbsp;</p>
<p><img alt="" src="../../../i666.photobucket.com/albums/vv26/mesoness/emon_zpsefg57ogk.png" style="width: 1024px; height: 357px;" /></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34471"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Visualizing pulse data at less than 24 hour intervals?</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Fri, 25/09/2015 - 06:28.</div>
    <div class="content">
     <p>H,</p>
<p>This processor is not available on Emonpi. You have to modifiy your sketch to send pulses seen between two sents. Otherwise you can send your data to emoncms.org where this processor is available. See <a href="11157.html">here</a>.</p>
<p>If I understand you well, your first goal is to calibrate your CT using the reading from your meter that sends pulses. You can do that only if your CTs and your meter are measuring the same power (reel or apparent). If it is the case, you should compare energy elapsed (Wh) but you don&#39;t need power (W).</p>
<p>Eric</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34473"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8541.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Toberwine&#039;s picture" title="Toberwine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Visualizing pulse data at less than 24 hour intervals?</h3>

    <div class="submitted">Submitted by <a href="../user/8541.html" title="View user profile.">Toberwine</a> on Fri, 25/09/2015 - 06:36.</div>
    <div class="content">
     <p>I had had the same problem. Others here had pointed to the existence of a kWh to power processor but I couldn&#39;t find it. Eventually I realised it is only on the website <a href="http://www.emoncms.org/" title="www.emoncms.org">www.emoncms.org</a> and I had been looking on the Emonpi&nbsp;software itself via http:\\Emonpi. So I had to figure out how to modify the script (a first for me!) in order to upload my data.&nbsp;</p>
<p>That brings us to Eric&#39;s comment on this thread. In principle I should now be getting power data from my pulse sensor but the sun is only just rising as I type this&nbsp;so I will have to wait and see, with bated breath!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34501"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8490.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="meso&#039;s picture" title="meso&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Visualizing pulse data at less than 24 hour intervals?</h3>

    <div class="submitted">Submitted by <a href="../user/8490.html" title="View user profile.">meso</a> on Sat, 26/09/2015 - 02:38.</div>
    <div class="content">
     <p>Thanks for both comments.</p>
<p>This brings up a question: is the web software built into emonPi (or in my case, emonBase) not being updated - with the real effort aimed at the web site? I ask because it has a number of problems, and if it is more or less abandoned, then I should quite fussing with it and get my data up to the web site.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34550"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Visualizing pulse data at less than 24 hour intervals?</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Sun, 27/09/2015 - 20:45.</div>
    <div class="content">
     <p>Hi,</p>
<p><em>is the web software built into emonPi (or in my case, emonBase) not being updated - with the real effort aimed at the web site?</em></p>
<p>It&#39;s not the same software branch. Emonpi includes a light version of EmonCMS&nbsp; in order to preserve the SD card life. If you need a full version of EmonCMS, you have to send your data to EmonCMS.org or to your own EmonCMS server. It requires a safe and stable connection.</p>
<p>Eric</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11126"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-lqqKOLCJLu__0ULfL1_yo1ll4hk3pWnB7PSOu0Yk7YU" value="form-lqqKOLCJLu__0ULfL1_yo1ll4hk3pWnB7PSOu0Yk7YU"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/11126 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:58:42 GMT -->
</html>
