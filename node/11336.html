<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11336 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:14:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>How to get emonGLCD programmed? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">How to get emonGLCD programmed?</h3>
        <span class="submitted">Submitted by <a href="../user/8516.html" title="View user profile.">ChannelZ</a> on Tue, 06/10/2015 - 17:30</span>
        <div class="content"><p>Hi folks.</p>
<p>I have an emonTX and a emonTH running in the house connecting to the emonBase&nbsp;board on my RPi2. &nbsp;That&#39;s all working great.</p>
<p>I also bought an emonGLCD&nbsp;at the same time as all the other bits, but only just got around to building the GLCD&nbsp;last week. &nbsp;I have it all built, but when I got to the last part, I&#39;m stuck. &nbsp;&quot;Program using arduino&quot; is basically the last instruction.</p>
<p>No. Chuffing.&nbsp;Idea. :(</p>
<p>&nbsp;</p>
<p>So, I have the Arduino&nbsp;IDE running on my Win10 PC, and I have the SolarPV sketch imported and compiling. &nbsp;I have no idea, at all, how to get that flashed to the Atmel chip.</p>
<p>I have an AVR Dragon&nbsp;programmer which works (I&#39;ve flashed bitcoin miners with it in the past), but again, no idea how to use it to flash the program.</p>
<p>&nbsp;</p>
<p>So, could someone point me in the direction of detailed instructions on how to get this gadget working? &nbsp;I am a total novice with these things, I can build electronics, but programming little chips has me stumped.</p>
<p>Thanks.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11342.html" class="topic-previous" title="Go to previous forum topic">‹ Gas Pulse Module/Block</a>
              <a href="11338.html" class="topic-next" title="Go to next forum topic"> OpenWay CENTRON and other smart meters ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-34728"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: How to get emonGLCD programmed?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 06/10/2015 - 18:27.</div>
    <div class="content">
     <p>I can only tell you about the "shop" programmer, and the instructions for that are in "Setting up th Arduino IDE": <a href="https://learn.openenergymonitor.org/?redirect=setting-up-the-arduino-environment" title="http://openenergymonitor.org/emon/buildingblocks/setting-up-the-arduino-environment">http://openenergymonitor.org/emon/buildingblocks/setting-up-the-arduino-...</a>, and that takes the USB drivers and output and converts the FTDI interface on the GLCD board.</p>
<p>Are there no instructions included with your programmer on using it with the ATmel 328P? My guess is you need to program the 328P in your programmer (taking care not to overwrite the bootloader).</p>
<p>Unless somebody like dBC can help, I think the safe answer will be to get a programmer from the shop.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34731"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: How to get emonGLCD programmed?</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Tue, 06/10/2015 - 21:24.</div>
    <div class="content">
     <p>I have <u><a href="http://www.amazon.com/KEDSUM®-CP2102-Module-Download-Converter/dp/B009T2ZR6W">this</a></u> programmer (although I didn&#39;t buy it from Amazon) and it works without any problems. It was a drop-in replacement for the programmer I purchased from the Shop. i.e. it worked &quot;straight-out-of-the-box.&quot;</p>
<p>According to what I&#39;ve read, (Arduino forum) almost any generic CP2102 serial to USB programmer will work.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34733"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: How to get emonGLCD programmed?</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Tue, 06/10/2015 - 22:11.</div>
    <div class="content">
     <p>I&#39;ve not used a Dragon, but I suspect it&#39;s possible if you&#39;re really keen and don&#39;t mind a lot of fiddling.&nbsp;avrdude knows how to work with a Dragon which is the main requirement, but&nbsp; I don&#39;t think you&#39;ll be able to do it from the Arduino IDE (hence the fiddliness).&nbsp;You&#39;ll need to find the .hex file that the IDE outputs. &nbsp;On Linux this ends up in /tmp/buildxxxxx.tmp/sketchname.cpp.hex but I don&#39;t know where the Windows Arduino IDE puts it.</p>
<p>Then you&#39;ll need to connect the 6-pin ICSP header on your Dragon to the 6-pin ICSP header on your target. &nbsp; According to&nbsp;<a href="http://solderpad.com/openenergymon/emonglcd/">http://solderpad.com/openenergymon/emonglcd/</a>&nbsp;the GLCD has an 8-pin header. &nbsp;I&#39;m not sure why those extra two IO pins are run to it, but the top 6 pins are compatible with a standard ICSP header.</p>
<p>Finally, you&#39;ll need to fire up avrdude, tell it you&#39;re using a dragon_isp programmer, tell it the partnumber of your AVR, point it at the hex file you found above, and tell it to write it to flash. &nbsp; I&#39;ve not used avrdude on Windows, but I think it&#39;s pretty much the same on all platforms. &nbsp;There&#39;s a&nbsp; tutorial on how to run avrdude on WIndows here: &nbsp;<a href="http://www.ladyada.net/learn/avr/avrdude.html">http://www.ladyada.net/learn/avr/avrdude.html</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34734"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3426.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: How to get emonGLCD programmed?</h3>

    <div class="submitted">Submitted by <a href="../user/3426.html" title="View user profile.">Bill Thomson</a> on Tue, 06/10/2015 - 22:14.</div>
    <div class="content">
     <p><em>hence the fiddliness</em></p>
<p>You weren&#39;t kiddin&#39; there!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11336"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-qVGVG3bkrVqr3MQF5mMM2Tqg63aTJpZL7OFeu5d22Vo" value="form-qVGVG3bkrVqr3MQF5mMM2Tqg63aTJpZL7OFeu5d22Vo"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
