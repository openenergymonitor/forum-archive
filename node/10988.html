<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10988 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:09:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>SCT013 100A 50mA -- different to SCT013-000 100A type ??? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>
        <span class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Tue, 14/07/2015 - 15:16</span>
        <div class="content"><p>I need some help, because I am complete lost at the moment.&nbsp;</p>
<p>Main question first: Did everyone hear or have a SCT013 100A&nbsp;CT sensor that has a internal burden of ~100&Omega;?</p>
<p>​If you check the attached picture, you can see the sensor. It does not say SCT013-000 it just says SCT013 100A 50mA. But it has an internal burden resistor, so the print on the sensor is wrong.</p>
<p>To check I turned the measured cable 5 times around the coil, so now I have a 5:2000. And I could measure an AC voltage at the sensor (nothing else attached than the multimeter. With this and&nbsp;a&nbsp;(estimated)&nbsp;current of 8.7A (2kW water kettle at 230V)&nbsp;it gives a 7.6V output. But with 107&Omega; and 5:2000 turns it should give only 2.3V. So maybe the no. of turns in this specific CT is not 2000 as well????</p>
<p>Same on a second CT sensor I bought, with the same printing on it.</p>
<p>I have no chance to get an SCT013-000 at my location. So if anybody has any information about the sensor I have (SCT013 100A 50mA)&nbsp;it would be appreciated. Some help how to figure out the specs of this CT with minimal equipment (multimeter only, no osci, no regulated power supply or current supply, difficult to get any electronic components at my place (Philippines)) would be appreciated.</p>
<p>Here my story:</p>
<p>My project is to build up an energy monitor for a solar panel (1kW) with an Arduino Uno or Arduino Yun.</p>
<p>Target is to measure current coming from the solar panel and measure complete house consumption (and optional Lux measuring close to the solar panels&nbsp;to see performance).</p>
<p>Started with the tutorial here (CT sensors - Interfacing with an Arduino)&nbsp;how to connect and setup a SCT013-000 CT sensor to measure current. As a burden resistor I used a 47 Ohm, as I could not get any other value. I adjusted the calibration value to&nbsp;(141.4 A / &nbsp;0.0707A) / 47&Omega; = 42.55. Analog input is channel 0.&nbsp;</p>
<blockquote><p>emon1.current(0, 42.55);</p>
</blockquote>
<p>I attached the schematics. I used the sketch provided with the tutorial.</p>
<p><span style="line-height: 1.6;">But the readings are complete off. The measured current seems to be complete wrong.</span></p>
<p>I several times checked the hardware, measured all connections, all is fine. Finally I measured the burden resistor (without the Arduino attached and found surprisingly a value of 33&Omega;. Measured the burden resistor again (detached from the board) and it was 48&Omega;.&nbsp;</p>
<p>Then I measured the CT sensor (which should not have an internal burden, according to the datasheet). I measured 107&Omega;??????</p>
<p>​To make sure I am not crazy, I attached to CT sensor to a load (2kW water kettle) and measured the current on the outputs of the CT sensor. This should be 0 if there is no burden, but I got a 7.6V AC signal (with 5 turns on the primary side of the CT sensor).</p>
<p>So I tried to adapt to the situation and changed the proto and the sketch. I removed my 47&Omega; burden and changed the calibration value to 18. Primary turns on the CT are 1 only. But now the measurement shows around 5 times of the expected current (~47A instead of ~8.7A).</p>
<p>Not sure how to go on from here without access to proper test equipment.</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5244.html" class="topic-previous" title="Go to previous forum topic">‹ The Dark Side of rf12_sendWait(2)</a>
              <a href="12391.html" class="topic-next" title="Go to next forum topic">Optical pulse counter, reading pulse through RPi GPIO pins possible? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-32221"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 14/07/2015 - 16:01.</div>
    <div class="content">
     <p>Your picture looks like an SCT-013-000 to me. The clue is in the name - <b>CURRENT</b> transformer, and the printing on it 100 A : 50 mA. The output is not a voltage, it is current. Measuring the voltage with a voltmeter means nothing. Go away and measure the ac current, and I think you will find that you have sensible numbers - you should measure 4.35 mA with your kettle as your load. Don't worry about short-circuiting a current transformer, when you do it is actually under no-load and it's perfectly safe. It is NOT safe to open-circuit it - you might (but not with the SCT range) get dangerous voltages if you do not have the correct burden.</p>
<p>If you don't have a mA scale on your meter, measure the voltage across your 47 &Omega; burden, you should measure 204 mV.</p>
<p>The secondary winding of the CT has a resistance of about 100 &Omega; so that is what you measure with your multimeter. In parallel with a 47 &Omega; burden, that should measure about 32 &Omega; which indeed it did. The winding's own resistance is <u>not</u> an internal burden resistor. So nothing wrong there either.</p>
<p>The current calibration constant you should be using is 42.55, so you are correct there.</p>
<p>So what are you reading when you say "But the readings are complete off. The measured current seems to be complete wrong."  There remains one possibility - the sketch that you are using. The code on that page is set up to print apparent <b>power</b> at 230 V. Is that what you're seeing?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32222"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8416.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8416.png" alt="beegee1962&#039;s picture" title="beegee1962&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Tue, 14/07/2015 - 16:17.</div>
    <div class="content">
     <p>Hi Robert,</p>
<p>Thanks for the quick reply. Long time since engineering&nbsp;school. And I was concentrating on digital hardware and software there which gives me some headaches now with this AC stuff.</p>
<p>I understand your explanation about the 100&Omega;&nbsp;resistance I measure on the sensor.</p>
<p>&quot;Go away and measure the ac current&quot; - my multi meter doesn&#39;t offer AC current measure, So I will try to measure the voltage over the 47&Omega; burden resistor, but still I need to upgrade my equipment. The current one offers 200V AC as the smallest value, so completely useless.</p>
<p>&quot;So what are you reading when you say &quot;But the readings are complete off.&quot;. I use the following script:</p>
<blockquote><h6>#include &quot;EmonLib.h&quot; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Include Emon Library<br />
EnergyMonitor emon1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Create an instance</h6>
<h6>void setup()<br />
{ &nbsp;<br />
&nbsp; Serial.begin(9600);<br />
&nbsp;&nbsp;<br />
&nbsp; emon1.current(0, 42.55); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Current: input pin, calibration.<br />
}</h6>
<h6>void loop()<br />
{<br />
&nbsp; double Irms = emon1.calcIrms(1480); &nbsp;// Calculate Irms only<br />
&nbsp;&nbsp;<br />
&nbsp; Serial.print(Irms*230.0); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Apparent power<br />
&nbsp; Serial.print(&quot; &quot;);<br />
&nbsp; Serial.println(Irms); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Irms<br />
}</h6>
</blockquote>
<p>This should give me the current and&nbsp;the power. Anyway, the voltage here in Philippines is 230V (+-10% I think).</p>
<p>I will prepare some outputs tomorrow (midnight here already) and post them here.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32234"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 14/07/2015 - 22:55.</div>
    <div class="content">
     <p>If you're upgrading your multimeter, there's a page in Building Blocks about multimeter accuracy, which you might find useful.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32238"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8416.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8416.png" alt="beegee1962&#039;s picture" title="beegee1962&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Wed, 15/07/2015 - 03:48.</div>
    <div class="content">
     <p>First of all, thank you again for your assistance.</p>
<p>I got some sleep, changed the test board back to 47&Omega; and started testing.</p>
<p>Maybe the overnight rest or the re-soldering on the test board changed something, because I get now more consistent readings:</p>
<p>1) no load on the wire:</p>
<blockquote><p>eMon test script<br />
470.41 2.05<br />
115.99 0.50<br />
43.26 0.19<br />
32.89 0.14<br />
37.88 0.16</p>
</blockquote>
<p>first two values are weird, then it settles on a value between 0.13A to 0.19A</p>
<p>2) 30W solder iron (I know, very low value)</p>
<blockquote><p>&nbsp;eMon test script<br />
404.11 1.76<br />
107.54 0.47<br />
54.51 0.24<br />
46.72 0.20<br />
44.18 0.19<br />
43.77 0.19<br />
42.44 0.18</p>
</blockquote>
<p>Again the first 2 readings are weird, then it settles between 0.18A to 0.20A</p>
<p>3) 2000W&nbsp;water kettle</p>
<blockquote><p>eMon test script<br />
1852.93 8.06<br />
1828.06 7.95<br />
1817.71 7.90<br />
1825.64 7.94<br />
1825.22 7.94<br />
1825.66 7.94</p>
</blockquote>
<p>First value is the highest then it settles between 7.84A to 7.95A&nbsp;</p>
<p>3) 1600W electric stove</p>
<blockquote><p>eMon test script<br />
1612.64 7.01<br />
1608.44 6.99<br />
1594.96 6.93<br />
1596.90 6.94<br />
1593.53 6.93</p>
</blockquote>
<p>Again, the first value is slightly higher, then it settles between 6.89A to 6.97A</p>
<p>No idea what changed to my first tests, but it seem to work now. Of course with a 100A CT I get bad values at small currents. And I saw this: &quot;<a href="10876.html">Accuracy of emonPi ?</a>&quot; Seems I have the same kind of noise influence.&nbsp;</p>
<p>As with a 1kW solar panel I should never get more than 7A on the line, I would be interested in clipping everything above 10A and spread the measurement over the range of 0-10A.</p>
<p>Just to confirm with you (the expert), to do this, I change the burden&nbsp;resistor?&nbsp;</p>
<p>I found the following formulas to calculate the burden resistor and calibration value:</p>
<blockquote><p>i(measured) = &radic;2 * i(rms_current) = 1.414 * <strong>100A</strong> = 141.4 A<br />
i(sensor) = i(measured) / nb_turns = 141.1A / 2000 = 0.0707A<br />
R(burden) = U(sensor)/I(sensor) = 2.5V / 0.0707A = 35.4&Omega;<br />
calibration_value = (141.4 A / &nbsp;0.0707A) / 33&Omega; = 60</p>
</blockquote>
<p>&nbsp;So I would change to&nbsp;</p>
<blockquote><p>i(measured) = &radic;2 * i(rms_current) = 1.414 * <strong>10A</strong> = 14.14 A<br />
i(sensor) = i(measured) / nb_turns = 14.14A / 2000 = 0.00707A<br />
R(burden) = U(sensor)/I(sensor) = 2.5V / 0.00707A = 353.55&Omega; ==&gt; select 330&Omega;<br />
calibration_value = (14.14 A / &nbsp;0.00707A) / 330&Omega; = 6</p>
</blockquote>
<p>Do you see any risks?&nbsp;Like current&nbsp;spikes generating voltages higher than 5V on the ADC input?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32247"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8446.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mel&#039;s picture" title="mel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8446.html" title="View user profile.">mel</a> on Wed, 15/07/2015 - 08:55.</div>
    <div class="content">
     <blockquote><p>Again, the first value is slightly higher, then it settles between 6.89A to 6.97A</p>
</blockquote>
<p>I had the same issue.</p>
<p>What I did to resolve the issue with first several measurment&nbsp;is following:</p>
<p>In section&nbsp;void setup() I added cycle&nbsp;with 5 measurements</p>
<pre>
int var = 0;
while(var &lt; 5){
double Irms = emon1.calcIrms(1480);
  var++;
}</pre><p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32248"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8446.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mel&#039;s picture" title="mel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8446.html" title="View user profile.">mel</a> on Wed, 15/07/2015 - 09:02.</div>
    <div class="content">
     <blockquote><p>1) no load on the wire:</p>
<p>eMon test script<br />
470.41 2.05<br />
115.99 0.50<br />
43.26 0.19<br />
32.89 0.14<br />
37.88 0.16</p>
</blockquote>
<p>I have the same problem and i do not know what to do with this.</p>
<p>It might be significant error in the long run without load</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32257"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 15/07/2015 - 10:43.</div>
    <div class="content">
     <p>What you are both seeing, and it only happens at switch-on or on reset, is the high pass software filter settling. You can either give the filter time to settle by ignoring the first few readings as Mel did (but you <u>must</u> let the readings continue or the filter won't move!) or you can use the 'low pass' filter in the more recent version of emonLib, which is initialised to close to the final value and exhibits only a minimal disturbance at switch-on.</p>
<p>Beegee:<br />
You can increase the burden as you suggest, but if possible it would be better to run as many turns of wire as possible through the CT so that you have a multi-turn primary winding. This in effect reduces the internal errors in the magnetics of the CT. Then you calculate your burden resistor on that basis. Transformers work on Ampere turns, normally the primary winding is 1 turn and 100 A, but say you have 5 turns, then 10 A gives you 50 At and you do the burden calculation for a current of 50 A. You know the current ratio for the CT, hence you calculate the secondary (the burden) current.</p>
<p>Then the easy way to calculate the burden value is to forget all about peak values and &radic;2 and reckon to have 1.1 V rms (for an emonTx), or 1.5 V (for 5 V Arduino) across the burden. Those values allow some headroom for component tolerances.</p>
<p>Spikes are always a problem. No-one has ever reported a blown-up input, if you're concerned then you can clamp the input to the supply rails with Schottky diodes, then put a 1 k&Omega; series resistor to limit the current into the analogue input.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32260"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8446.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="mel&#039;s picture" title="mel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8446.html" title="View user profile.">mel</a> on Wed, 15/07/2015 - 11:15.</div>
    <div class="content">
     <p>Robert, could you suggest some measures in order to minimise&nbsp;errors/deviation in results without load</p>
<p>Thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32264"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 15/07/2015 - 12:18.</div>
    <div class="content">
     <p>I'm guessing that you're using an Arduino and a breadboard front-end, and you are looking at rms current.</p>
<p>Two problems: Anecdotally, we see a lot more complaints about residual noise in Arduino builds, and secondly, the rms rectifier rectifies the noise as well as the signal, and then there's no way to remove it, other than subtracting your 'best guess' for the value.</p>
<p>Two solutions: Pay a lot of attention to the front-end layout and grounding, use an Arduino that includes filtering between Vcc and AVcc, and feed it with a well-regulated clean power supply. That's because we believe a lot of the noise gets onto the ADC reference via the power supply.<br />
Second, if you want power, use an ac adapter and calculate real power. That way the noise isn't rectified so half of it gives positive power and half gives negative, so most of it gets cancelled. </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32266"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8416.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8416.png" alt="beegee1962&#039;s picture" title="beegee1962&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Wed, 15/07/2015 - 14:48.</div>
    <div class="content">
     <p>Do you know which Arduino boards have filtering between Vcc and AVcc? I am using a Arduino&nbsp;Yun. The Yun should be the final board, because I want to get the values over WiFi and I need the Linux part for storing recorded data over a long time on the sd-card.</p>
<p>On the Yun the AVcc is directly connected to VCC, so I guess I get a lot of noise&nbsp;coming in. Specially because the second controller with the WiFi and Ethernet is on the same Ground and I do not see any filter or decoupling between the two.</p>
<p>So I might have to live with the noise level.</p>
<p>I will try to get&nbsp;an ac adapter to measure voltage in addition and check the results.</p>
<p>Thanks for your support.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32267"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 15/07/2015 - 16:28.</div>
    <div class="content">
     <p>I don't know anything about the Arduino range. There may be differences even between allegedly the same boards from different manufacturers. But I think I've seen it reported somewhere. Have you searched the forums?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32278"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Wed, 15/07/2015 - 22:08.</div>
    <div class="content">
     <p>I think the Leonardo has the filter. &nbsp;I&#39;ve also got spectacular low-level A/D performance from Arduinos that lack the filter by paying careful attention to Robert&#39;s list above.... especially the supply. &nbsp;I&#39;ve not played with a Yun, but looking at its details briefly now, I could imagine it could be pretty noisy down there. &nbsp; Before you give up on it as your front-end processor, you might want to experiment with the simple sketch posted in this thread: &nbsp;<a href="10111.html">http://openenergymonitor.org/emon/node/10111</a>. &nbsp;You might need to tweak it a bit to make it work with your wifi chip, but it&#39;ll show you a picture of the noise, which is often a good first step in determining the source. &nbsp;If it shows a lot of 50Hz component, then you might consider experimenting with different 5V supplies. &nbsp; How are you sourcing the 5V at the moment?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32288"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8416.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8416.png" alt="beegee1962&#039;s picture" title="beegee1962&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Thu, 16/07/2015 - 10:33.</div>
    <div class="content">
     <p>Thanks dBC for the link about noise on Arduino boards and relation to power supply.</p>
<p>The Yun <strong><em>doesn&#39;t </em></strong>have a 5V power regulator on board, so I can power only through USB or build up a regulated 5V power supply and connect through Vin.&nbsp;</p>
<p>I used the idea of your sketch and adapted it into my own sketch (by using a modified &quot;<strong><em>double EnergyMonitor::calcIrms(unsigned int Number_of_Samples)</em></strong>&quot; taken from EmonLib.cpp), recording min and max readings from the ADC port over a long time. The test measured every 2&nbsp;secs, makes 1480 readings every time and runs about hour.</p>
<p>The changes in the Emon function are only 2 lines which saves min and max values in 2 global variables:<br />
<em><strong>if (sampleI &lt; min) min = sampleI;<br />
if (sampleI &gt; max) max = sampleI;</strong></em></p>
<p><strong>Results:<br />
Arduino YUN&nbsp;</strong><br />
- USB power from PC read over serial - min 502, max 546, diff <strong>44</strong><br />
- USB power from PC read over WiFi - min 501, max 546, diff <strong>45</strong><br />
- Samsung tablet charger (2A) USB out - min 453, max 573, diff <strong>120</strong><br />
- Huawei media station supply (2A) USB out - min 504, max 528, &nbsp;diff <strong>24</strong><br />
<strong>Arduino Uno</strong><br />
- USB power from PC - min 503, max 518, diff <strong>15</strong><br />
- 12V DC supply from a modem - min 511, max 512, diff <strong>1</strong><br />
- 9V DC supply from a portable radio - min 511, max 512, diff <strong>1</strong></p>
<p>So the Arduino Uno shows good results with a good power supply. The Arduino Yun has bigger problems.&nbsp;Next step is to&nbsp;get a good 5V supply for the Yun and see if it can be as good as the Uno.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32289"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Thu, 16/07/2015 - 11:04.</div>
    <div class="content">
     <p>Your wide variation in peak-to-peak noise under various YUN power source options is a good starting clue. &nbsp;Using the best one there (Huawei media station supply), I&#39;d enable&nbsp;&nbsp;INSPECT_SIGNAL in my sketch and then plot the waveform. &nbsp;That&#39;ll tell you whether there&#39;s still some 50Hz ripple (in which case you can keep pursuing better and better 5V supplies) or whether it&#39;s all much higher frequency stuff (in which case it may be as good as it gets).</p>
<p>Peak-to-peak values are useful, but seeing what the waveform looks like is even more useful, and your Arduino makes for a reasonable rudimentary scope; and a particularly well positioned scope since it&#39;s the noise the Arduino AtoD sees that you care about.</p>
<p>Depending on how well they&#39;ve designed their power and ground&nbsp;planes, it&#39;s conceivable that even with a pure zero-ripple 5V lab supply, there&#39;ll be noise on Vcc at various points on the board... especially given they&#39;ve got that high speed MIPS processor and wifi stuff to power.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32297"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8416.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8416.png" alt="beegee1962&#039;s picture" title="beegee1962&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Fri, 17/07/2015 - 11:15.</div>
    <div class="content">
     <p>I tried to do something like you in your sketch:</p>
<blockquote><p>&nbsp; &nbsp; &nbsp; client.println ( &quot;Bulk start&quot; );<br />
&nbsp; &nbsp; &nbsp; &nbsp; static unsigned int analog_readings[700];<br />
&nbsp; &nbsp; &nbsp; for (unsigned int i = 0; i&lt;700; i++) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; analog_readings[i] = analogRead(A1);<br />
&nbsp; &nbsp; &nbsp; &nbsp; analog_readings[i] = analogRead(A0);<br />
&nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; for (unsigned int i = 0; i&lt;700; i++) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; client.print ((String)analog_readings[i]+&quot;;&quot;);<br />
&nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; client.println ( &quot;Bulk end&quot; );</p>
</blockquote>
<p>But the results look quite different:</p>
<p>1st sample with the CT clamped around a wire with no load.</p>
<p><img alt="Sample1" src="../../../desire.giesecke.tk/images/Sample1.jpg" style="width: 700px; height: 322px;" /></p>
<p>&nbsp;</p>
<p>2nd&nbsp;sample with the CT open.<img alt="" src="../../../desire.giesecke.tk/images/Sample2.jpg" style="width: 700px; height: 336px;" />These were taken on the Arduino Yun (700 samples is the max, not enough memory to do more). And I am not sure about the sampling rate, because I think the Yun is clocked with 12MHz only.</p>
<p>Anyway, that does not look like a 50Hz ripple, more like some HF noise coming from the Yun. I used the Huawei power supply for this, which showed the smallest max and min values.</p>
<p>I will still try to get my hands on a better power supply and check if it improves anything.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32298"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Thu, 16/07/2015 - 23:37.</div>
    <div class="content">
     <p>If you time how long that first for loop takes (the capture one), you&#39;ll have a pretty good idea of the&nbsp;timebase. &nbsp;To rule out noise that&#39;s arriving at the CT terminals, it might make sense to disconnect the CT for the capture. &nbsp;Provided you have an on-board burden that should be sufficient to terminate the disconnected input. &nbsp;If you&#39;re using external burdens (i.e. burdens inside the CT)&nbsp;then after you unplug the CT you might want to short out the inputs to stop it acting as an antenna.</p>
<p><strong>[EDIT] P.S. &nbsp;</strong>The Yun schematic shows them having a bet each way on that AVCC filter. &nbsp;They&#39;ve conveniently placed a 0R resistor (R112) between AVCC and VCC. &nbsp;That&#39;s probably to give them (and you) options. &nbsp;If your soldering skills are up to it, you could probably replace that resistor with a ferrite bead and add a cap to ground. &nbsp;That would give you the Atmel suggested filter on AVCC&nbsp;(see the datasheet for the exact details). &nbsp;On that part, the datasheet calls for a separate LC network on each of the two AVCC input pins which you won&#39;t be able to do, but replacing R112 with an LC filter might be an interesting experiment.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32316"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8416.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8416.png" alt="beegee1962&#039;s picture" title="beegee1962&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Fri, 17/07/2015 - 11:26.</div>
    <div class="content">
     <p>dBC, thanks for the tips.</p>
<p>I recorded again, this time the CT completly&nbsp;disconnected. I still see a lot of noise in it.</p>
<p><img alt="" src="../../../www.desire.giesecke.tk/images/Sample-no-CT.jpg" style="width: 700px; height: 556px;" /></p>
<p>Then I thought I have a look on Vcc. I put VCC on a resistor divider with 10uF&nbsp;between mid-point and GND.</p>
<p><img alt="" src="../../../www.desire.giesecke.tk/images/Test%20circuit.jpg" /></p>
<p><img alt="" src="../../../www.desire.giesecke.tk/images/Sample%205V%20on%20resistor%20divider%20with%20capacitor.jpg" style="width: 700px; height: 426px;" />But I do not see anything that looks like 50Hz.&nbsp;</p>
<p>For now waiting for a better power supply for the Yun before I continue.</p>
<p>&nbsp;</p>
<p>For the LC filter on AVcc, I cannot get my hands on SMD parts and I don&#39;t want to ruin my Yun.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32317"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 17/07/2015 - 12:51.</div>
    <div class="content">
     <p><i>"Then I thought I have a look on Vcc. I put VCC on a resistor divider with 10uF between mid-point and GND."</i></p>
<p>If you want to see the noise on Vcc, you put the capacitor between Vcc and the input, thereby coupling the alternating component of whatever is on Vcc into the input.</p>
<p>(In fact, with your right-hand circuit, you should only see ~ 1.35 mV peak-peak with 1 V rms (yes, one whole volt!) 50 Hz sine wave on Vcc, because the divider-capacitor network acts as a low-pass filter with a corner frequency of about 0.068 Hz.) </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32319"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Fri, 17/07/2015 - 14:02.</div>
    <div class="content">
     <p><em>For now waiting for a better power supply for the Yun before I continue.</em></p>
<p>OK, worth a try I guess, but keep in mind my paragraph above starting &quot;Depending on how well they&#39;ve designed their power and ground planes...&quot;. &nbsp; &nbsp;</p>
<p>Noise you find on Vcc isn&#39;t necessarily coming from the supply. &nbsp;It may be you&#39;ve already found an excellent supply (and it&#39;s clearly way better than some of the others you tried).</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32320"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8416.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8416.png" alt="beegee1962&#039;s picture" title="beegee1962&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Fri, 17/07/2015 - 15:27.</div>
    <div class="content">
     <p>Besides of external noise, anybody has an idea how to implement the &quot;ADC Noise Reduction Mode&quot; on the Arduino? I searched on the internet, but couldn&#39;t find a code example for the Arduino boards.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32365"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 18/07/2015 - 11:23.</div>
    <div class="content">
     <p>You need to read sections 23.6 for the general procedure, and section 11 (interrupts) of the data sheet. Basically, you can't set "Noise Canceler" mode and then use the straightforward analogRead( ), nor emonLib, so it's not a simple process. I found a lot of links using "ADC Noise Canceler" (the one occasion where bad spelling is helpful!) as the search term, and this one might help: <a href="http://forum.arduino.cc/index.php?topic=45949.0" title="http://forum.arduino.cc/index.php?topic=45949.0">http://forum.arduino.cc/index.php?topic=45949.0</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32371"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8416.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8416.png" alt="beegee1962&#039;s picture" title="beegee1962&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Sat, 18/07/2015 - 14:57.</div>
    <div class="content">
     <p>Thanks for the link, I was there before, but didn&#39;t read long enough. Found now the code how to do the noise reduction. Actually not that&nbsp;difficult.</p>
<p>And the results are looking promising. Measured again the CT input circuit without CT attached and the noise is reduced. Still not perfect, but it gets better.&nbsp;<img alt="" src="../../../www.desire.giesecke.tk/images/Sample-no-CT-Noise-Reduction.jpg" style="width: 700px; height: 458px;" /></p>
<p>Interesting thing, the cycle time for the readings reduced from 220us (analogRead) to less than 20us (rawAnalogReadWithSleep).&nbsp;</p>
<p>The sketch I used on the Yun to read the above graphs is in the attachment, including the &quot;<strong><em>int rawAnalogReadWithSleep( int channel )</em></strong>&quot; function which I got from member &quot;<strong>Coding Badly</strong>&quot; from his&nbsp;<a href="http://forum.arduino.cc/index.php?topic=38119.msg282525#msg282525">post</a> in this <a href="http://forum.arduino.cc/index.php/topic,38119.0.html#14">thread</a>.</p>
<p>I have already changed my own sketch to read the CT and can see some improvments. I took the &quot;<em><strong>calcIrms</strong></em>&quot; and integrated the changed version directly into my code. Will connect the CT tomorrow and check how the measurements look like.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32391"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Mon, 20/07/2015 - 07:09.</div>
    <div class="content">
     <p><em>and the noise is reduced. Still not perfect, but it gets better.&nbsp;</em></p>
<p>Interesting. &nbsp;I&#39;ve never found it makes much difference, but I&#39;ve also never tried it&nbsp;on a&nbsp;ATmega32u4, so whatever works for you I guess.&nbsp; There are a lot of graphs above, and not much labelling. &nbsp;Can you show us just two graphs please, one using the normal analogRead() and the other using your&nbsp;rawAnalogReadWithSleep() with no other changes.</p>
<p><em>Interesting thing, the cycle time for the readings reduced from 220us (analogRead) to less than 20us (rawAnalogReadWithSleep).&nbsp;</em></p>
<p>I think if you timed it with a wall clock it would take exactly the same time. &nbsp;When you&#39;re in ADCNRM sleep mode CLKio&nbsp;won&#39;t be running, so timer0 won&#39;t be running, so all the micros() and millis() stuff that is based on it will be frozen in time.</p>
<p>My gut feel is that your primary source of switching noise will be that honking great 400MHz MIPS processor running Linux, complete with an ethernet switch, MAC, PHY, wifi etc. &nbsp;All of that runs at 3.3V and gets its power from your 5V rail via that buck converter (U10). &nbsp;That thing is going to have a very nasty current draw (probably close to a square wave) on your 5V rail, and you&#39;re left with C96 and&nbsp;C97 to try and smooth it out. &nbsp;Are they ceramics?</p>
<p>It looks like you might be able to power down that entire side of the board by temporarily&nbsp;grounding TP51. &nbsp;It would be interesting to see what that does to your AVR noise levels, but you&#39;d lose your comms abilities to report it. &nbsp;If you&#39;re really keen, you could potentially knock up a sketch that captures the PtoP noise level in AVR EEPROM, and then displays it after the board comes back up, complete with the Linux half of the board.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32397"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8416.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-8416.png" alt="beegee1962&#039;s picture" title="beegee1962&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/8416.html" title="View user profile.">beegee1962</a> on Mon, 20/07/2015 - 11:48.</div>
    <div class="content">
     <p>@dBC,</p>
<p>regarding the conversion time, I forgot that the clocks will be down in sleep mode. It just felt faster.</p>
<p>Difference is not big, just 2 or 3 digits less noise. &nbsp;Not worth to put another diagram here.</p>
<p>I accepted that I will have no good readings at low currents. Thinking now more about looking for a CT sensor for the range I need. That would be&nbsp;0-10A&nbsp;spread over the 5V measurement range of the ADC.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40077"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9384.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dariocdj&#039;s picture" title="dariocdj&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/9384.html" title="View user profile.">dariocdj</a> on Thu, 03/03/2016 - 14:58.</div>
    <div class="content">
     <p>Excuse me if i reopen this post but from a day i&#39;m becoming crazy.</p>
<p>I&#39;m using normally SCT013-000 100A with an arduino or an attiny and with a burden of 220ohm and it works with my calibration and write correct .&lt;</p>
<p>Now i&#39;ve bought some new sensors and arrive me SCT013 100A 50mA.</p>
<p>With the same hardware if i put a power switch 2000ma as load my hardware give me 2910w (!!!!), 12,65 Ah !!!!!</p>
<p>and if i use a 1000w load it gives me 12kw :P</p>
<p>Please someone can help me ? i must work only with calibration or i must change something in hardware ?</p>
<p>&nbsp;</p>
<p>thanks</p>
<p>Dario</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40081"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 03/03/2016 - 16:21.</div>
    <div class="content">
     <p>From where did you buy your&nbsp;SCT013-000 100A?</p>
<p>As far as I know, YHDC make 10 versions of the SCT-013. The two that you might have are the SCT-013-000 and the SCT-013-000V. The SCT-013-000V is a new addition to the range.&nbsp;I have not come across an SCT013 100A.</p>
<p>A current transformer is a current source: the secondary (output) current is proportional to the primary current. For the SCT-013 basic transformer, for 100 A of primary current in, you get 50 mA out.&nbsp;The burden resistor changes this current into a voltage for your Arduino to measure. The difference between the -000 and the -000V is that you supply the burden resistor for the -000, and it is already built into the casing of the -000V.</p>
<p>Unfortunately, I cannot check your numbers because powers in watts or kilowatts mean nothing unless I know the voltage at the time.</p>
<p>An SCT-013-000 with a 220&nbsp;&Omega; burden and an Arduino running at 5 V implies that you intend to measure a maximum current of 14.5 A. The current calibration coefficient for that should be 9.09.</p>
<p>I do not know what 14.5&nbsp;A means in kW without knowing your voltage. The unit &quot;Ah&quot; is a measure of the capacity of a battery - I think you are confused there.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40216"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9384.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dariocdj&#039;s picture" title="dariocdj&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/9384.html" title="View user profile.">dariocdj</a> on Wed, 09/03/2016 - 22:20.</div>
    <div class="content">
     <p>Yes i&#39;m very confused but i&#39;ve solved...</p>
<p>I&#39;ve open the sct013-000 and sct013-030&nbsp;and the only difference is a burden resistor of 62ohm (and i don&#39;t know if transformer is the same but it seems so).</p>
<p>So i&#39;ve put two 33ohm in series and it works...without 220ohm burden</p>
<p>Thanks</p>
<p>Dario</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40716"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9724.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="enrico_19&#039;s picture" title="enrico_19&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/9724.html" title="View user profile.">enrico_19</a> on Wed, 30/03/2016 - 08:06.</div>
    <div class="content">
     <p>Hi Dario, I&#39;ve an SCT013-000 but i cannot make it works good... can you help me with wiring and code?</p>
<p>Thanks!</p>
<p>Enrico</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40724"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: SCT013 100A 50mA -- different to SCT013-000 100A type ???</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 30/03/2016 - 12:04.</div>
    <div class="content">
     <p>That is a silly question because you do not tell us what you are doing when it does not work, or what you are seeing.&nbsp;You should follow the diagrams in Resources &gt; Building Blocks. It will then work correctly. If you still have a problem, read the FAQ page or the Forum Sticky to see what you must tell us so that we can help you.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10988"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-6NnNu6P9X0fidyb4tK4-E_sGijzANjDsFGYm8aDHcmI" value="form-6NnNu6P9X0fidyb4tK4-E_sGijzANjDsFGYm8aDHcmI"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
