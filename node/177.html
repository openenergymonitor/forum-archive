<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/177 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:53:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Interference between voltage and current readings on ADC | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Interference between voltage and current readings on ADC</h3>
        <span class="submitted">Submitted by Guest on Sun, 19/06/2011 - 15:17</span>
        <div class="content"><p>&nbsp;Hi,</p>
<p>I have built a monitor, which seems to be working well. I have however noticed a linkage between current and voltage - for example, when I turn on my electric shower, the measured voltage drops considerably.&nbsp;</p>
<p>My first thought was that this might be real - more current, volt drop etc, but analysis with a scope seems to suggest this is not so.&nbsp;</p>
<p>Interestingly though, the arduino does seem very sensitive to the 5v level. I have two sources I can use for my 5v supply, on the scope both seem pretty stable and noise free, but powering the board from them can give voltage readings from the 9v wall wart that vary by 10 Vrms. &nbsp;Iwonder whether adding a filter to the AVref pin, &nbsp; as suggested in the uC design notes, might help...</p>
<p>My voltage readings stay in the rang from between 240-250Vrms, but this is a lot more than my scope would suggest.</p>
<p>Has anyone else come across this, or are others voltage logs relatively smooth?&nbsp;</p>
<p>My logged voltage variations can be seen here:</p>
<p><a href="http://bbarker.co.uk/energy/history.php?type=v&amp;mins=1440">http://bbarker.co.uk/energy/history.php?type=v&amp;from=1440<br />
</a></p>
<p>
<meta http-equiv="content-type" content="text/html; charset=utf-8" /></p>
<p>Cheers,</p>
<p>Ben</p>
  <div class="forum-topic-navigation clear-block">
          <a href="179.html" class="topic-previous" title="Go to previous forum topic">‹ Using Arduino as Phase Angle Controller</a>
              <a href="175.html" class="topic-next" title="Go to next forum topic">Remove register ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-1874"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ggkinuthia&#039;s picture" title="ggkinuthia&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Interference between voltage and current readings on ADC</h3>

    <div class="submitted">Submitted by ggkinuthia (not verified) on Mon, 20/06/2011 - 05:02.</div>
    <div class="content">
     <p>Hello Ben,</p>
<p>I am also experiencing a similar behaviour, when I have a heavy load On the voltage drops down considerably. I think the current adc input is affecting the voltage readings.</p>
<p>I had a similar situation in a different project and I can't remember what I did to overcome this... once I check, I'll revert back.</p>
<p>Good day</p>
<p>&nbsp;</p>
<p>Geoffrey</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1878"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Guest&#039;s picture" title="Guest&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Interference between voltage and current readings on ADC</h3>

    <div class="submitted">Submitted by Guest on Mon, 20/06/2011 - 19:15.</div>
    <div class="content">
     <p>There seems to be some suggestion on the web that the internal Vref for the arduino ADC is not that stable - I've just tried wiring it directly to my 5v line (having first set the ref as external in the code), and added a decoupling cap. I'll leave it for a few hours and see if it makes any difference :-)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1880"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Amin Zayani&#039;s picture" title="Amin Zayani&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Interference between voltage and current readings on ADC</h3>

    <div class="submitted">Submitted by Amin Zayani (not verified) on Mon, 20/06/2011 - 20:27.</div>
    <div class="content">
     <p>&nbsp;Hi,</p>
<p>I had some similar problems with a cheap arduino clone, but the UNO was much better. Interferences within the PCB itself are much less than the cheap arduino clone.</p>
<p>I reduced these interferences further by putting a big resistor on the unused analog inputs and grounding them. The best would be to ground properly one analog input between your Current Analog I and your Voltage Analog I.</p>
<p>By the way, a voltage drop is nurmal, when I switch 2KW loads on, I experience a 2-3v voltage drop. (Germany)</p>
<p>Good luck with debugging ;)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-1890"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Guest&#039;s picture" title="Guest&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Interference between voltage and current readings on ADC</h3>

    <div class="submitted">Submitted by Guest on Tue, 21/06/2011 - 21:44.</div>
    <div class="content">
     <p>Well, running my meter is parallel with a professional voltage logger, and it looks like my values are actually reasonably accurate - including the +5v drop when I turn on my shower :-)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/177"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-avrItRpE1DrL0VNH0urS3ZnTjCL7K3b_62NTRVW6v4s" value="form-avrItRpE1DrL0VNH0urS3ZnTjCL7K3b_62NTRVW6v4s"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
