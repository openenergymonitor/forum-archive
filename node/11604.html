<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11604 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:13:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>CT Voltage sensing | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">CT Voltage sensing</h3>
        <span class="submitted">Submitted by <a href="../user/9004.html" title="View user profile.">cpaw</a> on Mon, 16/11/2015 - 06:33</span>
        <div class="content"><p>Hi All</p>
<p>I&#39;m using the SCT-013-000 100A:50mA Current transformer. I&#39;ve been trying the tutorials and schematics with no luck. I want to connect this CT to the Arduino to sense load (current). I need to convert the mA output to a dc voltage to be sensed. When I test the CT, the mA output is correct and linear as expected.</p>
<p>1. Current sensing resistor</p>
<p>When I try passing the current over a resistor to sense the voltage I get 0V dc. I tried various different resistance values (33,100,1k etc) and no change to the output. I&#39;ve tried the resistors on a breadboard and soldered them to a veroboard - no difference. This should follow Ohms Law and produce a voltage output, Vout = Iout x Resistor</p>
<p>(Circuit is attached)</p>
<p>2. Tutorial</p>
<p>I also tried the Open Energy Tutorial and the voltage stays fixed around 2.5V dc, irrespective of the load I apply via the CT. (<a href="https://learn.openenergymonitor.org/?redirect=ct-sensors-interface" title="http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface">http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface</a>). I&#39;ve tried loads up to 30A with no change.</p>
<p>Please could you assist me and tell me what I&#39;m doing wrong?</p>
<p>Thanks</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11581.html" class="topic-previous" title="Go to previous forum topic">‹ Error compiling EmonGLCD sketch</a>
              <a href="11492.html" class="topic-next" title="Go to next forum topic">emon v2 or v3 for 3 phase and PV monitoring ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-35953"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: CT Voltage sensing</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 16/11/2015 - 10:28.</div>
    <div class="content">
     <p>The ADC in your Arduino works over the range 0 - 5V, so the output from your CT needs to be centred within this range.&nbsp; Otherwise, you will only see half of the signal.&nbsp; The recommended interfacing circuit is as you have noted at:</p>
<p><a href="https://learn.openenergymonitor.org/?redirect=ct-sensors-interface">http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface</a></p>
<p>With this circuit in place, values from the ADC should be centred around the mid-point (512) with the AC component showing up as variations on either side of this.&nbsp; When the AC signal occupies the full range of the ADC, the data values will range from 0 to 1023.&nbsp; The measurement range of the system (in kW) is determined by the size of the burden resistor.</p>
<p>You can check the operation of your circuit using a simple sketch which repeatedly takes ADC samples and prints their value.&nbsp; There are a couple of such sketches at:</p>
<p><a href="789.html">http://openenergymonitor.org/emon/node/789</a></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35957"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: CT Voltage sensing</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 16/11/2015 - 11:09.</div>
    <div class="content">
     <p>Have you tried the sketch at the bottom of that Building Blocks article you link to?  I strongly suspect - given that you don't tell us how you are trying to measure the transformer output - that all you have is v = analogRead(input_pin). That will measure the voltage at one instant, but remember that the output of a transformer - both voltage and current transformers - is alternating, and you need to do the sums in that sketch, and those are roughly the same sums that your multimeter does, to read a sensible current. </p>
<p>Read more in Building Blocks and it is all explained for you.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35961"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9004.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="cpaw&#039;s picture" title="cpaw&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: CT Voltage sensing</h3>

    <div class="submitted">Submitted by <a href="../user/9004.html" title="View user profile.">cpaw</a> on Mon, 16/11/2015 - 12:12.</div>
    <div class="content">
     <p>The issue is before I can even get to the sketch.</p>
<p>The <strong>output voltage does not change</strong> from 2.5V dc irrespective of the primary load I apply to the transformer.</p>
<p>I built the circuit as per <a href="https://learn.openenergymonitor.org/?redirect=ct-sensors-interface" title="http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface">http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface</a> but the voltage to analogue pin stays at 2.5V dc.</p>
<p>Why would the output voltage not change?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-35962"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7218.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="emjay&#039;s picture" title="emjay&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: CT Voltage sensing</h3>

    <div class="submitted">Submitted by <a href="../user/7218.html" title="View user profile.">emjay</a> on Mon, 16/11/2015 - 12:24.</div>
    <div class="content">
     <p>@cpaw,</p>
<p>You mentioned that the sketch is not even running yet, so how are you measuring the voltage on the ADC pin?</p>
<p>If you are using a multimeter, if you have selected &#39;DC&#39;, you will see only 2.5V displayed.</p>
<p>&nbsp;</p>
<p>[Edit - RW]<br />
And even if you have selected "AC", you still will not necessarily read the result that you are expecting because the voltage you want is sitting on top of the 2.5 V that you are measuring. Look at and study the diagram on that Building Blocks page.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11604"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-02nLOaMBOSOTveA51tNWGH7e4VRq8Dc0q77Brytchwc" value="form-02nLOaMBOSOTveA51tNWGH7e4VRq8Dc0q77Brytchwc"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
