<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3005 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:24:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>rfm2pigateway error | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">rfm2pigateway error</h3>
        <span class="submitted">Submitted by Guest on Wed, 23/10/2013 - 18:40</span>
        <div class="content"><p>Hello,</p>
<p>i&#39;m from germany and i would like to use the&nbsp;emontx with my raspberry pi.</p>
<p>i use the emontx_ct123 as firmware, but it dosn&#39;t work.</p>
<p>i have found this errormassage in the logfile on my pi.</p>
<p>&nbsp;</p>
<p>&gt;&nbsp;&nbsp; /var/log/rfm2pigateway/rfm2pigateway.log</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>2013-10-17 02:42:16,443 WARNING Couldn&#39;t get settings. Retrying in 10 sec...<br />
	2013-10-17 02:42:45,975 INFO Setting RFM2Pi | baseid: 15<br />
	2013-10-17 02:42:46,979 INFO Setting RFM2Pi | frequency: 8<br />
	2013-10-17 02:42:48,023 INFO Setting RFM2Pi | sgroup: 210<br />
	2013-10-17 02:55:18,321 DEBUG Opening serial port: /dev/ttyAMA0<br />
	2013-10-17 02:55:18,454 WARNING Couldn&#39;t get settings, Exception: Traceback (most recent call last):<br />
	&nbsp; File &quot;/var/www/emoncms/Modules/raspberrypi/rfm2pigateway.py&quot;, line 367, in get_settings<br />
	&nbsp;&nbsp;&nbsp; settings[s[0]] = s[1].replace(&quot;\\&quot;,&quot;&quot;)<br />
	IndexError: list index out of range</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>please help me in simple englisch&nbsp;what is wrong ;)</p>
<p>
	&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="3003.html" class="topic-previous" title="Go to previous forum topic">‹ how is individual phase voltage derived as +-120 deg phase angle from single volt source ?</a>
              <a href="2997.html" class="topic-next" title="Go to next forum topic">kWhd on local emoncms different to emoncms.org ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-15912"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: rfm2pigateway error</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Wed, 23/10/2013 - 23:37.</div>
    <div class="content">
     <p>Mm iv not seen this before. Are you running the stock emoncms gateway image?http://emoncms.org/site/docs/raspberrypigateway</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15917"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: rfm2pigateway error</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 24/10/2013 - 07:28.</div>
    <div class="content">
     <p>He is using a local emoncms installation with the RPi plugin, not the standalone gateway:</p>
<p>&nbsp;&nbsp;&nbsp; /var/www/emoncms/Modules/raspberrypi/rfm2pigateway.py</p>
<p>The error is here:</p>
<p><a href="https://github.com/emoncms/raspberrypi/blob/master/rfm2pigateway.py#L367" title="https://github.com/emoncms/raspberrypi/blob/master/rfm2pigateway.py#L367">https://github.com/emoncms/raspberrypi/blob/master/rfm2pigateway.py#L367</a></p>
<p>Probably because settings is not of the expected form. Most likely, the request for settings failed. This could be caught with a nicer exception, perhaps.</p>
<p>This has nothing to do with the emontx_ct123 sketch in your emonTX.</p>
<p>Did you do the mySQL installation and all ? Can you detail your installation process ? SD card image ? Ready-made ? Which ? From scratch ? Which steps did you follow ?</p>
<p>Can you try, once logged into your local emoncms installation, to open in your browser the following URL (adapted to your setup) ?</p>
<p><a href="http://localhost/emoncms/raspberrypi.get.json" title="http://localhost/emoncms/raspberrypi.get.json">http://localhost/emoncms/raspberrypi.get.json</a></p>
<p>(local host if you run the browser on the Pi, otherwise, the hostname or IP address of the Pi, anyway, the same URL your use to connect to your local emoncms to parameter and watch the outputs).</p>
<p>You should get the parameters the gateway script expects, like:</p>
<p>&nbsp;&nbsp;&nbsp; {&quot;userid&quot;:&quot;1&quot;,&quot;sgroup&quot;:&quot;210&quot;,...,&quot;remoteprotocol&quot;:&quot;http:\\/\\/&quot;}</p>
<p>If not (most likely), then that&#39;s the problem. I&#39;d expect a mySQL connection error.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/3005"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-WROQRFRay6uvLr8qtNol0hqVWh8iEQwjIgAFvLtC9xk" value="form-WROQRFRay6uvLr8qtNol0hqVWh8iEQwjIgAFvLtC9xk"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/3005 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:24:15 GMT -->
</html>
