<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11051 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:30:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Why do I get distorted AC waveforms for lower Amp readings from the CT? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>
        <span class="submitted">Submitted by <a href="../user/8507.html" title="View user profile.">ardaniel</a> on Wed, 29/07/2015 - 17:25</span>
        <div class="content"><p>Hi&nbsp;</p>
<p>Please check the attached images from my oscilloscope, upon measuring the AC waveforms of voltage measured across the burden resistor (which is placed across my CT). I am using a DC offset of + 1.088Vdc.</p>
<p>The images show the AC waveform at the lower and higher settings of the readings when the CT is used to measure current consumed by my table fan.</p>
<p>If you observe the higher setting readings, the waveform is a perfect sine wave.</p>
<p>If you observe the lower setting readings, the wavefrom is not a perfect sine wave. Why is this? How can I get a correct sine wave?</p>
<p>My circuit is exactly same as the&nbsp;one in this page:</p>
<p><a href="https://learn.openenergymonitor.org/?redirect=ct-sensors-interface" title="http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface">http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface</a></p>
<p>Thanks in advance!</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11031.html" class="topic-previous" title="Go to previous forum topic">‹ CTs in Parallel Question</a>
              <a href="10685.html" class="topic-next" title="Go to next forum topic">Input value showing negative on 3 phase ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-32779"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8507.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ardaniel&#039;s picture" title="ardaniel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/8507.html" title="View user profile.">ardaniel</a> on Wed, 29/07/2015 - 17:49.</div>
    <div class="content">
     <p>Just realized this issue has already been discussed in the forums.</p>
<p><a href="1680.html" title="http://openenergymonitor.org/emon/node/1680">http://openenergymonitor.org/emon/node/1680</a></p>
<p><a href="1705.html" title="http://openenergymonitor.org/emon/node/1705">http://openenergymonitor.org/emon/node/1705</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32780"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 29/07/2015 - 17:53.</div>
    <div class="content">
     <p>Your fan is probably using a diode as a half wave rectifier for the low speed perhaps?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32787"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 29/07/2015 - 21:25.</div>
    <div class="content">
     <p>I don't think there's a 'perhaps' at all, more like a cast iron certainty! I think your monitor is fine and telling the truth - except that the 'zero' of the current is offset because of course the transformer blocks dc - in fact you can see in pictures 1 &amp; 3 that it starts off 'correct' and how the wave settles to the new average value. </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32805"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8507.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ardaniel&#039;s picture" title="ardaniel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/8507.html" title="View user profile.">ardaniel</a> on Thu, 30/07/2015 - 15:04.</div>
    <div class="content">
     <p>can you elaborate on the &quot;the transformer blocks dc&quot; part? Please and thanks!</p>
<p>&nbsp;</p>
<p><em>Edit - deleted duplicate post - BT</em></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32806"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 30/07/2015 - 15:37.</div>
    <div class="content">
     <p>You didn't need to ask the question twice, and you didn't need "Hey" to get my attention. </p>
<p>Transformers do not pass the dc component of the voltage/current in the primary winding into the secondary winding. This property, of isolating the secondary circuit from the primary, together with the voltage/current transformation ratio are the two reasons for using a transformer.</p>
<p>In picture 1, before you switch the fan on, your oscilloscope shows a flat line (or it's supposed to be a flat line!) that has settled in the quiescent state at about 1.1 V. When you switch on, the first half-cycle sits correctly at that level. Thereafter, your 'scope trace settles so that the average value of the half wave ends up at that same 1.1 V level. </p>
<p>A pure sine wave is y = Asin(&omega;t).<br />
If you do a Fourier analysis of a rectified sine wave, you find it has a d.c. component of A/&pi; (the first term in the series):<br />
<img src="../../../www.rfcafe.com/references/electrical/images/period3.gif" alt="equation of rectified wave"></p>
<p>(A is the signal amplitude). That d.c. component cannot get through the transformer, therefore the 'baseline' of the wave, as you can see in your picture, is depressed below the quiescent level of 1.1 V.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32813"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8507.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ardaniel&#039;s picture" title="ardaniel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/8507.html" title="View user profile.">ardaniel</a> on Thu, 30/07/2015 - 16:41.</div>
    <div class="content">
     <p>If I find the RMS value of the waveforms as they appear in pictures 1, will I be measuring the correct current RMS value?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32818"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 30/07/2015 - 17:51.</div>
    <div class="content">
     <p>If you use the calcIrms( ) or the calcVI( ) method in emonLib, you will indeed read the true rms current or the true real power in your load.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32819"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8507.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ardaniel&#039;s picture" title="ardaniel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/8507.html" title="View user profile.">ardaniel</a> on Thu, 30/07/2015 - 17:56.</div>
    <div class="content">
     <p>Awesome.</p>
<p>Thank you for your crystal clear explanations.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32857"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Fri, 31/07/2015 - 11:41.</div>
    <div class="content">
     <p><em>If you use the calcIrms( ) or the calcVI( ) method in emonLib, you will indeed read the true rms current or the true real power in your load.</em></p>
<p>I can believe the true real power&nbsp;survives&nbsp;the CT ordeal, but how does Irms survive it? &nbsp; Won&#39;t Irms<sup>2</sup> on the secondary side of the CT&nbsp;be Irms<sup>2&nbsp;</sup>on the primary side less Idc<sup>2,&nbsp;</sup>where Idc is the DC current removed by the CT (A/&pi;).</p>
<p>The attached scope trace is of my hairdryer on LOW. &nbsp;The green trace is a current probe, and the pink trace is the output of CT. &nbsp;On the green measurements you&#39;ll see that 3.18<sup>2&nbsp;</sup>+ 2.83<sup>2&nbsp;</sup>= 4.26<sup>2</sup>. &nbsp; If I do the calibration maths, I find&nbsp;the pink trace has moved south by 2.83A to be centred on 0 (note the little GND symbols in the left margin). &nbsp;And the RMS values of the pink curve corresponds to the 3.18A, not the 4.26A.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32858"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 31/07/2015 - 12:30.</div>
    <div class="content">
     <p>You will read the true rms of the waveform that gets though the CT - within the bandwidth limit of the sampling rate of course, and not counting calibration accuracy and aliasing effects. </p>
<p>If you can figure out a way of restoring the d.c. offset in the software, I'd be quite interested (I think this discussion has been had here already, some while ago). </p>
<p>At the end of the day, half-wave rectification is bad practice because most transformers are not made to handle it (OK, a distribution transformer would never notice that much in isolation, but would be in serious trouble if a significant proportion of its load was half-wave on the same half cycle) and, although I can't recollect a specific citation, my guess is that it is illegal once the d.c. component exceeds a specified absolute current. However, it's common practice as a cheap way of getting reduced power for small appliances like that fan or hairdryer.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32860"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Fri, 31/07/2015 - 13:12.</div>
    <div class="content">
     <p><em>You will read the true rms of the waveform that gets though the CT</em></p>
<p>Yes, but that won&#39;t be the true RMS reading of the load, which I think is what the OP was asking. &nbsp; At any rate, so long as he realises the difference then we&#39;re all in agreement.</p>
<p><em>my guess is that it is illegal once the d.c. component exceeds a specified absolute current</em></p>
<p>The way they regulate that in these parts at least, is to put restrictions on even harmonics. &nbsp;Here&#39;s how my energy monitor sees my hairdryer in the time and frequency domains.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32862"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 31/07/2015 - 14:24.</div>
    <div class="content">
     <p>OK, is zero an even number and if so, where's the zeroth harmonic ? <img src="../../../www.codeproject.com/script/Forums/Images/smiley_laugh.gif"></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32877"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8507.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ardaniel&#039;s picture" title="ardaniel&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why do I get distorted AC waveforms for lower Amp readings from the CT?</h3>

    <div class="submitted">Submitted by <a href="../user/8507.html" title="View user profile.">ardaniel</a> on Sat, 01/08/2015 - 01:05.</div>
    <div class="content">
     <p>&quot;Yes, but that won&#39;t be the true RMS reading of the load, which I think is what the OP was asking. &nbsp; At any rate, so long as he realises the difference then we&#39;re all in agreement.&quot;</p>
<p>I do understand the difference now, I&nbsp;thank both of you.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11051"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-YUC_5Qgf4oDWs0mCvXhvb3KrrYyHQ1KlXPs14adqlyQ" value="form-YUC_5Qgf4oDWs0mCvXhvb3KrrYyHQ1KlXPs14adqlyQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/11051 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:30:40 GMT -->
</html>
