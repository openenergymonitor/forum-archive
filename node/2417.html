<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2417 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:00:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Are there any all DC Solar monitor hardware / software setups for emon? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Are there any all DC Solar monitor hardware / software setups for emon?</h3>
        <span class="submitted">Submitted by Guest on Tue, 28/05/2013 - 17:07</span>
        <div class="content"><p>Hi All, &nbsp;I&#39;m new to the forum so excuse me if I missed it, but I&#39;ve tried searching for a DC voltage / current monitoring setup for emon. &nbsp;It seems most Solar uses are for Grid tied and AC inverter uses with standard CT sensor.</p>
<p>What I&#39;m looking to buy / built / program, is an ALL DC version for a small solar setup, a few PV panels and a Charge Controller with 12 VDC&nbsp;batteries and a 12 VDC load, a water pump for a pond.</p>
<p>This is probably overkill for a small solar system like this, but I&#39;m trying to balance the running of the pump to the power into and out of the solar system. &nbsp; Basically, there are 3 input / ouputs. &nbsp;18 Volt solar panels, output from Charge controller to battery (could be charging or drawing current - if cloudy) &nbsp;and output to load (12V DC water pump).</p>
<p>I&#39;d love to use the ecomTX and 3 current sensors for each item connected to the Charge Controller, in order to monitor the solar power generated, stored and consumed. &nbsp;So basically, it&#39;s a solar PV monitor, but all DC, no inverters or AC or Grid.</p>
<p>If anyone can help me get to the best starting point, I would be very grateful and if work needed, I will develop and contribute the system, but don&#39;t want to re-invent the emon Solar DC monitoring wheel, so to speak.</p>
<p>Thanks,</p>
<p>Scott&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2421.html" class="topic-previous" title="Go to previous forum topic">‹ Suggestions for feed/vis setup for low resolution pulses</a>
              <a href="2408.html" class="topic-next" title="Go to next forum topic">Solenoid valve ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-12430"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1747.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1747.jpg" alt="Petrik&#039;s picture" title="Petrik&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Are there any all DC Solar monitor hardware / software setups for emon?</h3>

    <div class="submitted">Submitted by <a href="../user/1747.html" title="View user profile.">Petrik</a> on Tue, 28/05/2013 - 19:03.</div>
    <div class="content">
     <p>This is what i built few weeks ago - emontx is basically same as jeenode.&nbsp;<a href="2109.html">http://openenergymonitor.org/emon/node/2109</a>&nbsp;. You need external current sensing device.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12431"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Are there any all DC Solar monitor hardware / software setups for emon?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 28/05/2013 - 20:24.</div>
    <div class="content">
     <p>I&#39;m fairly certain that some users have at least thought about monitoring the d.c. side - though not low voltage d.c. as you are intending. You don&#39;t mention the currents you are envisaging, so I don&#39;t know whether Hall effect sensors or plain shunts would be in order, but if the latter then you&#39;d need to keep their volt drops low to keep power losses to a minimum so some amplification would be required to get a usable voltage to feed the ADC.</p>
<p>The emonTx is designed for a.c. mains use so it&#39;s probably not the best starting point, you might be better starting with an Arduino board with a custom interface to your hardware. You also need to think about your control algorithm. Calypso_rae&#39;s Mk 2 router algorithm is intrinsically tied to mains frequency and the characteristics of the energy meter, it seems to me that - depending on the characteristics of your pump, you will be essentially free of these limitations and you could drive your pump at variable speed or on/off with whatever period and duty cycle you desire. However, the basic control algorithm should stand you in good stead.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12432"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1747.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1747.jpg" alt="Petrik&#039;s picture" title="Petrik&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Are there any all DC Solar monitor hardware / software setups for emon?</h3>

    <div class="submitted">Submitted by <a href="../user/1747.html" title="View user profile.">Petrik</a> on Tue, 28/05/2013 - 21:39.</div>
    <div class="content">
     <p>Oh - did not fully read that in addition to dc monitoring also a way to control output is needed. Attached a link to a schematic and code (with google translator) to a mppt controlled dc hot water heater. Its not exactly same what you want but another view to the same challenge:&nbsp;<a href="http://translate.google.com/translate?sl=fi&amp;tl=en&amp;js=n&amp;prev=_t&amp;hl=en&amp;ie=UTF-8&amp;eotf=1&amp;u=http%3A%2F%2Fwww.poikkis.net%2Findex.php%3Ftopic%3D5155.0">http://translate.google.com/translate?sl=fi&amp;tl=en&amp;js=n&amp;prev=_t&amp;hl=en&amp;ie=UTF-8&amp;eotf=1&amp;u=http%3A%2F%2Fwww.poikkis.net%2Findex.php%3Ftopic%3D5155.0</a></p>
<p>Basically this circuit has a constant load resitor and then with varying output it switches excess energy to additional hot water tank heater resistors based on how much energy is available. I.e you could have motor on constantly and then switch the heater elements on using this kind of setup.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12435"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Are there any all DC Solar monitor hardware / software setups for emon?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 29/05/2013 - 00:21.</div>
    <div class="content">
     <p>Erm...</p>
<p>I think the fish would die if the water were to be heated.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12438"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="scottmc&#039;s picture" title="scottmc&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Are there any all DC Solar monitor hardware / software setups for emon?</h3>

    <div class="submitted">Submitted by scottmc (not verified) on Wed, 29/05/2013 - 02:58.</div>
    <div class="content">
     <p>Thanks, that looks great and will be very helpful. &nbsp;a good place to start. &nbsp;I didn&#39;t know much about the jeenode&nbsp;before, I will check it out.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12439"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="scottmc&#039;s picture" title="scottmc&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Are there any all DC Solar monitor hardware / software setups for emon?</h3>

    <div class="submitted">Submitted by scottmc (not verified) on Wed, 29/05/2013 - 03:17.</div>
    <div class="content">
     <p>The currents are low, I&#39;m talking about a 50 Watt panel at 18 volts, &nbsp;a fairly simple 12 DC charge controller with multiple charge modes. &nbsp; Yes, probably use a shunt and OpAmp&nbsp;into the ADC. &nbsp; The 12 VDC Pump is somewhat flexible, it draws less than 2 amps at most voltage levels, from 11 - 13 volts out of the load side of the charge controller.</p>
<p>The Battery is deep cycle&nbsp;12VDC 40 Amp hours, so with good control routine, should keep it in the 50% - 100% range. &nbsp;In full sun and the pump running, should just lightly or trickle charge the battery, so no need for a dump load, plus, just running the pump evening and/or early morning will almost ensure the battery is never fully charged, come peak solar time.</p>
<p>However, on cloudy or rainy days, don&#39;t want to run the fountain pump too much to drain the batteries too low. &nbsp;And one of the main reasons to have the monitoring, is to know if maybe need a 60 or 80 watt PV panel, for example. &nbsp;So part of this is to help tweak the setup under real site conditions, not just estimates, of average solar days, etc. &nbsp;and of course, see how much power is made from sun and used on pond. &nbsp;It&#39;s not for any significant saving on AC, more not paying to run AC power out to the pond / fountain waterscape. &nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12440"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="scottmc&#039;s picture" title="scottmc&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Are there any all DC Solar monitor hardware / software setups for emon?</h3>

    <div class="submitted">Submitted by scottmc (not verified) on Wed, 29/05/2013 - 03:19.</div>
    <div class="content">
     <p>lol.... Yes, don&#39;t want to heat the water, but I may add an underwater LED light to burn any extra watts I might have in summer months.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2417"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-83lw-LIiAQqA0b7t2zFV6pjF-co0kHGyJqtLu-NBBy8" value="form-83lw-LIiAQqA0b7t2zFV6pjF-co0kHGyJqtLu-NBBy8"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
