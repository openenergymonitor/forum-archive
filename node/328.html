<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/328 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:42:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>EtherCard DNS issue and potential fix? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">EtherCard DNS issue and potential fix?</h3>
        <span class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 01/01/2012 - 12:13</span>
        <div class="content"><p>I had an issue this morning while trying to use the getDHCPandDNS example. It seemed to get the server ip the first time I would try to reach a particular domain, but after resetting and attempting to reach the same domain again it would fail.</p>
<p><span class="Apple-style-span" style="font-family: Verdana, Geneva, '&ldquo;DejaVu Sans&rdquo;', sans-serif; line-height: 18px; "></p>
<p style="font-style: inherit; font-size: 12px; font-family: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0.75em; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; line-height: 1.5em; ">I noticed that when it prints out the ip addresses after the dhcpSetup it would give me the following:</p>
<p style="font-style: inherit; font-size: 12px; font-family: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0.75em; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; line-height: 1.5em; ">[getDHCPandDNS]<br />
My IP: 192.168.2.18<br />
GW IP: 192.168.2.1<br />
DNS IP: 192.168.2.1</p>
<p style="font-style: inherit; font-size: 12px; font-family: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0.75em; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; line-height: 1.5em; ">I thought that as it was printing out my router ip address for the dns ip address there may be some mixup going on somehow, could it be due to my router hardware maybe?</p>
<p style="font-style: inherit; font-size: 12px; font-family: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0.75em; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; line-height: 1.5em; ">If I set the DNS address manually after dhcp setup with:</p>
<p style="font-style: inherit; font-size: 12px; font-family: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0.75em; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; line-height: 1.5em; ">static byte dnsip[] = {8,8,8,8};<br />
ether.copyIp(ether.dnsip, dnsip);<br />
ether.printIp(&quot;DNS IP: &quot;, ether.dnsip);</p>
<p style="font-style: inherit; font-size: 12px; font-family: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0.75em; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; line-height: 1.5em; ">dnsLookup then works reliably getting the server ip every time.</p>
<p style="font-style: inherit; font-size: 12px; font-family: inherit; margin-top: 0px; margin-right: 10px; margin-bottom: 0.75em; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; line-height: 1.5em; ">Just thought I would post this up in case its of any use, does anyone else have this issue?</p>
<p></span>I posted this up on the jeelabs forum&nbsp;<a href="http://forum.jeelabs.net/node/779">here</a>&nbsp;too<span class="Apple-style-span" style="font-family: Verdana, Geneva, '&ldquo;DejaVu Sans&rdquo;', sans-serif; line-height: 18px; "><br type="_moz" /><br />
</span></p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="338.html" class="topic-previous" title="Go to previous forum topic">‹ Sending realpower values to emonBase</a>
              <a href="316.html" class="topic-next" title="Go to next forum topic">Sending data to econcms2 via Python ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/328 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:42:19 GMT -->
</html>
