<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/645 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:07:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Specifing a different port on the http server [ e.g. using hisport ] | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Specifing a different port on the http server [ e.g. using hisport ]</h3>
        <span class="submitted">Submitted by <a href="../user/349.html" title="View user profile.">EnergyRnR</a> on Tue, 01/05/2012 - 20:48</span>
        <div class="content"><p>Hi, I&#39;ve a system in the local school and it uses an XP desktop machine running <a href="http://www.iis.net/overview">IIS</a>&nbsp;so I ran into an port conflict issue when using XAMPP&nbsp;. I changed the listen directive for xampp, to use port 85, and thereby avoid the conflict.&nbsp;</p>
<p>From the nanode5 base I&#39;m using though, I can&#39;t post data to the local emoncms server....</p>
<p><span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; ">I can post to&nbsp;</span><a href="http://vis.openenergymonitor.org/" style="font-family: arial; font-size: small; " target="_blank">vis.openenergymonitor.org</a></p>
<p><span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; ">I can access </span>emoncms<span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; "> from my laptop which is external to the server.</span></p>
<p><span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; ">I can ping the Nanode.</span><br style="color: rgb(0, 0, 0); font-family: arial; font-size: small; " /><br />
	<span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; ">The Nanode is posting data to it&#39;s serial port.</span><br style="color: rgb(0, 0, 0); font-family: arial; font-size: small; " /><br />
	<span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; ">I can post data using the API string on the emoncms server just to verify I can write to the db and see it on emoncms.</span></p>
<p><span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; ">​Even though all this is working, I am failing to post to the local emoncms server... So, I set hisport =85; in the sketch to try to correct the port conflict issue. </span></p>
<p><span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; ">I know that the ethercard&nbsp;library specifies port 80 in the ethercard.cpp file explicitly, but thought if I assigned 85 to the hisport variable in the sketch it should work. </span></p>
<p><span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; ">Does anyone have experience of this - I&#39;m not too sure how to debug from here - great learning in it though but need to get it nailed soon...</span></p>
<p><span style="color: rgb(0, 0, 0); font-family: arial; font-size: small; ">​Thanks, Eamonn</span></p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="790.html" class="topic-previous" title="Go to previous forum topic">‹ Forum display font size wrong.</a>
              <a href="758.html" class="topic-next" title="Go to next forum topic">Problem with a forum post? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-4185"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/349.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-349.jpg" alt="EnergyRnR&#039;s picture" title="EnergyRnR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/349.html" title="View user profile.">EnergyRnR</a> on Thu, 03/05/2012 - 12:00.</div>
    <div class="content">
     <p>I can only conclude that specifying &quot;ether.hisport = 85; &quot; in the sketch isn&#39;t actually directing my nanode to use port 85 at al. I&#39;m going to try stopping the IIS webserver and reconfgure Xampp to use port 80. That may confirm it for me</p>
<p>Eamonn</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4195"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/859.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Drsdre&#039;s picture" title="Drsdre&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/859.html" title="View user profile.">Drsdre</a> on Thu, 03/05/2012 - 19:52.</div>
    <div class="content">
     <p>I have experience with a setup using a different port for the web connection on EmonBase. I&#39;ve added the ether.hisport = 8808 code to the setup part of the sketch just above the rf12_initialize&nbsp;line.</p>
<p>Did you check the access logs of the webserver to see if any requests are coming in at all? (other issues could be API key or different URL).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4207"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/349.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-349.jpg" alt="EnergyRnR&#039;s picture" title="EnergyRnR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/349.html" title="View user profile.">EnergyRnR</a> on Fri, 04/05/2012 - 08:46.</div>
    <div class="content">
     <p>Afs, thanks for that&nbsp; ; code is the same as you&#39;ve described and when I check the access logs I get ;</p>
<p>127.0.0.1 - - [04/May/2012:09:21:35 +0100] &quot;GET /emoncms3/input/list.json HTTP/1.1&quot; 200 82 &quot;http://localhost:85/emoncms3/input/list&quot; &quot;Mozilla/5.0 (Windows NT 5.1; rv:12.0) Gecko/20100101 Firefox/12.0&quot;</p>
<p>MySQL or Apache error logs are empty for today, and the Apache access log above looks ok to me though I&#39;m not 100% sure if the 1st line of the request is right &quot;GET /emoncms3/input/list.json HTTP/1.1&quot;.</p>
<p>But &#39;m getting an &#39;ok&#39; response so it is confirming I am successfully reaching the server.</p>
<p>I&#39;ll try a new API, but thanks for making me check the logs again.</p>
<p>Eamonn</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4208"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/349.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-349.jpg" alt="EnergyRnR&#039;s picture" title="EnergyRnR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/349.html" title="View user profile.">EnergyRnR</a> on Fri, 04/05/2012 - 09:08.</div>
    <div class="content">
     <p id="li_web_server_software">Environment is as follows</p>
<ul>
<li>
		Windows XP; SP3</li>
<li>
		Apache/2.2.21 (Win32) mod_ssl/2.2.21 OpenSSL/1.0.0e PHP/5.3.8 mod_perl/2.0.4 Perl/v5.10.1</li>
<li id="li_mysql_client_version">
		MySQL client version: mysqlnd 5.0.8-dev - 20102224 - $Revision: 310735</li>
</ul>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4294"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/349.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-349.jpg" alt="EnergyRnR&#039;s picture" title="EnergyRnR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/349.html" title="View user profile.">EnergyRnR</a> on Tue, 08/05/2012 - 08:39.</div>
    <div class="content">
     <p>I&#39;ve no errors being logged, but am not writing to the db. Assuming the Apache access log is healthy above, this means that it must be an environment issue - i.e. I&#39;m not even getting to the db.</p>
<p>I&#39;ve checked my user account is set correctly[ settings.php and mysql account are in sync and has full db priviliges]. I&#39;ve set up the environment in c:/xampp</p>
<p>Has anyone else a different installation on XP that I could correlate against?</p>
<p>thanks,Eamonn</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4296"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 08/05/2012 - 11:15.</div>
    <div class="content">
     <p>I had an issue with privileges: In settings.php it would only accept access as root with a null password (not even an empty password!), even though the user ID I wanted to use had exactly (as far as I could tell) the same privileges as root.</p>
<p>(This was with Windows XP and WampServer - I&#39;ve still not got it going).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4297"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/349.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-349.jpg" alt="EnergyRnR&#039;s picture" title="EnergyRnR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/349.html" title="View user profile.">EnergyRnR</a> on Tue, 08/05/2012 - 11:32.</div>
    <div class="content">
     <p>very interesting. Thanks for that....&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4298"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/349.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-349.jpg" alt="EnergyRnR&#039;s picture" title="EnergyRnR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/349.html" title="View user profile.">EnergyRnR</a> on Tue, 08/05/2012 - 11:32.</div>
    <div class="content">
     <p>very interesting. Thanks for that....&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4353"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/349.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-349.jpg" alt="EnergyRnR&#039;s picture" title="EnergyRnR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/349.html" title="View user profile.">EnergyRnR</a> on Thu, 10/05/2012 - 11:28.</div>
    <div class="content">
     <p>Tried variations of root passwords to no avail. However, it was a useful workshop for understanding how phpmyadmin is configured..........</p>
<p>I created a new database called Scoil [This is Irish for school, by the way], and setup the username as &#39;root&#39; and password as &#39;demo&#39; (in my settings.php file). Once I had set up and went to me URL, I saw the setup complete and clicked the &#39;continue to emoncms&#39; link. I couldn&#39;t generate any API, and when I logged out, I couldn&#39;t log back in[ using root/demo].</p>
<p>any ideas? I know this is a slight tangent, but I want to make sure I&#39;ve a clean db and have eliminated the username/password problems.</p>
<p>Eamonn</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-4958"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/349.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-349.jpg" alt="EnergyRnR&#039;s picture" title="EnergyRnR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Specifing a different port on the http server [ e.g. using hisport ]</h3>

    <div class="submitted">Submitted by <a href="../user/349.html" title="View user profile.">EnergyRnR</a> on Fri, 22/06/2012 - 10:23.</div>
    <div class="content">
     <p>Just getting back to this now..... </p>
<p>I can access the server from a standalone laptop as well as the server; using the 'IPv4address:8808/emoncms3' as the URL. </p>
<p>I have changed the tcpip.cpp file in the ethercard library to explicitly look for 8808 instead of using hisport.</p>
<p>I've changed the xampp/conf/https.conf file to Listen on port 8808 using 'Listen 8808'</p>
<p>The apache <strong>error </strong>log is clear except for a warning that the ....</p>
<p>&quot;pid file C:/xampp/apache/logs/httpd.pid overwritten -- Unclean shutdown of previous Apache run?&quot;</p>
<p>The acces log shows me no record of the GET from the emonbase.....so my requests are not reaching the server. </p>
<p>I'll have a talk with some folks this evening on this and post my resolution here. Environment is windows XP pro. IIS is running on the same machine. I'd like to turn it off and confirm I can post using the default port assignments.</p>
<p>Eamonn.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/645"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-cC2kwUVpdD-5ofdOhEDSRoKztKnpsX_aJDMzQyzHJoY" value="form-cC2kwUVpdD-5ofdOhEDSRoKztKnpsX_aJDMzQyzHJoY"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/645 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:07:06 GMT -->
</html>
