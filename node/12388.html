<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/12388 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:47:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>New &#039;Graph&#039; Data Viewer - SORTED | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">New &#039;Graph&#039; Data Viewer - SORTED</h3>
        <span class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 23/03/2016 - 20:41</span>
        <div class="content"><p>Just trying the new<a href="https://github.com/emoncms/graph"> &#39;Graph&#39;&nbsp;Data Viewer</a>, which works great with most of my&nbsp;feeds, however strangely it doesn&#39;t seem to work well with feeds that originate from a MQTT input.</p>
<p>Firstly, none of the MQTT origin feeds appear in the left sidebar of the Data Viewer, only the feeds originating from emonTX&#39;s and emonTH&#39;s. So this results in for example,&nbsp;not being able to compare&nbsp;Power usage (emonTX) with Outdoor Temperature (MQTT). - (Or does it only display the first 16 feeds?)</p>
<p>If I select the &#39;Outdoor Temperature&#39; &#39;eye&#39; icon from the feeds page, the Data Viewer opens for that feed, but the data does not display correctly;<br />
The data is displayed OK when selecting the current DAY -</p>
<p><img alt="" src="../sites/default/files/day.png" style="width: 600px; height: 342px;" /></p>
<p>But then when zooming out, or selecting week, the data disappears (the data shown above is Mar 22/23)</p>
<p><img alt="" src="../sites/default/files/week.png" style="width: 599px; height: 347px;" /></p>
<p>Paul</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12411.html" class="topic-previous" title="Go to previous forum topic">‹ emoncms.log Time incorrect</a>
              <a href="12408.html" class="topic-next" title="Go to next forum topic">New postprocess module ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-40581"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New 'Graph' Data Viewer - SORTED</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 24/03/2016 - 18:02.</div>
    <div class="content">
     <p>Hello Paul, there shouldnt be anything in the graph module per se, that would distinguish between feeds created from one or another source, my first thought when you mentioned that they don&#39;t appear in the left sidebar is that it could be naming related. Do you see any errors in the console window?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40614"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New 'Graph' Data Viewer - SORTED</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 25/03/2016 - 21:25.</div>
    <div class="content">
     <p>Trystan has kindly pointed out the issue about the feed data not displaying correctly was due to poor feed quality.&nbsp;This was&nbsp;caused by the post interval being less frequent than the underlying feed file interval of phpfina.</p>
<p>This is evident when looking at the &#39;CSV Output&#39; from the &#39;Graph&#39; data viewer;</p>
<p>1458767280, 5.5<br />
1458767400, null<br />
1458767520, null<br />
1458767640, null<br />
1458767760, null<br />
1458767880, 5.3<br />
1458768000, null<br />
1458768120, null<br />
1458768240, null<br />
1458768360, null<br />
1458768480, 4.9</p>
<p>As can be seen, I get a post&nbsp;update every 600 seconds, yet I had set the emoncms feed to update every 60 seconds (doh!), so emoncms filled all of the gaps with &#39;null&#39; which prevented the graph from displaying correctly due to&nbsp;the request to build the graph was asking for data points out of sync with the position of the valid datapoints in the file.<br />
<em>This originated because I decreased the API call rate to a weather station to get less regular updates, to capture wind speed &amp; gusts which is fed to emoncms via MQTT.</em></p>
<p>Unfortunately, it&#39;s not possible (at this time) to change the feed update interval, so the only solution was to delete the feed (and a few others too..) and make another feed with an update interval of 600 seconds.<br />
I&#39;ve just rechecked the feed quality again in the &#39;Graph&#39; data viewer, and now it is showing 100%, instead of the 20% reported with the old feed, and the graph displays perfectly.</p>
<p>There is however still an issue with the Graph data viewer which results in not all the feeds being displayed in the left hand sidebar, and I&#39;ll post that issue a little later.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40627"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New 'Graph' Data Viewer - SORTED</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 26/03/2016 - 17:00.</div>
    <div class="content">
     <p>There is currently an issue with the left hand sidebar which holds the feeds list, in that if you have a large list of feeds, or are not using high resolution graphics, then the feeds list is cut short, and you cannot scroll down to the bottom of the feed list.<br />
An example is the screenshot below, which was taken from a laptop at video resolution of&nbsp;1366 x 768, and with 29 feeds. The last feed in the feed list is called &#39;emonTH&nbsp;Humidity&#39;, but as you can see, the last feed displayed &nbsp;in the Graph module is &#39;Outdoor Temp Fahrenheit&#39; , which is only the 19th&nbsp;feed in the list - and I can&#39;t scroll any further down to get access to feeds 20 - 29.</p>
<p><img alt="" src="../sites/default/files/zoom%20in.png" style="width: 699px; height: 349px;" /></p>
<p>EDIT - <a href="https://github.com/emoncms/graph/pull/1">Fix submitted&nbsp;for consideration</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40660"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: New 'Graph' Data Viewer - SORTED</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 27/03/2016 - 19:12.</div>
    <div class="content">
     <p>Fix now merged, and all working OK</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/12388"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-BMO7z469FgPyqYEhrVcnEHBFNiXZEP7T7GtRSxeNvsQ" value="form-BMO7z469FgPyqYEhrVcnEHBFNiXZEP7T7GtRSxeNvsQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
