<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/1153 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:53:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Resolved - emonCMS.org emonBase and multiple emonTX | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Resolved - emonCMS.org emonBase and multiple emonTX</h3>
        <span class="submitted">Submitted by <a href="../user/1189.html" title="View user profile.">Avontech</a> on Thu, 11/10/2012 - 22:55</span>
        <div class="content"><p>I&#39;ve now got two emonTx&#39;s up and running, one communicates just fine with emonGLCD. emonBase and emoncms.org</p>
<p>I have configured the emonTx&#39;s as node 10 (the first one) and node 11 for the second one.</p>
<p>emoncms.org and therefore obviously emonBase saw the second emonTx as it created (node11_xx)</p>
<p>The problem occurs when I switch the second emonTx on, I get an initial reading on emoncms.org and then emocms.org gets no new updated data from either of the emonTx&#39;s</p>
<p>Is the fault in emonBase or emoncms.org?</p>
<p>Mnay thanks</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2354.html" class="topic-previous" title="Go to previous forum topic">‹ Issue with Dashboard and USD</a>
              <a href="2348.html" class="topic-next" title="Go to next forum topic">is there RFM12Pi or Ri Outputs available. ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-6637"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1189.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Avontech&#039;s picture" title="Avontech&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1189.html" title="View user profile.">Avontech</a> on Thu, 11/10/2012 - 23:03.</div>
    <div class="content">
     <p>emoncms.org says that it;s being regularly updated from emonBase about every 8 seconds, however the Tx node data is not being updated on emoncms.org</p>
<p>I this likely to be collisions? W</p>
<p>hat if I alter the sleep time / interval on one of the Tx&#39;s ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6645"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1189.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Avontech&#039;s picture" title="Avontech&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1189.html" title="View user profile.">Avontech</a> on Sat, 13/10/2012 - 09:58.</div>
    <div class="content">
     <p>Narrowed it down a bit, though still not solved and would appreciate some pointers..</p>
<p>Looking at the MySQL dataase, emoncms is storing data from emonBase (Open Kontrol Gateway) usually every 10 seconds, there are occasional missed entries. (just the temperature)</p>
<p>If I only have one emonTx powered up, then data is being stored approximately every 6 seconds, with the occasional missed entries.</p>
<p>With two emonTx&#39;s powered up, then storing of data is exceedingly intermittent, sometimes over two hours between data entries.</p>
<p>emonGLCD is more than happily updated every 6 six seconds.</p>
<p>Any ideas?</p>
<p>	I have emonCMS set up on a Raspberry Pi, I get the same data logging problems if I output emonBase to emoncms.org. (that&#39;s where I first set it up and noticed the problems - hence the implementation on the Pi to be able to analyze what was happening in more detail.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6646"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 13/10/2012 - 14:16.</div>
    <div class="content">
     <p>Have you turned off (or set a very fast baud rate - 115200) serial comms in your OKG base? As I understand it, serial comms costs processor cycles and could be blocking reception of the data from the emonTx&#39;s.</p>
<p>The GLCD receives the data direct from the Tx, it isn&#39;t (normally, as in the published sketch) relayed via the base, so that tends to suggest it&#39;s not a transmitter problem nor (especially if the GLCD is receiving from both) data collisions.</p>
<p>Is the GLCD within range of both and are signal strengths likely to be similar? Can you program it to display data from both?</p>
<p>Have you tried a slightly different delay in one of the Tx&#39;s (i.e add say 0.5 s extra delay) - so that if it is data collisions, they drift in and out of sync and a pattern will emerge?</p>
<p>Can you look at the raw data stream coming in to your R-Pi?&nbsp; If there&#39;s missing data there, I think the prime suspect is the OKG base, if all is present and correct, it&#39;s the data handling inside emonCMS, and that&#39;s Trystan&#39;s area of expertise.</p>
<p>Are you providing the time on your R-Pi? The standard OKG Base sketch gets time from &quot;http://emoncms.org/time/local.json?apikey= .....&quot;.&nbsp; I haven&#39;t tried to understand the library so I don&#39;t know if retries and timeouts are involved. If they are, that could be costing you the time needed to handle the second channel.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6649"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 13/10/2012 - 16:44.</div>
    <div class="content">
     <p>[The following was cross-posted in a separate thread by <a href="../user/1189.html" title="View user profile.">Avontech</a> on Sat, 13/10/2012 - 17:11]</p>
<blockquote><p>I have emoncms available on both .org and a Raspberry Pi and the same things occurs on both, so it isn&#39;t emoncms.</p>
<p>I have the OKG emonBase and two emonTx , when only one Tx is powered up, emonBase happily transmits the data every 6 seconds to emoncms. (either one, both work fine)</p>
<p>When both Tx are powered up, after a few minutes, emonBase stops sending data, turn either one of the Tx off again and the emonBase resumes sending.</p>
<p>The Tx&#39;s are configured as node10 and node11, I have made no modifications to the NanodeRF_multinode sketch (save setting it to 868mHz). Interesting that the sketch says:</p>
<p>#define MYNODE 15&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>and yet emoncms reports the temperature sensor on the base as node20_1</p>
<p>To try to resolve the data transmission problem, I configured the sleep interval on node11, it&#39;s better, however it sitll sometimes stops sending the emonTx data for up to 10 minutes.</p>
<p>emonGLCD is working just fine, and is regularly updated from the emonTx.</p>
</blockquote>
<p>&nbsp;</p>
<p>A question: Why are you using the Nanode sketch rather than the OKG sketches <a href="https://github.com/openenergymonitor/Open-Kontrol-Gateway" title="https://github.com/openenergymonitor/Open-Kontrol-Gateway">https://github.com/openenergymonitor/Open-Kontrol-Gateway</a> ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6651"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1747.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1747.jpg" alt="Petrik&#039;s picture" title="Petrik&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1747.html" title="View user profile.">Petrik</a> on Sat, 13/10/2012 - 17:42.</div>
    <div class="content">
     <p>&nbsp;</p>
<p>Having just ordered the second emontx for heat pump monitoring would like to know if this is a common issue or just related to a particular configuration setup ? ... I also have nanodeRF (not only fw but also hw) so interested to know how to hack this ...</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6653"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 13/10/2012 - 18:18.</div>
    <div class="content">
     <p>Let&#39;s wait for a response from Avontech. He was apparently using the Nanode software in an OKG base. We don&#39;t know which Ethernet module he&#39;s using, but there a broad hints that the Wiznet is the better choice. I&#39;m no expert on networking protocols, but I do know that the OKG and its Wiznet module has built-in what is accomplished in software in the Nanode. So it&#39;s possible that there was a conflict and therein lies the source of the problem.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6654"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1189.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Avontech&#039;s picture" title="Avontech&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1189.html" title="View user profile.">Avontech</a> on Sat, 13/10/2012 - 19:34.</div>
    <div class="content">
     <p>I&#39;ve got the standard OKG base from the shop with came with the ENC28J60 Ethernet board.</p>
<p>I didn&#39;t change the baud rate so I&#39;ll have a look at that.</p>
<p>I altered the delay on one of the Tx&#39;s - I changed sleep to 9 instead of 5.</p>
<p>Both are at or about the same distance, and I can swap them over, turn them on / off and the results are replicatable.</p>
<blockquote><p>&quot;Why are you using the Nanode sketch rather than the OKG sketches <a href="https://github.com/openenergymonitor/Open-Kontrol-Gateway" title="https://github.com/openenergymonitor/Open-Kontrol-Gateway">https://github.com/openenergymonitor/Open-Kontrol-Gateway</a> ?&quot;</p>
</blockquote>
<p>Because that is the sketch that was linked to from the step by step guide for the OKG and this Ethernet board, also it had a mutinode option so I followed the instructions..</p>
<p>I actually need a third emonTx here as we&#39;ve got one of these installed: <a href="http://www.microgenerationpowermanager.com/" title="http://www.microgenerationpowermanager.com">http://www.microgenerationpowermanager.com</a> (was a lot easier and safer that building one ! and at the price offered good value) and I want to monitor everything (three inverters) including using the Pi as a weather station hooked up to a Maplins N96GY (wait till they&#39;re on sale) these operate on 433 hence I&#39;m using 868 for the openenrgymonitor bits.</p>
<p>Also worked out what node 20 is - it&#39;s actually the temp monitor from the emonGLCD not the base station, so that makes sense.</p>
<p>Will report back after</p>
<p>1) checking baud rates</p>
<p>2) Using the different sketch</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6655"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1189.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Avontech&#039;s picture" title="Avontech&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1189.html" title="View user profile.">Avontech</a> on Sat, 13/10/2012 - 20:20.</div>
    <div class="content">
     <p>OK, so</p>
<p>The only entry I could find for baud rate is:</p>
<blockquote><p>Serial.begin(9600)</p>
</blockquote>
<p>Tried the OKG_Wiz5200_RFM12B_emoncms_multinode script and it just froze complete;<br />
	( I edited the url&#39;s and IP info and api key - that&#39;s all</p>
<p>for info, when running with the&nbsp;NanodeRF_multinode sketch:</p>
<p>The two red led&#39;s on the front the right one is permanently on the left one never</p>
<p>the two internal leds both glow a very dim red</p>
<p>The ethernet port,<br />
	one green led (left) permanently on<br />
	one orange led (right)&nbsp; flashes about once a second</p>
<p>I normally detach the programming header after I&#39;ve uplaoded the sketch this time I left it attached and the following appeared in the bottom window of the Arduino sketch uploader application:</p>
<blockquote><p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space</p>
</blockquote>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6657"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 13/10/2012 - 22:47.</div>
    <div class="content">
     <p>Baud rate: You can change the (9600) to 115200 and select the same value in the serial monitor window of the IDE (Tools - Serial Monitor)&nbsp; or if that gives problems choose any other value that the serial monitor window offers.</p>
<p>You&#39;re OK with the Nanode software - I rather hoped you had the Wiznet module as that&#39;s what I have and it&#39;s the one the shop website says is better / easier to use.</p>
<p>The front right LED is power, the left is Status and you can turn it on or off in software. Defined at line 90:</p>
<blockquote><p>const int LEDpin=17;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //front status LED on OKG</p>
</blockquote>
<p>Uncomment this and make line 89 the comment - the LED should then be controlled by lines like 158 (Ethernet error). I haven&#39;t traced what the Green LED does on the OKG PCB but as nobody has complained it probably isn&#39;t a problem. But for safety, you could comment it out wherever it appears.</p>
<p>The internal LEDs - you mean the two on the back edge of the PCB behind the Ethernet adapter? - they&#39;re monitoring the serial data lines (pins 2 &amp; 3) of the Atmel Mega chip, so in essence there&#39;s data passing (which we knew!).</p>
<p>The error message is from the Arduino IDE, I can&#39;t tell you the exact meaning, but it seems to indicate a problem with not enough memory. We&#39;re looking for messages in the Serial Monitor window from the OKG.</p>
<p>Have you noted line 132 and included line 133?</p>
<p>If you enable serial output and leave the IDE connected (monitor the serial port with Tools - Serial Monitor) you should have line 210 print the data about to be sent via Ethernet - once for each message from each Tx. Is this continuous (every 6 s / 10 s however often your Tx&#39;s transmit) and correct?<br />
	The format should be &nbsp;</p>
<blockquote><p>[basedir - see line 79]/api/post.json?apikey=[your apikey]&amp;node=[node]&amp;csv=[byte values separated by commas]<br />
		e.g.<br />
		/api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,0,0,0,43,-12700<br />
		&nbsp;</p>
</blockquote>
<p>followed by an acknowledgement from emoncms (line 241) for each.<br />
	There should also be a message as it attempts to get the time from line 226, and the time if it is successful (line 245).</p>
<p>So are you able to check the incoming data stream on your R-Pi to see what is actually being received? (Can you run one of the packet sniffer programs that are available?) You should see the same string if you can display the serial data incoming before/as it&#39;s swallowed by emoncms.<br />
	(N.B. I don&#39;t agree that because emoncms.org and your R-Pi behave the same, the problem <strong>isn&#39;t </strong>emoncms!. That means it still could be emoncms - the software, not the eponymous website of course).</p>
<p>[Later...]</p>
<p>I&#39;ve had two emonTx&#39;s running into a NanodeRF base with a slightly modified sketch (because there is only a router attached - no internet, no server and no emoncms - so all DHCP and DNS has gone together with the error traps for Ethernet.</p>
<p>So far (30 mins) there&#39;s no hint of a lock-up and few collisions, and when there has been it had the predictable outcome that both sets of data were lost (but only one transmission).&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6659"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1189.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Avontech&#039;s picture" title="Avontech&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1189.html" title="View user profile.">Avontech</a> on Sun, 14/10/2012 - 08:53.</div>
    <div class="content">
     <p>@RobertWall</p>
<p>Many thanks for your comprehensive reply.</p>
<p>I&#39;ve got a bunch of real work to do today :( , and then I am away for the week. If I get a chance later on tonight I&#39;ll work through your advice step by step.</p>
<p>So if you don&#39;t hear from me for a few days, I&#39;m not ignoring it!.</p>
<p>Thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6664"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 14/10/2012 - 18:50.</div>
    <div class="content">
     <p>I&#39;ve had the same setup running now for 1&frac12; hours. It&#39;s still running, and no sign of a lock-up. I think that rules out an inherent problem in the Nanode base software, but it doesn&#39;t exclude a configuration problem with the OKG base. I&#39;m not sending the data to a server, so it also doesn&#39;t rule out a problem with the Ethernet module, and it doesn&#39;t rule out a problem with the emoncms software.</p>
<p>Stats:<br />
	2060 messages in total,<br />
	994 from the one Tx, the remainder from the other.</p>
<p>One minutes&#39; worth looks like this, monitored on the Nanode serial port (OK, I know they&#39;re both node 10, I didn&#39;t bother to change one but you can tell which is which &lt;edit&gt; from the content (one always starts 0,0,0...&nbsp; and ends -12700). &lt;/edit&gt;</p>
<blockquote><p>Time request sent<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=8800,240,0,1,1,0,0,24123,1800<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,1,0,0,29,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=9020,270,0,1,1,0,0,24160,1800<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,0,1,0,0,30,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=9240,300,0,1,1,0,0,24148,1800<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=9460,330,0,1,1,0,0,24203,1800<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,2,0,0,0,31,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=9680,360,0,1,1,0,0,24155,1800<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,0,0,0,41,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=9900,390,0,1,1,0,0,24088,1806<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,1,0,0,31,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=10120,420,0,1,1,0,0,24155,1800<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,1,0,0,29,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=10340,450,0,1,1,0,0,24139,1806<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,0,0,0,31,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=10560,480,0,1,1,0,0,24169,1806<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,0,0,0,21,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=10780,510,0,1,1,0,0,24133,1806<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,1,0,0,20,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=11000,540,0,1,1,0,0,24058,1800<br />
		Time request sent</p>
</blockquote>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6666"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 14/10/2012 - 22:10.</div>
    <div class="content">
     <p>Update: Now 5 hours &amp; 3 mins and still no sign of a lock-up. 6269 messages in total. I&#39;m monitoring at 115200 baud still.</p>
<p>I spotted 1 minute where there were either collisions or blocking to an excessive degree (only two transmissions from the one emonTx got through), but it did not lock up:</p>
<blockquote><p>Time request sent<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=4180,90,0,1,1,0,0,23897,1862<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=4400,120,0,1,1,0,0,23899,1856<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=4620,150,0,1,1,0,0,23922,1862<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,1,0,0,24,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=4840,180,0,1,1,0,0,23901,1862<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=5060,210,0,1,1,0,0,23870,1862<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=5280,240,0,1,1,0,0,23887,1856<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=5500,270,0,1,1,0,0,23841,1856<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=5720,300,0,1,0,0,0,23864,1862<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=0,0,0,1,1,0,0,21,-12700<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=5940,330,0,1,1,0,0,23889,1862<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=6160,360,0,1,1,0,0,23885,1862<br />
		Data sent: /api/post.json?apikey=YOURAPIKEY&amp;node=10&amp;csv=6380,390,0,1,1,0,0,23891,1862<br />
		Time request sent</p>
</blockquote>
<p>&nbsp;My best suggestion is to work through the list above.</p>
<p>I did a bit of checking up about &quot;rf12_set_cs(9)&quot; - it appears to be tied up with the rf transmission rate. I can&#39;t prove it is a problem, but if you have the wrong value it needs changing.</p>
<p>If that list does not throw up anything concrete (and in any case when you are ready to put the kit into service) comment out (or wrap in #ifdef .....&nbsp; #endif&nbsp; preprocessor directives) all the Serial.???? statements, because those do take up processing power and prevent the rf module from receiving transmissions.<br />
	(You&#39;ll need to be careful with line 241:</p>
<blockquote><pre>
Serial.println(&quot;OK recieved&quot;); ethernet_requests = 0; ethernet_error = 0; </pre></blockquote>
<p>and split it first).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11866"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1189.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Avontech&#039;s picture" title="Avontech&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1189.html" title="View user profile.">Avontech</a> on Sat, 04/05/2013 - 23:59.</div>
    <div class="content">
     <p>With the latest Jeelib, the tx collisions appear to be sorted, so know from the serial port monitor i am getting:</p>
<p>	&nbsp;&nbsp;&nbsp; [webClient]<br />
	&nbsp;&nbsp;&nbsp; DHCP status: 1<br />
	&nbsp;&nbsp;&nbsp; IP:&nbsp; 192.168.7.160<br />
	&nbsp;&nbsp;&nbsp; GW:&nbsp; 192.168.7.1<br />
	&nbsp;&nbsp;&nbsp; DNS: 8.8.8.8<br />
	&nbsp;&nbsp;&nbsp; DNS status: 1<br />
	&nbsp;&nbsp;&nbsp; SRV: 213.138.101.177<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;json={rf_fail:1}<br />
	&nbsp;&nbsp;&nbsp; Time request sent<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=1481,-9,0,23986<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=0,-10,-2,24052<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=1499,-8,0,23992<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=-11,-16,-2,23975<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=1494,-6,0,23941<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=-8,-14,-3,23986<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=1478,-10,0,24002<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=-2,-10,-2,24058<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=1506,-11,0,23998<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=-8,-17,0,23999</p>
<p>	&nbsp;&nbsp;&nbsp; [webClient]<br />
	&nbsp;&nbsp;&nbsp; DHCP status: 1<br />
	&nbsp;&nbsp;&nbsp; IP:&nbsp; 192.168.7.160<br />
	&nbsp;&nbsp;&nbsp; GW:&nbsp; 192.168.7.1<br />
	&nbsp;&nbsp;&nbsp; DNS: 8.8.8.8<br />
	&nbsp;&nbsp;&nbsp; DNS status: 1<br />
	&nbsp;&nbsp;&nbsp; SRV: 213.138.101.177<br />
	&nbsp;&nbsp;&nbsp; Data sent: /input/post.json?apikey=MyAPIKey&amp;json={rf_fail:1}<br />
	&nbsp;&nbsp;&nbsp; Time request sent<br />
	&nbsp;&nbsp;&nbsp; etc</p>
<p>	However emoncms.org is oonly recieving a very small amount of the data - all the expected sensors gave an initial system set up, so I was able to set up feeds for this data</p>
<p>	Having left the serial monitor running for a while, and viewing the data, the only times it has successfully communicated over the last 18 hours is:</p>
<p>	Time: t08,26,25<br />
	Time: t08,27,25<br />
	Time: t11,07,40<br />
	Time: t11,08,40<br />
	Time: t13,58,30<br />
	Time: t13,59,29<br />
	Time: t14,13,45<br />
	Time: t14,14,45<br />
	Time: t21,27,31<br />
	Time: t21,28,31<br />
	Time: t23,36,21</p>
<p>	and here&#39;s a copy of the serial monitor output around one of those times:</p>
<p>	[webClient]<br />
	DHCP status: 1<br />
	IP:&nbsp; 192.168.7.160<br />
	GW:&nbsp; 192.168.7.1<br />
	DNS: 8.8.8.8<br />
	DNS status: 1<br />
	SRV: 213.138.101.177<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;json={rf_fail:1}<br />
	Time request sent<br />
	Time: t14,13,45<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3403,9121,0,24331<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2787,3304,2857,24630<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3963,9123,0,24253<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2790,3332,2837,24485<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3359,9096,0,24297<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2810,3303,2848,24583<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3076,9088,0,24314<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2787,3327,2828,24513<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3955,9082,0,24289<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2780,3314,2848,24591<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3827,9071,0,24279<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2785,3316,2826,24501<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3641,9069,0,24235<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2767,3287,2843,24525<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3233,9012,0,24326<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2756,3325,2831,24514<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3501,9133,0,24293<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2811,3316,2839,24606<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3645,9036,0,24286<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2795,3312,2825,24521<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3501,9053,0,24259<br />
	OK recieved<br />
	Time request sent<br />
	Time: t14,14,45<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2792,3303,2845,24526<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3514,9081,0,24261<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2817,3315,2835,24456<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3670,9023,0,24248<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2734,3270,2847,24469<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3306,9068,0,24254<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2769,3274,2849,24495<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3468,9076,0,24278<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2768,3296,2847,24489<br />
	OK recieved<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3160,9065,0,24278<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2774,3288,2835,24499<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3138,9068,0,24277<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2718,3275,2823,24477<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3760,9092,0,24255<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2769,3301,2840,24472<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3779,9069,0,24239<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2776,3306,2829,24448<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3763,9049,0,24251<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2780,3286,2841,24482<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3477,9029,0,24257<br />
	[webClient]<br />
	DHCP status: 1<br />
	IP:&nbsp; 192.168.7.160<br />
	GW:&nbsp; 192.168.7.1<br />
	DNS: 8.8.8.8<br />
	DNS status: 1<br />
	SRV: 213.138.101.177<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;json={rf_fail:1}<br />
	Time request sent<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3773,9022,0,24250<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2785,3270,2836,24488<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3589,9038,0,24198<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2789,3288,2826,24448<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3303,9019,0,24254<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2799,3278,2836,24549<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3446,9019,0,24250<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2750,3295,2826,24488<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3451,9020,0,24318<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2729,3263,2832,24532<br />
	[webClient]<br />
	DHCP status: 1<br />
	IP:&nbsp; 192.168.7.160<br />
	GW:&nbsp; 192.168.7.1<br />
	DNS: 8.8.8.8<br />
	DNS status: 1<br />
	SRV: 213.138.101.177<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;json={rf_fail:1}<br />
	Time request sent<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3667,9056,0,24281<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2800,3280,2844,24562<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3330,9082,0,24303<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2813,3286,2845,24551<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3131,9087,0,24339<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2802,3270,2724,24615<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3775,9058,0,24309<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2800,3272,2846,24610<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3916,9055,0,24296<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2795,3285,2845,24598<br />
	[webClient]<br />
	DHCP status: 1<br />
	IP:&nbsp; 192.168.7.160<br />
	GW:&nbsp; 192.168.7.1<br />
	DNS: 8.8.8.8<br />
	DNS status: 1<br />
	SRV: 213.138.101.177<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;json={rf_fail:1}<br />
	Time request sent<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3483,9064,0,24320<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2813,3273,2839,24605<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3635,9008,0,24325<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2757,3272,2842,24587<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3477,9084,0,24339<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2810,3273,2826,24624<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3304,9075,0,24293<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2753,3271,2839,24594<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=10&amp;csv=3649,9061,0,24282<br />
	Data sent: /input/post.json?apikey=MyAPIKey&amp;node=11&amp;csv=2801,3265,2830,24563</p>
<p>	Any ideas?</p>
<p>	&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11928"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1189.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Avontech&#039;s picture" title="Avontech&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Resolved - emonCMS.org emonBase and multiple emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1189.html" title="View user profile.">Avontech</a> on Tue, 07/05/2013 - 19:35.</div>
    <div class="content">
     <p>Didn&#39;t touch it or do anything spectacular!, Just left it running overnight and the data started to appear to be posted, seems quite happy now.</p>
<p>Perhaps it was fixed by the new Jeelib library as all the emonTX&#39;s, the emonGLCD and emonbase have now been reflashed with code compiled with the new library....</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/1153"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-5voekar9X5MFO-jD1wLYyY41S-EHfWnvo2lzch04WSM" value="form-5voekar9X5MFO-jD1wLYyY41S-EHfWnvo2lzch04WSM"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
