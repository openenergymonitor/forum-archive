<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/12277 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:10:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Multiple RJ45 to Terminal Block Breakout | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Multiple RJ45 to Terminal Block Breakout</h3>
        <span class="submitted">Submitted by <a href="../user/9046.html" title="View user profile.">Bart</a> on Tue, 01/03/2016 - 16:53</span>
        <div class="content"><p>Hi,</p>
<p>I want to connect more than 6 DB18B20 sensors and I&#39;m wondering if it is possible to connect 2 breakouts to my emontxV3.&nbsp;</p>
<p>And is it possible to (serial)print the unique ID of the DB18B20 sensors, so I can identify the sensors?</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12362.html" class="topic-previous" title="Go to previous forum topic">‹ emonTx AC power</a>
              <a href="12341.html" class="topic-next" title="Go to next forum topic">3 Phase Power measurement with emonPi ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-40015"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 01/03/2016 - 17:42.</div>
    <div class="content">
     <p>I don&#39;t see a reason why you can&#39;t do both these things.</p>
<p>You&#39;ll need to connect the sensors one at a time to extract their serial numbers, the sketch to do it is in Building Blocks under DS18B20. That article also has a lot of information and links&nbsp;about the problems that you might encounter with multiple sensors.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40027"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Wed, 02/03/2016 - 00:53.</div>
    <div class="content">
     <p>Just increase max number of one wire sensors in the emonTx V3 default sketch&nbsp;</p>
<p><a href="https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxV3/RFM/emonTxV3.4/emonTxV3_4_DiscreteSampling/emonTxV3_4_DiscreteSampling.ino#L102" title="https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxV3/RFM/emonTxV3.4/emonTxV3_4_DiscreteSampling/emonTxV3_4_DiscreteSampling.ino#L102">https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxV3...</a></p>
<p>You will need to make corresponding change to emonhub node decoder in emonhub.conf.</p>
<p>See <a href="https://github.com/openenergymonitor/emonhub/blob/emon-pi/configuration.md" title="https://github.com/openenergymonitor/emonhub/blob/emon-pi/configuration.md">https://github.com/openenergymonitor/emonhub/blob/emon-pi/configuration.md</a></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40132"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9046.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bart&#039;s picture" title="Bart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/9046.html" title="View user profile.">Bart</a> on Sun, 06/03/2016 - 08:42.</div>
    <div class="content">
     <p>Thanks for the references.</p>
<p>@Robert and Glyn,</p>
<p>Till now&nbsp;I had no time to react, but thanks for your input (again)</p>
<p>I will connect a&nbsp;second terminal block with another cable to the second RJ45 port of the first block.</p>
<p>Unfortunately the links on the page&nbsp;https://openenergymonitor.org/emon/buildingblocks/DS18B20-temperature-sensing&nbsp;are dead. I&#39;m especially interested in the&nbsp;temperature_search sketch, to&nbsp;adjust&nbsp;the discrete sampling sketch to serial print out the identifying&nbsp;numbers in sort of debug mode.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40136"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 06/03/2016 - 13:46.</div>
    <div class="content">
     <p>Not ALL the links on that page are broken, but it appears that the Shucksmith blog has disappeared. This is the danger of linking to third party sites. It would have been helpful if you had listed the links that you&#39;d found broken. The sketch is&nbsp;in GitHub, but not in a very obvious place, and you need to change the line</p>
<p>&nbsp;&nbsp;#define ONE_WIRE_BUS 4</p>
<p>to</p>
<p>&nbsp; #define ONE_WIRE_BUS 5</p>
<p>for the emonTx V3</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40175"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9046.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bart&#039;s picture" title="Bart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/9046.html" title="View user profile.">Bart</a> on Tue, 08/03/2016 - 18:29.</div>
    <div class="content">
     <p>That&#39;s correct and it would indeed be better to give the exact links for updating&nbsp;the page and improve this platform.</p>
<p>The sensors are working now with 10 sensors on one terminal breakout (ugly solution), by changing the number of sensors. I thought that I could easily connect the two breakouts with an RJ45 in the second RJ45&nbsp;port, but then it doesn&#39;t work anymore.&nbsp;Has something to do with parasite and normal&nbsp;mode?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40176"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 08/03/2016 - 19:52.</div>
    <div class="content">
     <p>What second RJ45&nbsp;port? It&#39;s not very clear what you mean.&nbsp;You don&#39;t mean the&nbsp;Ethernet port, do you?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40201"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9046.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bart&#039;s picture" title="Bart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/9046.html" title="View user profile.">Bart</a> on Wed, 09/03/2016 - 13:44.</div>
    <div class="content">
     <p>I meant that a&nbsp;RJ45 to Terminal Block Breakout for DS18B20 has two RJ45&nbsp;ports. Is there a difference between them? That it isn&#39;t possible to connect the second terminal block?</p>
<p>The exact question is, how should I connect more than 6 sensors properly?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40208"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 09/03/2016 - 15:57.</div>
    <div class="content">
     <p>Without checking what you have, I can&#39;t answer that. There is much information about connecting one-wire sensors on the Maxim website (there&#39;s a link to the app. note&nbsp;on that Resources page). What it boils down to is if they are connected in &quot;star&quot; (i.e. each sensor is cabled back separately to the &#39;controller&#39; (in this case your Pi), or there are branches in the cabling, then the signal from one can hit the controller and at the same time travel up all the other cables, get reflected back at the end, and you end up with a jumble of delayed reflected signals confusing everything. The preferred method according to Maxim&nbsp;is to &#39;daisy-chain&#39; the sensors along one cable.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40221"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9046.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bart&#039;s picture" title="Bart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/9046.html" title="View user profile.">Bart</a> on Thu, 10/03/2016 - 08:35.</div>
    <div class="content">
     <p>My setup is:<br />
EmontxV3 with&nbsp;discrete sampling sketch, with 4 CT&#39;s and 10 DB18B20&nbsp;encapsulated temperature sensors.&nbsp;</p>
<p>I use the terminal block which is selled by OEM(see attachment). Sheepwalk electronics says about the wiring the follows:</p>
<p>&quot;The 1-Wire network is designed to work as a <strong>bus</strong>, rather than a <strong>star</strong>. This means you should design your network so that the sensor devices are connected in one long line starting at the master and not so that there are several cables from the master heading out to sensors in all directions. Most of our modules feature a pair of RJ45 sockets to allow you to easily connect your sensors in a bus topology using standard ethernet cables.&quot;</p>
<p>If the breakout was only meant for using it in star, the second RJ45 port would be useless, isn&#39;t it?</p>
<p>So what you are saying is, that the second breakout causes a sort of up traveling data that interferes the whole setup. I could test this by first chaining an empty breakout without sensors connected and via this breakout connect my second breakout with the sensors?</p>
<p>I&#39;m trying to understand, so probably&nbsp;some questions are&nbsp;weird.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40223"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 10/03/2016 - 09:51.</div>
    <div class="content">
     <p>I recommend that you read the Maxim app. note. It is explained&nbsp;there far better and in greater detail than I can, unless I copy that note of course, which would be plagiarism.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40392"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9046.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Bart&#039;s picture" title="Bart&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multiple RJ45 to Terminal Block Breakout</h3>

    <div class="submitted">Submitted by <a href="../user/9046.html" title="View user profile.">Bart</a> on Thu, 17/03/2016 - 11:46.</div>
    <div class="content">
     <p>I had contact with Sheepwalk electronics, and they confirmed that the second RJ45&nbsp;socket is for daisy chain multiple terminal blocks. I redesigned the lay-out of my network, regarding to the <a href="https://www.maximintegrated.com/en/app-notes/index.mvp/id/148">guidelines for reliable network</a>&nbsp;and now it is working :-). I think that I first connected the wrong way or the network was to large for the Emontx.</p>
<p>For those who want to use the same setup. I used:</p>
<p>- 1&nbsp;SWE2B, with 6 encapsulated DB18B20 sensors. Extended length to 5 x 3,8m and 1 of 5,5 m<br />
-&nbsp;1 SWE2B, with 4&nbsp;encapsulated&nbsp;DB18B20&nbsp;sensors with the standard length of 1m.<br />
-&nbsp;Connected&nbsp;Emontx with first SWE2B by a 2m cat5E UTP cable and the same for the first SWE2B with&nbsp;the second SWE2B.</p>
<p>I also tested a 12 m cable instead of the 2m cat5E UTP as mentioned above, but then it didn&#39;t&nbsp;work anymore.&nbsp;</p>
<p>&nbsp;</p>
<p>I bought a simple case (<a href="http://nl.aliexpress.com/item/5-Pcs-DIY-100x60x25mm-Plastic-Electronic-Project-Box-Enclosure-Instrument-Case-Free-Shipping/32551816653.html">Aliexpress</a>)&nbsp;and adjusted it to fit the SWE2B.&nbsp;See the attachment therefore.&nbsp;</p>
<p>&nbsp;</p>
<p>@Robert, thanks for thinking along!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/12277"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-bXkFAvN6VTCM_gT0NLQZ55ZbZlWYI_qBQVWeHWAYRU8" value="form-bXkFAvN6VTCM_gT0NLQZ55ZbZlWYI_qBQVWeHWAYRU8"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
