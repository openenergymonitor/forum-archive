<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2155 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:57:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Help with forwarding to remote server | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Help with forwarding to remote server</h3>
        <span class="submitted">Submitted by <a href="../user/3431.html" title="View user profile.">roblog</a> on Mon, 25/03/2013 - 12:17</span>
        <div class="content"><p>Hi. I&#39;ve installed Emoncms on my remote server at: emoncms.myserver . This seems to be working ok.</p>
<p>On my raspi I&#39;ve set set</p>
<p>Domain name: emoncms.myserver<br />
	Path: /var/www/emoncms</p>
<p>I copied the read and write api key from <a href="http://emoncms.mydomain/input/api" title="http://emoncms.mydomain/input/api">http://emoncms.mydomain/input/api</a>, and pasted it into the Write apikey field on the raspi.</p>
<p>When I click on Input on the remote server, there is nothing there.</p>
<p>Is there something I am missing / doing wrong? Rob</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2189.html" class="topic-previous" title="Go to previous forum topic">‹ &quot;EmonLib.h&quot; - reading SCT on mega 2560</a>
              <a href="2108.html" class="topic-next" title="Go to next forum topic">What is the command in &#039;fill&#039; for Raw data graph in Emoncms? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-10620"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3431.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="roblog&#039;s picture" title="roblog&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/3431.html" title="View user profile.">roblog</a> on Mon, 25/03/2013 - 12:51.</div>
    <div class="content">
     <p>If I change the domain name to &#39;myserver&#39;, I get the following error:</p>
<p><b>Warning</b>: file_get_contents(<a href="http://myserver/var/www/emoncms/time/local.json?apikey=******************" title="http://myserver/var/www/emoncms/time/local.json?apikey=******************">http://myserver/var/www/emoncms/time/local.json?apikey=******************</a>): failed to open stream: HTTP request failed! HTTP/1.0 404 Not Found in <b>/var/www/emoncms/Modules/raspberrypi/raspberrypi_controller.php</b> on line <b>52</b></p>
<p>I do not have a emoncms/time directory, although there is an emoncms/Modules/time directory. I tried copying this into emoncms/ to see what would happen, and got the same error.</p>
<p>Any suggestions please?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10621"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Mon, 25/03/2013 - 13:10.</div>
    <div class="content">
     <p>Hi.</p>
<p>When I installed emoncms on my own server, I first use a subdomain as you did and it did not work at all.</p>
<p>I think it is designed to work this way : http(s)://domain.tld/whateverpath_emoncms/ otherwise the apache rules fail.</p>
<p>I didn&#39;t look any further into this and I changed from subdomain to domain.tld/path.</p>
<p>Perhaps someone else can confirm but AFAIK, subdomain is not the way to go with current design. Perhaps can you file a bug in the tracker if you think it would be useful.</p>
<p>&nbsp;</p>
<p>Now, regarding the settings, here is how it works. (Eg. : http(s)://domain.tld/whateverpath_emoncms/)</p>
<p>Remote protocol (on recent versions) is http:// or https://</p>
<p>Server is domain.tld</p>
<p>Path is &quot;URL path&quot;, not local path : /whateverpath_emoncms</p>
<p>On my setup, remote path is simply &quot;/emoncms&quot; (the leading slash should be added automatically if forgotten).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10623"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3431.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="roblog&#039;s picture" title="roblog&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/3431.html" title="View user profile.">roblog</a> on Mon, 25/03/2013 - 14:18.</div>
    <div class="content">
     <p>Hi Jerome. Thanks for that. I seem to have made some progress following your guidelines. I now have &quot;<b>Authentication successful</b>&quot; in the raspi settings, and no error message. But still no feeds on the remote server ..</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10624"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Mon, 25/03/2013 - 14:39.</div>
    <div class="content">
     <p>You mean no input ?</p>
<p>Feeds needs to be created independently on remote server as well.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10625"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3431.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="roblog&#039;s picture" title="roblog&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/3431.html" title="View user profile.">roblog</a> on Mon, 25/03/2013 - 18:12.</div>
    <div class="content">
     <p>Yes sorry no input.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10631"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3431.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="roblog&#039;s picture" title="roblog&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/3431.html" title="View user profile.">roblog</a> on Mon, 25/03/2013 - 22:17.</div>
    <div class="content">
     <p>Hmm, I&#39;ve just registered an account with emoncms.org, and am having the same problem there. According to the emoncms on my raspberry pi, I have an &quot;authentication successful&quot; connection to emoncms.org, but when I log in, and click on &#39;inputs&#39;, there are non there.</p>
<p>Either I&#39;m missing a (probably obvious) step here, or there&#39;s something wrong with my setup.</p>
<p>From the terminal, on my own server, I can see that there is no data entering the database. Is there some way that I can test to see what data the raspi is sending of, and where it is sending it to?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10632"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Mon, 25/03/2013 - 22:36.</div>
    <div class="content">
     <p>Do you see inputs on the local server ?</p>
<p>Does it say &quot;RFM12 to PI interface script is up and running&quot; in the RaspberryPi module of local emonCMS ?</p>
<p>No -&gt; You need to enable the gateway script. See doc about rasberry_run.php and crontab.</p>
<p>Yes -&gt; Stop raspberry_run.php, remove (comment) crontab line and launch manually (php raspbery_run.php) to see what happens. If needed, add print statements in the php code.<br />
	&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10636"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3431.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="roblog&#039;s picture" title="roblog&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/3431.html" title="View user profile.">roblog</a> on Mon, 25/03/2013 - 23:33.</div>
    <div class="content">
     <p>Hi. Have just got it working on emoncms following complete reinstall.</p>
<p>Am taking heed of comments by Peter N at the end of this thread: <a href="1299.html" title="http://openenergymonitor.org/emon/node/1299">http://openenergymonitor.org/emon/node/1299</a></p>
<p>Will try a fresh reinstall in the morning, pointing at myserver, and see how it goes.</p>
<p>Cheers ..</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10641"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Tue, 26/03/2013 - 08:22.</div>
    <div class="content">
     <p>Or stop raspberry_run.php, remove (comment) crontab line and launch manually (php raspbery_run.php) to see what happens. If needed, add print statements in the php code to see the URLs that are generated.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10643"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3431.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="roblog&#039;s picture" title="roblog&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by <a href="../user/3431.html" title="View user profile.">roblog</a> on Tue, 26/03/2013 - 09:24.</div>
    <div class="content">
     <p>I woke up this morning and its working on my own server (hurrah!). It seems that it takes a while to change over (as indicated by Peter N at the end of this thread <a href="1299.html" title="http://openenergymonitor.org/emon/node/1299">http://openenergymonitor.org/emon/node/1299</a>). Maybe that&#39;s what was wrong with it all along, and I just wasn&#39;t patient enough .. or maybe it did need a fresh install?? Anyway its working now. Thanks for your help.</p>
<p>All I&#39;ve got to do now is work out how to configure Apache so it runs as <a href="http://myserver.tld/emoncms" title="http://myserver.tld/emoncms">http://myserver.tld/emoncms</a> where myserver.tld points to a drupal installation. I think I&#39;ll leave that one till another day tho ..</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10781"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="canary50&#039;s picture" title="canary50&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Help with forwarding to remote server</h3>

    <div class="submitted">Submitted by canary50 (not verified) on Mon, 01/04/2013 - 07:38.</div>
    <div class="content">
     <p>folks</p>
<p>can I piggy back on this one, probably a&nbsp;numpty question I&#39;m afraid ..</p>
<p>I&#39;ve got emontx &amp; emonglcd working fine, I have emoncms&nbsp;setup at <a href="http://localhost/" title="http://localhost">http://localhost</a> the database name is emoncms-master</p>
<p>I have uploaded the multinode firmware to nanodeRF and it appears to be recieving data from emonTx &amp; glcd OK but the red led is on. I&#39;m guessing I&#39;m doing something wrong with IP addresses or&nbsp;emoncms subdirectoty locations ?</p>
<p>Serial monitor output is</p>
<p>[webClient]<br />
	DHCP status: 1<br />
	IP:&nbsp; 192.168.0.11<br />
	GW:&nbsp; 192.168.0.1<br />
	DNS: 8.8.8.8<br />
	DNS status: 1<br />
	SRV: 213.138.101.177<br />
	Data sent: /emoncms-master/api/post.json?apikey=5aef2d5b1aed19f16a43d76fa0c83e07&amp;json={rf_fail:1}<br />
	Time request sent<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=20&amp;csv=1650<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=10&amp;csv=170,31,2,23994<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=10&amp;csv=171,30,1,24006<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=20&amp;csv=1650<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=10&amp;csv=170,24,0,24014<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=20&amp;csv=1650<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=10&amp;csv=170,30,2,24045<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=10&amp;csv=168,33,2,24015<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=20&amp;csv=1650<br />
	Data sent: /emoncms-master/api/post.json?apikey=###&amp;node=10&amp;csv=170,35,1,23975</p>
<p>something is wrong, any thoughts ?</p>
<p>thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2155"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-U4-rlftMrPJfAcZBbsR9NQX-EkODtY8axwhgsn4Ae3s" value="form-U4-rlftMrPJfAcZBbsR9NQX-EkODtY8axwhgsn4Ae3s"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/2155 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:57:27 GMT -->
</html>
