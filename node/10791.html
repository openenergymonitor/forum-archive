<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10791 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:59:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Som questions about the EmonTX/NanodeRF | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Som questions about the EmonTX/NanodeRF</h3>
        <span class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Thu, 04/06/2015 - 21:10</span>
        <div class="content"><p>Hi!</p>
<p>This is my first post here, i am very happy with the effort from this community to create this fantastic energy monitoring suite.</p>
<p>I have the Raspberry &amp; Emon V3 setup, wich was quite easy to setup. And also a EmonTX with Nanode RF that is not so easy to setup.</p>
<p>&nbsp;</p>
<p>I have looked across this site to try to find som simple 1-2-3 setup guide for this arduino board but cant seem to find it.</p>
<p>&nbsp;</p>
<p>Some questions remain.</p>
<p>- Does the Nanode come preloaded with the firmware and software it needs or do i have to program the unit myself?</p>
<p>- How can i set this unit up with my API key for posting to emoncms?</p>
<p>- Where can i find specific detailed information on how to connect dallas sensor, wich ports to be used?</p>
<p>- How many dallas sensors can be connected to one port?</p>
<p>- Can this unit be configured to have 3 CTs, One optical pulse sensor or two, and 5 dallas sensors?</p>
<p>&nbsp;</p>
<p>I am also interested to know if the EmonTX V3 can use multiple dallas sensors on one bus? How many can be used? Do i need to upload some new arduino sketch or do some alterations to the software in any way for this to work or will it automaticly be listed more incoming data in emoncms?</p>
<p>&nbsp;</p>
<p>Would be happy if there is such a thing as a simple 1-2-3 setu guide where i can just follow instructions to get my data online.</p>
<p>Hope that someone has the time to give me some pointers.</p>
<p>Thanks</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10914.html" class="topic-previous" title="Go to previous forum topic">‹ DS18B20 Sensors on EmonTX</a>
              <a href="10910.html" class="topic-next" title="Go to next forum topic">Display wind direction in a feed ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-30929"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 05/06/2015 - 00:17.</div>
    <div class="content">
     <p><i>"Some questions remain.</p>
<p>- Does the Nanode come preloaded with the firmware and software it needs or do i have to program the unit myself?"</i></p>
<p>It comes with a Bootloader, but no sketch. You can find suitable sketches on GitHub. <a href="https://github.com/openenergymonitor/NanodeRF" title="https://github.com/openenergymonitor/NanodeRF">https://github.com/openenergymonitor/NanodeRF</a>  (Do NOT use the latest Ethercard library, use the OCT2012 version.)</p>
<p><i>"- How can i set this unit up with my API key for posting to emoncms?"</i><br />
You enter your APIkey in the sketch.</p>
<p><i>"- Where can i find specific detailed information on how to connect dallas sensor, wich ports to be used?"</i></p>
<p><i>"- How many dallas sensors can be connected to one port?"</i></p>
<p><i>"- Can this unit be configured to have 3 CTs, One optical pulse sensor or two, and 5 dallas sensors?"</i></p>
<p>Do you mean the emonTx or the NanodeRF? I think the Nanode RF cannot do more than operate as a base node because there is insufficient memory. That is the reason you must use the old Ethercard library and not the latest version. If you are asking about your other emonTx, which version is it?</p>
<p><i>"I am also interested to know if the EmonTX V3 can use multiple dallas sensors on one bus? How many can be used? Do i need to upload some new arduino sketch or do some alterations to the software in any way for this to work or will it automaticly be listed more incoming data in emoncms?"</i></p>
<p>The emonTx V3 can use more than one temperature sensor, but only if you use a separate 5 V supply. The current available when using the ac adapter as the only power source is insufficient for more than one. If you do have an external 5 V supply, then you can have many sensors. How many depends on the topology of the connections, there is some guidance in Building Blocks. The default emonTx V3.4 "discrete sample" sketch will, without modification, read up to 6 sensors and send the temperatures.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30934"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Fri, 05/06/2015 - 09:26.</div>
    <div class="content">
     <p>Thank you kindly for fast and accurate information.</p>
<p>I will just have to dig in to the sketches and try to design the sketch that i need. Probably start with the default sketch for the Nanode/TXShield.&nbsp;</p>
<p>I still have som questions:</p>
<p>- What is the name of default sketch for NanodeRF + TX Shield combination? Do i need multiple files to put together one sketch or is this all pre-made somewhere?</p>
<p>- Can the Emon TX Shield for NanodeRF use multiple Dallas sensors? Does it require special sketch?</p>
<p>- Can i add something to the sketch in order to get optical LED pulse readout from the NanodeRF/TX shield? I need input for&nbsp;two sensor readers. I already have the hardware for one.</p>
<p>- There is four inputs where the dallas should go on my TXShield, two for power and two others with the text &quot;dallas&quot;. Is this two separate inputs for dallas sensors or is it something else? In the pictures for this product in the shop there is only three inputs. On my unit however there are four.</p>
<p>&nbsp;</p>
<p>Many questions, but i see so much potential in these gadgets that i really want to find out. I read all the info on the site Wiki and the webshop but this info seems to be missing. Thanks to anyone who would like to fill in this info.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30944"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 05/06/2015 - 18:55.</div>
    <div class="content">
     <p>I shall repeat what I wrote above:  I do not think the NanodeRF is capable of doing any more than operating as a base node. I think if you try to add an emonTx Shield and then merge the functions of the emonTx sketch into the NanodeRF sketch, you will fail, because there is insufficient memory available in the ATmega 328P. That is the reason why there is no sketch for the combination of emonTx Shield + NanodeRF. </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30961"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Sat, 06/06/2015 - 12:00.</div>
    <div class="content">
     <p>Hi!</p>
<p>&nbsp;</p>
<p>Thank you kindly for &nbsp;repeating this information.</p>
<p>In the shop it looks like this shield and the Nanode should work together, but maybe they dont.&nbsp;</p>
<p>It is stated that:</p>
<p>&quot;Compatible with OpenEnergyMonitor modules (emonGLCD, emonBase - NanodeRF etc.)&quot;</p>
<p>&nbsp;</p>
<p>&quot;Product Description</p>
<p>The emonTx Shield is an open source hardware arduino shield footprint compatible electricity and temperature monitoring shield that can be connected to any standard Arduino UNO, Leonardo, NanodeRF (for web connectivity and posting to emoncms.org) or even the new Arduino Yun.&quot;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>But maybe that means communication with these modules by radio, and not direct connect?</p>
<p>I cant really understand how the shield should be used? Do i need another Arduino board just to operate the shield? And then go by radio to the Nanode that will upload the info? Thats a bummber because my shield does not have RF chip.</p>
<p>Is it possible or not to use the Nanode for energymonitoring, or is it only possible to relay the signal from other units?</p>
<p>Can this unit handle for example just two optical pulse readers and 5 dallas sensors or is the momory not enough for any kind of sensors?</p>
<p>&nbsp;</p>
<p>I am tempted by the fact that this can be one unit, and not a network of multiple units, that can be used for independent energy monitoring. With this unit it would be possible to build &euro;30 energy monitoring hardware that uploads info to emoncms. IF it worked as i assumed.</p>
<p>&nbsp;</p>
<p>I really need some info on this.</p>
<p>&nbsp;</p>
<p>Thanks kindly for the response!</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30965"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 06/06/2015 - 13:48.</div>
    <div class="content">
     <p>The emonTx Shield is indeed normally used with a stand-alone Arduino board, and it adds the capability for 4 CTs and one voltage input, the temperature input and the radio module.</p>
<p>Normally, the Nanode RF has always and, as far as I am aware, only been used as a Base node. I've asked Glyn Hudson or Trystan Lea to comment.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30967"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Sat, 06/06/2015 - 14:17.</div>
    <div class="content">
     <p>Ok, thanks. Then i would need another RF module on the Shield as i lacks one. I thought i could use it with the Nanode straight away.</p>
<p>&nbsp;</p>
<p>I am still interested in getting more details regardin my wanted setup.</p>
<p>&nbsp;</p>
<p>- Is it possible to monitor 3CT, 6 Dallas, and two LED pulse inputs with one TX shield?</p>
<p>&nbsp;</p>
<p>The perfect setup for me would be one unit, with ethernet included on the board, measuring these points. Relay output would be bonus.</p>
<p>&nbsp;</p>
<p>Thank you kindly for your fast replys</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30969"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 06/06/2015 - 15:51.</div>
    <div class="content">
     <p>There should be no problem with monitoring 3 CTs and 6 DS18B20s, but you might have a problem with the two LED pulse inputs, as those would connect directly to the Arduino, and in order to use the usual interrupt-driven routine, you would need two free interrupts. I am not an Arduino expert, but someone who is might be able to help you here.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30970"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 06/06/2015 - 16:09.</div>
    <div class="content">
     <p>Hello goodfidelity, Robert. I did put together an example a year ago for the EmonTxShield and NanodeRF together here:</p>
<p><a href="https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxShield/Shield_CT1234_Voltage_NanodeRF/Shield_CT1234_Voltage_NanodeRF.ino" title="https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxShield/Shield_CT1234_Voltage_NanodeRF/Shield_CT1234_Voltage_NanodeRF.ino">https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxSh...</a></p>
<p>Its been a while since I&#39;ve ran it,&nbsp;Has this stopped working with the more recent library? I havent got the Nanode with me here but can test when Im in the office on Monday.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30990"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Sat, 06/06/2015 - 22:24.</div>
    <div class="content">
     <p><em>&nbsp;in order to use the usual interrupt-driven routine, you would need two free interrupts</em></p>
<p>There&#39;s a table here that shows which Arduino pins are mapped to which interrupt vectors on various Arduino models: &nbsp;<a href="http://www.arduino.cc/en/Reference/AttachInterrupt">http://www.arduino.cc/en/Reference/AttachInterrupt</a>. &nbsp;Then you just need to find two that aren&#39;t being used by your shield(s) for other purposes.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31135"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Tue, 09/06/2015 - 23:52.</div>
    <div class="content">
     <p>Hi Trystan&nbsp;and Robert!</p>
<p>I am really new to Arduino and still have not even uploaded a sketch.&nbsp;</p>
<p>I am trying to figure out the limits and possibility before i start planning how to set up the system, so that is why i am doing this research about the Nanode with TXshield.&nbsp;</p>
<p>I like the concept of one small, cheap unit providing all that i need and sending it straight out to the emoncms.</p>
<p>And what i wanted from the beginning was the possibility to run:</p>
<p>- 3 CTs</p>
<p>- AC/AC adapter</p>
<p>- 5 Dallas sensors</p>
<p>- One or Two optical sensors for pulse counting. S0 (TTL pulse) might work as well.</p>
<p>&nbsp;</p>
<p>For technical reasons i understand that there are limits in the arduino platform which will not allow this. So maybe now i should focus on what is possible.</p>
<p>Maybe its enough with just 3 CTs, AC/AC and 5 dallas units. As the CTs install quick and easy.</p>
<p>Or maybe just 5 dallas units and two optical pulse inputs. And use external power meters with pulse output. This is more expensive, more difficult to install but very accurate. And most cases i would need only one power meter and one pulse input anyway.</p>
<p>&nbsp;</p>
<p>The equipment will be used to monitor ventilation systems. And since there sometimes are many systems in one building i just want one unit to handle measuring temperatures and power consumption. Installation needs to be cheap and fast. I prefer ethernet, but sometimes it might go through ethernet bridge.</p>
<p>&nbsp;</p>
<p>What is the damage, can this be done with one single ardunioboard that has ethernet output, like the Nanode? Just adding the EmonTX shield?</p>
<p>Thank you for all the help so far!</p>
<p>&nbsp;</p>
<p>//J</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31136"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Tue, 09/06/2015 - 23:50.</div>
    <div class="content">
     <p>Hi dBc!</p>
<p>Thank you for the reply!</p>
<p>&nbsp;</p>
<p>I wish my technical knowledge about this platform was more extended. However even if i look at that webpage i really cannot make any clear picture from what i read.</p>
<p>I understand that some of the pins on the Arduino/Nanode board are analouge, and some of them ar digital.</p>
<p>I also have some kind of idea that there are different kinds of digital inputs, but i dont know how they are different.&nbsp;</p>
<p>Is it correct if i assume that &quot;interrupts&quot; are the digital inputs? And for each pulse counter i would need two digital inputs avalible?&nbsp;</p>
<p>Thanks for the patience</p>
<p>&nbsp;</p>
<p>//J</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31139"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Wed, 10/06/2015 - 01:16.</div>
    <div class="content">
     <p><em>I understand that some of the pins on the Arduino/Nanode board are analouge, and some of them ar digital.</em></p>
<p>Yes, that&#39;s probably the easiest way to think of it. &nbsp;Strictly speaking they&#39;re all digital, it&#39;s just that <strong>only</strong> some of them can be used as analog inputs. &nbsp; If ever you run out of digital pins, and you&#39;ve spare analog pins that you don&#39;t plan&nbsp;using, you can use them as digital pins. &nbsp; &nbsp;The pins live in PORTS, 8 pins per PORT. &nbsp;Atmel recommend that if you have analog and digital pins in the one PORT, then you avoid any switching on the digital pins&nbsp;during an analog conversion. &nbsp;That might be hard to arrange&nbsp;so the Arduino model of &quot;here are your analog pins, and here are your digital pins&quot; is a nice safe way to go.</p>
<p><em>I also have some kind of idea that there are different kinds of digital inputs, but i dont know how they are different.&nbsp;</em></p>
<p>Yes. &nbsp;The AVR has a bunch of features, like PWMs, Timers, Interrupt Controller, ADC etc etc. &nbsp; Each of those features can only use restricted pins from&nbsp;the pool of all digital pins. &nbsp;So if you want &nbsp; to do PWM, you need to choose a pin that the PWM controller can access. &nbsp;If you want to use the ADC, you have to choose a pin that the ADC can access (referred to as the &quot;Analog Pins&quot; above). &nbsp;In your case, if you want to use the Interrupt Controller, you need to choose some&nbsp;pins that the interrupt controller can access.</p>
<p>To further complicate things, the Arduino&nbsp;runtime (and even your Arduino board)&nbsp;won&#39;t necessarily give you access to all of the pins that you could&nbsp;otherwise have used. &nbsp; For example on the ATMega2560&nbsp;chip, I think I can use 32 different pins as interrupt pins &nbsp;(INT0:7 and PCINT0:23), but some of them&nbsp;I can only get to&nbsp;if I&#39;ve designed my board to let me at the signals, and written my own software to configure them as interrupts.</p>
<p>Assuming you want to stick to stock standard Arduino designs, and use stock standard Arduino interrupt set-up code, then the table I referenced above tells you which pins you can use on various models.</p>
<p><em>And for each pulse counter i would need two digital inputs avalible?&nbsp;</em></p>
<p>I&#39;m not familiar with the sketch in question, so can&#39;t really comment on that. &nbsp;I&#39;d be surprised if you need two per pulse-counter.... one should be enough.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31156"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Wed, 10/06/2015 - 11:12.</div>
    <div class="content">
     <p>Thanks dBC!</p>
<p>I getting more and more understanding for how the board works. Its nice that you guys knows so much about all the hardware and software. I feel this will make a steep learning curve for me.</p>
<p>I am really interested now to know the exact limitations for the Nanode, what can it do and what it cant do in terms of beeing used as a stand alone energy monitoring unit.</p>
<p>Trystan seems to have tried it out, so i am really interested to know what is possible.</p>
<p>I am really&nbsp;enthusiastic about running the Nanode as a small, cheap and simple energy monitor with some temperature measuring capability.&nbsp;</p>
<p>As mentioned earlier this can be mde very simple with the help of external energy meters.</p>
<p>//J</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31788"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="goodfidelity&#039;s picture" title="goodfidelity&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Som questions about the EmonTX/NanodeRF</h3>

    <div class="submitted">Submitted by <a href="../user/8255.html" title="View user profile.">goodfidelity</a> on Mon, 29/06/2015 - 15:22.</div>
    <div class="content">
     <p>Hello again guys!</p>
<p>&nbsp;</p>
<p>I just spent som time thinking about this that you all put in to this thread, and as i am not as much into hardware or programming i might be a bit off.</p>
<p>But my thinking is this:</p>
<p>Due to som limitations in the Nanode, it is difficult to use it for other things then as a base station.</p>
<p>And if it is to be used for other things, this needs to be simple stuff. Like reading the dallas sensor output.</p>
<p>Also i heard that sometimes it takes a long time for the communication process to finish (RJ45) and that might cause counting errors when counting pulses.</p>
<p>My conclusion was that there should be a simple one wire counter, that can be attached to the Nanode just like a Dallas sensor. And by simply letting the counter do the work, it only has to be read every now and then by the Nanode. This can allow longer intervals between operations on the Nanode (lower frequency?), if that is of any help to power saving if running on battery.</p>
<p>I found this chip:</p>
<p>DS2423:&nbsp;<a href="http://www.maximintegrated.com/en/products/comms/one-wire/DS2423.html">http://www.maximintegrated.com/en/products/comms/one-wire/DS2423.html</a></p>
<p>And after some googleing i found this, which seem to be what i am looking for:</p>
<p><a href="http://forum.arduino.cc/index.php?topic=91087.0">http://forum.arduino.cc/index.php?topic=91087.0</a></p>
<p>This configuration will never loose count. And even if the network connection fails, or power fails to the Nanode, or the Nanode fails.. It will still be counting pulses. Time&nbsp;stamps however will be lost.</p>
<p>I can imagine, that there should be no problem fitting one of these and some Dallas sensors to the Nanode and use it as a one board energy monitor? And with the DS2423 always storing the count, it can be used to verify data already collected if anyone would need that.</p>
<p>Would it be possible, or very easy, to make a NanodeRF with two pulse counting inputs on the DS2423, and some inputs for Dallas or DHT22 sensors?</p>
<p>Thanks for all the good input so far!</p>
<p>//J</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10791"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-_RgKU25iHQIM5Hevio1finqyfcX1OpJaFw2Aiuof3_I" value="form-_RgKU25iHQIM5Hevio1finqyfcX1OpJaFw2Aiuof3_I"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
