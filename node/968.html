<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/968 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:53:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Multi Multigraph | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Multi Multigraph</h3>
        <span class="submitted">Submitted by Guest on Mon, 20/08/2012 - 12:08</span>
        <div class="content"><p jquery1345464378803="68">Multi - Multigraphs. I found it very useful in the past to have a number of multigraph.php files e.g. multigraph2.php etc. In&nbsp;the older emoncms releases I could simply copy&nbsp;multigraph.php&nbsp;file and add feeds I wanted to my new multigraph2.php file and it could be added to web page showing the specified feeds and option to check these feeds or not.</p>
<p>Vey useful where many feeds are involved. In may case 12CT providing 48 feeds looks very cluttered it would be great to be able to divide into main groups - mains users. The new emoncms offers so much more so I won't revert. It would be much appreciated if someone could make above available in latest release or provide some guidence as to where I could start to add this feature again.</p>
<p>As always thanks in advance. Cheers</p>
<p>Peter</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1009.html" class="topic-previous" title="Go to previous forum topic">‹ Dashboard dissapearing</a>
              <a href="975.html" class="topic-next" title="Go to next forum topic">Input processing - datestamp problems ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-5824"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 20/08/2012 - 13:09.</div>
    <div class="content">
     <p>&nbsp;Hello Peter, its still there. available in views/vis/multigraph_manual.php,</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5829"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Tue, 21/08/2012 - 07:09.</div>
    <div class="content">
     <p>Great.</p>
<p>&nbsp;</p>
<p>Is this the only code I change for feed id 3 and 9 with names Mains  and Coldroom in multigraph_manual.php file. Appologies if I missed  something obvious.</p>
<p>&nbsp;</p>
<p>&nbsp; var feedlist = [];<br />
&nbsp; feedlist[0] = {id: 3, selected: 1, plot: {data: null, label: &quot;Mains&quot;, lines: { show: true, fill: true } } };<br />
&nbsp; feedlist[1] = {id: 9, selected: 1, plot: {data: null, label: &quot;Coldroom&quot;, lines: { show: true, fill: false }, yaxis:2} };</p>
<p>&nbsp; vis_feed_data();</p>
<p>&nbsp;</p>
<p><a href="http://mysite/Veiws/vis/multigraph_manual.php" title="http://mysite/Veiws/vis/multigraph_manual.php">http://mysite/Veiws/vis/multigraph_manual.php</a></p>
<p>&nbsp;</p>
<p>get multigraph heading and D W M Y | + - &lt; &gt;&nbsp; but with no graph or check boxes</p>
<p>&nbsp;</p>
<p>Extract diplayed source code</p>
<p>&lt;script id=&quot;source&quot; language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;</p>
<p>$('#graph').width($('#graph_bound').width());</p>
<p>$('#graph').height($('#graph_bound').height());</p>
<p>var path = &quot;&quot;;</p>
<p>var apikey = &quot;&quot;;</p>
<p>var timeWindow = (3600000*24.0*7);				//Initial time window</p>
<p>var start = ((new Date()).getTime())-timeWindow;		//Get start time</p>
<p>var end = (new Date()).getTime();				//Get end time</p>
<p>var timeWindowChanged = 0;</p>
<p>var feedlist = [];</p>
<p>feedlist[0] = {id: 3, selected: 1, plot: {data: null, label: &quot;Bar&quot;, lines: { show: true, fill: true } } };</p>
<p>feedlist[1] = {id: 9, selected: 1, plot: {data: null, label: &quot;Bar1&quot;, lines: { show: true, fill: false }, yaxis:2} };</p>
<p>vis_feed_data();</p>
<p>&nbsp;/*</p>
<p>I notice path and apikey are empty in page source code, could this be issue???</p>
<p>Cheers</p>
<p>&nbsp;Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5841"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 21/08/2012 - 14:51.</div>
    <div class="content">
     <p>&nbsp;Its been a while since I tried the manual script did it work for you putting in the path and apikey?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5849"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Tue, 21/08/2012 - 17:15.</div>
    <div class="content">
     <p>No Luck with multigraph_manual.php, see link below:</p>
<p><a href="http://weir.wedo.ie/Views/vis/multigraph_manual.php?&amp;apikey=504f029f7747076d984def220d315476&amp;embed=1" title="http://weir.wedo.ie/Views/vis/multigraph_manual.php?&amp;apikey=504f029f7747076d984def220d315476&amp;embed=1">http://weir.wedo.ie/Views/vis/multigraph_manual.php?&amp;apikey=504f029f7747...</a></p>
<p>see also link to multigraph which does work</p>
<p><a href="http://weir.wedo.ie/vis/multigraph?&amp;apikey=504f029f7747076d984def220d315476&amp;embed=1" title="http://weir.wedo.ie/vis/multigraph?&amp;apikey=504f029f7747076d984def220d315476&amp;embed=1">http://weir.wedo.ie/vis/multigraph?&amp;apikey=504f029f7747076d984def220d315...</a></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5852"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 21/08/2012 - 17:53.</div>
    <div class="content">
     <p>&nbsp;ok, I see the error's , I think they are path errors in the js scripts, will try and fix and push up to github. You could probably copy the inculded js script paths from multigraph.php to get it running in the meantime.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5855"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Tue, 21/08/2012 - 21:45.</div>
    <div class="content">
     <p>Tried cutting over all code except var feedlist code above. Didn't work. I think its time to learn code a bit more so will start with <a href="312.html">Emoncms from scratch</a> and go from there. If I get a working solution before you I'll post same.</p>
<p>Thanks </p>
<p>Peter</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5866"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Wed, 22/08/2012 - 10:05.</div>
    <div class="content">
     <p>To access multigraph_manual you need to&nbsp;include Views in URL e.g.</p>
<p><a href="http://ahtrial.wedo.ie/Views/vis/multigraph_manual.php?feedid=1&amp;apikey=3f580e5bc52d85ba8c7aa08829b5f5c2&amp;embed=1">http://ahtrial.wedo.ie/Views/vis/multigraph_manual.php?feedid=1&amp;apikey=3f580e5bc52d85ba8c7aa08829b5f5c2&amp;embed=1</a></p>
<p>the page source code shows incomplete scr address for javascripts:</p>
<p>&lt;<span class="start-tag">script</span><span class="attribute-name"> language</span>=<span class="attribute-value">&quot;javascript&quot; </span><span class="attribute-name">type</span>=<span class="attribute-value">&quot;text/javascript&quot; </span><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Views/vis/Includes/flot/jquery.min.html">Includes/flot/jquery.min.js</a><span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;<br />
&lt;<span class="start-tag">script</span><span class="attribute-name"> language</span>=<span class="attribute-value">&quot;javascript&quot; </span><span class="attribute-name">type</span>=<span class="attribute-value">&quot;text/javascript&quot; </span><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Views/vis/Includes/flot/jquery.flot.min.html">Includes/flot/jquery.flot.min.js</a><span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;<br />
&lt;<span class="start-tag">script</span><span class="attribute-name"> language</span>=<span class="attribute-value">&quot;javascript&quot; </span><span class="attribute-name">type</span>=<span class="attribute-value">&quot;text/javascript&quot; </span><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Views/vis/Includes/flot/jquery.flot.selection.min.html">Includes/flot/jquery.flot.selection.min.js</a><span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;</p>
<p>&lt;<span class="start-tag">script</span><span class="attribute-name"> language</span>=<span class="attribute-value">&quot;javascript&quot; </span><span class="attribute-name">type</span>=<span class="attribute-value">&quot;text/javascript&quot; </span><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Views/vis/Views/vis/common/api.html">Views/vis/common/api.js</a><span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;<br />
&lt;<span class="start-tag">script</span><span class="attribute-name"> language</span>=<span class="attribute-value">&quot;javascript&quot; </span><span class="attribute-name">type</span>=<span class="attribute-value">&quot;text/javascript&quot; </span><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Views/vis/Views/vis/common/inst.html">Views/vis/common/inst.js</a><span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;<br />
&nbsp;</p>
<p>when compared to working multigraph url src using normal vis/multigraph the src is complete with mysite</p>
<pre id="line11"><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Includes/flot/jquery.min.html">http://ahtrial.wedo.ie/Includes/flot/jquery.min.js</a><span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;
<span class="attribute-value"> </span><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Includes/flot/jquery.flot.min.html">http://ahtrial.wedo.ie/Includes/flot/jquery.flot.min.js</a><span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;
<span class="attribute-value"> </span><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Includes/flot/jquery.flot.selection.min.html">http://ahtrial.wedo.ie/Includes/flot/jquery.flot.selection.min.js<span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;
</a><span class="attribute-value"> </span><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Views/vis/common/api.html">http://ahtrial.wedo.ie/Views/vis/common/api.js<span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;
</a><span class="attribute-value"> </span><span class="attribute-name">src</span><span>=&quot;</span><a href="view-source_http_/ahtrial.wedo.ie/Views/vis/common/inst.html">http://ahtrial.wedo.ie/Views/vis/common/inst.js</a><span>&quot;</span>&gt;&lt;/<span class="end-tag">script</span>&gt;
</pre><p>Note also when normal multigraph file is accessed using Views in url it does not work either with incomplete javascripts also.</p>
<p><a href="http://ahtrial.wedo.ie/Views/vis/multigraph.php?feedid=1&amp;apikey=3f580e5bc52d85ba8c7aa08829b5f5c2&amp;embed=1">http://ahtrial.wedo.ie/Views/vis/multigraph.php?feedid=1&amp;apikey=3f580e5bc52d85ba8c7aa08829b5f5c2&amp;embed=1</a></p>
<p>Hope this helps, if I only stating obvious or confusing issue please ignore.</p>
<p>Cheers</p>
<p>Peter</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5867"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Wed, 22/08/2012 - 12:13.</div>
    <div class="content">
     <p>Hi,</p>
<p>looks like the multigraph_manual code below needs to be added to vis_controller.php file to point to multigraph_manual.php file</p>
<p>if ($action == 'multigraph_manual' &amp;&amp; $session['read'])<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $output['content'] = view(&quot;vis/multigraph_manual.php&quot;, array());<br />
&nbsp;&nbsp;&nbsp; }</p>
<p><u><strong>To add additional multigraph : </strong></u></p>
<p>First create new vis/multigraph_manual.php file with required feeds and&nbsp;then&nbsp;change <em>multigraph_manual </em>to new name&nbsp; in code above and add to vis_controller.php file e.g. <em>multigraph2</em> and add destination address for new multigraph file&nbsp;e.g. <em>vis/multigraph2.php </em>in<em> /Views/vis/ </em>folder</p>
<p>example :</p>
<p>if ($action == 'multigraph2&amp;&amp; $session['read'])<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $output['content'] = view(&quot;vis/multigraph2.php&quot;, array());<br />
&nbsp;&nbsp;&nbsp; }</p>
<p>Note the multigraph_manual.php file needs to be updated, I copied multigraph.php file and replaced the // Load list of feeds from server code with desired feeds.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Needs further testing but I'm sure Trystan will come up with a better way. Hope above is of some use in&nbsp; mean time.</p>
<p>&nbsp;</p>
<p>&nbsp;var feedlist = [];</p>
<p>feedlist[0] = {id: 3, selected: 1, plot: {data: null, label: &quot;Main&quot;, lines: { show: true, fill: true } } };</p>
<p>feedlist[1] = {id: 9, selected: 1, plot: {data: null, label: &quot;Coldroom&quot;, lines: { show: true, fill: false }, yaxis:2} };</p>
<p>vis_feed_data();</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5962"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 29/08/2012 - 09:49.</div>
    <div class="content">
     <p>Hello Peter, good work on getting it to work, your solution is probably the best one for single user installs.</p>
<p>I have updated the script to allow direct access which although not ideal in the long term (it might be good to have an option to create multiple multigraphs in the GUI itself) makes it  relatively straight forward to use now.</p>
<p>To access a manual multigraph you would enter the following in the browser:</p>
<p><a href="http://localhost/emoncms3/Views/vis/multigraph_manual.php?apikey=YOURAPIKEY" title="http://localhost/emoncms3/Views/vis/multigraph_manual.php?apikey=YOURAPIKEY">http://localhost/emoncms3/Views/vis/multigraph_manual.php?apikey=YOURAPIKEY</a></p>
<p>To create additional multigraphs its just a matter of creating multiple copies of the file.&nbsp;</p>
<p>Thanks for going through it and posting a solution.&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5976"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Wed, 29/08/2012 - 17:51.</div>
    <div class="content">
     <p>Hi Trystan, Thanks Multigraph GUI sounds great. Will try above&nbsp; as soon as you add to openenergymonitor-emoncms3 release available on github.</p>
<p>Cheers</p>
<p>Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6005"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="IanGibbons&#039;s picture" title="IanGibbons&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Multi Multigraph</h3>

    <div class="submitted">Submitted by IanGibbons (not verified) on Fri, 31/08/2012 - 08:32.</div>
    <div class="content">
     <p>Hi,</p>
<p>There is a slight bug on line 34 when calling the page directly:</p>
<p>PHP Notice:  Undefined index: embed in /Views/vis/multigraph_manual.php on line 34</p>
<p>I fixed this by changing it to:</p>
<p>$embed = isset($_GET["embed"])?intval($_GET["embed"]):0;</p>
<p>Regards</p>
<p>Ian<br />
-- </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/968"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-kpnwxuiGg8R5MYr7zHfgNEkwLXwTK3NZoFBddcqnjcM" value="form-kpnwxuiGg8R5MYr7zHfgNEkwLXwTK3NZoFBddcqnjcM"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
