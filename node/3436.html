<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3436 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:43:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>setup / equipment needed for USA/North America home monitoring? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">setup / equipment needed for USA/North America home monitoring?</h3>
        <span class="submitted">Submitted by Guest on Mon, 30/12/2013 - 02:38</span>
        <div class="content"><p>Found the site and it looks like all the building blocks for what I need are here. &nbsp;My background is in data center and industrial power so my apologies if I ask something stupid here... the basic problem I&#39;m looking to solve is:</p>
<p>I want a system that will accurately measure and log/store power usage history on a &quot;standard&quot; USA residential power system. &nbsp;&quot;Standard&quot; here means 240v split-phase, 200A service - said another way, I have two hot legs with a center tapped neutral.</p>
<p>I&#39;m trying to figure out whether the &quot;pre-built&quot; emonTx v3 system would work. &nbsp;I would need two CT clamps rather than &nbsp;a single one, and these would be rated at up to 200A. &nbsp;It&#39;s not clear to me whether the different current rating would require a physical (resistor?) change to the emonTx hardware.</p>
<p>I&#39;m a software guy by background, so I&#39;m trying pretty hard to avoid anything that requires soldering as I don&#39;t have those skills handy.</p>
<p>*if* the emonTx&nbsp;allows higher current CT / split leg measurement, I think all I need is a v3 emonTx, and then a &quot;standard&quot; base station and I&#39;m good to go...&nbsp;</p>
<p>Has anyone here managed to get something pre-built working on a US setup? &nbsp;Thanks for any input !</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12178.html" class="topic-previous" title="Go to previous forum topic">‹ 3-phase voltage and current using only two emontx v3.4</a>
              <a href="12159.html" class="topic-next" title="Go to next forum topic">Basic help please ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-17104"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: setup / equipment needed for USA/North America home monitoring?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 30/12/2013 - 14:16.</div>
    <div class="content">
     <p>If you search the forums, you&#39;ll find there are quite a few running systems in the USA. Unfortunately, you will need to do some soldering because of your non-standard requirements (in UK terms). The standard &#39;Shop&#39; 100 A c.t will saturate long before it reaches 200 A, so you can&#39;t use that. However, you can use a pair of 600 A Magnelab SCT-1250-000 c.t&#39;s (600 A because they need to be derated to provide sufficient voltage for the emonTx) and you will need to remove two installed resistors and replace them with a different value - ideally 37.5 &Omega;, but as that isn&#39;t a standard value you would need either 36 &Omega; or 39 &Omega; (the former would lose a little resolution, the latter would slightly restrict the maximum current you can measure).</p>
<p>You may also need to solder a plug onto each c.t.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17129"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ljwobker&#039;s picture" title="ljwobker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: setup / equipment needed for USA/North America home monitoring?</h3>

    <div class="submitted">Submitted by ljwobker (not verified) on Mon, 30/12/2013 - 22:09.</div>
    <div class="content">
     <p>Ok - that makes sense. &nbsp;Next question: assuming I have a smart meter that IR pulses with each w/hr of consumption, is there any reason that I can&#39;t just use the emonTx with the IR&nbsp;sensor attached? &nbsp;I found reference somewhere that implies that &quot;CT based monitoring is more accurate&quot; -- but I&#39;m having a really hard time figuring out how that would be so if the meter itself is pulsing per w/Hr. &nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17131"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: setup / equipment needed for USA/North America home monitoring?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 30/12/2013 - 22:44.</div>
    <div class="content">
     <p>You asked about c.t&#39;s, and that&#39;s what I answered.</p>
<p>You can count pulses. Which method you choose is really down to what you want out of the system. Counting the meter pulses - provided you don&#39;t miss one of course - is by definition totally accurate (even if it isn&#39;t and your meter is off calibration, because your meter rules!). But it will only tell you after you have consumed one pulse&#39;s worth of energy, and it won&#39;t help if you are generating because as far as I&#39;m aware, no meters emit a pulse (or one you can distinguish) when exporting. CTs on the other hand will tell you about consumption between pulses, though the downside is there might be offset and scaling errors between the two methods. If your meter transmits the full registers data, that&#39;s a totally different proposition, but you didn&#39;t ask about that.</p>
<p>There&#39;s been quite a bit of discussion about what to do if there&#39;s a possibility of a transmission not getting though and a pulse or a reading missed. I don&#39;t think there&#39;s a consensus yet on how to solve the problem.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17202"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="buton&#039;s picture" title="buton&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: setup / equipment needed for USA/North America home monitoring?</h3>

    <div class="submitted">Submitted by buton (not verified) on Thu, 02/01/2014 - 17:12.</div>
    <div class="content">
     <p>It depends where do you live?</p>
<p>&nbsp;</p>
<p>i live in texas and i have an SmartMeter installed with Zigbee communication...i bought this device &nbsp;from rainforest automation&nbsp;http://rainforestautomation.com/eagle it is a gateway which will communicate with the meter to get real time data and the cool think is that you can access the information via python with the api</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23147"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="zeroenergy&#039;s picture" title="zeroenergy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: setup / equipment needed for USA/North America home monitoring?</h3>

    <div class="submitted">Submitted by zeroenergy (not verified) on Sun, 17/08/2014 - 21:48.</div>
    <div class="content">
     <p>Buton... Did you end up hooking up your Rainforest gateway to your Emoncms? I have a Rainforest gateway hub to monitor our office and want to get Emoncms to monitor the data for us too.&nbsp;</p>
<p>[2 further duplicate posts deleted - Moderator (RW)]</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-39367"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8675.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chris1howell&#039;s picture" title="chris1howell&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: setup / equipment needed for USA/North America home monitoring?</h3>

    <div class="submitted">Submitted by <a href="../user/8675.html" title="View user profile.">chris1howell</a> on Sat, 13/02/2016 - 03:37.</div>
    <div class="content">
     <p>Using Python and the eagle_http_api, I have successfully read data from the Eagle gateway and posted it to an emoncms server.&nbsp;</p>
<p>The Graph Below depicts total usage and production (5.8kw Solar) from the main panel via the Eagle Gateway with a Tesla Charging at ~6kw and a Leaf Charging at 1.44kw.</p>
<p>​<a href="../../../cdn.shopify.com/s/files/1/0249/6207/files/power_large91c3.png?13248182814869215172"><img alt="" src="../../../cdn.shopify.com/s/files/1/0249/6207/files/power_large91c3.png?13248182814869215172" style="width: 480px; height: 276px;" /></a></p>
<p>Source code - Python with Eagle_HTTP_API library.</p>
<p>&nbsp;</p>
<blockquote><p>from eagle_http import *<br />
import time,&nbsp;httplib,&nbsp;urllib, os</p>
<p># info from Rainforest Automation account<br />
eagle = eagle_http(&#39;user&#39;, &#39;password&#39;, &#39;device_ID&#39;)</p>
<p>eagle.noisy = False<br />
run = 1&nbsp;<br />
#Setup for EmonCMS&nbsp;Data<br />
host = &#39;emoncms.org&#39;<br />
url_post = &#39;/emoncms/input/post.json?node=13&amp;devicekey=&#39;<br />
with open (&quot;DeviceKey.txt&quot;, &quot;r&quot;) as key:<br />
apikey&nbsp;= key.read()</p>
<p>#HTTP Header info<br />
values = urllib.urlencode({&#39;value&#39; : &#39;1234&#39;,})<br />
headers = {<br />
&#39;User-Agent&#39;: &#39;python&#39;,<br />
&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;,<br />
&#39;Accept&#39;: &#39;text/plain&#39;, }</p>
<p>while int(run) == 1:<br />
&nbsp; eagle.get_instantaneous_demand()<br />
&nbsp; Demand = int(eagle.InstantaneousDemand.Demand, 0)<br />
&nbsp; if Demand &gt;&nbsp;0x7FFFFFFF:<br />
&nbsp; &nbsp; Demand -=&nbsp;0x100000000<br />
&nbsp; Multiplier = int(eagle.InstantaneousDemand.Multiplier, 16)<br />
&nbsp; Divisor = int(eagle.InstantaneousDemand.Divisor, 16)<br />
&nbsp; power = Demand<br />
&nbsp; power = str(power)</p>
<p>#read&nbsp;RAPI&nbsp;current from&nbsp;OpenEVSE&nbsp;and Post HTTP<br />
input_power = &#39;&amp;json={Power:&#39; + power + &#39;}&#39;<br />
conn&nbsp;= httplib.HTTPSConnection(host)<br />
url_power = url_post +&nbsp;apikey&nbsp;+ input_power&nbsp;<br />
conn.request(&quot;POST&quot;, url_power, values, headers)<br />
response = conn.getresponse()<br />
print &quot;Power &quot; + power + &quot; kWh Sent to &quot; + host&nbsp;<br />
time.sleep(15)</p>
</blockquote>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/3436"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-7uzHqOAkD0N97A0_-LT9YAViVnYnLmYP68vNC_BqInE" value="form-7uzHqOAkD0N97A0_-LT9YAViVnYnLmYP68vNC_BqInE"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
