<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10926 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:57:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>emonhub service in java code? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">emonhub service in java code?</h3>
        <span class="submitted">Submitted by <a href="../user/7585.html" title="View user profile.">alexlember</a> on Thu, 02/07/2015 - 05:57</span>
        <div class="content"><p>Hello everyone!</p>
<p>I&#39;m writing a java program and I want to get received data.</p>
<p>As I understand you have a special emonhub service to deal with it, but how can I do it by my own?</p>
<p>Are you saving data first to mysql database? Or you&#39;re just sending it to emoncms straight?</p>
<p>Could you help me please?</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10373.html" class="topic-previous" title="Go to previous forum topic">‹ Fix for accumulator based bargraph data gaps</a>
              <a href="10916.html" class="topic-next" title="Go to next forum topic">Responsive dashboards ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-31840"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonhub service in java code?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 02/07/2015 - 08:27.</div>
    <div class="content">
     <p>emonHub does not currently use any SQL it can buffer data in RAM &nbsp;if needed but it does not store it.</p>
<p>I do not code in java so cannot give you any pointers how to write it but if you elaborate on where you want to receive data from and what that data is eg format and range of values etc and what is expected or required by your java program then we may be able to give you some pointers.</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31843"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7585.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="alexlember&#039;s picture" title="alexlember&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonhub service in java code?</h3>

    <div class="submitted">Submitted by <a href="../user/7585.html" title="View user profile.">alexlember</a> on Thu, 02/07/2015 - 09:07.</div>
    <div class="content">
     <p>I have emonTx v3 conneced to RPI by rfm12 pi.</p>
<p>I tried to debug RFM12pi&nbsp;by minicom, I&#39;m receiving something like</p>
<p>10 0 0 0 0 0 0 0 0 0 0, where 10 - is a node nuber&nbsp;and zeros are because I don&#39;t have any sensors plugged in emonTx.</p>
<p>I want to get the same packet&nbsp;10 0 0 0 0 0 0 0 0 0 0 from RXTX interface but not in minicom but in my java program.&nbsp;</p>
<p>I&#39;m pretty sure that what&nbsp;you&#39;re doing in emonHub&nbsp;is just the same thing. You&nbsp;getting bytes from rx pin and then&nbsp;parse it.&nbsp;</p>
<p>Could you give me a hand what is the packed format, how many bytes are sending from emonTx to RPI?</p>
<p>Or maybe I can escape from creating my own protocol parser and use something already written?</p>
<p>&nbsp;</p>
<p>Thank you!</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31845"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonhub service in java code?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 02/07/2015 - 09:39.</div>
    <div class="content">
     <p>The data you see coming in via the serial port is defined in the sketch you have loaded, i suspect it is node 10 and 10 bytevalues(0..255) as explained to you by Robert in your&nbsp;<a href="10858.html">minicom utility problems with understanding</a>&nbsp;thread.</p>
<p>Yes you will need to repeatedly read the serial port, parse the values and process as your java program requires. I cannot even suggest how this is done in java I&#39;m afraid.</p>
<p>You could indeed use something already written it&#39;s called emonHub! this was suggested in your&nbsp;<a href="10042.html">Where does the RPI save received data from rfm12pi module?</a>&nbsp;thread.</p>
<p>What is it you are trying to achieve?</p>
<p>You have mentioned receiving&nbsp;from rfm2pi, sending&nbsp;via Ethernet and saving to SQL, this is what emonhub and emoncms do. But you want to use java for some reason, which is fine if that&#39;s&nbsp;your preference&nbsp;but neither emonhub or emoncms&nbsp;are written in java&nbsp;and there is very little java development (if any) in the OEM project.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31848"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7585.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="alexlember&#039;s picture" title="alexlember&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonhub service in java code?</h3>

    <div class="submitted">Submitted by <a href="../user/7585.html" title="View user profile.">alexlember</a> on Thu, 02/07/2015 - 12:26.</div>
    <div class="content">
     <p>Ok, again you mentioned that I can use emonHub. But how? I can use it from command line? I can write python script and use emonHub methods from there?&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31849"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonhub service in java code?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 02/07/2015 - 12:40.</div>
    <div class="content">
     <p><em>&quot;But how?&quot;</em></p>
<p>To do what???</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31851"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7585.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="alexlember&#039;s picture" title="alexlember&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonhub service in java code?</h3>

    <div class="submitted">Submitted by <a href="../user/7585.html" title="View user profile.">alexlember</a> on Thu, 02/07/2015 - 14:08.</div>
    <div class="content">
     <p>&quot;You could indeed use something already written it&#39;s called emonHub! this was suggested in your&nbsp;Where does the RPI save received data from rfm12pi module?&nbsp;thread.&quot;</p>
<p>How to use emonHub?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31854"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonhub service in java code?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 02/07/2015 - 15:35.</div>
    <div class="content">
     <p>Once installed you may&nbsp;have to configure it to your preferences, set urls, frequency group id etc etc&nbsp;&nbsp;but it&#39;s defaults are for a 433MHz RFM2Pi, group 210, baseid 15 and it just needs to know your emoncms.org&nbsp;apikey.</p>
<p>​It is included on the OEM SDcard images or there is an installer if you prefer to add it to an existing set up, It autostarts&nbsp;at boot time and&nbsp;It runs in the background, receiving, parsing, processing, buffering and forwarding the data received.</p>
<p>You can start and stop it via the command line but it is a service not a command&nbsp;line tool.</p>
<p>There are many threads on how to configure&nbsp;emonHub and&nbsp;there is nothing else to do unless you want to do something specific, if that is the case we need to know what that is if you want help.</p>
<p>Trystan has written several&nbsp;guides on how to use emonhub when an SDcard image is used and I have written many posts on how to do specific things with emonHub. If I had more context maybe I could point you to the right place.</p>
<p><a href="5986.html">Emonhub installation/update</a></p>
<p><a href="https://github.com/emoncms/emoncms/blob/low-write/docs/setup.md#3-posting-to-emoncmsorg">https://github.com/emoncms/emoncms/blob/low-write/docs/setup.md#3-posting-to-emoncmsorg</a></p>
<p>​<a href="3884.html">Connect an EmonTx v3 to RaspberryPI via serial</a></p>
<p>​Paul</p>
<p>Also here are a couple of threads about using a&nbsp;emontx v3&#39;s&nbsp;directly linked to&nbsp;the pi&#39;s serial port</p>
<p><a href="6167.html">Emon v3 Direct Serial</a></p>
<p><a href="6048.html">Serial link RPI&lt;-&gt;EMonTX using Emonhub (emonSD-13-08-14.img)</a></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10926"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-5kedZMbuc3uPb0WS1h6SQ8vGY4SgcBze--EXow7ltbs" value="form-5kedZMbuc3uPb0WS1h6SQ8vGY4SgcBze--EXow7ltbs"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
