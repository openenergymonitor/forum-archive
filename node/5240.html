<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5240 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:00:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Basic comms between Raspberry Pi and RFM12B | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Basic comms between Raspberry Pi and RFM12B</h3>
        <span class="submitted">Submitted by <a href="../user/6384.html" title="View user profile.">joehandford</a> on Wed, 28/05/2014 - 23:18</span>
        <div class="content"><p>I believe I have a 433MHz EmonTx V3&nbsp;and a 433MHz RFM12B&nbsp;board for Pi. With the supplied OEM Gateway Pi firmware, after having updated the conf file, when powering up the pi the green led on the&nbsp;RFM12B flashes once and then nothing.</p>
<p>So I installed a fresh version of Raspian&nbsp;on my Pi disabled the serial port, installed and ran minicom&nbsp;and plugged in the&nbsp;RFM12B (the EmonTx&nbsp;is on and flashing every 10 seconds, with CT1&nbsp;sensing current). I get nothing in the minicom window and the&nbsp;RFM12B doesn&#39;t appear to be responding to my attempts to change its configuration.</p>
<p>This may all be down to my lack of experience with minicom. Having fired it up using:</p>
<p>$ minicom -b9600 -D/dev/ttyAMA0</p>
<p>and then plugging in the&nbsp;RFM12B, should I see some output from the&nbsp;RFM12B?</p>
<p>Should I just be able to type commands to configure the&nbsp;RFM12B at this point and what response should I expect, or do I have to configure&nbsp;minicom first? When I type a character the green led illuminates, should i be terminating commands with a &lt;CR&gt;? With or without &lt;CR&gt; appears to make no difference.</p>
<p>Could the lack of&nbsp;RFM12B flashing be due to either the EmonTx or&nbsp;RFM12B not being set to 433MHz as expected?</p>
<p>To determine if the&nbsp;EmonTx is set to the correct frequency do I need to purchase a UART to USB converter from the store?</p>
<p>Cheers, Joe</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5245.html" class="topic-previous" title="Go to previous forum topic">‹ oem_gateway image and basefail</a>
              <a href="../http_/%252Femoncms.org/garlick.html" class="topic-next" title="Go to next forum topic">Problem in real-time visualisation in embedded mode ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-21661"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1741.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1741.jpg" alt="ukmoose&#039;s picture" title="ukmoose&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Basic comms between Raspberry Pi and RFM12B</h3>

    <div class="submitted">Submitted by <a href="../user/1741.html" title="View user profile.">ukmoose</a> on Thu, 29/05/2014 - 08:51.</div>
    <div class="content">
     <p>Have you tried plugging the RFM12Pi board in before powering on the Pi, then when the pi has booted up, log in and run the minicom command.</p>
<p>Whilst you could set the&nbsp;EmonTx or RFM12Pi to something other than 433MHz, the chip is actually different between the different frequencies. &nbsp;So if you purchased 433MHz that&nbsp;is what it will be set to.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21665"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6384.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="joehandford&#039;s picture" title="joehandford&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Basic comms between Raspberry Pi and RFM12B</h3>

    <div class="submitted">Submitted by <a href="../user/6384.html" title="View user profile.">joehandford</a> on Thu, 29/05/2014 - 10:26.</div>
    <div class="content">
     <p>With the&nbsp;RFM12Pi board plugged in before power up it is not possible to log on to the Pi, sorry forgot to mention this.</p>
<p>I would have expected that provided that EmonTx and Base station are set to the same frequency that irrespective of the software on the Pi, but provided that the serial port has been disabled to allow an external device to use it, that the&nbsp;RFM12Pi&nbsp;should periodically flash to show data packets being received from the EmonTx (which is flashing every 10 seconds).</p>
<p>I would also have expected to see some data appearing in the minicom&nbsp;window - unless I have not set this up correctly.</p>
<p>What else could be causing what appears to be the base station not hearing the EmonTx&#39;s&nbsp;transmissions? Is&nbsp;antenna length another potential point of failure? Perhaps I should measure these this evening. I guess maybe that the EmonTx is only presenting the illusion of transmitting. I think I read somewhere that you can hardwire the EmonTx to the base station. Feels like I need to order the UART to USB adapter to investigate&nbsp;further.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21666"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1741.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1741.jpg" alt="ukmoose&#039;s picture" title="ukmoose&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Basic comms between Raspberry Pi and RFM12B</h3>

    <div class="submitted">Submitted by <a href="../user/1741.html" title="View user profile.">ukmoose</a> on Thu, 29/05/2014 - 11:34.</div>
    <div class="content">
     <p>If you can&#39;t log on to the pi if the RFM12Pi is attached at powerup&nbsp;you have a problem... You should be able to.</p>
<p>So I think you need to focus your attention on the pi and rather than the emontx end.</p>
<p>(although the UART to USB adapter&nbsp;is a handy thing to have anyway ;-) )</p>
<p>Other than checking you have it plugged into the correct pins, double check that pin 1 on the RFM12Pi connects with Pin 1 on the RasPi. The RFM12Pi should sit as close to the SD card as possible.</p>
<p>If that&#39;s OK, I&nbsp;suggest you contact the shops support email address.&nbsp;http://shop.openenergymonitor.com/support/</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5240"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-n5dwlHyd4YOe9onpgFyr37uSNOnb9Ih_uWyrCXKOGVo" value="form-n5dwlHyd4YOe9onpgFyr37uSNOnb9Ih_uWyrCXKOGVo"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/5240 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:00:41 GMT -->
</html>
