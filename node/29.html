<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Blown HCPL-7520&#039;s | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/emon/sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="/emon/modules/node/node.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/defaults.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/system.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/system-menus.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/user/user.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/modules/mollom/mollom.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/forum/forum.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/modules/views/css/views.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/comment/comment.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/themes/emon3/style.css?r" />
<style type="text/css" media="all">@import "/emon/sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="/emon/" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="/emon/">Home</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
          <span class="submitted"></span>
      <div class="taxonomy"></div>
      <div class="content"><p><strong>Blown HCPL-7520's</strong></p>
<p>I recently changed my high side power supply from a cheap 5V volt adapter which was actually 6V and so I had to use a 5V 100mA voltage regulator to keep it at 5V, to a computer power supply which gave a clean 5V output. Two hcpl's blew soon after.</p>
<p>In an attempt to find out why, I blew my last one and im still a bit in the dark as to the reason.</p>
<p>The first setup I had using the cheap variable voltage power adapter and voltage regulator survived for much longer. I used it off and on for about 3 weeks. The signal off the power adapter was quite noisy and so I though that the computer powersupply might be cleaner and it wouldn't need a voltage regulator since its output was 5V.</p>
<p>With the intent to see if the 5V 100mA voltage regulator was needed. I connected up the circuit with my remaining hcpl-7520 to monitor the voltage waveform. I used the computer power supply modified to run at 6V with the voltage reduced to 5V with the 5V 100mA voltage regulator to supply power to the high side. It all worked fine. I turned the setup off for the night</p>
<p>Coming back to it in the morning it no longer worked... a result that suggests that the voltage regulator makes no difference. </p>
<p>Im going to put a few more hcpl's on order and try again with the old power adapter.</p>
<p>Exploring another possibility I dont think the problem is due to exeeding maximum input voltages. The chip can take a maximum positive voltage of 5.5V and a maximum negative voltage of -2V. At 2V either side this would correspond to when monitoring current 80A the powerstrip has a 13A fuse, when monitoring voltage 4402V well above anything close to mains voltage.</p>
</div>
    
    
      </div>
<div id="comments">
  <a id="comment-1119"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/default_0.png" alt="dubbleUJay&#039;s picture" title="dubbleUJay&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Blown HCPL-7520's</h3>

    <div class="submitted">Submitted by <a href="http://tinyurl.com/My-Listers" rel="nofollow">dubbleUJay</a> (not verified) on Mon, 09/11/2009 - 15:01.</div>
    <div class="content">
     <p>Hello, I'm busy with a similar project to monitor engines in a micro co-gen system and I discovered yours during my "net-travels" looking for cct's to do the monitoring.<br />
It looks like you have made up your mind about using the non-invasive method, but I quite like this invasive one as it seems more accurate as I need to calculate actual power given for a known amount of fuel, WVO, WMO or diesel. I'm no coder, so I'm learning from yours here ;-)<br />
What I might be able to help with is the following:<br />
I think that the supply voltages to the 7520 is quite critical. You are using one from the Arduino (USB) and one from the plug-in power supply. It just seems that there are to many things that can go wrong, IE., voltage drop on the USB when using other stuff on the PC exec.<br />
Somewhere in the future you will be needing a dedicated supply for the stuff you want to control from the Arduino, IE., relays or what ever, so why not start now by incorporating a PC power supply for all the peripherals on the board?<br />
I plugged a spare ATX PC PSU into a cheap 400Watt PC UPS and I now have continuous "known to work &amp; good" power supply with 12,5, 3.3 volt dual rails.<br />
I'm just now looking at having 2 separate 5V rails with isolated grounds, but as far a I know one of the voltages going to the Motherboard is isolated from the rest, or, if not, I'll build a small cct.<br />
Just my 2cents and what I'm busy doing at the moment that might help you. I believe if one have a steady power supply, a lot of problems are eliminated.</p>
<p>Great project BTW! I'm also waiting for some IC's to arrive before I can continue :-( They are few and far between here in South Africa!<br />
dubbleUJay<br />
FYI if interested, my forum link if I may: <a href="http://www.microcogen.info/index.php?topic=188.0" title="http://www.microcogen.info/index.php?topic=188.0">http://www.microcogen.info/index.php?topic=188.0</a></p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1121"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/3" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Blown HCPL-7520's</h3>

    <div class="submitted">Submitted by <a href="/emon/user/3" title="View user profile.">TrystanLea</a> on Mon, 16/11/2009 - 00:54.</div>
    <div class="content">
     <p>Hello dubbleUJay</p>
<p>Thanks for your comment! Sorry for taking a while to reply. Thats interesting about the supply voltages that could well be the problem, thanks for letting me know. With the computer power supply however I would still need two seperate supplies one for each side of the hcpl though and so I guess I would still get some trouble with a mismatch of voltages right?, although do you think there will be less trouble than with using USB?</p>
<p>Had a quick look through the thread, your engine monitoring system sounds really great! sorry about the complication with the java side of things did you get it to run on xp in the end?</p>
<p>Trystan</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1127"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/default_0.png" alt="dubbleUJay&#039;s picture" title="dubbleUJay&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Blown HCPL-7520's</h3>

    <div class="submitted">Submitted by dubbleUJay (not verified) on Fri, 27/11/2009 - 18:52.</div>
    <div class="content">
     <p>Hi Trystan,<br />
I didn't get any email notification from this thread, so I more or less forgot about it and just now thought I'll have a quick look.<br />
I couldn't get any of the IC's over here so I've decided to use another method.<br />
Still, I think there will come a time when you put everything together and you might overload your USB.<br />
BTW, is your plan to put all the code for the various sensors into one Sketch eventually? I just presumed that you were!</p>
<p>I'll probably use small transformers to isolate and then resistors to work out the Volts and get the frequency from the same pin.<br />
For the current I probably use something similar or a CT.<br />
I couldn't get the Java to work in XP, when I unzipped the files, they were all in the same directory &amp; because 2 of them had the same name, the 1 overwrites the other.<br />
I really tried for a solution, but gave up eventually. I'm learning programming as I'm going on with my project, so its quite possible I did something stupid!<br />
That said, between gobetwino and Kst I came right and I'm getting some nice graphs by using MS Office Excel to link to the data file as well!<br />
My biggest "thing" at the moment is to get more analog inputs with a 16ch multiplexer and then all the different sensors for temp, rpm, pressure exec, in a row and working.<br />
Hopefully I'll get a notification if you reply this time ;-)<br />
I'll look in from time to time to see if there's something to "steal" with my eyes! ;)<br />
Feel free to do the same if you see something in my project you like!</p>
<p>Wilhelm</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1128"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/3" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Blown HCPL-7520's</h3>

    <div class="submitted">Submitted by <a href="/emon/user/3" title="View user profile.">TrystanLea</a> on Fri, 27/11/2009 - 19:35.</div>
    <div class="content">
     <p>Hello Wilhelm</p>
<p>sorry about the notification problem, hope this one sends you one:) On my code plans at the moment Im not sure if I will bring all the sensors together or have them seperate, I think it will probably be a case of having maybe the option for both arrangements so at some point there might be code for specific sensors and code for many sensors together available... will see :)</p>
<p>Your plan sounds good, Ive just over the last few days been working on frequency measurment and have managed to get some nice measurments with about 0.01Hz or better resolution. I will try and upload it here soon, once I get a spare minuit :)</p>
<p>Sorry about the trouble with the java, a few people area asking about getting it to work on XP, I havent tried it myself since im running Ubuntu but I think it would be worth doing sometime soon. Although your gobetwino -&gt; kst and Excel solution sounds really great! Thanks for letting me know about gobetwino.</p>
<p>I will certainly have a look at your project from time to time, Its great reading and hearing about what people are building, thanks! </p>
<p>Trystan</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1129"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/default_0.png" alt="dubbleUJay&#039;s picture" title="dubbleUJay&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Blown HCPL-7520's</h3>

    <div class="submitted">Submitted by dubbleUJay (not verified) on Sat, 28/11/2009 - 04:35.</div>
    <div class="content">
     <p>Hi Trystan, still no notification, but this time I came to check on your site! ;) Also, its not my spam filter, I had a look.<br />
Anyway, I'm going to put all my code together and that is why I asked, because one will have to keep track of everything to make sure the various "routines" don't clash with one another once in the same sketch on the Arduino.<br />
About the VA sensor, I'm not to much worried about real RMS at this stage, as my knowledgeable friend BruceM in my project thread explained, one actually need a dedicated processor for that because of the intense and real-time calculations.<br />
In your project I can see it being a necessity as your main objective is monitoring power produced or used. This might come into play later on for me, but for now I'll leave it for last.<br />
What IS important for me are Vac and frequency in my instance as the speed of the engine are directly related to that, my PC is going to hate 260Vac at 68Hz or something like that, if the engine over-speeds ;) I think you get the picture.<br />
Re the Java, I remember NOW having a similar problem a long time ago when I wanted to compile a program in XP intended for Linux. When you zip your code for Windows users, be sure to keep the folder structure in the zip file! When they unzip &amp; compile it then, it worked for me that time.<br />
I'm not 100% sure of this, but maybe it puts you on the right path/solution.<br />
Re GoBetWino, I thought I read about it somewhere else on this site and you knew about it? Anyway, it works great once you have the hang of it. Kst seems to crash on occasions, that's why I tried Excel2007 and was quite surprised!<br />
It fills my needs for now while I'm developing, but a dedicated UI will probably be needed in the end.<br />
Obviously this method will also work for your Windows "customers"<br />
Enjoy,<br />
Wilhelm</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
<div class="indented"><a id="comment-1142"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/3" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Blown HCPL-7520's</h3>

    <div class="submitted">Submitted by <a href="/emon/user/3" title="View user profile.">TrystanLea</a> on Mon, 30/11/2009 - 17:31.</div>
    <div class="content">
     <p>Hey Wilhelm, there does seem to be a problem with the notifications... hmm cant quite work out whats gone wrong though, will keep testing and fiddling to see if I can get it back, thanks for letting me know about it and thanks for the tips on the windows setup. I will try and upload the details I mentioned above about frequency measurment once its done.</p>
<p>Trystan</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; </div>
  </div>
</div></div></div></div></div></div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>

</html>
