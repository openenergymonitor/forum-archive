<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/893 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:53:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Warning: strtotime(): It is not safe to rely on the system&#039;s timezone | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Warning: strtotime(): It is not safe to rely on the system&#039;s timezone</h3>
        <span class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Fri, 27/07/2012 - 16:11</span>
        <div class="content"><p>&nbsp;I started getting these errors on emoncms running on my raspberry pi today after upgrade to latest version.</p>
<p>The solution is to edit /etc/php5/apache2/php.ini file and look for the date.timezone line. I put mine as defined here&nbsp;<a href="http://bg2.php.net/manual/en/datetime.configuration.php#ini.date.timezone">http://php.net/manual/en/datetime.configuration.php#ini.date.timezone</a>&nbsp;, restarted apache and all is fine.</p>
<p>&nbsp;</p>
<p>hope this helps if anyone gets same error</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1015.html" class="topic-previous" title="Go to previous forum topic">‹ wamp login &amp; register</a>
              <a href="1019.html" class="topic-next" title="Go to next forum topic">emoncms3 latest release ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-5515"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Warning: strtotime(): It is not safe to rely on the system's timezone</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Fri, 03/08/2012 - 21:01.</div>
    <div class="content">
     <p>Hi, Getting same errors.</p>
<p><b>Warning</b>:  strtotime(): It is not safe to rely on the system's  timezone settings. You are *required* to use the date.timezone setting  or the date_default_timezone_set() function. In case you used any of  those methods and you are still getting this warning, you most likely  misspelled the timezone identifier. We selected the timezone 'UTC' for  now, but please set date.timezone to select your timezone. in <b>/var/www/emoncms3/Models/input_model.php</b> on line <b>64</b></p>
<p><b>Added following code using&nbsp; &quot; sudo nano </b>/etc/php5/apache2/php.ini&quot;</p>
<p>[Date]<br />
; Defines the default timezone used by the date functions<br />
; <a href="http://php.net/date.timezone" title="http://php.net/date.timezone">http://php.net/date.timezone</a><br />
;date.timezone =<em>&quot;Europe/London&quot;</em></p>
<p>; <a href="http://php.net/date.default-latitude" title="http://php.net/date.default-latitude">http://php.net/date.default-latitude</a><br />
;date.default_latitude = <em>51.500181</em></p>
<p>; <a href="http://php.net/date.default-longitude" title="http://php.net/date.default-longitude">http://php.net/date.default-longitude</a><br />
;date.default_longitude = <em>-0.12619</em></p>
<p>however still getting same code.</p>
<p>Hope you can assist. Cheers</p>
<p>Peter<br />
&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5516"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Warning: strtotime(): It is not safe to rely on the system's timezone</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Sat, 04/08/2012 - 06:38.</div>
    <div class="content">
     <p>&nbsp;Peter,&nbsp;</p>
<p>you have to remove the semicolumn in front of the date.timezone, just like this:</p>
<p>&nbsp;</p>
<p><span style="background-color: rgb(238, 238, 238); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 1.1em; line-height: 15.316666603088379px; ">[Date]</span></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 15.316666603088379px; background-color: rgb(238, 238, 238); ">; Defines the default timezone used by the date functions<br />
;&nbsp;<a href="http://php.net/date.timezone" title="http://php.net/date.timezone" style="text-decoration: none; color: rgb(51, 102, 153); ">http://php.net/date.timezone</a><br />
date.timezone =<em>&quot;Europe/London&quot;</em></p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 15.316666603088379px; background-color: rgb(238, 238, 238); ">&nbsp;</p>
<p style="font-size: 1.1em; margin-top: 0.5em; margin-bottom: 0.9em; font-family: Verdana, Arial, Helvetica, sans-serif; line-height: 15.316666603088379px; background-color: rgb(238, 238, 238); ">You don't need the coordinates, it works without them</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5518"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Warning: strtotime(): It is not safe to rely on the system's timezone</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Sat, 04/08/2012 - 07:51.</div>
    <div class="content">
     <p>Thanks for pointer, must remember that in future, must have other issues its still the same when I restart apache2 I get:</p>
<p>pi@raspberrypi ~ $ /etc/init.d/apache2 restart<br />
[....] Restarting web server: apache2/usr/sbin/apache2ctl: 87: ulimit: error setting limit (Operation not permitted)<br />
apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.1.1 for ServerName<br />
/usr/sbin/apache2ctl: 87: ulimit: error setting limit (Operation not permitted)<br />
apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.1.1 for ServerName<br />
(13)Permission denied: make_sock: could not bind to address 0.0.0.0:80<br />
no listening sockets available, shutting down<br />
Unable to open logs<br />
Action 'start' failed.<br />
The Apache error log may have more information.<br />
&nbsp;failed!<br />
&nbsp;</p>
<p>This is a bit of a learning curve, just got my raspberry pi and setting up as webserver. I may load wheezy again and start fresh.</p>
<p>Cheers</p>
<p>Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5519"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Warning: strtotime(): It is not safe to rely on the system's timezone</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Sat, 04/08/2012 - 09:11.</div>
    <div class="content">
     <p>&nbsp;Hmm I didn't get these errors, you tried to restart apache as sudo, did you?</p>
<p><u><strong><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 19px; text-align: justify; ">sudo</span></strong></u><span style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 19px; text-align: justify; "> /etc/init.d/apache2 restart</span></p>
<p>&nbsp;</p>
<p>Also google reveals this solution to the error message you get, give it a try:</p>
<p>&nbsp;</p>
<p><a href="http://excid3.com/blog/usrsbinapachectl-line-82-ulimit-open-files-cannot-modify-limit-invalid-argument/">http://excid3.com/blog/usrsbinapachectl-line-82-ulimit-open-files-cannot-modify-limit-invalid-argument/</a></p>
<p>I hope this helps</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-5525"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Warning: strtotime(): It is not safe to rely on the system's timezone</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Sat, 04/08/2012 - 15:04.</div>
    <div class="content">
     <p>I reinstalled raspberry from scratch e.g. wheezy debian and still got above <b>Warning</b>:  strtotime(): in emoncms when testing. Tried above sugestion no luck. </p>
<p>In the end I re-installed apache2 as per guide at <a href="http://askubuntu.com/questions/111770/how-reinstall-apache2 " title="http://askubuntu.com/questions/111770/how-reinstall-apache2 ">http://askubuntu.com/questions/111770/how-reinstall-apache2 </a> which was quite straightforward and it is now working.&nbsp; Can't wait to connect actual monitor and do some testing.</p>
<p>Thanks for your help </p>
<p>Cheers</p>
<p>Peter</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-6048"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="PeterN&#039;s picture" title="PeterN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Warning: strtotime(): It is not safe to rely on the system's timezone</h3>

    <div class="submitted">Submitted by PeterN (not verified) on Wed, 05/09/2012 - 00:44.</div>
    <div class="content">
     <p>Happened again on another installation (raspberry pi). Your fix above adding &quot;Europe/London&quot; and removing ; worked.</p>
<p>Thanks</p>
<p>Peter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/893"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-9HncW-G8f1HQs13zvom2rxXKw1DXN8PeA1hJMGjhLKc" value="form-9HncW-G8f1HQs13zvom2rxXKw1DXN8PeA1hJMGjhLKc"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
