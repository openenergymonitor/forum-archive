<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10352 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:49:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Raspberry Pi and SPI LCD display | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Raspberry Pi and SPI LCD display</h3>
        <span class="submitted">Submitted by <a href="../user/7723.html" title="View user profile.">daturach</a> on Wed, 18/03/2015 - 21:15</span>
        <div class="content"><p>I would like to display the usual electrical values on a SPI LCD display, type Nokia 3310, connected to a Raspi.​There is&nbsp;as&nbsp;well a&nbsp;RFM69Pi&nbsp;connected to the Raspi.</p>
<p>I know there is a SPI library written for Python. One of the possible solution is to take the emonhub_interfacer.py file and put some code in there because I think this file is already logging frames to the&nbsp;emonhub log file.</p>
<p>What do you think? Will that work?</p>
<p>Thanks</p>
<p>Walter</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10287.html" class="topic-previous" title="Go to previous forum topic">‹ RFM12B to APC220 [SOLVED]</a>
              <a href="2044.html" class="topic-next" title="Go to next forum topic">Robins Mk2 solar diverter. For sale ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-28822"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7723.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7723.jpg" alt="daturach&#039;s picture" title="daturach&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Raspberry Pi and SPI LCD display</h3>

    <div class="submitted">Submitted by <a href="../user/7723.html" title="View user profile.">daturach</a> on Thu, 19/03/2015 - 18:34.</div>
    <div class="content">
     <p>This is probably a question for Paul (pb66), the developer of the python scripts for the emonhub module.</p>
<p>Thanks</p>
<p>Walter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28831"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Raspberry Pi and SPI LCD display</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 19/03/2015 - 23:02.</div>
    <div class="content">
     <p>Hi Walter, I&#39;m not so sure I can help you much. Having no experience with either SPI or LCD means it isn&#39;t looking good for any useful help.&nbsp;<span style="line-height: 20.7999992370605px;">When I first&nbsp;</span><span style="line-height: 20.7999992370605px;">rea</span><span style="line-height: 20.7999992370605px;">d</span><span style="line-height: 20.7999992370605px;">&nbsp;you post I was going to attached a link to&nbsp;</span>Glyn&#39;s<span style="line-height: 20.7999992370605px;">&nbsp;recent work&nbsp;</span><span style="line-height: 20.7999992370605px;">for the LCD display on the&nbsp;</span>emonPi<span style="line-height: 20.7999992370605px;">, but then I recalled&nbsp;</span><span style="line-height: 20.7999992370605px;">that was I&sup2;C not SPI.</span><span style="line-height: 20.7999992370605px;">&nbsp;</span></p>
<p><span style="line-height: 20.7999992370605px;">The only pointer&#39;s that spring to mind right now are that IF looking to integrate this with emonHub in it&#39;s current form a custom reporter maybe marginally easier to send a stream of data frames. Before investing too much time or effort into integrating this functionality you should develop the (probably) code to communicate with and populate the display from a frame of values. Then tackle getting the values from emonhub to that script as I think you will want to have some sort of filtering and/or labeling&nbsp;of data.</span></p>
<p><span style="line-height: 20.7999992370605px;">The ability to stream data frames from emonhub to a display via SPI or I&sup2;C would be a great addition but is currently difficult due to emonhubs&nbsp;&quot;send all to each&quot; structure and the in ability to read from emoncms calculated feeds out of the box. This will change (hopefully soon&#39;ish) and then certain data can be included or excluded to form a &quot;custom channel&quot; for the display.</span></p>
<p><span style="line-height: 20.7999992370605px;">In the interim the method of communication and interface to the display can still be designed and then be reused when the time comes. </span></p>
<p><span style="line-height: 20.7999992370605px;">An alternative method to supply data to your new display interface could be to just &quot;fetch&quot; feed data from emoncms. The &quot;fetch&quot; api allows you to define a list of feeds to get the current value of. This has the advantage of giving the new script the control of what data and how often, as well as packaging it up into a single frame of&nbsp;a set structure per update so collation and naming is no longer a problem. This would closely mimic how emonhub&nbsp;could eventually tackle the same task.</span></p>
<p><span style="line-height: 20.7999992370605px;">Paul&nbsp;</span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28855"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7723.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7723.jpg" alt="daturach&#039;s picture" title="daturach&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Raspberry Pi and SPI LCD display</h3>

    <div class="submitted">Submitted by <a href="../user/7723.html" title="View user profile.">daturach</a> on Fri, 20/03/2015 - 16:43.</div>
    <div class="content">
     <p>Hello Paul</p>
<p>Thanks a lot for your&nbsp;detailed&nbsp;information. That helps me a lot.</p>
<p>Some time ago, you posted in this forum a python test script&nbsp;you use&nbsp;to simulate frames uploads to emoncms. I took that file and added a&nbsp;function&nbsp;to generate random numbers for power, etc. I installed&nbsp;the service and the other .py scripts from <a href="https://github.com/emonhub/emonhub">GitHub</a>.&nbsp;So, now I have a working system to upload some stuff to emoncms.</p>
<p>​I have also found the python SPI library on the <a href="https://learn.adafruit.com/nokia-5110-3310-lcd-python-library/usage">Adafruit</a>&nbsp;Web site. I should be able to combine these modules and simulate data for&nbsp;posting&nbsp;to&nbsp;emoncms and display&nbsp;them on the LCD. Let&#39;s see...</p>
<p>Thanks again</p>
<p>Walter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10352"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-ga8Dl3nqv_rL6b8PIQxu6GKm_9wYxJbBhFal3KIOW0Y" value="form-ga8Dl3nqv_rL6b8PIQxu6GKm_9wYxJbBhFal3KIOW0Y"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
