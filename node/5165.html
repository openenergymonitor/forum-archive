<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5165 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:07:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Energy Monitor Accuracy | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Energy Monitor Accuracy</h3>
        <span class="submitted">Submitted by Guest on Wed, 14/05/2014 - 10:55</span>
        <div class="content"><p>I tried interfacing a&nbsp;ct sensor and an ac to ac adapter to an arduino almost exactly as described in the following links&nbsp;</p>
<p><a href="https://learn.openenergymonitor.org/?redirect=measuring-voltage-with-an-acac-power-adapter">http://openenergymonitor.org/emon/buildingblocks/measuring-voltage-with-an-acac-power-adapter</a></p>
<p><a href="https://learn.openenergymonitor.org/?redirect=ct-sensors-interface?destination=node%2F156">http://openenergymonitor.org/emon/buildingblocks/ct-sensors-interface?destination=node%2F156</a></p>
<p>&nbsp;</p>
<p>But I&#39;m not getting correct values. I was using the 33ohm burden resistor as suggested. I tried both the &quot;current only&quot; and the &quot;voltage and current&quot; sketches but to no avail. The main problem is I&#39;m getting an Irms of about 0.33 mA even when no load is connected.</p>
<p>My mid point voltage is 2.44V, so the voltage divider is ok.</p>
<p>I didn&#39;t change any of the constants (except for the current constant which is 60.60 for 33ohm) as my circuit is exactly the same.</p>
<p>Interestingly, I tried a burden resistor of 1kohm (mistakenly), and with a calibration constant of about 1.8, I&#39;m getting somewhat accurate values.&nbsp;</p>
<p>&nbsp;</p>
<p>- How can I get accurate values?&nbsp;</p>
<p>- What is the accuracy of the energy monitor in general?</p>
<p>&nbsp;</p>
<p>I&#39;m a newbie. Please help.&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5179.html" class="topic-previous" title="Go to previous forum topic">‹ Forum: notify by email on reply</a>
              <a href="2164.html" class="topic-next" title="Go to next forum topic">Battery powered emonTX ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-21369"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy Monitor Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 14/05/2014 - 11:25.</div>
    <div class="content">
     <p><em>&quot;The main problem is I&#39;m getting an Irms of about 0.33 mA even when no load is connected.&quot;</em></p>
<p>I don&#39;t believe that! There is no way that you can read down that low with a 10-bit ADC and a 100 A current transformer. But that&#39;s not your problem. What you are seeing (ignore the value you quoted - I think you are reading more like 50 - 100 mA) is noise from the digital part of the processor feeding into the analogue part. Because you are rectifying the noise in the software, it can never average to zero as it tends to do when you also measure the voltage and calculate real power.</p>
<p>There are pages in Building Blocks about noise and accuracy.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21370"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Shoaib&#039;s picture" title="Shoaib&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy Monitor Accuracy</h3>

    <div class="submitted">Submitted by Shoaib (not verified) on Wed, 14/05/2014 - 11:39.</div>
    <div class="content">
     <p>Thanks for the prompt reply!</p>
<p>I&#39;m really sorry for the typo! I meant 0.33A (not 0.33mA).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21394"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy Monitor Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 15/05/2014 - 21:02.</div>
    <div class="content">
     <p>330 mA is not good. I think there are two main ways that noise can get in to the analogue input - directly or via the ground and supply rails. It could be straightforward capacitive coupling of the mains voltage via the c.t. secondary into the analogue input. I assume that you have a &quot;C1&quot; decoupling capacitor - value about 10 &micro;F - on each bias chain.</p>
<p>Also, I think you need to check that your grounding is good and the supply is adequately decoupled. If you are using a ready-made Arduino board, there is little more that you can do. But if you have your own layout on prototype board, you should feed the clean 5 V to the AV<sub>CC</sub> input, then use a LC filter to feed V<sub>CC</sub>.</p>
<p>Would I be right in thinking that the power you read with calcVI is much less and not consistent with your 0.33 A?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5165"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-RCPilNbPk7rPl8teMou0Y5M1JZtXDQLM7WlKv3diiVQ" value="form-RCPilNbPk7rPl8teMou0Y5M1JZtXDQLM7WlKv3diiVQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
