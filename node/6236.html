<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/6236 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:01:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>emonTx Accuracy | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">emonTx Accuracy</h3>
        <span class="submitted">Submitted by <a href="../user/6258.html" title="View user profile.">welbaz</a> on Thu, 04/12/2014 - 09:44</span>
        <div class="content"><p>I have recently baught the emonTx V3 measurement. It working finally pretty pefectly, but the accuracy is yet to be questions.</p>
<p>I have a setup a test bench using the emonTxV3 to measure and on the other hand a PEL 103 power and energy logger ( Very Accurate).<em>&nbsp; The results were as following:</em></p>
<p><em>1</em>) at no power at all. the emonTx was measuring 2-10 watts</p>
<p>2) at 1100 watts .. emonTx was measuring 1250-1260 watts</p>
<p>Is there specific parameters I should setup. Is there a reliable calibration sheet I can use? could the problem be with the sensors.</p>
<p>Please advice about this issue. Usually the CT sensors have 1% error. How come it was boosted up to &gt; 10%?</p>
<p>btw I used a heater for the test with three modes</p>
<p>1) 20 watts fan</p>
<p>2)1000 w heating option</p>
<p>3) 2000 watt heating option</p>
<p>Please advise about this situation,</p>
  <div class="forum-topic-navigation clear-block">
          <a href="6238.html" class="topic-previous" title="Go to previous forum topic">‹ Extending the Coaxial RG-174 cable from inverter 2.4Ghz Antenna</a>
              <a href="6234.html" class="topic-next" title="Go to next forum topic">Feed In / Sampling rate of EmonTx and EmonCMS ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-25600"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 04/12/2014 - 10:39.</div>
    <div class="content">
     <p>Hi welbaz - I would strongly recommend reading the &quot;<a href="../buildingblocks.html">building blocks</a>&quot; the answers to the questions in this thread and <a href="http://feed in / Sampling rate of EmonTx and EmonCMS">your last</a> are all there, it would require many extensive replies to answer those questions in full here.</p>
<p>In short the emonTx v3&#39;s&nbsp;default sketch is very accurate for a very short sample period, then that very accurate reading is used to estimate the use for the rest of the interval until another sample is measured, there are other sketches that measure continuously and there are also things you can add or alter eg energy readings and calibration.</p>
<p>The info is very insightful and empowers you to get the most from your emonTx.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25605"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="welbaz&#039;s picture" title="welbaz&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/6258.html" title="View user profile.">welbaz</a> on Thu, 04/12/2014 - 12:10.</div>
    <div class="content">
     <p>Thanks alot Paul for your co-operation. All what I did at the moment is just use the default emonTx V3 sketch. I thought it would be already calibrated and adjusted since I bought it as one set assembled. Now I noticed that I&#39;m always measuring a voltage of 261 volts.</p>
<p>I tried to check the voltage using a heater as shown in the pictures, but the problem to have a full-range calibration i.e ( from 10 watts - 3500 watts), I would need a flexible load device which costs around 5000 euros over here. That&#39;s why I was wondering about calibration function&nbsp; which was already used with the default emonTxv3 default sketch.</p>
<p>&nbsp;</p>
<p>I read the <a href="https://learn.openenergymonitor.org/?redirect=calibration" title="http://openenergymonitor.org/emon/buildingblocks/calibration">http://openenergymonitor.org/emon/buildingblocks/calibration</a> I noticed that the calibration factor is always a constant value. The question is on which power do you adjust this value if you are measuring from ( 10 watts till 3500 watts) what I wanted to do is to have a variable calibration function depending on the load.. or what do you think</p>
<p><a href="https://drive.google.com/folderview?id=0B7xd8j9Xr5ZUYllkNkRRaThnT28&amp;usp=sharing" title="https://drive.google.com/folderview?id=0B7xd8j9Xr5ZUYllkNkRRaThnT28&amp;usp=sharing">https://drive.google.com/folderview?id=0B7xd8j9Xr5ZUYllkNkRRaThnT28&amp;usp=...</a></p>
<p>Best regards</p>
<p>Sam</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25606"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="welbaz&#039;s picture" title="welbaz&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/6258.html" title="View user profile.">welbaz</a> on Thu, 04/12/2014 - 12:10.</div>
    <div class="content">
     <p>Test photos <a href="https://drive.google.com/folderview?id=0B7xd8j9Xr5ZUYllkNkRRaThnT28&amp;usp=sharing" title="https://drive.google.com/folderview?id=0B7xd8j9Xr5ZUYllkNkRRaThnT28&amp;usp=sharing">https://drive.google.com/folderview?id=0B7xd8j9Xr5ZUYllkNkRRaThnT28&amp;usp=...</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25607"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="welbaz&#039;s picture" title="welbaz&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/6258.html" title="View user profile.">welbaz</a> on Thu, 04/12/2014 - 12:10.</div>
    <div class="content">
     <p><a href="https://drive.google.com/folderview?id=0B7xd8j9Xr5ZUYllkNkRRaThnT28&amp;usp=sharing" title="https://drive.google.com/folderview?id=0B7xd8j9Xr5ZUYllkNkRRaThnT28&amp;usp=sharing">https://drive.google.com/folderview?id=0B7xd8j9Xr5ZUYllkNkRRaThnT28&amp;usp=...</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25609"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 04/12/2014 - 13:29.</div>
    <div class="content">
     <p>The "2-10 W" recorded at no load is almost certainly digital noise from the processor getting in to the ADC. Thereafter, the system is sensibly linear (principally limited by the CT). But the slope of that curve is governed by normal component tolerances, which you can largely correct with the calibration procedures.</p>
<p>As Paul says, it's all in Building Blocks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25610"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 04/12/2014 - 14:18.</div>
    <div class="content">
     <p>Hi Robert, my (probably not very clear) point was more aimed at the fact welbaz is using the default discrete sampling sketch and on his other thread he also&nbsp;asks about getting data every second, which is pointless if only calculated every 5-10 seconds,&nbsp;</p>
<p>welbaz - Even with 0% component tolerances the bulk of the reading&nbsp;is estimated by projecting an average of a small sample, so there will always be a&nbsp;chance of inaccuracy, rather than calibrate an average it may be better to use an un-calibrated&nbsp;continuous sampling sketch and better still with calibration. and also if you want greater accuracy of energy used over a period of time, that comes from ensuring all use is logged rather than having extremely accurate values at frequent intervals&nbsp;that are occasionally lost in transit and therefore left out of the totaling.&nbsp;</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25616"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 04/12/2014 - 15:59.</div>
    <div class="content">
     <p>The question of sampling is different to the question about accuracy. The calibration for voltage, current and power is independent of any sampling regime. On the other hand, the accuracy of energy measurement is totally dependent on either continuously recording power, or recording representative samples. We hope (given that loads are switched on and off infrequently) the 'Discrete Sample' sketches record a representative sample when time-averaged. The 'continuous' sketches will accurately record energy (even though they also report power, that power is actually the rate of energy consumption). That's why the 'Discrete Sample' sketch is totally inappropriate for use in conjunction with the energy diverters - or if you have an induction hob, etc.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25622"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Thu, 04/12/2014 - 20:00.</div>
    <div class="content">
     <p><em>The &quot;2-10 W&quot; recorded at no load is almost certainly digital noise from the processor getting in to the ADC.&nbsp;</em></p>
<p>It&#39;d be interesting to see if a big blob of solder across L1 improved that, or made it worse. &nbsp;I&#39;d experiment myself, but I don&#39;t have one.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25634"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6518.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="JD&#039;s picture" title="JD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/6518.html" title="View user profile.">JD</a> on Fri, 05/12/2014 - 03:07.</div>
    <div class="content">
     <p>I have 3 systems out at 3 different homes, each&nbsp;running a calibrated version of the default sketch. &nbsp;</p>
<p>I recently compared the emonCMS&nbsp;kWh/day to the utility&#39;s&nbsp;smart meter kWh/day, and found that all 3 systems were +/- 2% of the smart meter. &nbsp;</p>
<p>I have one system on another home that is just &quot;out of the box&quot;, not calibrated, and it reads 8% high when compared to the smart meter. &nbsp;</p>
<p>(These systems are in USA on 240V / 60hz&nbsp;panels)</p>
<p>JD</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25636"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Fri, 05/12/2014 - 09:03.</div>
    <div class="content">
     <p><em>&nbsp;I noticed that the calibration factor is always a constant value. The question is on which power do you adjust this value if you are measuring from ( 10 watts till 3500 watts) what I wanted to do is to have a variable calibration function depending on the load.. or what do you think</em></p>
<p>As far as I know, everybody settles for a single set of calibration constants for the entire dynamic range of their meter. The two errors to look out for when changing the measured current are amplitude errors and phase errors.&nbsp;&nbsp;If you read this report: &nbsp;<a href="https://learn.openenergymonitor.org/?redirect=report-yhdc-sct-013-000-current-transformer">http://openenergymonitor.org/emon/buildingblocks/report-yhdc-sct-013-000-current-transformer</a>&nbsp;you&#39;ll see how that particular CT performs over the current range. &nbsp; It&#39;s very linear in amplitude, and fairly flat-ish in the phase error, provided you stay well away from the low-end. &nbsp;Another reason to stay away from the low end when calibrating is that&nbsp;quantization&nbsp;errors &nbsp;(and background noise) play&nbsp;smaller roles when the numbers are bigger.</p>
<p>Your 20W fan potentially has a pretty poor power factor as well, so would not be ideal for calibrating PHASECAL. &nbsp;Its contribution will hopefully be drowned out by the 2000W&nbsp;heating element once you turn that on.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-25655"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTx Accuracy</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 05/12/2014 - 21:15.</div>
    <div class="content">
     <p>The half-supply bias voltage on the ADC input is not fixed. It is subject to normal component tolerances and to drift, so its position in relation to the ADC quantization steps is unpredictable and liable to vary over time. The effect of this at small currents, small in this case being around 1% full scale and below, is that the absolute error too is unpredictable and the possible error rapidly increases below about 1% full scale current, which implies below about 1% full scale power also. There's a Building Blocks page about that too.</p>
<p>The best way to set PHASECAL, but one impractical for most people, would be to use a high current purely reactive load, e.g a large capacitor bank, and adjust for zero real power. The zero point, being a crossing point, is much better defined that the fairly flat-topped maximum you see with a purely resistive load. But for practicality, because most people can easily find a moderately high power resistive load, we suggest that for the purposes of calibration.</p>
<p>In any case, There are two currents/powers at which it is sensible to do all calibration. One is at or near maximum current/power, the other is at a typical current/power for your installation. Normally I would suggest calibrating at or near maximum, where you would obtain the greatest accuracy given a linear transfer characteristic. However, there is a very slight bend in the YHDC CTs characteristic so there could be a good argument for using a typical and lower value, provided of course it is well away from the point at which noise and quantization errors become significant. I would suggest 30% of full scale would be a sensible minimum.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/6236"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-i8F3UyuxT8jzUzk20Rz-VlacWvL9UhhBr-xmbdeFfVk" value="form-i8F3UyuxT8jzUzk20Rz-VlacWvL9UhhBr-xmbdeFfVk"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/6236 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:01:27 GMT -->
</html>
