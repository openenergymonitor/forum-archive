<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11218 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:58:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>EmonPi losing connection to EmonTX and EmonTH | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">EmonPi losing connection to EmonTX and EmonTH</h3>
        <span class="submitted">Submitted by <a href="../user/8271.html" title="View user profile.">Jez Wingfield</a> on Mon, 07/09/2015 - 06:08</span>
        <div class="content"><p>I have an EmonPi which I am using in conjunction with 2x EmonTX (one with 6 DS18B20&nbsp;temperatures and one with 4x&nbsp;CTs) and 4x EmonTH around the house. This system has been running well for 3 or 4 weeks. However, over the last couple of days the Pi keeps losing the connections to the TXs and THs - this typically happens after it has been running for 6 or 7 hours. The EmonPi itself&nbsp;is still logging the wired connections to its own 2x CTs and 1x DS18B20. The only way I have found to restart the wireless connections is to reboot the EmonPi.&nbsp;Any ideas? - Have I overloaded the EmonPi with too much to do? Or is it something more sinister such as signal interference?&nbsp;I have loaded the latest version of emoncms but that hasn&#39;t helped.</p>
<p>Jez</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11126.html" class="topic-previous" title="Go to previous forum topic">‹ Visualizing pulse data at less than 24 hour intervals?</a>
              <a href="11294.html" class="topic-next" title="Go to next forum topic">Deriving solar power from pulse counter ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-34179"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8271.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Jez Wingfield&#039;s picture" title="Jez Wingfield&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/8271.html" title="View user profile.">Jez Wingfield</a> on Wed, 16/09/2015 - 05:30.</div>
    <div class="content">
     <p>Update - I have tried a few&nbsp;things such as turning off each of the EmonTX&nbsp;in turn to see what happens. I still find that with just&nbsp;the emonTH transmitting to the Pi the connection to these is lost after a few hours running. Is this some sort of hardware failure of the wireless module on the board?</p>
<p>Jez</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34192"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 16/09/2015 - 13:26.</div>
    <div class="content">
     <p>Can you confirm where you are seeing the fault?</p>
<p>Have you checked the emonhub.log?</p>
<p>The Pi it self is totally up to the job, the 6 devices, 2 of which will have very long payloads will put the RF network under load and there is a <s>possibility </s>&nbsp;probability&nbsp;of clashes etc, you may need to implement some traffic calming and/or control but these things are not just setttings they will involve coding changes (manly configurations), sketch uploads and abit of trial and error.</p>
<p>There may be a particular issue that is the biggest culprit so debugging may find a single solution that makes the error level of that much traffic a&nbsp;little more palatable,</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34237"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8271.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Jez Wingfield&#039;s picture" title="Jez Wingfield&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/8271.html" title="View user profile.">Jez Wingfield</a> on Fri, 18/09/2015 - 05:50.</div>
    <div class="content">
     <p>Paul</p>
<p>All I can see on the emonhub.log is that the the data from the transmitter nodes&nbsp;just disappear from the log. No sign of any errors.</p>
<p>I have gone back to a transmitter configuration that previously had been working with no problem - so the 2 CTs connected to the emonPi, one TX with 4 xCTs and 1 x TH. This configuration worked longer than the full set of transmitters, but eventually it lost the connection to both. The red LED on the&nbsp;TX is still flashing - so presumably still transmitting. Turning the power on the TX on and off to restart it does not re-establish the connection to the emonPi. This is what makes me think it is a hardware issue rather than software.</p>
<p>Jez</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34375"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Tue, 22/09/2015 - 16:11.</div>
    <div class="content">
     <p><em>&quot;All I can see on the emonhub.log is that the the data from the transmitter nodes&nbsp;just disappear from the log. No sign of any errors.&quot;</em></p>
<p>Is there any other data arriving via the rfm2pi? are there any &quot;rfm2pi errors&quot; prior to the packets ceasing?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34391"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8271.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Jez Wingfield&#039;s picture" title="Jez Wingfield&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/8271.html" title="View user profile.">Jez Wingfield</a> on Wed, 23/09/2015 - 05:40.</div>
    <div class="content">
     <p>Paul</p>
<p>There are&nbsp;no errors on the log. Is there a way to view the historic emonhub log to see if I can spot where the TX data stop? I have tried using $ tail -f /var/log/emonhub/emonhub.log in putty but that just gives the same live log feed as the log viewer. Current log view below</p>
<p>Jez</p>
<p>2015-09-23 05:35:35,235 DEBUG RFM2Pi 121112 Timestamp : 1442986535.23<br />
2015-09-23 05:35:35,235 DEBUG RFM2Pi 121112 From Node : 5<br />
2015-09-23 05:35:35,236 DEBUG RFM2Pi 121112 Values : [154, 5, 159, 235.82, 17.3, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 05:35:35,237 INFO RFM2Pi Publishing: emonhub/rx/5/values 154,5,159,235.82,17.3,0,0,0,0,0,0<br />
2015-09-23 05:35:35,240 DEBUG RFM2Pi 121112 adding frame to buffer =&gt; [1442986535, 5, 154, 5, 159, 235.82, 17.3, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 05:35:35,241 DEBUG RFM2Pi 121112 Sent to channel&#39; : ToEmonCMS<br />
2015-09-23 05:35:40,296 DEBUG RFM2Pi 121113 NEW FRAME : OK 5 151 0 7 0 158 0 221 91 173 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 (-0)<br />
2015-09-23 05:35:40,300 DEBUG RFM2Pi 121113 Timestamp : 1442986540.3<br />
2015-09-23 05:35:40,301 DEBUG RFM2Pi 121113 From Node : 5<br />
2015-09-23 05:35:40,302 DEBUG RFM2Pi 121113 Values : [151, 7, 158, 235.17000000000002, 17.3, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 05:35:40,303 INFO RFM2Pi Publishing: emonhub/rx/5/values 151,7,158,235.17,17.3,0,0,0,0,0,0<br />
2015-09-23 05:35:40,305 DEBUG RFM2Pi 121113 adding frame to buffer =&gt; [1442986540, 5, 151, 7, 158, 235.17000000000002, 17.3, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 05:35:40,306 DEBUG RFM2Pi 121113 Sent to channel&#39; : ToEmonCMS<br />
2015-09-23 05:35:41,859 INFO emoncmsorg sending: http://emoncms.org/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1442986515,5,154,6,160,235.77,17.3,0,0,0,0,0,0],[1442986520,5,186,5,191,235,17.3,0,0,0,0,0,0],[1442986525,5,154,4,158,235.9,17.3,0,0,0,0,0,0],[1442986530,5,143,5,148,235.09,17.3,0,0,0,0,0,0],[1442986535,5,154,5,159,235.82,17.3,0,0,0,0,0,0],[1442986540,5,151,7,158,235.17000000000002,17.3,0,0,0,0,0,0]]&amp;sentat=1442986541<br />
2015-09-23 05:35:42,634 DEBUG emoncmsorg acknowledged receipt with &#39;ok&#39; from <a href="http://emoncms.org/" title="http://emoncms.org">http://emoncms.org</a><br />
2015-09-23 05:35:45,243 DEBUG RFM2Pi 121114 NEW FRAME : OK 5 149 0 6 0 155 0 62 92 173 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 (-0)<br />
2015-09-23 05:35:45,246 DEBUG RFM2Pi 121114 Timestamp : 1442986545.24<br />
2015-09-23 05:35:45,247 DEBUG RFM2Pi 121114 From Node : 5<br />
2015-09-23 05:35:45,248 DEBUG RFM2Pi 121114 Values : [149, 6, 155, 236.14000000000001, 17.3, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 05:35:45,249 INFO RFM2Pi Publishing: emonhub/rx/5/values 149,6,155,236.14,17.3,0,0,0,0,0,0<br />
2015-09-23 05:35:45,251 DEBUG RFM2Pi 121114 adding frame to buffer =&gt; [1442986545, 5, 149, 6, 155, 236.14000000000001, 17.3, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 05:35:45,252 DEBUG RFM2Pi 121114 Sent to channel&#39; : ToEmonCMS<br />
2015-09-23 05:35:45,842 INFO emoncmsorg sending: <a href="http://emoncms.org/myip/set.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y" title="http://emoncms.org/myip/set.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y">http://emoncms.org/myip/set.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y</a><br />
2015-09-23 05:35:50,277 DEBUG RFM2Pi 121115 NEW FRAME : OK 5 156 0 6 0 162 0 222 91 173 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 (-0)<br />
2015-09-23 05:35:50,317 DEBUG RFM2Pi 121115 Timestamp : 1442986550.28<br />
2015-09-23 05:35:50,319 DEBUG RFM2Pi 121115 From Node : 5<br />
2015-09-23 05:35:50,320 DEBUG RFM2Pi 121115 Values : [156, 6, 162, 235.18, 17.3, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 05:35:50,321 INFO RFM2Pi Publishing: emonhub/rx/5/values 156,6,162,235.18,17.3,0,0,0,0,0,0<br />
2015-09-23 05:35:50,323 DEBUG RFM2Pi 121115 adding frame to buffer =&gt; [1442986550, 5, 156, 6, 162, 235.18, 17.3, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 05:35:50,324 DEBUG RFM2Pi 121115 Sent to channel&#39; : ToEmonCMS</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34396"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 23/09/2015 - 09:09.</div>
    <div class="content">
     <p>emonhub.log is just a text file and can be opened with a normal editor such as vi or nano, however the files can get quite bulky (5mb)&nbsp;and slow to handle on the PI, You can also use cat, echo, more or probably the better one is &nbsp;the&quot;less&quot; command.</p>
<p><strong>less /var/log/emonhub/emonhub.log</strong></p>
<p><span style="line-height: 20.8px;">gives you</span><span style="line-height: 20.8px;">&nbsp;a page by page view,&nbsp;</span>then &quot;<strong>G</strong>&quot; will take you to the end of the file</p>
<p><strong>?&nbsp;From Node : 10&nbsp;</strong>should search out&nbsp;that &quot;From Node : 10&quot;&nbsp;string working backwards, ie find the last occurrence, this only works when it is in a failed state,&nbsp;</p>
<p>You mat find it easier to either copy the log to a PC to dissect&nbsp;or reboot the Pi to clear the logs and monitor closely for the 1st fail, grabbing the logs then&nbsp;will minimise&nbsp;the log size and place the area of interest right at the very end.</p>
<p>To be honest with you I&#39;m not convinced there will be any useful info but cannot be 100% sure. It looks like the emonpi board continues to report data but not from the rf devices, so there may be nothing than an absence of data to be seen.</p>
<p>Something else to try next time it occurs is to change the group to something else in the rfm2pi section of emonhub.conf, save the file and then change it back to your current group. I recall an issue Glyn&nbsp;had some time ago where the emonPi was forgetting the rf settings and forcing a &quot;reload config&quot; would kick start the reporting again, maybe the same, maybe not but worth a try!!</p>
<p>Paul&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34398"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7218.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="emjay&#039;s picture" title="emjay&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/7218.html" title="View user profile.">emjay</a> on Wed, 23/09/2015 - 09:44.</div>
    <div class="content">
     <p>Is that (-0) in the tail of NEW FRAME meant to be the RSSI value, or just some reporting artefact?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34403"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 23/09/2015 - 11:40.</div>
    <div class="content">
     <p>The &quot;(-0)&quot; has no purpose, it&#39;s hard-coded in the emonPi&nbsp;sketch to &quot;match&quot; the rfm69 packet appearance.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34414"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8271.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Jez Wingfield&#039;s picture" title="Jez Wingfield&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/8271.html" title="View user profile.">Jez Wingfield</a> on Wed, 23/09/2015 - 20:19.</div>
    <div class="content">
     <p>Paul</p>
<p>I have rebooted the EmonPi&nbsp;- and it then started to receive data from the emonTX again (node 9). The connection only lasted 20 minutes this time. I have downloaded the emonhub.log file (using WinSCP) and identified the last transmission in the log but can find no associated errors. The log at&nbsp;the point of disconnection&nbsp;is below. I will try your suggestion of temporarily changing the group and then back to 210 in the&nbsp;rfm2Pi&nbsp;config.</p>
<p>cheers</p>
<p>Jez</p>
<p>&nbsp;</p>
<p>2015-09-23 19:44:36,045 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 951 NEW FRAME : OK 9 8 0 0 0 0 0 5 0 213 94 0 0 0 0 0 0 0 0 0 0 0 0 9 0 (-28)<br />
2015-09-23 19:44:36,048 DEBUG &nbsp;&nbsp;&nbsp;RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 951 Timestamp : 1443037476.04<br />
2015-09-23 19:44:36,049 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 951 From Node : 9<br />
2015-09-23 19:44:36,050 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 951&nbsp;&nbsp;&nbsp; Values : [8, 0, 0, 5, 242.77, 0, 0, 0, 0, 0, 0, 9]<br />
2015-09-23 19:44:36,050 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 951 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RSSI : -28<br />
2015-09-23 19:44:36,052 INFO&nbsp;&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; Publishing: emonhub/rx/9/values 8,0,0,5,242.77,0,0,0,0,0,0,9<br />
2015-09-23 19:44:36,053 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 951 adding frame to buffer =&gt; [1443037476, 9, 8, 0, 0, 5, 242.77, 0, 0, 0, 0, 0, 0, 9, -28]<br />
2015-09-23 19:44:36,054 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 951 Sent to channel&#39; : ToEmonCMS<br />
2015-09-23 19:44:36,249 INFO&nbsp;&nbsp;&nbsp;&nbsp; emoncmsorg sending: <a href="http://emoncms.org/myip/set.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y" title="http://emoncms.org/myip/set.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y">http://emoncms.org/myip/set.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y</a><br />
2015-09-23 19:44:40,829 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 952 NEW FRAME : OK 5 199 0 5 0 204 0 216 91 190 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 (-0)<br />
2015-09-23 19:44:40,833 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 952 Timestamp : 1443037480.83<br />
2015-09-23 19:44:40,834 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 952 From Node : 5<br />
2015-09-23 19:44:40,835 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 952&nbsp;&nbsp;&nbsp; Values : [199, 5, 204, 235.12, 19, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 19:44:40,836 INFO&nbsp;&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; Publishing: emonhub/rx/5/values 199,5,204,235.12,19,0,0,0,0,0,0<br />
2015-09-23 19:44:40,838 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 952 adding frame to buffer =&gt; [1443037480, 5, 199, 5, 204, 235.12, 19, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 19:44:40,839 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 952 Sent to channel&#39; : ToEmonCMS<br />
2015-09-23 19:44:45,906 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 953 NEW FRAME : OK 5 195 0 5 0 200 0 120 91 190 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 (-0)<br />
2015-09-23 19:44:45,910 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 953 Timestamp : 1443037485.91<br />
2015-09-23 19:44:45,910 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 953 From Node : 5<br />
2015-09-23 19:44:45,911 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 953&nbsp;&nbsp;&nbsp; Values : [195, 5, 200, 234.16, 19, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 19:44:45,912 INFO&nbsp;&nbsp; &nbsp;&nbsp;RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; Publishing: emonhub/rx/5/values 195,5,200,234.16,19,0,0,0,0,0,0<br />
2015-09-23 19:44:45,915 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 953 adding frame to buffer =&gt; [1443037485, 5, 195, 5, 200, 234.16, 19, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 19:44:45,916 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 953 Sent to channel&#39; : ToEmonCMS<br />
2015-09-23 19:44:50,867 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 954 NEW FRAME : OK 5 195 0 4 0 199 0 137 91 190 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 (-0)<br />
2015-09-23 19:44:50,871 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 954 Timestamp : 1443037490.87<br />
2015-09-23 19:44:50,872 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 954 From Node : 5<br />
2015-09-23 19:44:50,872 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 954&nbsp;&nbsp;&nbsp; Values : [195, 4, 199, 234.33, 19, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 19:44:50,874 INFO&nbsp;&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; Publishing: emonhub/rx/5/values 195,4,199,234.33,19,0,0,0,0,0,0<br />
2015-09-23 19:44:50,876 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 954 adding frame to buffer =&gt; [1443037490, 5, 195, 4, 199, 234.33, 19, 0, 0, 0, 0, 0, 0]<br />
2015-09-23 19:44:50,877 DEBUG&nbsp;&nbsp;&nbsp; RFM2Pi&nbsp;&nbsp;&nbsp;&nbsp; 954 Sent to channel&#39; : ToEmonCMS<br />
2015-09-23 19:44:53,775 INFO&nbsp;&nbsp;&nbsp;&nbsp; emoncmsorg sending: http://emoncms.org/input/bulk.json?apikey=E-M-O-N-C-M-S-A-P-I-K-E-Y&amp;data=[[1443037470,5,200,5,205,234.66,19,0,0,0,0,0,0],[1443037475,5,197,5,202,235.21,19,0,0,0,0,0,0],[1443037476,9,8,0,0,5,242.77,0,0,0,0,0,0,9,-28],[1443037480,5,199,5,204,235.12,19,0,0,0,0,0,0],[1443037485,5,195,5,200,234.16,19,0,0,0,0,0,0],[1443037490,5,195,4,199,234.33,19,0,0,0,0,0,0]]&amp;sentat=1443037493<br />
2015-09-23 19:44:54,838 DEBUG&nbsp;&nbsp;&nbsp; emoncmsorg acknowledged receipt with &#39;ok&#39; from <a href="http://emoncms.org/" title="http://emoncms.org">http://emoncms.org</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34431"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8271.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Jez Wingfield&#039;s picture" title="Jez Wingfield&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/8271.html" title="View user profile.">Jez Wingfield</a> on Thu, 24/09/2015 - 05:32.</div>
    <div class="content">
     <p>Temporarily changing the group in the rfm2Pi config did not help - the connection went again after an hour.</p>
<p>Jez</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34439"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 24/09/2015 - 16:57.</div>
    <div class="content">
     <p>Hi Jez unfortunately the logs show very little&nbsp;except that node9 is a very likely candidate for the &quot;run of zeros issue&quot; discussed in the <a href="10900.html">&quot;Data loss due to RF packets getting corrupted&quot;</a>&nbsp;thread, if it&#39;s not the cause now it could well be a problem at anytime (including the same time ie more than one problem).</p>
<p>Leading up to node9 stopping were there any other intermittent packets missing or was it perfect and then just stopped dead?&nbsp;</p>
<p>Where are the other nodes? are they connected? do all the nodes (except node5)&nbsp; definitely&nbsp;stop together?</p>
<p>Do your emonTH&#39;s have dht22&#39;s&nbsp;fitted? there is another unrelated issue that can effect them discussed in the <a href="11062.html">&quot;emonTH Unreliable reading timing?&quot;</a>&nbsp;thread, but if they (tx&#39;s and th&#39;s) all stop together it could be something completely different.</p>
<p><em>&quot;the connection went again after an hour.&quot;&nbsp;</em>Does that mean it did bring it back but reoccured after an hour, this isn&#39;t intended to fix the issue but if the settings &quot;nudge&quot; restore a lost signal for any amount of time is is significant.</p>
<p>Debugging is hampered somewhat by the emonpi sketch being permanently in &quot;quiet-mode&quot;, we cannot see the problematic packets, we can only the ones there is nothing wrong with.</p>
<p>Whether diagnosing or fixing I think you will be altering some code as I suspect this is very much a software&nbsp;issue rather than a hardware one, but I wouldn&#39;t&nbsp;rule it out completely&nbsp;yet, do you have a programmer?</p>
<p>Another route which is an additional cost but IMO very much worth considering&nbsp;(in fact I would probably recommend it)&nbsp;is to invest in a second receiver, this will allow you to &quot;snoop&quot; on the network without interfering, give you an alternative place to tinker and test if you wish to experiment with expanding&nbsp;your sysytem.</p>
<p>A jeelink&nbsp;is a perfect little device for this as it is a usb dongle that can be plugged into any pc/laptop (or for that matter the emonPi as a second reciever) the&nbsp;<a href="http://www.digitalsmarties.net/products/jeelink">JeeLink (v3c)</a>&nbsp;is just over 30 euros and maybe the simplest way to find the issue.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34456"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8271.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Jez Wingfield&#039;s picture" title="Jez Wingfield&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/8271.html" title="View user profile.">Jez Wingfield</a> on Thu, 24/09/2015 - 19:25.</div>
    <div class="content">
     <p>Paul</p>
<p>answers as follows:</p>
<p><em>Leading up to node&nbsp;9 stopping were there any other intermittent packets missing or was it perfect and then just stopped dead?</em> <em>Where are the other nodes? are they connected? do all the nodes (except node5)&nbsp; definitely&nbsp;stop together?&nbsp;</em>As far as I can tell it looked fine up to the point of losing the connection. For this test, to simplify issues I just had the one TX (node 9) and one TH (node 21) - the data frm both stopped within&nbsp;a minute of each other - the TH slightly before as the data is less frequent.</p>
<p><em>Do your emonTH&#39;s have dht22&#39;s&nbsp;fitted?</em> 3 of my 4 THs have DHT22s - one of these was the one used in the test yesterday. However, in my original set-up I had the Pi plus 2 x the THs running for over a month with no problems.</p>
<p><em>&quot;the connection went again after an hour.&quot;&nbsp;Does that mean it did bring it back but reoccured after an hour, this isn&#39;t intended to fix the issue but if the settings &quot;nudge&quot; restore a lost signal for any amount of time is is significant. </em>In my test I first tried changing the group while&nbsp;the transmissions&nbsp;were being received OK&nbsp;- about an hour after this was when the connection was lost - I then tried changing the group again&nbsp;- but this did not restore the connection - so &quot;nudging&quot;&nbsp;doesn&#39;t seem to work. Only way to get them back was to reboot the Pi.</p>
<p><em>Debugging is hampered somewhat by the emonpi sketch being permanently in &quot;quiet-mode&quot;, we cannot see the problematic packets, we can only the ones there is nothing wrong with.</em> - Can I change this&nbsp;setting in emonhub config?</p>
<p><em>do you have a programmer?</em> Yes - I have the USB to serial programmer - but haven&#39;t had the courage to use it.</p>
<p>One more thing that might be worth mentioning in case it helps&nbsp;is that in the past I have seen spurious nodes appear in the input list. Only happened very occasionally and I haven&#39;t seen any for a while. I do have other wireless kit in the house - in particular a Honeywell Evohome&nbsp;zoned&nbsp;heating/hot water controller - but this is on&nbsp;868MHz not 433 so this shouldn&#39;t be a problem.</p>
<p>I have now set up my system back to it&#39;s original configuration with just the Pi and 2 xTH - and pulled the batteries and turned off the power from everything else. Will see how this goes.</p>
<p>Jez</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34467"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8271.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Jez Wingfield&#039;s picture" title="Jez Wingfield&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/8271.html" title="View user profile.">Jez Wingfield</a> on Fri, 25/09/2015 - 05:52.</div>
    <div class="content">
     <p>The set-up&nbsp;in original configuration (Pi + 2xTH) lasted just 1 1/2 hours before the connection to both THs was lost (at the same time give or take a minute). Tried changing the group from 210 to 0 and back&nbsp;again&nbsp;- but like last time this had no effect. So&nbsp;the question is why is this simple set up not working now, when&nbsp;it ran for weeks with no problem before? Hence my suspicion this is a hardware issue.</p>
<p>Jez</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34469"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7218.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="emjay&#039;s picture" title="emjay&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/7218.html" title="View user profile.">emjay</a> on Fri, 25/09/2015 - 06:13.</div>
    <div class="content">
     <p>Any reason to think the Pi may be running warmer than previously?</p>
<p>There are clearly packets still flying that the Pi side is ignoring. Really need that &#39;quiet mode&#39; off and/or an independent &#39;listener&#39; as Paul suggested to debug further.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34474"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Fri, 25/09/2015 - 06:44.</div>
    <div class="content">
     <p><em>Any reason to think the Pi may be running warmer than previously?</em></p>
<p>You can check that with either of these two commands, not entirely sure why they give slightly different readings, perhaps there&#39;s more than one sensor buried in there.</p>
<p>pi@raspberrypi1 ~ $ vcgencmd measure_temp<br />
temp=51.9&#39;C<br />
pi@raspberrypi1 ~ $ cat /sys/class/thermal/thermal_zone0/temp&nbsp;<br />
51382<br />
pi@raspberrypi1 ~ $&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34483"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 25/09/2015 - 10:25.</div>
    <div class="content">
     <p>Hi Jez, If you are convinced it is hardware you can contact the shop <a href="http://shop.openenergymonitor.com/support/">support&nbsp;</a>and refer to this thread, at this point the fact the hardware is normally sound and most issues get resolved in the software that leads me to explore those avenues first, but you have the advantage of seeing the issue first hand so don&#39;t let me sway you if you want to contact the shop.</p>
<p>There are other options to try, we could use a very small script to reset the receiver&nbsp;from the command line&nbsp;as c<span style="line-height: 1.6;">urrently rebooting the Pi when there is possibly a problem with the rfm2pi&nbsp;part is a bit like throwing the main breaker to you house when your PC</span><span style="line-height: 1.6;">&nbsp;won&#39;t connect to the web.</span></p>
<p><span style="line-height: 1.6;">We could go ahead and install the previously&nbsp;successful fixes to your devices, we know they can be problematic and since the symtoms&nbsp;are not always&nbsp;permanently displayed the fact it previously worked isn&#39;t 100% conclusive it&#39;s not the&nbsp;problem now. Installing sketches isn&#39;t difficult, once you&#39;ve done a couple you&#39;ll be fine.&nbsp;</span></p>
<p><span style="line-height: 1.6;">Debugging is only difficult in this instance because of the lack of quiet mode, unfortunately it&#39;s missing from the sketch so although the setting is available and processed by emonhub, the &quot;rfm2pi&quot; part has <a href="https://github.com/openenergymonitor/emonpi/blob/master/Atmega328/emonPi_RFM69CW_RF12Demo_DiscreteSampling/emonPi_RF.ino#L18-L49">no non-quiet mode to activate</a>. I have no idea why it was removed so cannot say how&nbsp;easy it would be to&nbsp;add it back in to a sketch, and then loading a modified sketch is not quite as straightforward as pressing the update button either. </span></p>
<p><span style="line-height: 1.6;">The alternative as I mentioned,&nbsp;is&nbsp;to use a JeeLink&nbsp;which comes pre-installed with receiver software so should be plug and play to expose all the stuff you currently cannot see. bear in mind the devices you have on your network could be subject to the 2 issues I&#39;ve mentioned independent&nbsp;of any potential issue with&nbsp;the emonPi.so a jeelink&nbsp;could still be a valuable&nbsp;asset&nbsp;even when the emonPi&nbsp;itself&nbsp;is behaving.</span></p>
<p><span style="line-height: 1.6;">The choice is yours :-)</span></p>
<p><span style="line-height: 1.6;">Paul</span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34486"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 25/09/2015 - 11:00.</div>
    <div class="content">
     <p>I don't think there's anything to stop you using a (for the moment, spare) emonTH with your programmer as a receiver!  It needs a sketch writing, but you have the hardware. I think Robin's PV diverter page has a receiver sketch that would be a good starting point - otherwise one of the GLCD sketches.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34488"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 25/09/2015 - 11:18.</div>
    <div class="content">
     <p>That is actually a really good idea, the&nbsp;RFdemo12 (or an rfm2pi) sketch&nbsp;will load straight up (set the COMPAT mode 1st) and the group, frequency and quiet mode can be set in the Arduino IDE using commands afterwards. I have a emonTx v3.4 right here testing a modified &quot;rfm2pi&quot; sketch, not sure why it didn&#39;t occur to me!</p>
<p>The pins used&nbsp;by the RFdemo12 sketch&nbsp;are the same for both the (non-RFu)&nbsp;emonTH&nbsp;and emonTx so you could use a emonTH since they are more abundant&nbsp;(and will need the revised sketches anyway).</p>
<p>Good call Robert!&nbsp;Would you prefer&nbsp;to try that&nbsp;Jez?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34516"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8271.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Jez Wingfield&#039;s picture" title="Jez Wingfield&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/8271.html" title="View user profile.">Jez Wingfield</a> on Sat, 26/09/2015 - 18:41.</div>
    <div class="content">
     <p>I have checked the pi temp with just the wired sensors running and then after a reboot to get the pi to see the THs. In both cases the temp was quite stable ranging&nbsp;from37.9degC to 38.5degC. So doesn&#39;t look like the processor is&nbsp;getting hot</p>
<p>Jez</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34523"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: EmonPi losing connection to EmonTX and EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 26/09/2015 - 23:25.</div>
    <div class="content">
     <p>@Jez - try downloading and running this little reset script next time it fails. all it does is pulses the reset pin to the emonPi board causing it to restart without restarting the Pi. this may narrow the field a little.</p>
<p><strong>rpi-rw</strong></p>
<p><strong>sudo wget -O /usr/bin/reset_rfm2pi&nbsp;http://openenergymonitor.org/emon/sites/default/files/reset_rfm2pi.txt</strong></p>
<p><strong>sudo chmod +x /usr/bin/reset_rfm2pi</strong></p>
<p><strong>​sudo&nbsp;reset_rfm2pi</strong></p>
<p>​you can view the script <a href="../sites/default/files/reset_rfm2pi.txt">here</a> or in the <a href="5549.html#comment-30344">&quot;RFM12PI receiver goes hard down sometimes&quot;</a>&nbsp;thread.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11218"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-8LvlTb7eBekI2UpLaAVESDX89QNQ997P_xur6ypSjBw" value="form-8LvlTb7eBekI2UpLaAVESDX89QNQ997P_xur6ypSjBw"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
