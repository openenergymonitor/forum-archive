<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/12217 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:55:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Graphing data from multiple contributors? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Graphing data from multiple contributors?</h3>
        <span class="submitted">Submitted by <a href="../user/9108.html" title="View user profile.">ChrisValentine</a> on Mon, 22/02/2016 - 10:53</span>
        <div class="content"><p>Does anyone have experience of expanding the emoncms built-in graphing capabilities to take <em>data from more than one contributor</em>? We&#39;re interested in using the data collected from a number of users dotted round the country in various teaching scenarios.</p>
<p>Chris.<br />
KMi, The Open University<br />
<a href="http://projects.kmi.open.ac.uk/greendata/" title="http://projects.kmi.open.ac.uk/greendata/">http://projects.kmi.open.ac.uk/greendata/</a></p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12339.html" class="topic-previous" title="Go to previous forum topic">‹ Difficult (?) set up with grid consumption/export and PV generation separated by 20m+</a>
              <a href="12333.html" class="topic-next" title="Go to next forum topic">Question about range etc ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-39688"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Graphing data from multiple contributors?</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 23/02/2016 - 08:45.</div>
    <div class="content">
     <p>Hello Chris, your project looks really interesting! I&#39;ve been discussing this with Dominic Zapman of Carbon Coop who we are working with on their smart grid project in Manchester. There&#39;s a bit on this here: <a href="http://carbon.coop/blog/zapaman/community-smart-grid-prosumer-perspective" title="http://carbon.coop/blog/zapaman/community-smart-grid-prosumer-perspective">http://carbon.coop/blog/zapaman/community-smart-grid-prosumer-perspective</a></p>
<p>The idea is to develop the &#39;my energy&#39; app in emoncms (or possibly break this out into its own app/module) to aggregate generation and consumption data across a number of households in a group such as the one in Manchester. With aggregated demand, the demand curves should be smoother and matching higher to the variable renewable supply. Looking at generation and supply on an individual household basis could lead to the wrong conclusions, as it might suggest using a battery to distribute or shift peaks (such as kettles, electric cooking, short high power), whereas, it may be more efficient overall, to use the grid to handle the peaks and then storage to handle larger aggregate demand shifts..&nbsp;</p>
<p>The &#39;my energy&#39; app currently pulls in data from multiple sources, both solar and consumption, from the user&#39;s account and then UK grid, wind and co2 intensity data from an account on emoncms.org that&#39;s recording that data. It then builds the visualisation on the fly.</p>
<p>I think for larger aggregations of many systems, it might be better to have a background task that polls each individual account for the latest value. Say for solar generation, or house consumption, and then aggregates and records to an aggregator emoncms feed. This would provide a&nbsp;privacy advantage for home consumption, given enough houses in the aggregation, it would be very hard to pick out any particular household&#39;s consumption pattern, which would be better than sending each households data to a browser for aggregation on the fly.</p>
<p>Aggregating with a background process, then serving one feed will also greatly improve dashboard load times.</p>
<p>If you&#39;re not fixed about the data to aggregate at the start, and page load times are less of a worry, then perhaps building a visualisation front-end that can pull in feeds that are public across a series of accounts might be a good approach. That might be more useful as a research tool.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-39695"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9108.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-9108.jpg" alt="ChrisValentine&#039;s picture" title="ChrisValentine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Graphing data from multiple contributors?</h3>

    <div class="submitted">Submitted by <a href="../user/9108.html" title="View user profile.">ChrisValentine</a> on Tue, 23/02/2016 - 10:34.</div>
    <div class="content">
     <p>Thanks Trystan - have emailed you.</p>
<p>I don&#39;t think we&#39;d be too worried about load times.</p>
<p>Chris.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40309"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/9108.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-9108.jpg" alt="ChrisValentine&#039;s picture" title="ChrisValentine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Graphing data from multiple contributors?</h3>

    <div class="submitted">Submitted by <a href="../user/9108.html" title="View user profile.">ChrisValentine</a> on Mon, 14/03/2016 - 10:35.</div>
    <div class="content">
     <p>I am taking this further now that I have data from three contributors - and obviously we&#39;re expecting many more. I am using CanvasJS for graphing, a package we&#39;ve used in other projects, and custom PHP scripts to extract the relevant data.</p>
<p>One of the issues is that the database structure does not identify &quot;comparable&quot; feeds - that is there is no flag or indicator, when setting up a feed, that a particular feed represents, say, Solar PV watts. As far as I can see, the feed labels that people enter are purely free text. Without this, its impossible to ask of the system &quot;give me a graph of everyone&#39;s power generation for the period 1st Jan 2015 to 1st Jan 2016. To add this would require changes to the feed registration process. Have you got any suggestions for how I should go about this in the &quot;right&quot; way? I&#39;m afraid I&#39;m not a &quot;proper&quot; user of git!</p>
<p>I&#39;ve already added extra fields to the users table to store &quot;role&quot; (indicates a contributors role inside or outside the University) and &quot;sources&quot; (which renewable energy sources they have). The latter, combined with &quot;location&quot; (in which we store part postcode) has allowed me to create an interactive map using the Google Maps API:</p>
<p><a href="http://projects.kmi.open.ac.uk/greendata/map.php" title="http://projects.kmi.open.ac.uk/greendata/map.php">http://projects.kmi.open.ac.uk/greendata/map.php</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/12217"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-azIainy1A7syoluIDchdV8dei_aQduPbaJN8LjPrCdI" value="form-azIainy1A7syoluIDchdV8dei_aQduPbaJN8LjPrCdI"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
