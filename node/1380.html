<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/1380 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:37:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>emonTX temp. sensor (DS18B20) spikes in readings | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">emonTX temp. sensor (DS18B20) spikes in readings</h3>
        <span class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Tue, 20/11/2012 - 09:59</span>
        <div class="content"><p>Last night I build the emonTx and the RFM2Pi with succes :-). Then I installed emonCMS and the RFM2Pi software on the Pi.</p>
<p>All went fine But while following the instructions from the wiki, I always re-checked the modified file again after saving and one time it didn&#39;t save properly. So without check you would&#39;ve ended up with a non-working system :).</p>
<p>Anyway, I have a problem with my emonTx temperature sensor (waterproof DS18B20 from the shop) which is mounted to my boiler. What I don&#39;t know is that it&#39;s sensor related or emonCMS related.</p>
<p>I have spikes who appear to be 10 times the real value and spikes who are 0.5-1.5&deg;C. Does anyone recognize these mis-readings/mis-parsings? (see attachment)</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1472.html" class="topic-previous" title="Go to previous forum topic">‹ Emon TX: Where to buy 3,5mm and AC jack?</a>
              <a href="1436.html" class="topic-next" title="Go to next forum topic">changing connectors on effergy ct clamps for use with tx shield ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-7462"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Tue, 20/11/2012 - 10:16.</div>
    <div class="content">
     <p>It looks like the DS18B20 is returning error values. This could be a possible connection or power issue. My home temperature sensor occasionally returns a high value like that (but not very often). Double check that the sensor is powered from 5v and that a 4.7k value resistor is pulling up the data line. How long is the cable run to the sensor? If all else fails you could add a line of code to do a simple sanity check on the temperature value returned, eg you know it should be between certain limits. </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7463"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Tue, 20/11/2012 - 10:49.</div>
    <div class="content">
     <p>Hi Glyn, the emonTx is 5V powered with a USB wall charger. I assume the onboard 4k7 resistor is to pull-up the data line?</p>
<p>The cable is only 2-3m long. I used 1.5m CAT5 UTP cable to prolonge the cable of the waterproof sensor from your shop.</p>
<p>I have to say, the cable is running parallel to a 230V AC&nbsp;cable to feed the circulation pump and 24V AC to control the 3-way valve. Could that be the problem?</p>
<p>This line of code, should I add this in the sketch or can I do a sanity check in emonCMS (if not, maybe&nbsp;add this as a wish?). Boiler temperature can never drop instantly from +- 50&deg;C to 0-2&deg;C or 500+&deg;C. So maybe when the sensor measures a delta T of more than 10&deg;C, it should ignore the reading?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7479"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/659.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="stephen&#039;s picture" title="stephen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/659.html" title="View user profile.">stephen</a> on Tue, 20/11/2012 - 22:34.</div>
    <div class="content">
     <p>I&#39;ve have the same sort of problem on an emonTx and RFM2Pi with one of my current readings.&nbsp; My spikes are 255 or 65535 so are clearly due to a problem in the digital domain.&nbsp; I haven&#39;t got to the bottom of it yet but the errors have been introduced by the time it gets to raspberrypi_run.php.&nbsp; Looking at your graph the numbers don&#39;t look exactly like my problem but could it be the same cause?</p>
<p>[edited to remove incorrect conclusion about the cause]</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7490"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 21/11/2012 - 01:42.</div>
    <div class="content">
     <p><em>I have to say, the cable is running parallel to a 230V AC&nbsp;cable to feed the circulation pump and 24V AC to control the 3-way valve. Could that be the problem?</em></p>
<p>Switching inductive loads - that could indeed be a (or even the) problem. Are you able to relate the times the pump / valve switches to the spikes occurring?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7505"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Wed, 21/11/2012 - 11:03.</div>
    <div class="content">
     <p>Nope, as this is a very old (60s) Honeywell M900 series 135ohm thermostat/control system. I really don&#39;t know how my 3-way valve is controlled... It looks like some sort of Wheatstone bridge.</p>
<p>I think it&#39;s easier to re-route the cables to check this :-).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7534"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Thu, 22/11/2012 - 00:22.</div>
    <div class="content">
     <p>I think it is the feed processor/parser? In the screenshot you see my inputs, input config, feeds and dashboard.<br />
	As you can see my nodes get frequently updated. But my boiler_temp feed does not get an update! So the chart is empty.</p>
<p>Do I do something wrong? Or is this new modular version still not 100% working? I&#39;m using the RFM2PI, emonTx and emonGLCD (living_temp)</p>
<p>What I also don&#39;t know is this node10_3 whom I called &#39;random&#39;. According to my sketch I&#39;m only sending out 2 values from 2 DS18B20 waterproof sensors.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7569"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Fri, 23/11/2012 - 10:46.</div>
    <div class="content">
     <p>Hmmm this is strange. My emonGLCD indicates I&#39;m consuming 4800 Watts but I have no CT&#39;s connected to it. I also commented out all power calculations/readings from the emontx_temperature_power.ino sketch.<br />
	Could that be the problem to the spikes in the readings and the unknown node10_3? I also have a node10_4 who suddenly appeared after a day...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7598"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Sat, 24/11/2012 - 04:37.</div>
    <div class="content">
     <p>I&#39;m getting a little bit further! When your DS18B20 doesn&#39;t return a correct reading, it displays -127&deg;C. When using a emonTx or emonGLCD, the code multiplies the value by 100 so it can send the number with enough figures. I think this is because the RFM12B or emonCMS can&#39;t handle floating values.<br />
	If we didn&#39;t multiply by 100 we would end up with temperatures like 20&deg;C and&nbsp;not 20.43&deg;C. The emonCMS input processor divides the received value by 100 to obtain a floating value.</p>
<p>Anyway, back to this -127&deg;C value, sent by the emonTx as -12700. The funny thing when you do this is. In the emonCMS input view, you see the value changing from -12700 to 52836. Even though the emonTx or emonGLCD is sending out -12700 the whole time (checking the serial monitor&nbsp;confirms this). Sending -127 gives 65409 in the input screen.</p>
<p>This means there are&nbsp;3 options. Or the RFM12B doesn&#39;t like values like -12700, -127 or there is something with the input processor of emonCMS or the third option, there&#39;s something in the firmware of the RFM2Pi (emonBase for Raspberry Pi).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7599"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Sat, 24/11/2012 - 13:10.</div>
    <div class="content">
     <p>52836 is 0xce64 in hex which is unsigned 52836, interpreting it as signed int gives you -12700</p>
<p>It looks like the code should handle this, so I am unsure what the problem is</p>
<pre>
<span style="font-family: Arial, Verdana, sans-serif;">for($i=2; $i&lt;(count($values)-1); $i+=2){</span></pre><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ($i&gt;2) $msubs .= &quot;,&quot;;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //$msubs .= $values[$i] + $values[$i+1]*256;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $int16 = $values[$i] + $values[$i+1]*256;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ($int16&gt;32768) $int16 = -65536 + $int16;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $msubs .= $int16;<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7606"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Sat, 24/11/2012 - 11:29.</div>
    <div class="content">
     <p>Where is this code coming from? Is it from the RFM2Pi firmware&nbsp;&amp; the Raspberry module for emonCMS?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7613"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Sat, 24/11/2012 - 13:10.</div>
    <div class="content">
     <p><a href="https://github.com/emoncms/raspberrypi/blob/master/raspberrypi_run.php#L125" title="https://github.com/emoncms/raspberrypi/blob/master/raspberrypi_run.php#L125">https://github.com/emoncms/raspberrypi/blob/master/raspberrypi_run.php#L125</a> Make sure you have the latest co</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7634"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Sat, 24/11/2012 - 22:35.</div>
    <div class="content">
     <p>Updated to the latest version and I still have issues.<br />
	My sensors are fine. I did a 30min serial monitor log with a laptop connected in the basement to the emonTx. Then I copy pasted these results in Excel and made a graph. No spikes here... So all DS18B20 reading are fine. See my attached readings (serial.print log)&nbsp;and screenshots.</p>
<p>It goes wrong in either the RF part or in the emonCMS parser/Raspberry Pi plugin.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7638"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Sun, 25/11/2012 - 06:50.</div>
    <div class="content">
     <p>Anyone else experiencing this? I am totally puzzled on what could be the reason</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7640"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Sun, 25/11/2012 - 10:24.</div>
    <div class="content">
     <p>And the strange thing is, the emonGLCD&#39;s captured values are just fine (only sends out the temperature)?<br />
	Maybe receiving multiple values is difficult? Or it goes wrong while sending out multiple values?</p>
<p>Just to confirm these node id&#39;s are ok:<br />
	emonTx node id: 10<br />
	RFM2Pi node id: 15<br />
	emonGLCD node id: 20</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7641"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Sun, 25/11/2012 - 11:43.</div>
    <div class="content">
     <p>The IDs won&#39;t matter as long as they are different and unique. multiple values isn&#39;t a problem too - I have my energy monitoring send out 10 integers and receive them perfectly.</p>
<p>Maybe when you powered the emonTX from your laptop, the power supply was better and you din&#39;t get these spikes. Can you experiment with another one, maybe those spikes are the result of bad power supply?</p>
<p>Also, I don&#39;t know what your code is, but if you power the DS18B20 from a digital pin to read it, it needs some time before you get reliable reading.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7642"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Sun, 25/11/2012 - 12:23.</div>
    <div class="content">
     <p>I assume that things like initialize delays etc are covered in the examples? And I already tried 2 different power supplies. Will test my 5000mAh mobile booster with USB 5V out.</p>
<p>I used this example: <a href="https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTx_temperature_examples/emontx_temperature_power" title="https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTx_temperature_examples/emontx_temperature_power">https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTx_t...</a></p>
<p>The only thing I did was change the device addresses. Then later I wrote some code when the reading was -127&deg;C because I thought this was the cause of the temp. spikes. And I also added a resolution constant to choose between 9,10,11 or 12 bit.</p>
<p>I attached the modified&nbsp;example to this post. Maybe you see/find some irregularities?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7663"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX temp. sensor (DS18B20) spikes in readings</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Mon, 26/11/2012 - 01:47.</div>
    <div class="content">
     <p>Suddenly, all was working fine today&nbsp;:-). Can&#39;t tell if it was that &#39;one more reboot&#39; that solved it? Did several reboots Saturday and now Sunday all is working, no nasty spikes anymore! Anyway, it works, I&#39;m happy!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/1380"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-MgXqNasszTKR8o-iBxFAD9a1daEkGGtJIeYGvxedRbA" value="form-MgXqNasszTKR8o-iBxFAD9a1daEkGGtJIeYGvxedRbA"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
