<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/1453 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:00:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Asking for help understanding inputs and temp sensor question | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Asking for help understanding inputs and temp sensor question</h3>
        <span class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Mon, 26/11/2012 - 08:40</span>
        <div class="content"><p>I have built an Emontx shield to transmit data to my RFM12Pi</p>
<p>I am successfully receiving data but I am having trouble understanding it. I believe I need to remove the extra burden sensor I have fitted to my CT clamp ( I was incorrectly following the Effergy setup). this will give me the wrong values for power and KWH.</p>
<p>The clamp is plugged in to CT1 on the shield.</p>
<p>I am using&nbsp;a BT answer phone power supply marked as 9v~ 400mA, for a power reference. This is plugged into the socket on the shield and the Arduino&nbsp;uno r3&nbsp;is powered from a 5vdc&nbsp;1a&nbsp;power adaptor via USB.</p>
<p>I have connected&nbsp;a DS18B20 sensor via a 10m cable to the sensor point on the board. I want to use more sensors but was hoping to prove it worked.</p>
<p>Can I attach more DS18B20 sensors and can I use one of the 3.5mm ct sockets for this?</p>
<p>I have hopefully attached an image of the input received&nbsp;at emoncms.org&nbsp;</p>
<p>I don&#39;t understand the results I can only guess.</p>
<p>id 7352 node 1_1 shows 0 without change</p>
<p>id 7353 node 1_2 &nbsp;shows data in the region of 13 - 23 (could be temp but it is too high)</p>
<p>id 7354 node 1_3 shows 0 without &nbsp;change</p>
<p>and Id 7355 node 1_4 &nbsp;shows data in the region 60-70&nbsp;</p>
<p>I was expecting to see temp in the region of 5-13c (garage temp)&nbsp;and power about 220v, &nbsp;kwh&nbsp;I&#39;m not sure</p>
<p>Could I have some help interpreting this data please.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1544.html" class="topic-previous" title="Go to previous forum topic">‹ When will the USB to serial programmer be back in stock?</a>
              <a href="1479.html" class="topic-next" title="Go to next forum topic">pi webserver not displaying graphs over wan ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-7669"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Mon, 26/11/2012 - 09:10.</div>
    <div class="content">
     <p>Odd?? that posted twice please could one be deleted. I only clicked once honest&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7671"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 26/11/2012 - 09:17.</div>
    <div class="content">
     <p>Hello carlvk, is your BT power supply AC voltage output?&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7673"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Mon, 26/11/2012 - 09:28.</div>
    <div class="content">
     <p>I believe so normally the the ac to ac adaptor are usually marked as such or this &quot;~&quot; symbol</p>
<p>it is this one&nbsp;</p>
<p><a href="http://www.tabletchargersandcases.co.uk/bt-item-code-871538-9v-400ma-ac-adaptor-power-supply-uk-1506-p.asp" title="http://www.tabletchargersandcases.co.uk/bt-item-code-871538-9v-400ma-ac-adaptor-power-supply-uk-1506-p.asp">http://www.tabletchargersandcases.co.uk/bt-item-code-871538-9v-400ma-ac-...</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7676"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Mon, 26/11/2012 - 09:39.</div>
    <div class="content">
     <p>Regarding your DS18B20 question, check my last 2 posts of this thread: <a href="1380.html" title="http://openenergymonitor.org/emon/node/1380">http://openenergymonitor.org/emon/node/1380</a><br />
	I attached a example to measure multiple DS18B20&#39;s</p>
<p>You use the input for the DS18B20 for all of your sensors (the one with the 4k7 resistor). You can hook them up in parallel. Only read out the device address first so you are able to identify them.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7678"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2255.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="wbortz&#039;s picture" title="wbortz&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2255.html" title="View user profile.">wbortz</a> on Mon, 26/11/2012 - 09:43.</div>
    <div class="content">
     <p>Just chiming in here, but if you measure the output of the power supply with your multimeter set to DC, then AC, you&#39;ll know for sure if it&#39;s AC or DC.</p>
<p>The AC signal is needed at the emontx&nbsp;to work out the power factor; I believe the emontx firmware outputs power readings by default, so if its expecting an AC voltage signal, but getting a DC one, all the power readings will be close to zero.</p>
<p>I was just working though all this a few nights ago; I had an issue with multiple Arduino library directories loading conflicting pin definitions for my current sensors, and wasn&#39;t reading the pins I thought I was. &nbsp;A careful look through the firmware helped a lot.</p>
<p>I&#39;m pretty new to this stuff, so your mileage may vary, but I hope this helps.</p>
<p>
	Wade</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7681"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Mon, 26/11/2012 - 10:57.</div>
    <div class="content">
     <p>I will check the power supply and try fluppie&#39;s example. I am not sure how to check the firmware for conflicts but I will give it a try.</p>
<p>Thanks all I am sure I will be back with more questions soon like ;</p>
<p>if all was working correctly what would I likely see on the node? is node 1_1 always linked to power and 1_2 to kwh and so on or am I missing the point.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7682"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Mon, 26/11/2012 - 11:12.</div>
    <div class="content">
     <p>Your inputs should look like this. All 4 values are DS18B20&#39;s.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7688"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Mon, 26/11/2012 - 11:43.</div>
    <div class="content">
     <p>Aha and you then process those inputs and they are converted to temp in c?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7690"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Mon, 26/11/2012 - 12:45.</div>
    <div class="content">
     <p>Yes indeed, this is a example how I process/log my temperatures. Don&#39;t know if this is &quot;right&quot;. I&#39;m new to emonCMS myself.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7696"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Mon, 26/11/2012 - 18:39.</div>
    <div class="content">
     <p>edited to hide traces of gross stupidity</p>
<p>Emontx and txshield scripts are not interchangeable.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7726"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Tue, 27/11/2012 - 13:06.</div>
    <div class="content">
     <p>Great&nbsp; stuff !</p>
<p>I am now seeing regular current and power data coming into the Pi,&nbsp; I am not convinced it is accurate but that may well be down to my dodgy clamp (new one ordered from the shop).</p>
<p>I want to try and get the temp data added to the txshield scripts, my efforts so far wont compile.</p>
<p>Does anyone have&nbsp; an idea where to start. I am a total Arduino noob, but want to learn.</p>
<p>Can I add (paste) the&nbsp; temp sensor code into the Txshield code and add the required libraries?</p>
<p>I do realise that teaching me to code is beyond asking too much but I think I can make a fair job if I am given a few tips here and there.</p>
<p>Also</p>
<p>I have noticed that the data was being pushed to emoncms.org this morning but the one of the feeds wasn&#39;t working</p>
<p>now nothing&nbsp; has updated for 6hrs is there a problem with the site?</p>
<p>Thanks</p>
<p>Carl</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7735"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 27/11/2012 - 16:54.</div>
    <div class="content">
     <p><em>&quot;I am not convinced it is accurate&quot;</em></p>
<p>Have you calibrated it?&nbsp; The c.t., v.t. and resistors all have manufacturing tolerances that contribute to inaccuracy. You need to check voltage and current displayed against those measured with a known accurate meter, and adjust the calibration coefficients to get the correct result.</p>
<p><em>&quot;Can I add (paste) the temp sensor code into the Txshield code and add the required libraries?&quot;</em></p>
<p>That should work, but you will probably (I&#39;ve not checked and I&#39;m not yet familiar with the shield) need to change the I/O pin numbers to suit. Note you need to run a second sketch (which might also need to patch similarly) once only to get the sensor addresses to plug in to your &#39;production&#39; sketch.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7767"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Wed, 28/11/2012 - 11:49.</div>
    <div class="content">
     <p>This is is what I have so far.</p>
<p>I haven&#39;t had enough time to try it out yet any notes welcome</p>
<p>Retried</p>
<p><a href="https://www.dropbox.com/s/zhzytotmkc0ipyf/emonshieldtemp tx1.txt" title="https://www.dropbox.com/s/zhzytotmkc0ipyf/emonshieldtemp%20tx1.txt">https://www.dropbox.com/s/zhzytotmkc0ipyf/emonshieldtemp%20tx1.txt</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7771"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1741.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1741.jpg" alt="ukmoose&#039;s picture" title="ukmoose&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/1741.html" title="View user profile.">ukmoose</a> on Wed, 28/11/2012 - 10:11.</div>
    <div class="content">
     <p>You appear to have posted a link to the file rather than the file itself</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7804"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Thu, 29/11/2012 - 12:32.</div>
    <div class="content">
     <p>OK I am seeing some progress</p>
<p>The script uploads</p>
<p>and I can upload the address script .</p>
<p>Both scripts show the temp data as&nbsp;</p>
<p>#define ONE_WIRE_BUS 4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Data wire is plugged into port 2 on the Arduino</p>
<p>but the the wiki shows the temp data for the TXShield on dig4</p>
<p>what should the correct line read please.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7832"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Fri, 30/11/2012 - 08:41.</div>
    <div class="content">
     <p>I know I am blundering around in the dark here.</p>
<p>I think I got the address of the one sensor I am testing&nbsp; using the address search sketch.</p>
<p>It wasn&#39;t the same length though? it was one set shorter than the ones in the original.</p>
<p>I put it into the sketch and ran it but I still cant see any temp data.</p>
<p>everything else is working fine though.</p>
<p>I would be most grateful if someone could pitch in here and Help.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7833"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Fri, 30/11/2012 - 08:48.</div>
    <div class="content">
     <p>here is a link</p>
<p><a href="https://www.dropbox.com/sh/n1apqvqep9ryqlt/su2oW3e-0D" title="https://www.dropbox.com/sh/n1apqvqep9ryqlt/su2oW3e-0D">https://www.dropbox.com/sh/n1apqvqep9ryqlt/su2oW3e-0D</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7844"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Fri, 30/11/2012 - 15:08.</div>
    <div class="content">
     <p>No one?</p>
<p>have I broken some rules?</p>
<p>Is there no support for temp sensing on the emon sheild?</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7850"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 30/11/2012 - 17:12.</div>
    <div class="content">
     <p>Do not get impatient. People contribute to these forums in their free time, There can be 3 reasons why you have not got an answer:</p>
<ol>
<li>
		Everyone is busy.</li>
<li>
		Everybody who is not busy does not know the answer.</li>
<li>
		You have offended the people who can help.</li>
</ol>
<p>I don&#39;t think it is No.3, so choose no.1 or no.2.</p>
<p>Now that I&#39;ve got a few minutes spare, I can&#39;t see in your code where you are trying to read the temperatures, so is that what you have not done correctly?</p>
<p>I suggest you look hard at the EmonTx temperature sketch and copy <strong>all</strong> the lines of software that relate to the One-wire bus and temperature into similar places in the Shield sketch.</p>
<p>Where are the lines like these in your code:</p>
<p class="rteindent1">sensors.requestTemperatures();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Send the command to get temperatures<br />
	&nbsp;<br />
	emontx.T1 = sensors.getTempC(address_T1) * 100;<br />
	emontx.T2 = sensors.getTempC(address_T2) * 100;<br />
	emontx.T3 = sensors.getTempC(address_T3) * 100;<br />
	emontx.T4 = sensors.getTempC(address_T4) * 100;</p>
<p>(You only need all 4 if you have 4 sensors).</p>
<p>I too don&#39;t believe the value you have for DeviceAddress address_T1 - there are only 7 words, not 8. That is surely wrong, so is having the same address for T3 &amp; T4.</p>
<p>I have only one sensor, the address of mine is 0x28, 0x94, 0x82, 0xE0, 0x03, 0x00, 0x00, 0x96</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7852"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Fri, 30/11/2012 - 17:32.</div>
    <div class="content">
     <p>Hi</p>
<p>When you have uploaded the temperature search sketch open the serial monitor. Unplug the data cable from the emontx. wait a second then replace the plug. You should then see the correct device address. If you just open the serial monitor after you have uploaded there is a good chance you will miss some of the data.&nbsp;</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7864"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Fri, 30/11/2012 - 20:16.</div>
    <div class="content">
     <p>Thanks for the replies</p>
<p>I apologise for my impatience I guess I am getting a bit stressy with this.</p>
<p>The good news is It works YAaaay</p>
<p>thanks for your help</p>
<p>&nbsp;</p>
<p><a href="https://www.dropbox.com/sh/n1apqvqep9ryqlt/su2oW3e-0D" title="https://www.dropbox.com/sh/n1apqvqep9ryqlt/su2oW3e-0D">https://www.dropbox.com/sh/n1apqvqep9ryqlt/su2oW3e-0D</a></p>
<p>please find the files for the next person who wants them</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7870"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Sat, 01/12/2012 - 09:59.</div>
    <div class="content">
     <p>Hi</p>
<p>Its often useful to post what the solution to your problem was, even if its a dumb mistake. It might help the next person that makes the same mistake.</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7879"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 01/12/2012 - 16:03.</div>
    <div class="content">
     <p>Ian,</p>
<p>Noting your comment about timing, I routinely add <em>delay(7000)</em>; at the top of every setup(&nbsp; ) function to give me time to start the monitor.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7934"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Mon, 03/12/2012 - 08:15.</div>
    <div class="content">
     <p>I would like to thank you again for your help</p>
<p>I checked the lines of code you mentioned Robert. I compared the two sketches, emonttx&nbsp; temperature and my kludge.&nbsp; I cut and pasted the lines that you pointed out to the sketch and compiled it</p>
<p>I loaded the temp search data again and pressed restart&nbsp; ( to allow the monitor to get it all) on the Arduino and got a full code.</p>
<p>I added the correct address into my sketch and uploaded it to the Arduino</p>
<p>I immediately saw some temp data&nbsp; coming in I checked this with a thermometer and it was good data.</p>
<p>I then repeated the process with a second DS18B20 temperature sensor. I wired one to the HW tank and another to the hall outside.</p>
<p>I can now see HW temp, house temp, power and current.</p>
<p>I have wired&nbsp; a&nbsp; trailing &quot;stereo Audio socket&quot; to the board where the temp sensor is normally fitted, I then used shielded audio cable to attach one&nbsp; DS18B20. Having proved the concept I then extended the cable with a second sensor.</p>
<p>I plan to fit another two sensors to monitor other parts of the house. This time I will try an audio &quot;Y&quot; adaptor just after the board socket and route a second set of sensors to that.</p>
<p>I still need to calibrate the readings for power. and work out why a 3kw kettle adds 20 amps to the data, but I am proceeding one step at a time, waiting for the ct clamp from the shop,</p>
<p>This is the first time I have attempted anything like this, so I am making lots of newbie errors and spending hours learning things that take the more experienced eye seconds to spot. Hence the stressy bit. ;)</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7940"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 03/12/2012 - 20:08.</div>
    <div class="content">
     <p>I would caution against using a &#39;Y&#39; connector on the temperature sensors. They are sending digital data and there is a slim possibility that you will end up with a critical length that causes the signal to be reflected and cancel itself. This is not likely to be a problem if the cables are short, but it would be better to wire in &#39;daisy-chain&#39; - looping from one sensor to the next.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-7956"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2298.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="carlvk&#039;s picture" title="carlvk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Asking for help understanding inputs and temp sensor question</h3>

    <div class="submitted">Submitted by <a href="../user/2298.html" title="View user profile.">carlvk</a> on Tue, 04/12/2012 - 07:53.</div>
    <div class="content">
     <p>I have seen this caution before, it seems that it may be possible to do it this way and if the result suffer from signal reflection I can try a few adjustments before I go the other way and extend the cable on the other sensors. I have about 7 meters of cable in at the moment, to get the other rooms in a loop I will need about 30m.</p>
<p>I have also read on here that too long a cable can cause issues so I thought I would try it the easy way( for my installation) first. Each time I try something and fail in this way I learn a lot about the system I am working with,&nbsp; it may seem less productive, but it helps to fix the lessons in my mind.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/1453"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-9VzlXE3ZykqHj9U0bSVyc0iGKwA9XJ9bi3-sO2S6iiI" value="form-9VzlXE3ZykqHj9U0bSVyc0iGKwA9XJ9bi3-sO2S6iiI"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/1453 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:00:40 GMT -->
</html>
