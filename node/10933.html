<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10933 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:51:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>3 Phase question  | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">3 Phase question </h3>
        <span class="submitted">Submitted by Guest on Fri, 03/07/2015 - 16:42</span>
        <div class="content"><p>Dear All,</p>
<p>&nbsp;</p>
<p>I&#39;m new on this forum. I&#39;m a programmer in web-based application, and I try to do a software that take voltage values and current values on a 3phase&nbsp;circuit&nbsp;and calculate all the electric values (real power, apparent power, power factor ecc...). I see that this website is very very usefull, so I try to post my question:</p>
<p>I need to calculate power factor (not approximative) so I can do measurement that are very good. If I understand, the omonTx&nbsp;have a system that take only one voltage with a single power supply&nbsp;and it make some approximations to calculate the other phases (same voltage, I think).</p>
<p>So I&#39;d like to calculate the exact power factor (I think that is the only thing that I must calculate to have all the measurement, with voltage and current that arrive from the sensor).</p>
<p>&nbsp;</p>
<p>Can anyone help me?</p>
<p>&nbsp;</p>
<p>thank you very much!!!</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10943.html" class="topic-previous" title="Go to previous forum topic">‹ MK2 self consumption</a>
              <a href="10932.html" class="topic-next" title="Go to next forum topic">Feed &quot;inactive&quot; ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-31885"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase question </h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 03/07/2015 - 17:53.</div>
    <div class="content">
     <p>If you are allowed to use an invasive system, i.e. to make galvanic connections to the supply, then there are many metering ICs that will give you the information directly and with great accuracy.</p>
<p>If you cannot do that, and you cannot use the emonTx since it has only a single voltage input, I would suggest you should build your own Arduino "Shield" that has 3 voltage and three current inputs, copying the circuits of the emonTx. Then you can, following the sketches and the emonLib library, write your own sketch to calculate the three rms voltages, the three rms currents, which multiplied together will give you three apparent powers  and which summed will give you the total apparent power; and you can multiply individual voltage and current samples, then average those to give you the total real power, hence your power factor. The only problem you have with this method is it does not tell you whether the power factor is leading or lagging, and it loses accuracy as the power factor falls.</p>
<p>I think it would be easy to delay the voltage samples by 90&deg; (especially if the samples were phase locked to the incoming mains) to allow you to calculate vars, which would obviously give you both increased accuracy towards zero power factor and an indication of leading or lagging.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31891"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase question </h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Fri, 03/07/2015 - 21:03.</div>
    <div class="content">
     <p>Here is a PCB which can do voltage and current measurements on each phase:</p>
<p><a href="http://www.mk2pvrouter.co.uk/61101.html" title="http://www.mk2pvrouter.co.uk/61101.html">http://www.mk2pvrouter.co.uk/61101.html</a></p>
<p>This board uses the same processor as the emonTx, so can calculate and transmit similar data.</p>
<p>Send me a PM if you are interested.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31919"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 3 Phase question </h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Sat, 04/07/2015 - 23:03.</div>
    <div class="content">
     <p><em>I think it would be easy to delay the voltage samples by 90&deg; ... to allow you to calculate vars, which would obviously give you both increased accuracy towards zero power factor and an indication of leading or lagging.</em></p>
<p>That&#39;s assuming sinusoidal conditions, and that&nbsp;the cause of the low power factor is a nice beefy fundamental reactive load (like a big but lightly-loaded&nbsp;AC motor or a massive capacitor). &nbsp;That might be helpful in some industrial applications, but just about everywhere else, and especially in &nbsp;modern all-electronic homes, low power factors are almost always caused by harmonics. &nbsp; Even loads that you think might present a nice reactive fundamental signal like the motors in washing machines and aircons are increasingly moving to DC motors, sitting behind SMPSs.</p>
<p>Whenever I see low power factors in my home, it&#39;s always caused by harmonics. &nbsp;The extreme case is when the PV output perfectly matches the house load. &nbsp;In that case, there is no Real power flowing through the meter, but because the inverter only produces Real power, the grid is left to supply all the harmonics. &nbsp; &nbsp;The house appears to the grid as all harmonics, and virtually no fundamental. &nbsp;In the trace below I think I had just a few watts of surplus power being exported,&nbsp;hence the non-zero fundamental.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10933"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-bMsbzlwau0E7heoabDt6cAKx3Hkh4m0Dn7mtfKBJ3zo" value="form-bMsbzlwau0E7heoabDt6cAKx3Hkh4m0Dn7mtfKBJ3zo"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
