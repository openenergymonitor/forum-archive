<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10766 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:47:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Convert APPs to dashboard widgets | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Convert APPs to dashboard widgets</h3>
        <span class="submitted">Submitted by <a href="../user/3695.html" title="View user profile.">chaveiro</a> on Fri, 29/05/2015 - 00:27</span>
        <div class="content"><p>On XT branch recent upgrades got to touch support, and best usage on mobile devices.</p>
<p>Part of the changes here preparation of Dashboard to support simple development of new widgets without need to change core files. Dashboard supports now unlimited configuration options, custom background color and width/height auto scale to screen size.</p>
<p>A good candidate for &#39;widgetify&#39; are the new APPs modules and i invite any one to work with me and Trystan to convert them to new visualization plugin modules that can be used to create custom dash boards with them.</p>
<p>For example on the apps module there is much unnecessary code. A new UI for configurations of each app was created and it&#39;s not needed.</p>
<p>With the available framework of dashboard editor, to create a new one, just need to create one or two files with the names below (bold part must be named the same):</p>
<ul>
<li>Modules/app_module/widget/<strong>app-name</strong>/<strong>app-name</strong>_render.js</li>
<li>Modules/app_module/widget/<strong>app-name</strong>/<strong>app-name</strong>_widget.php</li>
</ul>
<p>Define a few variables in&nbsp;<em>app-name</em>_render.js, use the php file for processed stuff if required and the new widget and its configuration will be autommaticaly available to use and edit via dashboard editor. It&#39;s configs are saved on the dashboard itself so no new db tables are required.</p>
<p>Required js files are included by the framework as needed.<br />
All API access to feed data is made by json using the existent feed/feed.js functions.</p>
<p>Take a look at \Modules\vis\widget\* files in XT branch for a good example or a simple one at \Modules\dashboard\widget\dial\dial_render.js.</p>
<p>Also i don&#39;t recommend passing API keys on the url, if you want anonymous access, set dashboard as public and published on the dashboard list and set the used feeds to public also and it will work.</p>
<p>Take a look of a simple <a href="http://emon.gtronica.com/dashboard/view?id=13">Demo here</a>.</p>
<p>Let us know if you want to be part of this project.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10772.html" class="topic-previous" title="Go to previous forum topic">‹ Bit off topic - Shutting down local emoncms server from a 2nd pi on same local network</a>
              <a href="1487.html" class="topic-next" title="Go to next forum topic">Inputs always show as inactive on emoncms Rpi ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-30813"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Convert APPs to dashboard widgets</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sun, 31/05/2015 - 15:45.</div>
    <div class="content">
     <p>Hello Chaveiro, Thanks a lot for your work on the extended branch, Il take a look at your new developments and see how much I can merge in to v8.5 too, the touch support sounds great! I like the idea of making the app module graphics available in the dashboards module as widgets too alongside ongoing development of the apps module, the long term idea with the apps module is to allow for the coding of apps that really focus on particular applications well with ability to add in much more complex functionality that would be difficult to implement in the dashboard editor such as a heating controller app or app with notifications/rewards/achievements, or calculations such as percentage of demand supplied directly etc.</p>
<p>Its great to have your contribution on the XT module because it helps me to look at different ways of doing things, we can try different things without having to agree on a single approach, there will be more innovation this way and then convergence on the best features hopefully. Its great to see emoncms taken in different directions like this</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30822"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3695.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="chaveiro&#039;s picture" title="chaveiro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Convert APPs to dashboard widgets</h3>

    <div class="submitted">Submitted by <a href="../user/3695.html" title="View user profile.">chaveiro</a> on Mon, 01/06/2015 - 01:49.</div>
    <div class="content">
     <p>Thanks for the recognition. The work i&#39;ve done was only possible because the EmonCMS is a great project and was cleverly organized from the beginning. I saw that in meantime some parts of the code loose it modularity, functions here replicated, or some features got done fast with less care to the original design patterns. I fixed that occurrences when founded.</p>
<p>This XT branch is nothing more than a reviewed baseline for the future developments.</p>
<p>The apps widgets in dashboard approach is to allow quick development of new complex graphical modules without the need to code custom UI configuration screens as its offered by the dash editor.<br />
If an app requires complex logic you can focus the code effort on the api logic side instead of having to code a configuration UI every time.</p>
<p>Any new module that comes can include many new widgets that will be usable from the dashboard editor for displaying at the user preferences.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10766"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-he1XLCteVuSuCnp7yy7yx1mN3CVN0pPpA6eM33Q2cSE" value="form-he1XLCteVuSuCnp7yy7yx1mN3CVN0pPpA6eM33Q2cSE"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
