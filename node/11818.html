<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11818 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:49:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Scheduled upload to Emoncms.org? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Scheduled upload to Emoncms.org?</h3>
        <span class="submitted">Submitted by <a href="../user/9068.html" title="View user profile.">noloco</a> on Thu, 17/12/2015 - 15:20</span>
        <div class="content"><p>Is it possible to send a bunch of data to Emoncms in one update or burst, aka only do one update every hour or 6 hours?&nbsp; Like a cronjob that updates Emoncms instead of immediate updates?</p>
<p>&nbsp;</p>
<p>Use Case:</p>
<p>I have a vacation home on a lake that does not have an internet connection.&nbsp; I do have a USB mobile hotspot that I can use with a Raspberry Pi.&nbsp; What I would like to do is schedule it to connect every 6 - 12 hours, and push all of the updates during that period.</p>
<p>Purpose:&nbsp;</p>
<p>The house is in a cold region, and does have water / power on at all times.&nbsp; I would like to monitor energy consumption over time, as well as alert on any major temperature shifts.&nbsp;</p>
<p>Setup:</p>
<ul>
<li>EnomPi Base Station</li>
<li>emonTx V3</li>
<li>(2) emonTh V1.4</li>
</ul>
  <div class="forum-topic-navigation clear-block">
          <a href="10419.html" class="topic-previous" title="Go to previous forum topic">‹ emonTxV3_4_3Phase_Voltage sketch reporting incorrect values</a>
              <a href="11816.html" class="topic-next" title="Go to next forum topic">Emoncms stopped updating on 11-12 ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-37153"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Scheduled upload to Emoncms.org?</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 17/12/2015 - 20:27.</div>
    <div class="content">
     <p>That&#39;s quite an uncommon request so there isn&#39;t really a pre-prepared solution, although I personally think there would be a demand for it.&nbsp;</p>
<p>I have helped a couple of other users with similar &quot;no network&quot; scenarios but they have opted for collecting data locally and then manually fetching the data using a data-stick or similar, there have also been users that have used a mobile data dongle to post minimised data but at a more frequent interval, so there will be some useful info buried in the forum if you search,</p>
<p>Something that may help you achieve what you want is the buffering feature in emonhub, the buffer size is user defined as is the send interval. My own emonhub will buffer up&nbsp;to a weeks data, and a 24hr buffer wouldn&#39;t make a dent in the 1gb ram of the emonPi. using this buffering feature you could tackle this relatively easily in 1 of 2 ways, niether is over elegant but both would do the job. 1) &nbsp;leave your dongle connected (accessible) 24/7 and prevent anything else using it, set emonhub to send every n hours (set in seconds ie 7200 = 2hrs) or 2) just let emonhub keep trying to send every n secs/mins&nbsp;but only allow access to the dongle at certain times so emonhub would just keep accumulating data until the connection is successful&nbsp;and then offloads&nbsp;the buffers.</p>
<p>I have suggested this method to another user that had a&nbsp;remote greenhouse with a monitor, he visited the greenhouse daily so it was possible to configure emonhub to accumulate data and whenever he visited he just needed to have tethering active on&nbsp;his mobile phone and the Pi could connect by wifi and off load the buffered data.</p>
<p>however you say you have an emonPi, so I assume you are using the &quot;emonPi image&quot; which includes a &quot;emon-pi&quot; variant of emonhub and the buffering has been removed from that version so you would need to look at a custom image to use buffering.</p>
<p>So&nbsp;it should totally be possible if you&#39;re happy to roll your sleeves up and make some changes etc.</p>
<p>There has also been discussions on using CoAP&nbsp;or MQTT as the overheads are so much smaller allowing more frequent posting without massive data use, this would probally serve better if using the data for&nbsp;alerts.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11818"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-j4zJjcFfohyjbsFweV8dM8SjMASBlNbF4NrBMnbLXKc" value="form-j4zJjcFfohyjbsFweV8dM8SjMASBlNbF4NrBMnbLXKc"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
