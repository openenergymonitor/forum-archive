<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10149 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:03:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>17 DS18B20 on a EmonTH | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">17 DS18B20 on a EmonTH</h3>
        <span class="submitted">Submitted by Guest on Mon, 09/02/2015 - 21:51</span>
        <div class="content"><p>Hi all</p>
<p>I have been messing around for a year or so with the TH and it&#39;s been great. I have a need to put 17 DS18b20s on to one TH but I seem to be having problems with it. The array of DSs work fine on a Uno but I seem to be having no joy on the TH. any suggestions?</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10170.html" class="topic-previous" title="Go to previous forum topic">‹ Total newb, need help creating a prototype CT monitor</a>
              <a href="10126.html" class="topic-next" title="Go to next forum topic">emontxshield 3-phase no voltage adaptor ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-27550"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 17 DS18B20 on a EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 09/02/2015 - 22:09.</div>
    <div class="content">
     <p>Power supply problems are the first thing I would look for. You're obviously powering all 18 at the same time, so what happens to the battery voltage and the power rails when they all get turned on? (I'm assuming your Arduino was mains-powered and the sensor array was not switched?)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27552"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AdamBloch&#039;s picture" title="AdamBloch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: 17 DS18B20 on a EmonTH</h3>

    <div class="submitted">Submitted by AdamBloch (not verified) on Mon, 09/02/2015 - 22:13.</div>
    <div class="content">
     <p>They should only be pulling about 25mW and the board should be good for 150mW yes I know the script has an error where the const int TEMPERATURE_PRECISION = 1; is I have it set to 11 in the script</p>
<p>I seem to be getting data on the first 6 now I added the correct precision</p>
<p>Node: Key Name Process list last updated value<br />
19 1 log 34s ago 31.0<br />
19 2 34s ago 238<br />
19 3 34s ago 265<br />
19 4 34s ago 270<br />
19 5 34s ago 275<br />
19 6 34s ago 275<br />
19 7 34s ago 0.00</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27567"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AdamBloch&#039;s picture" title="AdamBloch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: 17 DS18B20 on a EmonTH</h3>

    <div class="submitted">Submitted by AdamBloch (not verified) on Tue, 10/02/2015 - 17:08.</div>
    <div class="content">
     <p>Checked the voltage today and it holds a good 3.3volts..... I have tried setting it to 9bytes and giving the 750mS to see if we have a time problem...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27595"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5443.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="billt&#039;s picture" title="billt&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 17 DS18B20 on a EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/5443.html" title="View user profile.">billt</a> on Wed, 11/02/2015 - 11:36.</div>
    <div class="content">
     <p>With 17 sensors you may have long wiring lengths.</p>
<p>Multiple 1-wire sensors become quite sensitive to wiring conditions, so it&#39;s probably worth checking <a href="http://www.maximintegrated.com/en/app-notes/index.mvp/id/148" title="http://www.maximintegrated.com/en/app-notes/index.mvp/id/148">http://www.maximintegrated.com/en/app-notes/index.mvp/id/148</a>. In particular, you don&#39;t want long stubs on a daisy chain of sensors.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27596"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AdamBloch&#039;s picture" title="AdamBloch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: 17 DS18B20 on a EmonTH</h3>

    <div class="submitted">Submitted by AdamBloch (not verified) on Wed, 11/02/2015 - 11:52.</div>
    <div class="content">
     <p>I have just noticed that if I disconnect all the sensors that I&#39;m still getting a reading from some of the sensors Ok not from the sensors but from something...</p>
<p>19 1 log -3s ago 31.0<br />
19 2 -3s ago 0.00<br />
19 3 -3s ago 0.00<br />
19 4 -3s ago 273<br />
19 5 -3s ago 273<br />
19 6 -3s ago 272<br />
19 7 -3s ago 0.00<br />
19 8 -3s ago 0.00</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27605"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AdamBloch&#039;s picture" title="AdamBloch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: 17 DS18B20 on a EmonTH</h3>

    <div class="submitted">Submitted by AdamBloch (not verified) on Wed, 11/02/2015 - 15:48.</div>
    <div class="content">
     <p>Ok scrap that it was the unit had locked up.... but I&#39;m still stuck on only getting 3 senors to read....</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27606"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 17 DS18B20 on a EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 11/02/2015 - 16:09.</div>
    <div class="content">
     <p>As Billt says, the method of wiring is important. You might find that, with a complicated network of sensors, you need an external driver IC as per Maxim's data sheets.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27607"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="AdamBloch&#039;s picture" title="AdamBloch&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: 17 DS18B20 on a EmonTH</h3>

    <div class="submitted">Submitted by AdamBloch (not verified) on Wed, 11/02/2015 - 16:17.</div>
    <div class="content">
     <p>It would seem to be a problem with the EmonTH when all of the other parts of the software are running. I can ID and read all of the sensors if I do it as a read of the DS18B20s but when I try and exstend the TH script I only can see the data from the first 3 ext sensors.</p>
<p>Maybe the payload size or max data the RFM12B can send.. I really don&#39;t know..</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27610"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: 17 DS18B20 on a EmonTH</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 11/02/2015 - 16:54.</div>
    <div class="content">
     <p>I deleted the duplicate post.</p>
<p>There is of course a limit on the message size, it is fully documented, both in JeeLib and in Building Blocks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10149"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-0m3SxFeLYb42fB7HEaOTmziSCnDKfd5WCLKlLz3Yu3s" value="form-0m3SxFeLYb42fB7HEaOTmziSCnDKfd5WCLKlLz3Yu3s"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/10149 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:03:26 GMT -->
</html>
