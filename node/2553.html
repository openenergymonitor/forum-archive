<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2553 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:08:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>MySQL Server Error | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">MySQL Server Error</h3>
        <span class="submitted">Submitted by Guest on Mon, 08/07/2013 - 14:29</span>
        <div class="content"><p>Hi All,</p>
<p>When I try to log into my local &nbsp;emoncms&nbsp;account (192.168.1.1XX) I keep getting the following error:&nbsp;</p>
<p>&lt;b&gt;Warning&lt;/b&gt;:&nbsp; mysqli::mysqli(): (HY000/2002): Can&#39;t connect to local MySQL server through socket &#39;/var/run/mysqld/mysqld.sock&#39; (2) in &lt;b&gt;/var/www/emoncms/index.php&lt;/b&gt; on line &lt;b&gt;26&lt;/b&gt;&lt;br /&gt;<br />
	&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</p>
<p>TIA for any help!</p>
<p>Ian&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2571.html" class="topic-previous" title="Go to previous forum topic">‹ CT Sensor Placement off Circuit Breaker and other questions</a>
              <a href="874.html" class="topic-next" title="Go to next forum topic">PT1000 RTD Building Block ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-13507"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1001.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Automate&#039;s picture" title="Automate&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: MySQL Server Error</h3>

    <div class="submitted">Submitted by <a href="../user/1001.html" title="View user profile.">Automate</a> on Mon, 08/07/2013 - 15:01.</div>
    <div class="content">
     <p>Are you running on Windows or Linux? &nbsp;Is your MySQL running on the standard port of&nbsp;3306? &nbsp;What values did you put into settings.php</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13529"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="iansalias&#039;s picture" title="iansalias&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: MySQL Server Error</h3>

    <div class="submitted">Submitted by iansalias (not verified) on Tue, 09/07/2013 - 13:50.</div>
    <div class="content">
     <p>Spam filter wont let me post reply...</p>
<p>Ian</p>
<p>&nbsp;</p>
<p>I Keep gettng:</p>
<p>&quot;The spam filter installed on this site is currently unavailable. Per site policy, we are unable to accept new submissions until that problem is resolved. Please try resubmitting the form in a couple of minutes.&quot;</p>
<p>===================================================</p>
<p><em>[This is what Ian tried to post - Moderator]</em></p>
<p>Hi Automate,</p>
<p>I am running this on a Raspberry Pi using Linux. I followed the instructions on the emoncms.org web site on installing the system on the SD card. See: <a href="http://emoncms.org/site/docs/raspberrypiimage" title="http://emoncms.org/site/docs/raspberrypiimage">http://emoncms.org/site/docs/raspberrypiimage</a></p>
<p>I looked through the set up instructions on the &quot;Build from scratch&quot; page (<a href="http://emoncms.org/site/docs/raspberrypibuild" title="http://emoncms.org/site/docs/raspberrypibuild">http://emoncms.org/site/docs/raspberrypibuild</a>) and found settings.php under item number 9. iIs that the one you mean? The settings it had were just empty quotation marks listed so I added:</p>
<p>$username = &quot;root&quot;; </p>
<p>$password = &quot;raspberry&quot;; </p>
<p>$server&nbsp;&nbsp; = &quot;localhost&quot;; </p>
<p>$database = &quot;emoncms&quot;;</p>
<p>I started going through the &quot;Build from scratch&quot; page and have found that the software is installed but not set as per the instructions on this page. When I get to item #8 Create a MYSQL database and enter the command: mysql -u root -p it asks for my password. When I enter it I get the same error: ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/var/run/mysqld/mysqld.cxock&#39; (2)</p>
<p>Can I reset my MySQL password? How do I see if MySQl is running on port 3306?</p>
<p>Thanks for your help!</p>
<p>Ian</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13536"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1001.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Automate&#039;s picture" title="Automate&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: MySQL Server Error</h3>

    <div class="submitted">Submitted by <a href="../user/1001.html" title="View user profile.">Automate</a> on Wed, 10/07/2013 - 05:14.</div>
    <div class="content">
     <p>Sorry, I&#39;m not using the&nbsp;Raspberry Pi so I don&#39;t know the default &nbsp;username / password.</p>
<p>You could try to connect to the RPi 3306 port using a telnet client to check if MySQL is listening.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13540"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: MySQL Server Error</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 10/07/2013 - 09:52.</div>
    <div class="content">
     <p>I have seen the default RPi user name and password published - <a href="2334.html">here</a>. If you have phpmyadmin, you can set the MySQL user names and passwords in there.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13555"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="iansalias&#039;s picture" title="iansalias&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: MySQL Server Error</h3>

    <div class="submitted">Submitted by iansalias (not verified) on Thu, 11/07/2013 - 13:53.</div>
    <div class="content">
     <p>This had been working at one point and I changed the password to the&nbsp;localhost/emoncms&nbsp;website. I did switch it again to a simpler password and that is when my troubles began...</p>
<p>I used Terminal on Mac OS X to Telnet to localhost 3306 and could not connect. I also tried the Mac OS X Network utility and Zenmap&nbsp;to look for open ports and neither listed port 3306 as open. Zenmap did detect the Linux OS and the version number so I know it is connecting to the Raspberry Pi.&nbsp;</p>
<p>Maybe I should try a fresh install of the Emoncms&nbsp;software...</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13556"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: MySQL Server Error</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 11/07/2013 - 14:08.</div>
    <div class="content">
     <p>I setup an install with user/pwd test/test. Then I decided to change for a more secure pwd. Then I forgot the password...</p>
<p>No need to reinstall.</p>
<p>Easy solution : create a new user (and delete the other one from the database with phpmyadmin).</p>
<p>More complicated but keeping same user : find out which hash algo is used to encrypt the password (no time to search right now, maybe somebody knows), generate such a hash for a known password (maybe there&#39;s a command for that on Mac OS X, otherwise, you may find web pages that can do that, like this one: <a href="http://www.md5hashgenerator.com/" title="http://www.md5hashgenerator.com/">http://www.md5hashgenerator.com/</a>), and replace it in the DB using phpmyadmin.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13558"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: MySQL Server Error</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 11/07/2013 - 15:53.</div>
    <div class="content">
     <p>Ian, I&#39;m confused as to which password you&#39;ve lost. Is it the one that emonCMS uses to put the data into MySQL, or is it the password YOU use to get into emonCMS?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13559"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: MySQL Server Error</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 11/07/2013 - 16:13.</div>
    <div class="content">
     <p>I may have added to the confusion after reading this</p>
<blockquote><p>This had been working at one point and I changed the password to the localhost/emoncms website. I did switch it again to a simpler password and that is when my troubles began...</p>
</blockquote>
<p>Indeed, former posts suggest rather a DB connection issue.</p>
<p>user/pwd couples recap:</p>
<p>- Raspberry Pi user (generally user Pi)</p>
<p>- DB connection (can be root/pwd or a specific user/pwd, the doc suggests root but I created a emoncms user to separate the privileges in the DB)</p>
<p>- emoncms user (the one you use to login, this is visible in the URL of public dashboard)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2553"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-dErp4Y_o0kd-HlDtKa8zS1_mCZirzKW79tXScCclqEM" value="form-dErp4Y_o0kd-HlDtKa8zS1_mCZirzKW79tXScCclqEM"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/2553 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:08:24 GMT -->
</html>
