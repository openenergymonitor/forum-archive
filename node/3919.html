<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3919 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:49:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Debian packaging emoncms &amp; modules | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Debian packaging emoncms &amp; modules</h3>
        <span class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 24/02/2014 - 22:03</span>
        <div class="content"><p>I just did a nasty on my Pi which caught me by surprise. If you reset the emoncms git repository (using git reset --hard) you lose all of the modules, because they are installed into a subdirectory of the main repo - i.e. the repos are nested on the filesystem.</p>
<p>Obvious in hindsight, but a bit awkward. I&#39;d like to suggest an alternative, which is that we add&nbsp;debian packaging info to the repositories and actually build and install them on the Pi.</p>
<p>It wouldn&#39;t be complicated to do, and it&#39;s not necessary to use an apt repository - users would just clone the repository as normal, but then use debuild &amp;&amp; dpkg -i to copy the filesystem into /var/www (and do any other install operations, such as editing crontabs etc).</p>
<p>Another advantage is that it might simplify support requests because it provides an easy way to check what&#39;s installed on the pi, just as follows (I&#39;ve truncated the output to avoid breaking the forum layout):</p>
<pre>
pi@raspberrypi /var/www/emoncms $ dpkg -l | grep apache

ii  apache2                               2.2.22-13         Apache HTTP Server metapack...
ii  apache2-mpm-prefork                   2.2.22-13         Apache HTTP Server - tradit...
ii  apache2-utils                         2.2.22-13         utility programs for webser...
ii  apache2.2-bin                         2.2.22-13         Apache HTTP Server common b...
ii  apache2.2-common                      2.2.22-13         Apache HTTP Server common f...
ii  libapache2-mod-php5                   5.4.4-14+deb7u7   server-side, HTML-embedded ...</pre><p>Note that because major.minor.etc. versioning is possible, this might help with change control of emoncms too (the changelog allows comments on what&#39;s changing between versions).</p>
<p>I can make a demonstrator branch up if there&#39;s interest.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5994.html" class="topic-previous" title="Go to previous forum topic">‹ emoncms over https [Solved}</a>
              <a href="5996.html" class="topic-next" title="Go to next forum topic">Emoncms.org IP address update 176.227.193.50 ==&gt; 80.243.190.58 ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-18739"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4638.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="borpin123&#039;s picture" title="borpin123&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4638.html" title="View user profile.">borpin123</a> on Mon, 24/02/2014 - 22:58.</div>
    <div class="content">
     <p>As a bit of a git noob, a debian package would be welcomed. &nbsp;I have refrained from updating to the more recent versions as I&#39;m a bit afraid it will break something!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18742"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 24/02/2014 - 23:27.</div>
    <div class="content">
     <p>Unfortunately there&#39;s no guarantee it would be backwards compatible - just like installing the next version of Office doesn&#39;t guarantee that you can open an old spreadsheet and all the functions still work ;-)</p>
<p>What debian packaging would offer is clear change control and a cleaner way of installing the code, rather than checking out nested git repositories into /var/www.</p>
<p>Alas, you&#39;d still need to use git, unless someone hosts a custom apt-repository (in which case you could use the debian package manager). The advantage for you would be more along the lines of being able to say easily &quot;I&#39;m running version 5.5&quot; rather than having to post up a git commit hash...</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18743"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 25/02/2014 - 00:39.</div>
    <div class="content">
     <p>I second the idea of clear version labelling if nothing else. We have it for the hardware - we should do it for the software too, including the sketches on Github. And even better if each version carries a meaningful change note that describes what the change was and the reasons for it. It needs to in each and every file, having it in readme.md is not helpful once the files themselves get separated from the readme.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18744"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Tue, 25/02/2014 - 00:58.</div>
    <div class="content">
     <p>I raised the <a href="3868.html#comment-18560">issue of versioning&nbsp;a few days ago</a>. I think Tryston&nbsp;is like minded and likely to implement it in some form in&nbsp;emoncms&nbsp;v7.</p>
<p>It would be good if the version was linked to a changelog - OR better still to a properly documented Github&nbsp;read.md (as above from Robert).</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-18750"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Fri, 07/03/2014 - 08:37.</div>
    <div class="content">
     <p>At least, it would be easy to tag all release versions in Git (v6, v7, etc) and to work in a dev branch so that any non contributor user would use a release version, labeled as such in the footer of the GUI. Each new version would be the occasion to sum up the changes into a nicely written changelog. Subversions are possible with the same worklow.</p>
<p>However, users may want bleeding-edge functions and be routed to dev versions. Then we&#39;d be back to the current situation. To avoid this, try to merge features regularly as subversions.</p>
<p>Regular merges also minimize bugfixing duplication.</p>
<p>I use Raspbian (debian based) but the ready-to-go SD card uses another distro. I don&#39;t know if it is debian based.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19031"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 06/03/2014 - 07:58.</div>
    <div class="content">
     <p>I&#39;ve started work on this. I should point out from the start that I&#39;m no debian packaging expert, but I figure the important thing is to get going, as there may be other contributors at some point who can improve things, but might not have wanted to start from scratch...</p>
<p>While I believe it&#39;s possible to do configuration through the installation of a deb (i.e. script upgrade actions from one version to another) this isn&#39;t something I&#39;m familiar with, so to start out I&#39;m just going to get a .deb built which copies the emoncms filesystem into place (under /var/www) and doesn&#39;t worry about anything else.</p>
<p>The branches are:</p>
<p><a href="https://github.com/Dave-McCraw/emoncms/compare/debian-packaging" title="https://github.com/Dave-McCraw/emoncms/compare/debian-packaging">https://github.com/Dave-McCraw/emoncms/compare/debian-packaging</a></p>
<p><a href="https://github.com/Dave-McCraw/raspberrypi/compare/debian-packaging" title="https://github.com/Dave-McCraw/raspberrypi/compare/debian-packaging">https://github.com/Dave-McCraw/raspberrypi/compare/debian-packaging</a></p>
<p>(Please note that right now this is untested - I&#39;ll post another update when I know it&#39;s working).</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19032"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 06/03/2014 - 08:27.</div>
    <div class="content">
     <p>Thanks for this.</p>
<p>Debian user myself, I never packaged. I&#39;d do it the same way : first, copy files and don&#39;t bother with update script.</p>
<p>Then we could try to add a script to create the DB at installation. This would be quite useful (practical for user + be sure everyone uses the same credentials).</p>
<p>Then, an update script to update the DB on version up would be neat.</p>
<p>Then we could remove the now useless &quot;update DB&quot; page from emoncms.</p>
<p>At this point we&#39;d have a really integrated mature debian software.</p>
<p>This means each time we&#39;d need to generate a slightly modified &quot;packageable version&quot; (perhaps not too much of a hassle).</p>
<p>This also mean (or maybe I&#39;m wrong) that users of the deb package would&#39;nt have emoncms in a git repo, so couldn&#39;t pull, and they would have to wait for the next release.</p>
<p>We&#39;d have a class of users with easy access (no complicated setup). I think that&#39;s what the project aims at.</p>
<p>We&#39;d need to be able to produce a new version regularly. To those users, you can&#39;t say &quot;git pull to dev versino and bear with potential issues, or wait months until it is fixed&quot;.</p>
<p>Thanks for the effort.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19034"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 06/03/2014 - 09:39.</div>
    <div class="content">
     <p><em>This also mean (or maybe I&#39;m wrong) that users of the deb package would&#39;nt have emoncms in a git repo, so couldn&#39;t pull, and they would have to wait for the next release.</em></p>
<p>I think in an ideal world, we&#39;d set up an apt-repo for the project and configure our Pi installation to use it (in addition to the raspian repo). Then it really would just be a question of getting users to run &quot;apt-get upgrade&quot; to level up... otherwise what we&#39;d do is provide the .deb file as a download from emoncms.org (maybe?) and provide instructions for running a GET / dpkg -i to do the same.</p>
<p>The nice thing about the apt repo approach is that it will force us to use (some kind of) versioning&nbsp;for bug fixes and other intermediate releases, rather than just updating the git master. This is because you need to dput a new higher version number (8.0.1 etc) for it to be picked up by the package manager on the Pi.</p>
<p><span style="font-size: 12px;">There are so many approaches... good opportunity to learn some new skills too :)</span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19035"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 06/03/2014 - 09:54.</div>
    <div class="content">
     <p>Yes, good points about the apt-repo. And yes, what I meant is that they&#39;d still have to wait for the next stable release. Or we&#39;d have to backport fixes from dev branch to master and create intermediate releases. This sort of imposes a nice process. Great.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19044"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 06/03/2014 - 12:18.</div>
    <div class="content">
     <p>This looks great, nice work, if you let me know how I can help, I&#39;m happy to do so.</p>
<p>What do we need to do to get the apt-repo setup?</p>
<p>Happy to put the package up on the emoncms.org server, and then i guess its updating install / update documentation and so on.</p>
<p>With a bit more testing I think we can use the &#39;rework&#39; dev branch which I think is almost good to go for clean installs.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19059"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 06/03/2014 - 16:23.</div>
    <div class="content">
     <p>Trystan - an apt repo is a file structure that you just need to host somewhere. I was thinking of putting a test repo on my S3 account for a proof of concept, then you can decide how you&#39;d like to proceed for real.</p>
<p>Going forward I recommend running a different branch for each release of emoncms (i.e. you&#39;d have a release-v9 branch next) which people submit pull requests against. This keeps master clean for something like a critical bugfix but it also means there&#39;s a clear structure of when things are merged in (there&#39;s an obvious history of merging v9, v10, etc. branches into master).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19064"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 06/03/2014 - 22:01.</div>
    <div class="content">
     <p>OK - this is now ready for a test run if anyone fancies - based on the current git masters:</p>
<p>From your Pi:</p>
<p><strong>pi@raspberrypi ~/tmp $</strong> wget <a href="http://cdn.mccraw.co.uk/emon/emoncms_7.0_armhf.deb" title="http://cdn.mccraw.co.uk/emon/emoncms_7.0_armhf.deb">http://cdn.mccraw.co.uk/emon/emoncms_7.0_armhf.deb</a></p>
<p><strong>pi@raspberrypi ~/tmp $ </strong>wget <a href="http://cdn.mccraw.co.uk/emon/emoncms-raspberrypi_1.0_armhf.deb" title="http://cdn.mccraw.co.uk/emon/emoncms-raspberrypi_1.0_armhf.deb">http://cdn.mccraw.co.uk/emon/emoncms-raspberrypi_1.0_armhf.deb</a></p>
<p><strong>pi@raspberrypi ~/tmp $</strong> sudo dpkg -i emoncms*.deb</p>
<p>It won&#39;t overwrite the settings.php file, any modules you have installed other than raspberrypi, and it won&#39;t remove the .git stuff either, but it will overwrite any local changes you&#39;ve made to PHP files etc. in the main and raspberrypi modules.</p>
<p>It would be great if someone else can validate this as a clean install (just rename /var/www/emoncms first, run the commands and copy in your settings file... should work fine?)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19066"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sun, 09/03/2014 - 07:21.</div>
    <div class="content">
     <p>Or: ignore all of the above, and add the following line to your <strong>/etc/apt/sources.list </strong>file</p>
<p><strong>deb <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> wheezy unstable</strong></p>
<p>now, I recommend you rename your existing /<strong>var/www/emoncms</strong>&nbsp;directory if significant, then run</p>
<p><strong>sudo apt-get update</strong></p>
<p><strong>sudo apt-get install emoncms emoncms-raspberrypi</strong></p>
<p>Copy in your<strong> settings.php </strong>and any other modules from your manual backup, and you should still be in business, just debianised under the hood :)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19070"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Fri, 07/03/2014 - 08:38.</div>
    <div class="content">
     <p>Great. Shouldn&#39;t it be wheezy instead of squeeze ?</p>
<p>If stabilized, we may even be able to enter Raspbian&#39;s official repos !</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19074"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Fri, 07/03/2014 - 10:01.</div>
    <div class="content">
     <p>It won&#39;t matter, but yeah - I only spotted that after it was too late... day job reflex!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19080"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4638.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="borpin123&#039;s picture" title="borpin123&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4638.html" title="View user profile.">borpin123</a> on Fri, 07/03/2014 - 13:35.</div>
    <div class="content">
     <p>Could you package it for i386 as well? &nbsp;Thinking that instead of running emoncms on my pi, I&#39;d actually run it on another machine and just forward the data from the pi.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19081"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Fri, 07/03/2014 - 13:47.</div>
    <div class="content">
     <p>I think someone will need to build it on i386 (or maybe there&#39;s a flag to build for other architectures? - I&#39;ll need to check). The Pi is my only debian-based&nbsp;box.</p>
<p>Good catch though. There will probably be a lot of these things to iron out (current list: fix the distro version... add more architectures!)</p>
<p>It would be nice if we could get happy enough with it to recommend it as the upgrade procedure to v8 for existing installs.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19088"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 07/03/2014 - 17:10.</div>
    <div class="content">
     <p>Yes lets try this for v8, Im not sure that there are different requirements for different debian based distributions as there are no compiled binaries in there, especially now that timestore is not needed, I wonder if its possible to supply a single .deb for all?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19090"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Fri, 07/03/2014 - 18:11.</div>
    <div class="content">
     <p>Yes it is. Absolutely. The architecture is &quot;any&quot; (or &quot;all&quot;) as Schism did. Regarding this, the .deb is fine, I think. It is rather in the repo that something needs to be done differently.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19093"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4638.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="borpin123&#039;s picture" title="borpin123&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4638.html" title="View user profile.">borpin123</a> on Fri, 07/03/2014 - 20:10.</div>
    <div class="content">
     <p>Not an expert, just when I tried to fire it into an Ubuntu box it complained about the architecture.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19117"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sun, 09/03/2014 - 07:21.</div>
    <div class="content">
     <p>OK, I think the problem was that I had only specified the arm architecture in the repo&#39;s conf/distributions file. I&#39;ve now added i386 and amd64 to the list and re-reprepro&#39;d the emoncms package - I&#39;ve also updated the debian version to be wheezy.</p>
<p>It should now be possible to pull emoncms&nbsp;using the above instructions on those architectures (I skimmed the list, and wasn&#39;t sure that there were any other common ones just now. Unfortunately you can&#39;t specify &#39;all&#39; in the apt configuration).</p>
<p>Note that /etc/apt/sources.list needs a tweak to refer to wheezy now (edited my original post).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19119"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sun, 09/03/2014 - 07:50.</div>
    <div class="content">
     <p>Separately I&#39;ve been considering how we would ideally install emoncms&nbsp;(with a view to complying with Debian&#39;s official apt repositories).</p>
<p>There are huge style manuals that appear to regulate everything in great detail but without examples, so I probably haven&#39;t yet found the one simple tutorial that will make it all click.</p>
<p>However, provisionally, I think that the PHP should be installed into something like /usr/share/emoncms/www and we&#39;d then configure apache to serve from that directory instead of just /var/www</p>
<p>I haven&#39;t investigated this yet, but I&#39;m aware that the same PHP files are used to serve pages and also by rfm12piphp&nbsp;, and I&#39;m not sure how you would have this set up in a nominally ideal environment. Possibly those files need to be in /usr/lib/ to be available to other packages &quot;correctly&quot; (or even packaged as a separate debian package, like emoncms-common)?</p>
<p>I&#39;m looking at the <a href="http://emoncms.org/site/docs/installlinux">Linux install guide</a> and trying to see what else we&#39;d want the debian package to do. Seems like using dbconfig-common&nbsp;to <a href="http://people.debian.org/~seanius/policy/examples/dbconfig-common/doc/dbconfig-common-using.html">create the database</a> would be a good step?&nbsp;</p>
<p>Having apache config in /etc/emoncms/ is probably another thing to consider.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19170"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 12/03/2014 - 02:09.</div>
    <div class="content">
     <p>OK - some more progress on this tonight. Again, I&#39;d appreciate any feedback if someone can spare the time to try an install this way.</p>
<p>I really wanted to get away from having nested git repositories under /var/www as this makes it unnecessarily difficult/dangerous to use git (some commands will be fine, some will trash your install). In any case, using git&nbsp;directly to upgrade installations of emonCMS&nbsp;in the web root isn&#39;t an ideal solution for all sorts of other reasons, so:</p>
<p>Instead, I&#39;ve got emoncms (and the raspberrypi module) installing into /usr/share/emoncms/www, and added a specific apache configuration file for sites-available to get that running (required a tweak to .htaccess and the rfm12piphp script).</p>
<p>As part of debian installation, the apache config is copied into sites-available ready for deployment, while the rfm12piphp&nbsp;script is installed into /etc/init.d (and configured).&nbsp;</p>
<p><em>The significant downside of this is that it will make merging up a bitch for anyone who wants to issue pull requests back into emonCMS&nbsp;afterwards, and the directory structure obviously isn&#39;t backwards compatible, i.e. you can&#39;t just git pull this version of emonCMS into an existing install and expect it to work.</em></p>
<p>However, I think it would be worthwhile if we can get over the obstacle of initial rollout. It will massively simplify upgrades, tighten version control, and a whole load of other benefits.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19171"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 13/03/2014 - 23:02.</div>
    <div class="content">
     <p>If you want to help out by giving this a spin (please!) then here&#39;s the step-by-step guide:</p>
<p>Add to /etc/apt/sources.list the following line:</p>
<p><strong>deb <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> wheezy unstable</strong></p>
<p>(I recommend you rename your existing /var/www/emoncms directory if present, then) run</p>
<p><strong>sudo apt-get update</strong></p>
<p><strong>sudo apt-get install emoncms</strong></p>
<p>Now, you need to tell apache to enable emoncms:</p>
<p><strong>sudo a2ensite emoncms</strong></p>
<p><strong>sudo /etc/init.d/apache2 reload</strong></p>
<p>It doesn&#39;t create the database yet (but that&#39;s about all). You do still need to supply the settings.php file.</p>
<p>&nbsp;</p>
<p>For the RaspberryPi module, you just add the following:</p>
<p><strong>sudo apt-get install emoncms-module-rfm12pi</strong></p>
<p>And you need to start up the rfm12piphp script:</p>
<p><strong>sudo service rfm12piphp restart log</strong></p>
<p>And that should be it...</p>
<p><em>(I haven&#39;t tried to add support for the python gateway at this time. I&#39;m not sure why there are two different scripts in the same module, and would have thought that it would make more sense to have these packaged separately rather than deploying both via one debian package. Would you ever run both? Is it because they use the same web status form in emonCMS itself?)</em></p>
<p>Reminder that you can see the changes at github: <a href="https://github.com/Dave-McCraw/emoncms/compare/debian-packaging">emoncms</a> and <a href="https://github.com/Dave-McCraw/raspberrypi/compare/debian-packaging?expand=1">raspberrypi</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19174"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 12/03/2014 - 08:31.</div>
    <div class="content">
     <p>[thought occurs to me that git will actually be smart enough to allow merging after the directory restructure. Something to try later]</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19189"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 12/03/2014 - 22:13.</div>
    <div class="content">
     <p>Great job, Dave.</p>
<p>Forget about the python script. It should be dropped from this module. It was my redesign of the php script and it led up to the standalone gateway script. It is not really maintained. The standalone gateway is.</p>
<p>Or we decide to maintain only the python script. But I agree we don&#39;t need both in one package. And having two more packages for the scripts with one default choice is overkill.</p>
<p>I think most if not all users use the php script. The python script is now mostly used in the standalone gateway. I may be wrong, of course, as there is not much feedback about this.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19193"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 13/03/2014 - 01:31.</div>
    <div class="content">
     <p>Excellent work Dave. are the packages complete enough for a fresh install as they are currently? I do not have an existing emoncms set up but I would be happy to knock up up a clean image of raspbian to give them a road test.&nbsp;</p>
<p>Having used the python gateway for sometime with a variety of data sources I&#39;m convinced the python gateway is more versatile but I have little experience of the php gateway so far so I&#39;m just going by forum comments. Wouldn&#39;t a single &quot;universal&quot; gateway prevent further fracturing or either the emoncms or standalone camps being left behind and in turn help focus development?</p>
<p>Glyn has blogged about using the <a href="http://openenergymonitor.blogspot.co.uk/2014/01/oem-gateway-serial-port-emoncms-link.html">standalone python</a>&nbsp;version recently and I personally think it&#39;s got alot more potential but as the hdd option is probably more popular than the standalone option its not getting fully utilized.</p>
<p>I have just tried to <a href="4036.html">update the standalone image</a> and as I had some problems I suggested a hybrid gateway image on that thread but had no response.</p>
<p>Is there a reason why we need 2 gateways, I mean is there a strong enough argument for using the php version to justify the need for a standalone as well as a emoncms gateway?&nbsp;</p>
<p>Jerome&#39;s done a great job with the gateway and&nbsp;<span style="font-size: 12px;">I for one hope we use it in the emoncms&nbsp;package,</span></p>
<p>Paul<span style="font-size: 12px;">&nbsp;&nbsp;</span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19197"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 13/03/2014 - 09:21.</div>
    <div class="content">
     <p>Great work Schism, Il try and test it later too.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19198"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 13/03/2014 - 09:29.</div>
    <div class="content">
     <p>J&eacute;r&ocirc;me - OK, I will remove the python stuff from the RaspberryPi module, but package what remains as something more specific, like emoncms-raspberrypi-php</p>
<p>This will support the separate packaging of the python / standalone gateway option (emoncms-raspberrypi-python ?). With both packages we will support both existing approaches, and then a discussion can take place on which approach should be preferred.&nbsp;</p>
<p>pb66 - I haven&#39;t had to modify the code to any significant degree, so you should get a fully-functioning install from those two packages. I&#39;m holding off on any of the other modules until there is a general consensus around this approach :)</p>
<p>I haven&#39;t actually looked at how either the OEM gateway or php script work, since it&#39;s not a prerequisite of the debian packaging and my own install is working fine (using the php approach I assume :) but I agree that it would make sense to standardise on one approach, so effort made by contributors is not divided.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19214"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 13/03/2014 - 14:50.</div>
    <div class="content">
     <p>I have literally just loaded both packages now and can get the &quot;It works!&quot; message in a local pc&#39;s browser, seems to have gone very smoothly, there where no errors and the instruction spot on. I don&#39;t have my own settings.php file and haven&#39;t created a database so how should I proceed&nbsp;? can I complete the install following the existing instructions on emoncms or do something specific?</p>
<p><span style="font-size: 12px;">Paul</span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19219"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 13/03/2014 - 18:57.</div>
    <div class="content">
     <p>OK, sweet!</p>
<p>You&#39;ll still need to create the database, then a settings.php file unfortunately. At that point I would expect it to work after a fashion (i.e. things like timestore, redis, etc. are all not affected by this debian packaging exercise. It mainly replaces any work you&#39;d need to do with git).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19229"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 13/03/2014 - 22:59.</div>
    <div class="content">
     <p>I&#39;ve forked the event module, packaged it and added it to my apt-repo. This means if you want to add the event module to an installation you can just run</p>
<p><strong>sudo apt-get update &amp;&amp; sudo apt-get install emoncms-module-event</strong></p>
<p>(don&#39;t forget you need to set up SMTP / other settings from the options page installed inside emoncms for it to actually do anything).</p>
<p>As discussed above, I&#39;ve removed the python functionality from the raspberrypi module and repackaged it as <strong>emoncms-module-rfm12pi</strong> (to make sure it&#39;s distinct from the OEM gateway). I marked it as <em>Breaks: emoncms-raspberrypi </em>so nobody can end up confused with both names for the same package installed - if you&#39;d already tried experimenting you need to do a&nbsp;<strong>sudo apt-get remove emoncms-raspberrypi&nbsp;</strong>before you can do <strong>sudo apt-get install emoncms-module-rfm12pi</strong></p>
<p>(edited the instructions above accordingly)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19230"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 13/03/2014 - 23:04.</div>
    <div class="content">
     <p>I tried to package the <strong>packetgen</strong> module next, but unfortunately it seems to require changes to be made to one of the files from the <strong>raspberrypi</strong> module (!!)</p>
<p>IMHO this isn&#39;t a great approach. For instance, it would wipe out any branched version of raspberrypi that you installed, or if you later installed an upgrade, packetgen will stop working.</p>
<p>If nobody is familiar with this and able to advise then I will have a dig around (can&#39;t we either add packetgen support into raspberrypi permanently? Or install a separate PHP class alongside raspberrypi so they work by composition and not overriding?)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19236"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Fri, 14/03/2014 - 02:46.</div>
    <div class="content">
     <p>Phew... I think I might have gone a bit blind trying to figure this all out, but I&#39;ve hopefully made some more solid progress.</p>
<p>If you install emoncms from my apt-repo you&#39;ll now be&nbsp;prompted for DB username, password, database and host, and these values are now used to create the database and also to write out a settings.php file automatically.</p>
<p>They default to the usual values (root/raspberry/localhost/emoncms) but can be changed - and if you do change them, that will persist when new&nbsp;emoncms versions are installed - you only change it after initial installation by running&nbsp;<strong>sudo dpkg-reconfigure emoncms&nbsp;</strong>(or edit the file by hand - but then it will potentially be overwritten next version).</p>
<p>The contents of&nbsp;/var/lib/timestore/adminkey.txt are used to populate the&nbsp;$timestore_adminkey property in settings.php - I can&#39;t see why that would cause an issue, so please sing out if I&#39;ve missed the point (I wasn&#39;t sure why we have this value in two config files, there could be installation ordering issues for instance?)</p>
<p>I added mysql as a dependency so it will be installed when emoncms is installed, removing another step from the instructions.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19243"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 14/03/2014 - 12:40.</div>
    <div class="content">
     <p>Great news that you&#39;ve included the DB creation in the installer package,</p>
<p>The other anomaly I found during testing was redis,<span style="font-size: 12px;">&nbsp;the original </span>emoncms<span style="font-size: 12px;"> set-up seems to assume&nbsp;</span>redis<span style="font-size: 12px;"> is installed and set up. it&#39;s not until you get this error &quot;Can&#39;t connect to </span>redis<span style="font-size: 12px;"> database, </span>phpredis<span style="font-size: 12px;"> is not installed, see </span>readme<span style="font-size: 12px;"> for </span>redis<span style="font-size: 12px;"> installation&quot; that you become aware and read the forum threads (or the instructions). so should that also be a dependency or change the default install process to not assume or check and at least recommend or warn maybe.</span></p>
<p><span style="font-size: 12px;">I will give the newer version a run later and report back.</span></p>
<p>Will the emoncms&nbsp;package install and operate independently of the emoncms-module-rfm12pi module if the RFM12Pi isn&#39;t used?</p>
<p>Paul.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19244"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Fri, 14/03/2014 - 12:42.</div>
    <div class="content">
     <p>Trying it out here on a blank copy of raspbian, I got the following error, I set the database password to root when mysql prompted for the password.</p>
<p class="rteindent1">Attempting to create &#39;emoncms&#39; mysql database (with the &#39;root&#39; user)...<br />
	ERROR 1045 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)<br />
	Failed (check username and password are correct, using dpkg-reconfigure. Check grants allow table creation, etc...)<br />
	dpkg: error processing emoncms (--configure):<br />
	subprocess installed post-installation script returned error exit status 1<br />
	Processing triggers for menu ...<br />
	Errors were encountered while processing:<br />
	emoncms<br />
	E: Sub-process /usr/bin/dpkg returned an error code (1)</p>
<p>Would it be possible to add redis installation too?</p>
<p>Love being able to type!!:</p>
<p>sudo apt-get install emoncms</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19245"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Fri, 14/03/2014 - 13:24.</div>
    <div class="content">
     <p>@paul-&nbsp;I think v8 makes redis optional, IIRC.</p>
<p><em style="font-size: 12px;">Will the emoncms package install and operate independently of the emoncms-module-rfm12pi module if the RFM12Pi isn&#39;t used?</em></p>
<p>Yes. However, if you tried to install&nbsp;emoncms-module-rfm12pi&nbsp;it would complain if emoncms&nbsp;itself hadn&#39;t been installed :)</p>
<p>&nbsp;</p>
<p>@trystan, try running<strong>&nbsp;sudo dpkg-reconfigure emoncms --force&nbsp;</strong>and providing root/root as the DB username and password. That should then set up the DB (you may then need to apt-get install emoncms again to get it to mark as complete).</p>
<p>TBH I&#39;m not that experienced in this side of debian packaging. There&#39;s probably a way of forcing the questions to be asked the first time (I assumed they would be, but it sounds like you didn&#39;t get a prompt, it just used the defaults?)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19246"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Fri, 14/03/2014 - 13:28.</div>
    <div class="content">
     <p>OK, I think it&#39;s because the&nbsp;debconf/priority isn&#39;t high enough in my packaging work. I&#39;ve used &#39;low&#39;, probably should be &#39;critical&#39;. Then I think it will ask you when you install regardless of raspian settings, whereas if &#39;low&#39; is under a default threshold it just uses the defaults instead of asking.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19247"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 14/03/2014 - 16:29.</div>
    <div class="content">
     <p>Tried the revised installer and got the same results as Trystan,</p>
<p>Ran <strong>sudo dpkg-reconfigure emoncms --force</strong>&nbsp;and was prompted for username&gt;password&gt;database&gt;host, each with the default values to overwrite and it &quot;attempted&quot; to build the DB, (although I guess successfully that wasn&#39;t confirmed).</p>
<p>After&nbsp;<strong><span style="font-size: 12px;">sudo a2ensite emoncms &amp;&amp;&nbsp;</span></strong><strong style="font-size: 12px;">sudo /etc/init.d/apache2 reload</strong><strong style="font-size: 12px;">&nbsp;</strong>I was able to get the redis error message in browser.</p>
<p>From there I attempted to retrospectively install redis using</p>
<p><strong>sudo apt-get install redis-server php-pear php5-dev -y</strong></p>
<p><strong>sudo pecl install redis</strong></p>
<p><strong>sudo<span style="font-size: 12px;"> </span>sh<span style="font-size: 12px;"> -c &#39;echo &quot;extension=redis.so&quot; &gt; /etc/</span>php5<span style="font-size: 12px;">/</span>apache2<span style="font-size: 12px;">/conf.d/20-redis.ini&#39;</span></strong></p>
<p><strong>sudo sh -c &#39;echo &quot;extension=redis.so&quot; &gt; /etc/php5/cli/conf.d/20-redis.ini&#39;</strong></p>
<p>which&nbsp;<span style="font-size: 12px;">last night</span><span style="font-size: 12px;">&nbsp;I thought was the winning combination following a bit of trial and error, but unfortunately this didn&#39;t work.today. It does report being successful but with this info&nbsp;</span></p>
<p><strong><span style="font-size: 12px;">Build process completed successfully<br />
	Installing &#39;/usr/lib/php5/20100525+lfs/redis.so&#39;<br />
	install ok: channel://pecl.php.net/redis-2.2.4<br />
	configuration option &quot;php_ini&quot; is not set to php.ini location<br />
	You should add &quot;extension=redis.so&quot; to php.ini</span></strong></p>
<p>I having tried it this way without success so I shall now try installing redis before emoncms to see if that is any easier.</p>
<p><span style="font-size: 12px;">i&#39;ll&nbsp;shall let you know</span></p>
<p><span style="font-size: 12px;">Paul</span></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19249"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Fri, 14/03/2014 - 17:30.</div>
    <div class="content">
     <p>Hey Paul,</p>
<p>Thanks for the continuing trial &amp; error. If it doesn&#39;t explode creating the DB then it worked OK. I can make it print a positive confirmation.</p>
<p>I&#39;m off tonight (got to sleep some time :) but will try to look into Redis over the weekend, if someone doesn&#39;t get there first.</p>
<p>D.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19254"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Fri, 14/03/2014 - 22:11.</div>
    <div class="content">
     <p>Tried installing redis first and then&nbsp;emoncms, this is tidier and reaches the log-in screen. currently&nbsp;redis&nbsp;definitely&nbsp;needs to be first, maybe a different procedure would allow redis to be installed after and emoncms reconfigured but while emoncms is expecting redis as default it&#39;s better if&#39;s there before installation. just for the record I used</p>
<p><strong>sudo apt-get install redis-server php-pear php5-dev apache2 -y<br />
	sudo pecl install redis<br />
	sudo sh -c &#39;echo &quot;extension=redis.so&quot; &gt; /etc/php5/apache2/conf.d/20-redis.ini&#39;<br />
	sudo sh -c &#39;echo &quot;extension=redis.so&quot; &gt; /etc/php5/cli/conf.d/20-redis.ini&#39;</strong></p>
<p>after adding the package address to&nbsp;/etc/apt/sources.list I installed emoncms</p>
<p><strong>sudo apt-get update -y<br />
	sudo apt-get install emoncms -y --force-yes</strong><br />
	<em>mysqlpassword<br />
	mysqlpassword</em><br />
	<strong>sudo dpkg-reconfigure emoncms --force</strong><br />
	<em>root<br />
	mysqlpassword<br />
	emoncms<br />
	localhost</em><br />
	<strong>sudo a2ensite emoncms<br />
	sudo /etc/init.d/apache2 reload</strong></p>
<p>this resulted in a the following error message in the browser</p>
<p>Can&#39;t connect to database, please verify credentials/configuration in settings.php<br />
	Error message: Access denied for user &#39;root@&#39;localhost&#39; (using password: YES)</p>
<p>When i checked the settings.php file mysqlpassword had not been updated by the dpkg-reconfigure so I corrected it and ran&nbsp;<span style="font-size: 12px;">sudo /etc/init.d/apache2 reload again and I reached the login screen.&nbsp;</span></p>
<p><span style="font-size: 12px;">I&#39;m a little unsure of exactly what&#39;s supposed to happen at this point&nbsp;</span><span style="font-size: 12px;">It wouldn&#39;t allow a new user to be set up and I have tried every password username/password combo I can find on both sites and the details used during DB set up, to no avail and&nbsp;</span><span style="font-size: 12px;">I</span><span style="font-size: 12px;"> haven&#39;t been able to find any default user info in the source or using myphpadmin and &nbsp;either, maybe someone could confirm the current exact initial login situation please.</span></p>
<p><span style="font-size: 12px;">Paul</span></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19256"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4638.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="borpin123&#039;s picture" title="borpin123&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4638.html" title="View user profile.">borpin123</a> on Fri, 14/03/2014 - 23:48.</div>
    <div class="content">
     <p>From&nbsp;http://openenergymonitor.org/emon/node/2360 try raspi&nbsp;and raspberry</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19258"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sat, 15/03/2014 - 07:17.</div>
    <div class="content">
     <p>Paul, what happens when you run&nbsp;<strong>mysql -uroot -p -e &#39;select username from emoncms.users&#39; </strong>? That&#39;ll tell you the username at least.</p>
<p>&nbsp;</p>
<blockquote><p><em>When i checked the settings.php file mysqlpassword had not been updated by the dpkg-reconfigure</em></p>
</blockquote>
<p>This is pretty weird. Did it have _DEBCONF_PASSWORD_ instead? (When you run reconfigure it copies the new settings.php into place each time, so it will either leave that placeholder or sub in the configured value).</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19260"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 15/03/2014 - 10:28.</div>
    <div class="content">
     <p>I just quickly tried the sql query and it returned nothing, just returned to prompt after I entered password. Tried entering a wrong password which return an error so I assume its working but has no results.</p>
<p>As for the settings.php, I thought it was weird at the time and although I can&#39;t remember what it before I edited I&#39;m pretty sure it wasn&#39;t the placeholder. I&#39;m kicking myself for not remembering (bit of a ahhaaaa! moment while I was doing other things), it wasn&#39;t until I was writing the post it occurred to me, sorry!</p>
<p>I will later tonight start over with a fresh image again and follow the routine in my last post, unless you change something in the package and advise differently.</p>
<p>PB</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19262"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5417.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5417.jpg" alt="Hertog&#039;s picture" title="Hertog&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5417.html" title="View user profile.">Hertog</a> on Sat, 15/03/2014 - 10:51.</div>
    <div class="content">
     <p>Is it possible to steamline the redis installation with this package:</p>
<p>dh-make-php - Creates Debian source packages for PHP PEAR and PECL extensions</p>
<p>(<a href="http://www.dotdeb.org/2008/09/25/how-to-package-php-extensions-by-yourself/" title="http://www.dotdeb.org/2008/09/25/how-to-package-php-extensions-by-yourself/">http://www.dotdeb.org/2008/09/25/how-to-package-php-extensions-by-yourself/</a>)</p>
<p>I think it would remove the need for manually doing the pecl stuff?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19265"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sat, 15/03/2014 - 11:24.</div>
    <div class="content">
     <p>Paul - I&#39;ve now got emoncms v8 debian packaged (see parallel topic), so hopefully we can kill two birds with one stone. If you start clean and can do it without redis, then can add redis afterwards, I guess that would be the ultimate. (Unfortunately the v8 checklist shows redis set up first, although presumably now not a requirement).</p>
<p>Hertog: I&#39;m not sure, but there is a <a href="https://packages.debian.org/jessie/php5-redis">php5-redis </a>debian package already which might do what that&nbsp;PECL stuff is doing. It would be interesting to see if anyone has any success with that, since it would simplify redis just to <strong>apt-get install php5-redis</strong>&nbsp;(only from Jessie/testing though).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19267"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sat, 15/03/2014 - 11:49.</div>
    <div class="content">
     <p>Topic on <a href="4067.html">packaging the new v8.0</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19291"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 15/03/2014 - 20:54.</div>
    <div class="content">
     <p>Just tried installing from fresh with just</p>
<p><strong>sudo sh -c &#39;echo &quot;deb <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> wheezy unstable&quot; &gt;&gt; /etc/apt/sources.list&#39;<br />
	sudo apt-get update -y<br />
	sudo apt-get install emoncms -y --force-yes</strong></p>
<p><span style="font-size: 12px;">and sailed through to the passwords and settings all present and correct (I just entered through all email defaults this lap)&nbsp;</span></p>
<p><strong><span style="font-size: 12px;">sudo a2ensite emoncms<br />
	sudo /etc/init.d/apache2 reload</span></strong></p>
<p>emoncms login screen loaded straight up 1st time BUT I still can&#39;t get in ! It won&#39;t allow me to create a new user and raspi/raspberry doesn&#39;t work. <strong>mysql -uroot -p -e &#39;select username from emoncms.users&#39; </strong>comes back&nbsp;empty can someone please confirm what is supposed&nbsp;to happen, is there meant to be a default user profile or should it allow one to be created?</p>
<p>If I should create a user are there any rules regards number of characters&nbsp;or must have numerals or uppercase etc</p>
<p>All I get is a pink bar ! (see attached)</p>
<p>The installation process was fantastic, by far the best to date (although I haven&#39;t tried to install redis yet) but I have not yet succeeded in getting past the login screen (I have in the past using git) Does the debian packaging change the login process?&nbsp;</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19294"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sat, 15/03/2014 - 23:12.</div>
    <div class="content">
     <p>I&#39;m not sure what&#39;s going on here. The debian packaging shouldn&#39;t be making any difference to any actual code (the main impact is on things which look at specific file paths, like the gateway scripts).</p>
<p>Just to double check, I logged out and registered a new account with my local emoncms&nbsp;v8 / debian install, and it worked fine.</p>
<p>Compare what you&#39;re entering with the rules etc. from&nbsp;https://github.com/emoncms/emoncms/blob/cf2c6584c81ad7873f866abf4781082314caccb4/Modules/user/user_model.php#L148 &nbsp;?</p>
<p>Alternatively, you could try searching in the mysql standard log for an INSERT INTO users statement (that would tell you if the issue is DB-related).</p>
<p>@Trystan, any ideas?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19295"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 15/03/2014 - 23:43.</div>
    <div class="content">
     <p>checked the rules they seem ok and I have tried a variety so I think we&#39;re good there.</p>
<p>I was just trying to digest this thread&nbsp;<a href="2502.html">http://openenergymonitor.org/emon/node/2502</a>&nbsp;similar symptoms&nbsp;but the solution isn&#39;t clear, well not to me anyways :-)</p>
<p>Took a look at the apache logs and found several instances of this pair of errors</p>
<p>[Sat Mar 15 23:22:05 2014] [error] [client 192.168.0.201] File does not exist: /usr/share/emoncms/www/user, referer: <a href="http://192.168.0.214/emoncms/" title="http://192.168.0.214/emoncms/">http://192.168.0.214/emoncms/</a><br />
	[Sat Mar 15 23:22:05 2014] [error] [client 192.168.0.201] script &#39;/var/www/index.php&#39; not found or unable to stat, referer: <a href="http://192.168.0.214/emoncms/" title="http://192.168.0.214/emoncms/">http://192.168.0.214/emoncms/</a></p>
<p>neither file exists. In /var/www/ there is only index.html and there is no user file or directory in /usr/share/emoncms/www/.</p>
<p>PB</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19296"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sat, 15/03/2014 - 23:49.</div>
    <div class="content">
     <p>Ahhah! found um!</p>
<p><strong>/usr/share/emoncms/www/index.php</strong></p>
<p><strong>/usr/share/emoncms/www/Modules/user</strong></p>
<p>are they actually in the wrong place or are they just being looked for in the wrong places ?</p>
<p>PB</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19297"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 16/03/2014 - 00:18.</div>
    <div class="content">
     <p>a little more info, I crudely tried copying index.php across to /var/www just to see if I could progress at all and in place of the pair of messages we now have</p>
<p><strong>[Sat Mar 15 23:57:39 2014] [error] [client 192.168.0.201] File does not exist: /usr/share/emoncms/www/user, referer: <a href="http://192.168.0.214/emoncms/" title="http://192.168.0.214/emoncms/">http://192.168.0.214/emoncms/</a><br />
	[Sat Mar 15 23:57:39 2014] [error] [client 192.168.0.201] PHP Warning:&nbsp; require(process_settings.php): failed to open stream: No such file or directory in /var/www/index.php on line 22, referer: <a href="http://192.168.0.214/emoncms/" title="http://192.168.0.214/emoncms/">http://192.168.0.214/emoncms/</a><br />
	[Sat Mar 15 23:57:39 2014] [error] [client 192.168.0.201] PHP Fatal error:&nbsp; require(): Failed opening required &#39;process_settings.php&#39; (include_path=&#39;.:/usr/share/php:/usr/share/pear&#39;) in /var/www/index.php on line 22, referer: http://192.168.0.214/emoncms/</strong></p>
<p>which suggests to me process_settings.php&#39;s not where it&#39;s expected either and doesn&#39;t tell me where it is expected to be.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19301"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sun, 16/03/2014 - 07:48.</div>
    <div class="content">
     <p>Don&#39;t bother trying to move the files around, that&#39;s a red herring.</p>
<p>/var/www/ is just a directory where apache looks by default to serve files. When you run a2ensite emoncms, we add /usr/share/emoncms/www/ to that list, so&nbsp;http://192.168.0.214/emoncms/index.php should serve /usr/share/emoncms/www/index.php</p>
<p>It&#39;s working enough that you&#39;re able to try and register. Something could be interfering with mod_rewrite I suppose.&nbsp;</p>
<p>I wonder if it would be interesting to compare our other apache configs.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19303"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Sun, 16/03/2014 - 08:04.</div>
    <div class="content">
     <p>OK, here&#39;s my /etc/apache2/sites-enabled/000-default</p>
<pre>
&lt;VirtualHost *:80&gt;
        ServerAdmin webmaster@localhost

        DocumentRoot /var/www
        &lt;Directory /&gt;
                Options FollowSymLinks
                AllowOverride None
        &lt;/Directory&gt;
        &lt;Directory /var/www/&gt;
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all
        &lt;/Directory&gt;

        ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
        &lt;Directory &quot;/usr/lib/cgi-bin&quot;&gt;
                AllowOverride None
                Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
                Order allow,deny
                Allow from all
        &lt;/Directory&gt;

        ErrorLog ${APACHE_LOG_DIR}/error.log

        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        # CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;</pre><p>And here&#39;s my /etc/apache2/sites-enabled/emoncms (symlink)</p>
<pre>
Alias /emoncms /usr/share/emoncms/www
&lt;Directory /usr/share/emoncms/www&gt;
  Options FollowSymLinks
  AllowOverride All
  DirectoryIndex index.php
  Order allow,deny
  Allow from all
&lt;/Directory&gt;</pre>         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19309"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 16/03/2014 - 10:32.</div>
    <div class="content">
     <p>Both of those files are good,</p>
<p>I&#39;ve pm&#39;d you my /etc/apache2/apache2.conf for you to take a look (no point in posting a full file that big in the thread)</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19389"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Tue, 18/03/2014 - 17:27.</div>
    <div class="content">
     <p>I have tried this again from scratch and still unable to log in, the 2 errors logged with each attempted log in say</p>
<p><strong>File does not exist: /usr/share/emoncms/www/user</strong></p>
<p><strong>script &#39;/var/www/index.php&#39; not found or unable to stat,&nbsp;</strong></p>
<p>has anyone successfully installed from scratch?</p>
<p>any suggestions as to what else to check would be great. I have been following the other v8&nbsp;upgrade threads and&nbsp;see the debian packaged route works when replacing a previously installed version but have.nt notice any mention of a fresh install.</p>
<p>Having confirmed the apache2.conf, 000-default &amp; emoncms symlinks are as expected i&#39;m&nbsp;looking for another cause and have been a little thrown by this in the Emoncms + RaspberryPI + Hard drive build notes</p>
<blockquote><p>Emoncms uses a front controller to route requests, modrewrite needs to be configured:</p>
<p>$ sudo a2enmod rewrite<br />
		$ sudo nano /etc/apache2/sites-enabled/000-default<br />
		Change (line 7 and line 11), &quot;AllowOverride None&quot; to &quot;AllowOverride All&quot;. That is the sections and . [Ctrl + X ] then [Y] then [Enter] to Save and exit.</p>
</blockquote>
<p>in the working examples above (and mine) line 7 &amp; 11 are both set to&nbsp;&quot;AllowOverride None&quot;. which is correct? Neither resolve this issue but it makes me wonder if these values are significant &nbsp;why doesn&#39;t it make any difference when changed? are they being ignored, over written or sourced from some where else?&nbsp;</p>
<p>I&#39;m clearly out of my depth with this &amp; could do with some assistance unless of course, it&#39;s on hold while sorting the v8&nbsp;&amp;/or git to&nbsp;debian issues first. I&#39;m ok to wait if it is.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19393"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Tue, 18/03/2014 - 18:16.</div>
    <div class="content">
     <p>The debian packaged version of emoncms has its own apache config with all necessary settings, so you shouldn&#39;t need to worry about configuring anything (although you would need to ensure mod rewrite is enabled using the a2enmod&nbsp;command).</p>
<p>I havent&#39; tried a clean install yet. I really need another pi to use as a dev box :(</p>
<p>Can you get a clean install of the regular emoncms&nbsp;working? If so, it would be interesting to know what the differences are.&nbsp;</p>
<p>If you capture the output of dpkg -l (lower case L) you can compare what&#39;s installed on your current (deb packaged) attempt and the working clean install from git.</p>
<p>We can&#39;t proceed until a clean install works, so I&#39;m at the point where I may take my pi out of service temporarily to see if I can find the issue (I&#39;m currently using it to monitor actively, so it&#39;s a bit awkward).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19395"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Tue, 18/03/2014 - 19:34.</div>
    <div class="content">
     <p>OK - if I install a second copy of emoncms to a different path than /emoncms/ then I get the same errors you do. Now we&#39;re getting somewhere!</p>
<p>Is your install by any chance not running on /emoncms/ as a path?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19396"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Tue, 18/03/2014 - 19:49.</div>
    <div class="content">
     <p>Yep - I didn&#39;t have the .htaccess file installed on that attempt (missed it with the cp command) and putting it in / taking it out impacts that error message. So, just need to figure out how to get the .htaccess code to work for nonstandard installations.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19397"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Tue, 18/03/2014 - 20:09.</div>
    <div class="content">
     <p>OK: I previously solved this then evidently forgot all about it. My debian-packaged&nbsp;install had the following just under &quot;RewriteEngine on&quot;:</p>
<p># Set a base of emoncms to allow us to install outside the apache document root<br />
	RewriteBase /emoncms</p>
<p>With this in place, I no longer get&nbsp;</p>
<p>[Tue Mar 18 20:03:05 2014] [error] [client 192.168.1.8] File does not exist: /var/www/usr</p>
<p>Instead, I just get the site.</p>
<p>Any help? (Confused as to why this wouldn&#39;t be in place on your system though - see <a href="https://github.com/Dave-McCraw/emoncms/blob/debian-packaging/www/.htaccess" title="https://github.com/Dave-McCraw/emoncms/blob/debian-packaging/www/.htaccess">https://github.com/Dave-McCraw/emoncms/blob/debian-packaging/www/.htaccess</a> ).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19410"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 19/03/2014 - 00:51.</div>
    <div class="content">
     <p>I think the path is correct as the first error says&nbsp;<strong>File does not exist: /usr/share/emoncms/www/user</strong> which is because the file is located in the modules folder&nbsp;<strong>/usr/share/emoncms/www/modules/user </strong>and the second says <strong>script &#39;/var/www/index.php&#39; not found or unable to stat, </strong>and that&#39;s located in the&nbsp;<strong>/usr/share/emoncms/www/index.php </strong>which I believe to be right.</p>
<p><span style="font-size: 12px;">I have just checked .htaccess and its identical to the one you&#39;ve linked </span>ie<span style="font-size: 12px;"> it already has </span>RewriteBase<span style="font-size: 12px;"> /</span>emoncms<span style="font-size: 12px;"> and yet it&#39;s still giving those errors. And just to clarify I do get to the site but am not able to log in or create a user.</span></p>
<p><span style="font-size: 12px;">I can try a </span>git<span style="font-size: 12px;"> derived version to compare, the thought had crossed my mind but beyond seeing if its possible I&#39;m not sure I would know what to look for. I have previously had a fully functional </span>v7<span style="font-size: 12px;"> </span>emoncms<span style="font-size: 12px;">&nbsp;using the same </span>RPi<span style="font-size: 12px;">+HDD+</span>Emoncms<span style="font-size: 12px;"> image as you but I have since moved away for various minor reasons.</span></p>
<p>If you want to see the installs side by side to compare you could set up another hdd partition (even if only temporary) and install virgin raspbian on that partition, that way your current monitoring would only be offline long enough to install and then switch back.</p>
<p>I have 3 bootable&nbsp;hdd partitions (4 if you include the sdcard) all with various projects etc and switch between them using these 2 lines to edit the /boot/cmdline.txt just before rebooting.&nbsp;</p>
<p><strong>sudo sh -c &#39;echo &quot;dwc_otg.lpm_enable=0 console=tty1 root=/dev/sda1&nbsp;rootfstype=ext4 elevator=deadline rootwait&quot; &gt; /boot/cmdline.txt&#39;</strong></p>
<p><strong>sudo shutdown -r now</strong></p>
<p>Just changing /dev/sda1 for the target drive to boot to, switching drives takes seconds, I can therefore install an update or try something and switch back within a couple of minutes&nbsp;and then go on to mount, inspect, edit etc from the original image.</p>
<p>if you think it will help I&#39;ll free up a second partition and install emoncms from git tomorrow if I get the time.</p>
<p>Paul</p>
<p><strong>&nbsp; &nbsp;</strong></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19412"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 19/03/2014 - 07:18.</div>
    <div class="content">
     <blockquote><p>I think the path is correct as the first error says File does not exist: <strong>/usr/share/emoncms/www/user </strong>which is because the file is located in the modules folder <strong>/usr/share/emoncms/www/modules/user</strong> and the second says script <strong>&#39;/var/www/index.php&#39; </strong>not found or unable to stat, and that&#39;s located in the <strong>/usr/share/emoncms/www/index.php</strong> which I believe to be right.</p>
</blockquote>
<p>I think the first error shows that your install is failing to mod rewrite properly, because we never actually /want/ to serve the user module as a file/directory in its own right.</p>
<p>What mod_rewrite should be doing is taking the path after /emoncms/ (i.e. &#39;user&#39;) and passing that to index.php as a parameter. &quot;# Rewrite URLs of the form &#39;x&#39; to the form &#39;index.php?q=x&#39;.&quot;</p>
<p>You should be able to get to the right page if you visit /emoncms/index.php?q=user ..?</p>
<p>If so, we just need to figure out what&#39;s wrong with your mod_rewrite. You could try the rewrite log directive in your main apache2.conf file - add at the bottom the following lines and restart apache:</p>
<p>RewriteEngine On<br />
	RewriteLog &quot;/var/log/apache2/rewrite.log&quot;<br />
	RewriteLogLevel 5</p>
<p>If you tail it, you should see it serving rewrites as you hit the site. The request which actually tries to serve the user directory (literal path) isn&#39;t being rewritten, and the second error strongly suggests that something is incorrectly hitting index.php in the root of the filesystem.</p>
<p>If you consider the RewriteRule, you&#39;ll see it would normally take everything (.*) i.e. all of &quot;/emoncms/user&quot; and send it to &quot;index.php?q=/emoncms/user&quot; (index.php being in /var/www/) but the RewriteBase tells it to make everything relative to /emoncms/ which is why I think it works... it then takes just /user/ and maps that to /emoncms/index.php</p>
<p>I&#39;m not that hot on mod rewrite though, to be honest... maybe this needs something more?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19414"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 19/03/2014 - 08:32.</div>
    <div class="content">
     <p>A couple of other thoughts that you could try:</p>
<p>If you stick&nbsp;[R=301] on the end of the RewriteRule thus:</p>
<p>RewriteRule ^(.*)$ index.php?q=$1 [L,QSA,R=301]</p>
<p>It should send your browser a permanent redirect rather than doing it serverside. This means that you&#39;ll be able to tell exactly whether or not mod_rewrite is working for your site (for any of the modules) because it will show the real URL in your browser bar.</p>
<p>Could you try adding that and browsing about (including to the user module) and tell me what&#39;s in your URL bar when you hit issues?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19451"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 19/03/2014 - 10:34.</div>
    <div class="content">
     <p>I&#39;ve had another quick go at this and</p>
<p><a href="http://192.168.0.214/emoncms/index.php?q=user" title="http://192.168.0.214/emoncms/index.php?q=user">http://192.168.0.214/emoncms/index.php?q=user</a> goes to a blank white page with just the black &quot;log-in&quot; band at the top and the &quot;powered by&quot; footer</p>
<p>adding&nbsp;</p>
<p>RewriteEngine On<br />
	RewriteLog &quot;/var/log/apache2/rewrite.log&quot;<br />
	RewriteLogLevel 5</p>
<p>Results in an error when restarting apache so I changed it back, have I missed some formatting or something?</p>
<p>pi@raspberrypi ~ $ sudo nano /etc/apache2/apache2.conf<br />
	pi@raspberrypi ~ $ sudo /etc/init.d/apache2 reload<br />
	[FAIL] Reloading web server config: apache2 failed!<br />
	pi@raspberrypi ~ $ sudo nano /etc/apache2/apache2.conf<br />
	pi@raspberrypi ~ $ sudo /etc/init.d/apache2 reload<br />
	[....] Reloading web server config: apache2apache2: Could not reliably determine the server&#39;s fully qualified domain name, using 127.0.1.1 for ServerName<br />
	. ok</p>
<p>adding R=301 to the RewriteRule in /usr/share/emoncms/www/.htaccess made no noticeable difference, restarted apache, I tried 2 browsers and cleared the caches. I tried other changes to RewriteRule and nothing changed, so I deleted it and that made no change either.</p>
<p>I &#39;m guessing this means the .htaccess is not being used, &nbsp;presumably it is not being found by apache and therefore not redirecting.<span style="font-size: 12px;">I searched and didn&#39;t find a duplicate anywhere.</span></p>
<p>PB</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19455"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 19/03/2014 - 13:15.</div>
    <div class="content">
     <p>When we crack this, it will be quite satisfying huh?</p>
<p>Are you sure mod_rewrite is working on your system?</p>
<p>For instance, try creating an .htaccess in /var/www/ containing the following:</p>
<p>RewriteEngine on<br />
	RewriteRule ^(.*)$ <a href="http://openenergymonitor.org/" title="http://openenergymonitor.org/">http://openenergymonitor.org/</a> [R=301,L]</p>
<p>Point your browser at a path like <a href="http://pi/foo -" title="http://pi/foo -">http://pi/foo -</a> does it redirect you to this site? If we can confirm that the basics are working that&#39;s a start.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19458"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 19/03/2014 - 13:35.</div>
    <div class="content">
     <p>I find it reassuring you say &quot;When we crack this&quot; and not &quot;If we crack this&quot;, I also hope its not something really daft, but it usually is :-)</p>
<p>I guess mod_rewrite is not working as I get &quot;<span style="font-size: 12px;">This page can&rsquo;t be displayed - Make</span><span style="font-size: 12px;"> sure the web address <a href="http://pi/" title="http://pi">http://pi</a> is correct.&quot;</span></p>
<p><span style="font-size: 12px;">PB</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19460"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 19/03/2014 - 13:45.</div>
    <div class="content">
     <p>Sorry, I just put &quot;pi&quot; as a stand-in for whatever your pi IP address is. (Maybe I should have said &quot;edit your emoncms URL so it says /foo&nbsp;instead of /emoncms/&quot;)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19462"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 19/03/2014 - 15:06.</div>
    <div class="content">
     <p>Doh! That is so obvious now you point it out, sorry!</p>
<p>So I tried it again same result.</p>
<p>Although since my last post I have discovered Module rewrite had &quot;dropped&quot; out at some point. I cannot explain how but I have just rebooted and checked module rewrite starts automatically as expected, but whilst trying the new .htaccess I tried restarting both the modules rewrite and apache2&nbsp;before trying&nbsp;the &quot;pi&quot;&nbsp;url. It wasn&#39;t until I tried it again that I noticed I got a message stating &quot;Module rewrite already enabled&quot; that I realised&nbsp;the previous &quot;restarting&nbsp;module rewrite&quot; signified it wasn&#39;t already running. but I can think of no reason why that would of stopped.</p>
<p>Since restarting mod_rewrite I am getting slightly different results in that although I still&nbsp;cannot log in I am now getting an error message in the pink warning box saying &quot;Missing username, password or email parameter&quot; that definitely was not there before today, I can now see the full &quot;ugly&quot; url (R=301 is still in place) and it doesn&#39;t record anything in the error.log when login fails.</p>
<p>I have tried several user/password combos and tried to create a new user. all user/password combo&#39;s result in &quot;Username or password empty&quot; whether they are or not.</p>
<p>url&nbsp;&quot;http://192.168.0.214/emoncms/index.php?q=user&quot; now works also.</p>
<p>But <a href="http://mypiip/foo" title="http://MYPIIP/foo">http://MYPIIP/foo</a> does not. can you confirm exactly what i should put in /var/www. I have tried just</p>
<p>RewriteEngine on<br />
	RewriteRule ^(.*)$ <a href="http://openenergymonitor.org/" title="http://openenergymonitor.org/">http://openenergymonitor.org/</a> [R=301,L]</p>
<p>and I have also tried copying my existing .htaccess, commenting out the old RewriteRule&nbsp;and adding the oem.org one.</p>
<p>maybe i should start from clean again</p>
<p>PB</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19463"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 19/03/2014 - 15:46.</div>
    <div class="content">
     <p>no, I think we&#39;re good now and you can forget the foo experiment...</p>
<p>The error from the login page suggests that our rewrite is throwing away form parameters (even though it shouldn&#39;t be, due to the QSA flag). Have you tried returning it to virgin state, without the R=301?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19464"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 19/03/2014 - 16:04.</div>
    <div class="content">
     <p>Yes, I did remove the R=301 whilst trying to back track and workout when/how the changes occurred and removing the R=301 seemed to have no effect when removed.</p>
<p>I&#39;m not confident the install is in a &quot;virgin&quot; state as I&#39;m getting slightly different results (text in pink box and no error.log) &nbsp;So something must be different even though I have tried to note and undo everything we&#39;ve tried.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19465"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 19/03/2014 - 16:24.</div>
    <div class="content">
     <p>R=301 is what causes you to see the &quot;ugly&quot; URL, as it sends your browser a redirect rather than servicing the request transparently. If you remove R=301 you should stop seeing the &quot;ugly&quot; URLs.</p>
<p>I wonder if you could try the RewriteLog again. It may be that the error you had with Apache restarting was caused by mod_rewrite not being enabled when you last tried this?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19466"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 19/03/2014 - 17:09.</div>
    <div class="content">
     <p><a href="http://192.168.0.214/emoncms/" title="http://192.168.0.214/emoncms/">http://192.168.0.214/emoncms/</a> url remains as entered and this is output to RewriteLog</p>
<p>192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c3c058/initial] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/ -&gt;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c3c058/initial] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c3c058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/&#39; pattern=&#39;!-f&#39; =&gt; matched<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c3c058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/&#39; pattern=&#39;!-d&#39; =&gt; not-matched<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c3c058/initial] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/subreq] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/index.php -&gt; index.php<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/subreq] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;index.php&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/subreq] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/index.php&#39; pattern=&#39;!-f&#39; =&gt; not-matched<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/subreq] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/index.php<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c4d058/initial] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/Lib/jquery-1.9.0.min.js -&gt; Lib/jquery-1.9.0.min.js<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c4d058/initial] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;Lib/jquery-1.9.0.min.js&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c4d058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/Lib/jquery-1.9.0.min.js&#39; pattern=&#39;!-f&#39; =&gt; not-matched<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c4d058/initial] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/Lib/jquery-1.9.0.min.js<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/Lib/bootstrap/css/bootstrap-responsive.css -&gt; Lib/bootst$<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;Lib/bootstrap/css/bootstrap-responsive.css&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/Lib/bootstrap/css/bootstrap-responsive.css&#39; pattern=&#39;!-f&#39; $<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/Lib/bootstrap/css/bootstrap-responsive.css<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/Lib/bootstrap/css/bootstrap.css -&gt; Lib/bootstrap/css/boo$<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;Lib/bootstrap/css/bootstrap.css&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/Lib/bootstrap/css/bootstrap.css&#39; pattern=&#39;!-f&#39; =&gt; not-matc$<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/Lib/bootstrap/css/bootstrap.css<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/Lib/bootstrap/js/bootstrap.js -&gt; Lib/bootstrap/js/bootst$<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;Lib/bootstrap/js/bootstrap.js&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/Lib/bootstrap/js/bootstrap.js&#39; pattern=&#39;!-f&#39; =&gt; not-matched<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/Lib/bootstrap/js/bootstrap.js<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c3c058/initial] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/Modules/user/user.js -&gt; Modules/user/user.js<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c3c058/initial] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;Modules/user/user.js&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c3c058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/Modules/user/user.js&#39; pattern=&#39;!-f&#39; =&gt; not-matched<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c3c058/initial] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/Modules/user/user.js<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5334058/initial] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/Theme/emoncms_logo.png -&gt; Theme/emoncms_logo.png<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5334058/initial] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;Theme/emoncms_logo.png&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5334058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/Theme/emoncms_logo.png&#39; pattern=&#39;!-f&#39; =&gt; not-matched<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5334058/initial] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/Theme/emoncms_logo.png<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/Theme/favicon.png -&gt; Theme/favicon.png<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;Theme/favicon.png&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/Theme/favicon.png&#39; pattern=&#39;!-f&#39; =&gt; not-matched<br />
	192.168.0.201 - - [19/Mar/2014:16:36:48 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5c44058/initial] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/Theme/favicon.png</p>
<p>clicking the Log-in button in the top right hand corner changed url&nbsp;to&nbsp;http://192.168.0.214/emoncms/index.php?q=user/login and this was RewriteLog.</p>
<p>192.168.0.201 - - [19/Mar/2014:16:39:53 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5334058/initial] (3) [perdir /usr/share/emoncms/www/] strip per-dir prefix: /usr/share/emoncms/www/index.php -&gt; index.php<br />
	192.168.0.201 - - [19/Mar/2014:16:39:53 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5334058/initial] (3) [perdir /usr/share/emoncms/www/] applying pattern &#39;^(.*)$&#39; to uri &#39;index.php&#39;<br />
	192.168.0.201 - - [19/Mar/2014:16:39:53 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5334058/initial] (4) [perdir /usr/share/emoncms/www/] RewriteCond: input=&#39;/usr/share/emoncms/www/index.php&#39; pattern=&#39;!-f&#39; =&gt; not-matched<br />
	192.168.0.201 - - [19/Mar/2014:16:39:53 +0000] [192.168.0.214/sid#b6c6eec0][rid#b5334058/initial] (1) [perdir /usr/share/emoncms/www/] pass through /usr/share/emoncms/www/index.php</p>
<p>The login button results in a ugly url still (R=301 removed) but&nbsp;thats the only webpage I can currently access to try.</p>
<p>I have started backing up another partition once that is done I can install a second copy from fresh</p>
<p>Okay.. this is strange I have just entered exactly the same details a second time to compare with or without R=301 when entering new user details and it&#39;s done it! it has created a new user. all i&#39;ve changed is deleted the R=301 again, which I have done several times in a row now. I can navigate around no problem.</p>
<p>wooohooo. I&#39;m not sure should do now! i don&#39;t want to break it again!</p>
<p>PB</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19467"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 19/03/2014 - 17:13.</div>
    <div class="content">
     <p>Great!</p>
<p>Leave that partition as it is, start from scratch and if it doesn&#39;t work, we can compare the two? :)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19470"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 19/03/2014 - 17:28.</div>
    <div class="content">
     <p><span style="font-size: 12px;">I couldn&#39;t resist putting the </span>api<span style="font-size: 12px;"> key in my other pi running the </span>ro<span style="font-size: 12px;"> gateway </span>1st<span style="font-size: 12px;"> and local </span>v8<span style="font-size: 12px;"> is now logging data from an </span>emontx<span style="font-size: 12px;"> 1 node of 5 inputs :-)</span></p>
<p>I will start a fresh install on another partition shortly,</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19483"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 19/03/2014 - 20:54.</div>
    <div class="content">
     <p>Completely fresh install from scratch on latest raspbian image and emoncms has installed perfectly first time.</p>
<p>Easily set up a new user when I got to the emoncms&nbsp;login screen and then everything seemed to work.</p>
<p>I am going to try it again a couple of times and also try installing the additional modules.</p>
<p>If it installs ok every time I will create a complete set of feeds and dashboards to monitor for a while, but it certainly seems once your in all is ok - not sure why we had problems yet</p>
<p>When it installs perfectly first time this is quite impressive, very little interaction required.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19489"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 19/03/2014 - 21:45.</div>
    <div class="content">
     <p>Installed event module using</p>
<p><strong>sudo apt-get install emoncms-module-event</strong></p>
<p>unfortunately selecting Extras &gt; Event resulted in this message in browser</p>
<p><strong>Fatal error: Call to a member function fetch_array() on a non-object in /usr/share/emoncms/www/Modules/event/event_model.php on line 67</strong></p>
<p>tried restarting apache &amp; mod-rewrite (not getting caught out again) no joy rebooting didn&#39;t help emoncms still working but not the events module are there any other install or set up requirements for the events module?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19493"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 19/03/2014 - 22:56.</div>
    <div class="content">
     <p>[edit: confused myself for a sec there]</p>
<p>The line referenced above is a query on the event table. Have you tried running &#39;update database&#39; inside the admin tab of emoncms?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19496"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 20/03/2014 - 01:16.</div>
    <div class="content">
     <p>Superb ! that got it.</p>
<p>I guess I should test the emoncms-module-rfm12pi next,</p>
<p>Are any other module packages ready to test ?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19498"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 20/03/2014 - 01:59.</div>
    <div class="content">
     <p>So I gave the rfm12pi&nbsp;module a whirl even though&nbsp;<span style="font-size: 12px;">I didn&#39;t have a</span><span style="font-size: 12px;">&nbsp;</span>rfm12pi<span style="font-size: 12px;">&nbsp;</span><span style="font-size: 12px;">attached as I assumed that wouldn&#39;t effect installing the package, was that right? when I ran</span></p>
<p><strong>sudo apt-get install emoncms-module-rfm12pi</strong></p>
<p>it seemed to install ok, so I ran&nbsp;</p>
<p><strong>sudo service rfm12piphp restart log</strong></p>
<p>sort of half expecting it to complain about there being no rfm12pi connected but it returned with</p>
<blockquote><p>Log is turned on<br />
		Restarting RPIWARNING: are you sure raspberrypi_run.php is running ?<br />
		<strong>pi@raspberrypi ~ </strong>$ PHP Fatal error:&nbsp; Class &#39;Redis&#39; not found in /usr/share/emoncms/www/Modules/raspberrypi/raspberrypi_run.php on line 28</p>
<p>&nbsp;</p>
</blockquote>
<p>not sure what&#39;s occurring here with the error message, the &quot;Restarting RPIWARNING&quot; script seems to output the error message and a new line to the screen after the return prompt and then just wait, you can enter for a new prompt or just type a command and enter. the message and the prompt just seem to be printed to screen in the wrong order the prompt and&nbsp;curser&nbsp;function correctly it just looks a little odd.</p>
<p>The message itself suggests remnants of the redis&nbsp;default installation I guess as I have not attempted any installation of redis.</p>
<p>PB</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19507"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 20/03/2014 - 08:54.</div>
    <div class="content">
     <p>Good catch, so it looks like redis is not optional for the rfm12piphp module: see&nbsp;<a href="https://github.com/emoncms/raspberrypi/blob/master/raspberrypi_run.php#L28-L39">the master repo</a>.</p>
<p>Trystan might have plans to fix this as he has made Redis&nbsp;optional on the core package.</p>
<p>I bit the bullet and have a second Pi ordered up for dev&nbsp;(only costs the same as another emonTH and will let me help directly).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19509"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 20/03/2014 - 09:17.</div>
    <div class="content">
     <p>Ah missed that, could you try in:</p>
<p>raspberrypi_run.php</p>
<p>removing the lines:</p>
<p>&nbsp;&nbsp;&nbsp; $redis = new Redis();<br />
	&nbsp;&nbsp;&nbsp; $redis-&gt;connect(&quot;127.0.0.1&quot;);</p>
<p>and replacing with:</p>
<p>&nbsp;&nbsp;&nbsp; $redis = false;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19511"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 20/03/2014 - 09:53.</div>
    <div class="content">
     <p>Thanks Trystan, I changed the redis lines as suggested and got this&nbsp;</p>
<blockquote><p><strong>pi@raspberrypi ~</strong> $ sudo service rfm12piphp restart log<br />
		Log is turned on<br />
		Restarting RPIWARNING: are you sure raspberrypi_run.php is running ?<br />
		<strong>pi@raspberrypi ~</strong> $ PHP Notice:&nbsp; Undefined variable: timestore_adminkey in /usr/share/emoncms/www/Modules/raspberrypi/raspberrypi_run.php on line 37<br />
		PHP Warning:&nbsp; fopen(): Unable to find the wrapper &quot;dio.serial&quot; - did you forget to enable it when you configured PHP? in /usr/share/emoncms/www/Modules/raspberrypi/raspberrypi_run.php on line 82<br />
		PHP Warning:&nbsp; fopen(dio.serial:///dev/ttyAMA0): failed to open stream: No such file or directory in /usr/share/emoncms/www/Modules/raspberrypi/raspberrypi_run.php on line 82<br />
		PHP Warning:&nbsp; stream_set_timeout() expects parameter 1 to be resource, boolean given in /usr/share/emoncms/www/Modules/raspberrypi/raspberrypi_run.php on line 83<br />
		PHP Warning:&nbsp; fclose() expects parameter 1 to be resource, boolean given in /usr/share/emoncms/www/Modules/raspberrypi/raspberrypi_run.php on line 326</p>
</blockquote>
<p>I tried a &quot;Update &amp; check&quot; in emoncms admin which resulted in</p>
<blockquote><p>Fatal error: Call to a member function fetch_object() on a non-object in /usr/share/emoncms/www/Modules/admin/update_class.php on line 67</p>
</blockquote>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19512"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 20/03/2014 - 10:18.</div>
    <div class="content">
     <p>That looks like it might be down to a missing dependency - have you done the PEAR commands from the install guide? (DIO is one of the three things, along with redis and swift).</p>
<p>The debian package should really depend on DIO, but we need to roll our own debian package (this was discussed up-topic, but I haven&#39;t tried to process it since it&#39;s uncertain whether this will make the repo master in any case).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19514"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 20/03/2014 - 10:32.</div>
    <div class="content">
     <p>I see the problem, will fix it and update the repo</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19516"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 20/03/2014 - 10:46.</div>
    <div class="content">
     <p>I&#39;ve made the changes, here&#39;s the commit info <a href="https://github.com/emoncms/raspberrypi/commit/9eea52de6448318f2f1cd4c68d71cb94db8c0b43">https://github.com/emoncms/raspberrypi/commit/9eea52de6448318f2f1cd4c68d71cb94db8c0b43</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19522"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 20/03/2014 - 11:37.</div>
    <div class="content">
     <p>Dave - No I hadn&#39;t as I am a little hazy as to precisely what needs to be installed or set-up and I didn&#39;t want to just take a stab at it. I had thought the previously discussed missing dependencies&nbsp;related to redis&nbsp;and where no longer an issue.</p>
<p>Trystan - I assume the changes are not relative to&nbsp;DIO, just redis, is that right? I just tried the edits manually and got the same (revised) results minus the error referencing line 37 ie&nbsp;lines 82, 83 &amp; 326 were still an issue. and also 67 when update db used.</p>
<p><span style="font-size: 12px;">I have also just tried another fresh install this time I installed </span>emoncms<span style="font-size: 12px;">, event &amp; </span>rfm12pi<span style="font-size: 12px;"> all at once, it took less than&nbsp;</span><span style="font-size: 12px;">8 minutes total to update, upgrade, install,</span><span style="font-size: 12px;">&nbsp;initialize &amp; log-in (up to the point of the (original)&nbsp;redis error).&nbsp;</span></p>
<p><span style="font-size: 12px;">Paul</span></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19523"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 20/03/2014 - 11:59.</div>
    <div class="content">
     <p>Hey Paul,</p>
<p>The raspberry pi module depends on the PHP DIO library, which is only available through PEAR, not as a debian package. If we move forward with debianizing&nbsp;emoncms then I&#39;d anticipate hosting a custom package inside our apt repo which contains DIO, and adding a formal debian dependency, so that when you apt-get install emoncms-module-rfm12pi you automatically get dio into the bargain, and it just works...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19766"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5889.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="qpro&#039;s picture" title="qpro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5889.html" title="View user profile.">qpro</a> on Mon, 24/03/2014 - 19:00.</div>
    <div class="content">
     <p>Hi</p>
<p>I have tried the emoncms installation follow the debian&nbsp;installer docs on emoncms.org (adding to&nbsp;/etc/apt/sources.list the line deb <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> wheezy unstable) but I get a &#39;Couldn&#39;t find package&#39; error.</p>
<p>Repo seems to be correctly added to sources.list and i run apt-get update as well.</p>
<p>I am trying it in a&nbsp;lubuntu fresh install&nbsp;on a virtual box machine, could this affect?, is repo working?&nbsp;(in a debian wheezy virtual machine doesn&#39;t work for me too)</p>
<p>greetings and thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19767"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 24/03/2014 - 19:10.</div>
    <div class="content">
     <p>It sounds like it might be connectivity between you and S3. The repo is just a collection of static files, assuming Amazon don&#39;t go down, it can&#39;t really &quot;stop working&quot;.</p>
<p>What happens if you hit the repo with a GET request? It should display the bucket contents, including the deb files. If that doesn&#39;t work, you&#39;ll need to figure out why your box can&#39;t see Amazon?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19804"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5889.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="qpro&#039;s picture" title="qpro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5889.html" title="View user profile.">qpro</a> on Tue, 25/03/2014 - 17:01.</div>
    <div class="content">
     <p>True, if amazon s3 fails everybody would realize about it.</p>
<p>So, I can see the xml contain (deb packages, etc..) when I access&nbsp;http://emon-repo.s3.amazonaws.com/ through a web browser.</p>
<p>Also apt-get update works for every other program and I have tried in a no virtual environment&nbsp;(Linux Mint Ubuntu based) but It keeps without finding the packages (not only emoncms, modules too), quite weird.&nbsp;</p>
<p>Terminal output</p>
<p>lubuntu@lubuntu-VirtualBox:~$ sudo apt-get update<br />
	[sudo] password for lubuntu:<br />
	Hit <a href="http://archive.ubuntu.com/" title="http://archive.ubuntu.com">http://archive.ubuntu.com</a> quantal Release.gpg<br />
	Hit <a href="http://extras.ubuntu.com/" title="http://extras.ubuntu.com">http://extras.ubuntu.com</a> quantal Release.gpg<br />
	Ign <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> wheezy Release.gpg<br />
	Hit <a href="http://archive.ubuntu.com/" title="http://archive.ubuntu.com">http://archive.ubuntu.com</a> quantal-updates Release.gpg<br />
	Hit <a href="http://extras.ubuntu.com/" title="http://extras.ubuntu.com">http://extras.ubuntu.com</a> quantal Release&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Hit <a href="http://archive.ubuntu.com/" title="http://archive.ubuntu.com">http://archive.ubuntu.com</a> quantal-backports Release.gpg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Hit <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> wheezy Release&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Hit <a href="http://archive.ubuntu.com/" title="http://archive.ubuntu.com">http://archive.ubuntu.com</a> quantal-security Release.gpg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Hit <a href="http://archive.ubuntu.com/" title="http://archive.ubuntu.com">http://archive.ubuntu.com</a> quantal Release&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Ign <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> wheezy/unstable i386 Packages/DiffIndex&nbsp;</p>
<p>...</p>
<p>Reading package lists... Done<br />
	lubuntu@lubuntu-VirtualBox:~$ sudo apt-get install emoncms<br />
	Reading package lists... Done<br />
	Building dependency tree&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Reading state information... Done<br />
	E: Unable to locate package emoncms<br />
	lubuntu@lubuntu-VirtualBox:~$</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19833"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Wed, 26/03/2014 - 09:19.</div>
    <div class="content">
     <p>Are you sure that you&#39;ve added the correct entry to your apt.sources file? The emoncms repo is exposing packages as unstable, not release. But then, I see lower down your output that it&#39;s aware of unstable... puzzling!</p>
<p>&quot;Ign&quot; rather than &quot;hit&quot; might be a clue? TBH I&#39;m not really sure...</p>
<p>I keep hoping this extra Pi will turn up. Clearly I badly need two environments to support this properly, sorry!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19896"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4750.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="lovechoco&#039;s picture" title="lovechoco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4750.html" title="View user profile.">lovechoco</a> on Thu, 27/03/2014 - 13:13.</div>
    <div class="content">
     <p>Hello everybody,</p>
<p>I have the same problem as qpro.</p>
<p>I have tried in a virtual machine with Ubuntu and a other with Debian (last version).</p>
<p>Somebody have a solution?</p>
<p>&nbsp;</p>
<p>Thanks</p>
<p>Jon</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19897"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 27/03/2014 - 13:36.</div>
    <div class="content">
     <p>Can you post your apt.sources file in full?</p>
<p>Looking at&nbsp;qpro&#39;s post with a fresh eye, the stand out thing is that we&#39;ve put wheezy in as the distro, but the system is running quantal (ubuntu&nbsp;12.10), so I suspect this is what causes the problem updating.</p>
<p>Could you update your apt.sources entry so it reads just:</p>
<pre>
deb <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> unstable</pre><p>and let me know what happens?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19905"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5889.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="qpro&#039;s picture" title="qpro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5889.html" title="View user profile.">qpro</a> on Thu, 27/03/2014 - 15:31.</div>
    <div class="content">
     <p>With&nbsp;deb &quot;http://emon-repo.s3.amazonaws.com unstable&quot; in &quot;etc/apt/sources.list&quot; gives an error&nbsp;</p>
<p>lubuntu@lubuntu-VirtualBox:~$ sudo apt-get update<br />
	E: Malformed line 58 in source list /etc/apt/sources.list (dist parse)<br />
	E: The list of sources could not be read.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19906"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5889.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="qpro&#039;s picture" title="qpro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5889.html" title="View user profile.">qpro</a> on Thu, 27/03/2014 - 15:41.</div>
    <div class="content">
     <p>Ok, I can download the package &nbsp;if i put in a browser directly http://emon-repo.s3.amazonaws.com/pool/unstable/e/emoncms/emoncms_8.0.3-3_armhf.deb&nbsp;(is it main one?)</p>
<p>Maybe the error is related a with repo directory structure?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19908"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 27/03/2014 - 16:15.</div>
    <div class="content">
     <p>I either need to upload the package to the repository in a different way, such a way that it can be accessed by your system, or figure out the correct sources syntax... not sure which!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19949"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Thu, 27/03/2014 - 21:56.</div>
    <div class="content">
     <p>OK - I think that should now work. Can you try using the line</p>
<pre>
deb <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> quantal unstable</pre>         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19991"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4750.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="lovechoco&#039;s picture" title="lovechoco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4750.html" title="View user profile.">lovechoco</a> on Fri, 28/03/2014 - 15:20.</div>
    <div class="content">
     <p>Sorry for the delay but I wanted tried with ubuntu and debian.</p>
<p>I have add the file of source.list for debian and ubuntu.</p>
<p>Just for information, I have install debian 7.4.0 (32bit) and ubuntu 13.10 (64bit).</p>
<p>&nbsp;</p>
<p>I have tried to change for &quot;deb <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> unstable&quot; and i have the same problem of qpro.</p>
<p>If I change for &quot;deb <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> quantal unstable&quot;, I have the error:</p>
<p>E: Unable to locate package emoncms</p>
<p>I have also tried to edit in the terminal (nano), gedit launch in terminal with sudo and command sudo sh -c &#39;echo ... &gt;&gt; /etc/apt/sources.list&#39;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19998"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Fri, 28/03/2014 - 16:27.</div>
    <div class="content">
     <p>Yeah, you&#39;re running ubuntu &quot;saucy&quot; whereas I added support for &quot;quantal&quot;. I&#39;d need to fix the repo to support an extra distro (too many distros, argh).</p>
<p>However, the debian / wheezy file you&#39;ve posted looks OK to me. Very odd.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20000"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4750.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="lovechoco&#039;s picture" title="lovechoco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4750.html" title="View user profile.">lovechoco</a> on Fri, 28/03/2014 - 16:36.</div>
    <div class="content">
     <p>Yes, I have found the readme on your git for pkg-emoncms.</p>
<p>I have check for ubuntu LTS (12.04) and it&#39;s doesn&#39;t work also. I have tried to this version because I think is &quot;more near&quot; to 12.10. The second reason is I don&#39;t found to ISO for 12.10.</p>
<p>Now, I have found the 12.10 version and I download it for check.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20012"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4750.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="lovechoco&#039;s picture" title="lovechoco&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4750.html" title="View user profile.">lovechoco</a> on Fri, 28/03/2014 - 22:02.</div>
    <div class="content">
     <p>I have tried with the 12.10 version of Ubuntu&nbsp;and it&#39;s doesn&#39;t work :-/</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20245"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5889.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="qpro&#039;s picture" title="qpro&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5889.html" title="View user profile.">qpro</a> on Mon, 31/03/2014 - 09:42.</div>
    <div class="content">
     <p>Doesn&#39;t work for me too</p>
<p>lubuntu@lubuntu-VirtualBox:~$ sudo apt-get update</p>
<p>
	Hit <a href="http://archive.ubuntu.com/" title="http://archive.ubuntu.com">http://archive.ubuntu.com</a> quantal Release.gpg<br />
	Get:1 <a href="http://extras.ubuntu.com/" title="http://extras.ubuntu.com">http://extras.ubuntu.com</a> quantal Release.gpg [72 B]<br />
	Ign <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> quantal Release.gpg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Get:2 <a href="http://archive.ubuntu.com/" title="http://archive.ubuntu.com">http://archive.ubuntu.com</a> quantal-updates Release.gpg [933 B]<br />
	Hit <a href="http://extras.ubuntu.com/" title="http://extras.ubuntu.com">http://extras.ubuntu.com</a> quantal Release&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Ign <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> quantal Release<br />
	Hit <a href="http://archive.ubuntu.com/" title="http://archive.ubuntu.com">http://archive.ubuntu.com</a> quantal-backports Release.gpg<br />
	Hit <a href="http://archive.ubuntu.com/" title="http://archive.ubuntu.com">http://archive.ubuntu.com</a> quantal-security Release.gpg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Ign <a href="http://emon-repo.s3.amazonaws.com/" title="http://emon-repo.s3.amazonaws.com">http://emon-repo.s3.amazonaws.com</a> quantal/unstable i386 Packages/DiffIndex</p>
<p>[...]</p>
<p>W: Failed to fetch <a href="http://emon-repo.s3.amazonaws.com/dists/quantal/unstable/binary-i386/Packages " title="http://emon-repo.s3.amazonaws.com/dists/quantal/unstable/binary-i386/Packages ">http://emon-repo.s3.amazonaws.com/dists/quantal/unstable/binary-i386/Pac...</a> 404&nbsp; Not Found</p>
<p>E: Some index files failed to download. They have been ignored, or old ones used instead.<br />
	lubuntu@lubuntu-VirtualBox:~$<br />
	lubuntu@lubuntu-VirtualBox:~$ sudo apt-get install emoncms<br />
	Reading package lists... Done<br />
	Building dependency tree&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
	Reading state information... Done<br />
	E: Unable to locate package emoncms<br />
	lubuntu@lubuntu-VirtualBox:~$</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20259"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 31/03/2014 - 13:00.</div>
    <div class="content">
     <p>If you could all just use wheezy it would make life so simple :-)</p>
<p>Annoyingly I don&#39;t even have a suitable system to test an Ubuntu live CD on, so it&#39;s hard to know what&#39;s up. Perhaps it would be better to withdraw the claim that it should work for anything other than debian/raspbian&nbsp;until someone comes along who knows this stuff better than I do.</p>
<p>Will try to double check it tonight. I&#39;m not really sure why it wouldn&#39;t work, since it&#39;s just a way to present static files, and I&#39;m using reprepro to set up up for both distros.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-20262"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5190.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5190.jpg" alt="Schism&#039;s picture" title="Schism&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/5190.html" title="View user profile.">Schism</a> on Mon, 31/03/2014 - 13:17.</div>
    <div class="content">
     <p>Aha, got it. Apparently when I push a new version (8.0.8) it deletes it from all distributions. I just pushed it up to wheezy, hence why quantal now doesn&#39;t work again!</p>
<p>Some kind of script is clearly needed...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22680"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Tue, 22/07/2014 - 08:56.</div>
    <div class="content">
     <p>Hi Schism, Are you willing to make a package for 8.3.2?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-22685"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 22/07/2014 - 17:01.</div>
    <div class="content">
     <p>fluppie007, I&#39;ve contacted Schism and he&#39;s busy at the moment but has pointed me towards the procedue for updating the debian package which is up here: <a href="https://github.com/Dave-McCraw/emon-repo" title="https://github.com/Dave-McCraw/emon-repo">https://github.com/Dave-McCraw/emon-repo</a></p>
<p>I will take a look at it and update on how I get on.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24217"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4638.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="borpin123&#039;s picture" title="borpin123&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by <a href="../user/4638.html" title="View user profile.">borpin123</a> on Wed, 01/10/2014 - 19:42.</div>
    <div class="content">
     <p>It should be stated somewhere in the documentation that the debian&nbsp;package lags behind the github version. &nbsp;I see the package is 8.3.2 and git is 8.3.6</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24804"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="jibaine&#039;s picture" title="jibaine&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Debian packaging emoncms & modules</h3>

    <div class="submitted">Submitted by jibaine (not verified) on Sun, 26/10/2014 - 10:37.</div>
    <div class="content">
     <p>Hello,</p>
<p>I use emoncms since a year now and I&nbsp;rencently wanted to update my emoncms version. I tried to use the debian&nbsp;repo method.</p>
<p>My server run on debian wheezy i686 architecture.&nbsp;</p>
<p>After adding the repo and updating, it tells me that that it couldn&#39;t locate the emoncms package.</p>
<p>Is this method still working?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/3919"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-tnfhTbhBTzhKuoI1hECazDdq5-Nfy16F7DePqOAJ2-o" value="form-tnfhTbhBTzhKuoI1hECazDdq5-Nfy16F7DePqOAJ2-o"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
