<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5736 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:47:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Profile module | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Profile module</h3>
        <span class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Wed, 10/09/2014 - 06:31</span>
        <div class="content"><p>Hi,</p>
<p>Attached is an Emoncms module that I&#39;m developing to get the typical profile of my feeds.<br />
I&#39;m using this module to analyze and characterize my data.<br />
It also helps me to detect erratic data in my feeds.</p>
<p>This modules can draw daily or weekly profiles on a specific period defined by a start date and an end date. A profile is a set of average value that are calculated for every time step (5min/10min/20min/30min/1h/2h/4h)<br />
In daily profiles, you can take into account only some days (monday to friday by example)<br />
In all profiles, you can exclude some days (by example non-working day, or days with erratic data collection)</p>
<p><img alt="" src="../sites/default/files/weekly.png" style="width: 600px; height: 317px;" /></p>
<p>On the bottom of the page, one can visualize on a different period :<br />
&nbsp;&nbsp; - the feed abd the average feed on the time step<br />
&nbsp;&nbsp; - the profile +/- the standard deviation<br />
&nbsp;&nbsp; - the gap between the profile and the average</p>
<p><img alt="" src="../sites/default/files/vis-profile2.png" style="width: 600px; height: 292px;" /></p>
<p>4 profiles, can be configured and saved.<br />
Only PHPFIWA feeds are supported as of now.</p>
<p>This&nbsp; module is fully based on the dynamic module that I modified (thanks Trystan). If needed, I will put it on github.</p>
<p>
Installation :<br />
&nbsp;&nbsp; 1. unzip the attached archive into the driectory xxx/emoncms/Modules<br />
&nbsp;&nbsp; 2. Log in your emoncms server as admin.<br />
&nbsp;&nbsp; 3. Go in the admin section (top right corner)<br />
&nbsp;&nbsp; 4. Click on the &quot;Update and check&quot; button.</p>
<p>Futur dev :<br />
&nbsp;&nbsp; - Clean some dirty part of the code ... and also translate my Frenglish to English<br />
&nbsp;&nbsp; - Add support for all engines<br />
&nbsp;&nbsp; - Periodic post of the profile value that corresponds to the current time. In that way, it would be possible to make a comparison between the current value of a feed and its associated profile, and eventually raise an alert. (it may require a new process).</p>
<p>&nbsp;</p>
<p>Eric</p>
  <div class="forum-topic-navigation clear-block">
          <a href="12240.html" class="topic-previous" title="Go to previous forum topic">‹ Emoncms.org service outage 25th Feb</a>
              <a href="5736.html" class="topic-next" title="Go to next forum topic">Profile module ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-23694"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Profile module</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Wed, 10/09/2014 - 09:38.</div>
    <div class="content">
     <p>This looks really impressive Eric, I look forward to giving it a try.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-23756"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Profile module</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Thu, 11/09/2014 - 19:11.</div>
    <div class="content">
     <p>Thanks Paul, but is a very simple application that just makes averages.</p>
<p>When configuring the profile, do not use a short timestep on a large period, otherwise it may lag...</p>
<p>Eric</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24555"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Profile module</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 14/10/2014 - 17:56.</div>
    <div class="content">
     <p>This looks really good, thanks for sharing it Eric! Interested to hear more about how you use it.</p>
<p>Trystan</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24565"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Profile module</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Wed, 15/10/2014 - 14:06.</div>
    <div class="content">
     <p>Hello,</p>
<p>I use this module to get the profile of the energy usage in buildings. It simply makes averages in order to highlight the repetitive usage of energy in a week or a day.&nbsp; This methods smooths the extraordinary events. The standard deviation helps you to measure how it is repetitive.</p>
<p>It may help you to understand what&#39;s happening in a monitored building. It is particularly useful in commercial buildings, office buildings, education buildings, and industrial buildings. In fact, those buildings are occupied and maintained by many people. Nobody knows exactly how the energy is really used (when, why and for what ?).</p>
<p>I&#39;m currently testing this module with a organic supermarket that I&#39;m monitoring. Thank&#39;s to the dally profile, I realized some things (I feel like big brother but the expected gains are high ;)</p>
<p>&nbsp;&nbsp; 1. The energy consumption of the cold room is abnormally high at certain times of the week. It corresponds to the delivery from the wholesaler because the doors stay open for a long period of time. The delivery will be organized in an efficient way to save energy.</p>
<p>&nbsp;&nbsp; 2. Some energy consumption (lighting in particular) are higher some days of the week. It seems related with the behavior of the employees working those days.</p>
<p>Some corrective actions will be planned. Then we will be able to compare the profiles before and after that.</p>
<p>This is an example of what is possible to do now with this module. I have two other related ideas in development that are not implemented yet :</p>
<p>1. Be able to compare the current energy usage to a reference profile. It will allow live detection of abnormal events (someone forgot to turn off the heat when leaving, a machine stopped in the factory, ...).&nbsp; The reference profile may be built from what&#39;s happening in the past during normal usage. It can also be a target profile designed to save more energy than usual.</p>
<p>2. Be able to create the profile of a group of feeds in order to compare one feed to the profile of its group. As an example, I would like to get the profile of a residential building of 10 dwellings.&nbsp; (Each dwelling is monitored separately). Then each occupant would be able to compare their personal profile with the profile of the entire building. It may help to understand what&#39;s is going good/bad.</p>
<p>&nbsp;</p>
<p>Eric</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40369"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6528.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="denergic&#039;s picture" title="denergic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Profile module</h3>

    <div class="submitted">Submitted by <a href="../user/6528.html" title="View user profile.">denergic</a> on Wed, 16/03/2016 - 12:20.</div>
    <div class="content">
     <p>Hello Eric,</p>
<p>I&acute;m trying to include a new timestep: 15 min, but I can&acute;t. It is rounded to 20 min. 6 min timestep works, also 7, 8 or 9, but 11, 12, 13, 14 are rounded to 10; 15, 16, 17, 18, 19 goes to 20...</p>
<p>How can i get this?</p>
<p>Thank you in advance.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40413"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5027.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Eric_AMANN&#039;s picture" title="Eric_AMANN&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Profile module</h3>

    <div class="submitted">Submitted by <a href="../user/5027.html" title="View user profile.">Eric_AMANN</a> on Fri, 18/03/2016 - 08:16.</div>
    <div class="content">
     <p>Hello,</p>
<p>The possible interval (5 min, 10 min, 20 min, 30 min , 1h, 2h, 4h) in this module correspond to the possible interval offer by the feed model. So I don&#39;t think you can get value for 15min without doing a trick in the code.</p>
<p>Happy to see that someone is using that module.</p>
<p>Eric</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40507"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Profile module</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 21/03/2016 - 23:00.</div>
    <div class="content">
     <p>@denergic, I just realised the 15 minute interval is implemented in emoncms v9, but not on emoncms.org, I&#39;ve added it to emoncms.org, as it is indeed, a useful interval.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-40512"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6528.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="denergic&#039;s picture" title="denergic&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Profile module</h3>

    <div class="submitted">Submitted by <a href="../user/6528.html" title="View user profile.">denergic</a> on Tue, 22/03/2016 - 08:14.</div>
    <div class="content">
     <p>Thanks Trystan, but I have a modified Emoncms. What files do I need to change to get that timestep?</p>
<p><em>[Please&nbsp;<strong><a href="11355.html">read and heed this</a>.&nbsp;</strong>&nbsp;4 copies have been deleted. (Moderator - RW)]</em></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5736"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-5yW2LKwtoIMnCy-uklc5Z6otmylPTGWrGZ8a0cMRcyw" value="form-5yW2LKwtoIMnCy-uklc5Z6otmylPTGWrGZ8a0cMRcyw"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/5736 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 14:47:43 GMT -->
</html>
