<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2068 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:28:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Arduino measuring mains current | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Arduino measuring mains current</h3>
        <span class="submitted">Submitted by <a href="../user/3340.html" title="View user profile.">floehopper</a> on Fri, 01/03/2013 - 12:04</span>
        <div class="content"><p>I&#39;m just getting started with <a href="https://learn.openenergymonitor.org/?redirect=how-to-build-an-arduino-energy-monitor-measuring-current-only">this project</a>. Please forgive my newbie questions.</p>
<p>I&#39;m using an SCT-013-030 CT sensor, so I believe I do not need the &quot;burden&quot; resistor.</p>
<p>If I wire the circuit up as shown and output the value of the Arduino analog input, should I see a change in this value when the CT sensor is clipped around the mains lead for a small fan heater and the heater is switched on/off?</p>
<p>Should it be possible to measure the voltage using a voltmeter? Is there a simple way to test my CT sensor is working? Is it possible to damage the CT sensor by connecting it the wrong way around?</p>
<p>Thanks.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2097.html" class="topic-previous" title="Go to previous forum topic">‹ RFM12Pi killing my RPi</a>
              <a href="2089.html" class="topic-next" title="Go to next forum topic">Watt monitoring ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-10207"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Arduino measuring mains current</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 01/03/2013 - 14:41.</div>
    <div class="content">
     <p>If you clip you c.t. around the complete mains lead, you will read nothing. This is exactly as I would expect. The c.t. depends on sensing the magnetic field around a wire carrying current, and if you have two wires carrying current in opposite directions (as you have in a 3-core mains lead), the magnetic fields will cancel - hence nothing.</p>
<p>You need to clip the c.t. around a single wire. The normal place to install a c.t. is on the supply side of your consumer unit/fusebox, where it will detect the &#39;whole house&#39; current, and where line and neutral are separate cables.</p>
<p>You can certainly measure the voltage out of your c.t. You should read 1 V rms at 30 A, proportionately less at smaller currents.</p>
<p>But you need to compile, load and run the sketch to calculate the rms value and use the serial output to read that rms current value correctly. If you just look at the reading from the analogue input, you will read (apparently) random values centred around 512. This is because the input is an alternating voltage and the number you read depends on where you catch the wave.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10294"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3340.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="floehopper&#039;s picture" title="floehopper&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Arduino measuring mains current</h3>

    <div class="submitted">Submitted by <a href="../user/3340.html" title="View user profile.">floehopper</a> on Mon, 04/03/2013 - 16:03.</div>
    <div class="content">
     <p>Hi Robert.</p>
<p>Many thanks for your help. That all makes perfect sense.</p>
<p>Is there any completely non-invasive way (using a different type of sensor?) to detect the presence or absence of a significant current in a complete mains cable? i.e. I don&#39;t want to have to separate the individual conductors and I don&#39;t need to accurately measure the current or voltage.</p>
<p>Thanks, James.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10295"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Arduino measuring mains current</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/03/2013 - 17:51.</div>
    <div class="content">
     <p>No. Sorry, it&#39;s a short answer and I know of no way to measure the current. The nearest I can think of is one of the many commercially available units that plug in to the mains socket and have a socket for the appliance.</p>
<p>If you only want an <em>indication</em> that current is flowing, then a Hall effect sensor <em>might</em> be able to pick up the field if it is closer to one conductor than the other. But even if it worked, I think that it would at be at best unreliable.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10296"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Arduino measuring mains current</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Mon, 04/03/2013 - 18:28.</div>
    <div class="content">
     <p>I believe that the Eco-Eye monitor picks up a voltage signal using foil that&#39;s wrapped around the live cable.&nbsp; I wonder whether this approach might detect anything if fitted around all three cores?&nbsp;</p>
<p>Or does everything just cancel out?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10298"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Arduino measuring mains current</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 04/03/2013 - 20:13.</div>
    <div class="content">
     <p>If you wrap a conducting foil around one conductor, you&#39;re making a capacitor. If you wrap a conducting foil around two conductors at different voltages, you&#39;re making a pair of capacitors, so I&#39;d expect the voltage (unloaded, of course) to be about mid-way between the voltages of the two conductors. And by extension, if there are 3 conductors...</p>
<p>But that won&#39;t tell you anything about the current being carried by the conductors.</p>
<p>(I should have specified that you need an analogue Hall effect transducer - a switching digital one will almost certainly not experience enough field strength to operate.)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10302"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Arduino measuring mains current</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 05/03/2013 - 11:26.</div>
    <div class="content">
     <p>You did mention Hall effect sensors earlier, Robert.&nbsp; I was just wondering if a capacitive sensor might be able to detect the alternating voltage in the Live core despite it being physically adjacent to the two &#39;earthy&#39; ones.&nbsp;</p>
<p>It seems that the answer is yes, but I was asking the wrong question.&nbsp; Unless the load is switched on &amp; off at the wall rather than at the appliance, the potentials of each individual cable core will not change.&nbsp; The current that&#39;s being drawn by the load will therefore remain unknown.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2068"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-pfgsuD67scMjlKjGup8MT9Ywv1-TUOmAprLQVm8YA-A" value="form-pfgsuD67scMjlKjGup8MT9Ywv1-TUOmAprLQVm8YA-A"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
