<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2435 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:39:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>System is Freezing regularily.. Help?  | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">System is Freezing regularily.. Help? </h3>
        <span class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Mon, 03/06/2013 - 23:16</span>
        <div class="content"><p>Hi. I&#39;m having some issues. I currently have one system up and running it seems to be doing well. I have recently tried to install another system at a different location and I&#39;m having some issues. My feeds keep freezing up and it seems to be for different reasons. Sometimes when I check it, my emonBase SMT has the red light on solidly. If I reboot that it seems to continue for a bit. Othertimes when I check, there is no light on the base, and no green flashing light on the emonTx. If I reboot the emonTx, then things come back alive. It&#39;s currently failing every couple hours. Any suggestions? I&#39;m powering the emonTx with 2 AA batteries that are less than a week old. The voltage is showing 3.06 volts when it sends back data.</p>
<p>Thanks in advance for any advice.&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2626.html" class="topic-previous" title="Go to previous forum topic">‹ SCT-013-030 ac voltage output</a>
              <a href="2602.html" class="topic-next" title="Go to next forum topic">Problems getting EmonTx to run new code repeatably ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-12598"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 04/06/2013 - 14:44.</div>
    <div class="content">
     <p>What voltage is your RFM12B low voltage detector set to?&nbsp; I believe the default is 3.1 V. See the RFM12B data sheet for details.</p>
<p>If the RFM12B is detecting low battery, that could explain why the emonTx is locking up, which is your starting point.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12606"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2872.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Marquis27&#039;s picture" title="Marquis27&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Tue, 04/06/2013 - 19:02.</div>
    <div class="content">
     <p>Thanks for the hint. I&#39;ll check that. I&#39;m guessing that isn&#39;t the issue but I&#39;ll use a cord and power adapter for a while to try it. My other emonTx is currently using 2 AA batteries and it works fine, often down to under 2.8 volts. Any idea why this one would be different? Is it worth changing the low voltage detector on the RFM12B? Have others done it? The documentation for the emonTX seems to suggest 2 AA batteries so I am assuming others aren&#39;t having that problem?&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13170"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2872.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Marquis27&#039;s picture" title="Marquis27&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Mon, 24/06/2013 - 00:38.</div>
    <div class="content">
     <p>You are correct in that the fuses were set to 3.3 volts not lower. Perhaps this should be added in the build notes or some where since it really needs to be corrected for people using batteries to power their emontx. Hopefully that will fix my freezing problems. Thanks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13186"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 24/06/2013 - 15:20.</div>
    <div class="content">
     <p>Assuming that Low Battery was enabled, of course!&nbsp; If not, it&#39;s back to the drawing board.</p>
<p>The next step would be to not transmit (OK, I know that defeats the purpose, but....) and see if it still locks up. If not, it looks like the RFM12B, if it still does, it might be the RFM12B and/or something else (and I&#39;d start looking for dry joints that get disturbed when you check the batteries).</p>
<p>You do have the latest libraries, don&#39;t you? There were problems some months ago that were traced to a bug in the JeeLib library - see <a href="1051.html" title="http://openenergymonitor.org/emon/node/1051">http://openenergymonitor.org/emon/node/1051</a><br />
	It doesn&#39;t sound like the same problem but worth updating the library used on both systems even so.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13454"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2872.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Marquis27&#039;s picture" title="Marquis27&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Sat, 06/07/2013 - 02:15.</div>
    <div class="content">
     <p>Okay, I&#39;m still have major freeze up problems. I am trying to use the CurrentOnly version of the emonTxV3. Is that the latest version?</p>
<p>
	When I comment out the line with the call to send_rf_data(); then it seems to run. When I leave it in there, my emonTx freezes pretty much instantly. If I try and add a debugging comment to the function, I get a garballed character and it freezes like it&#39;s get a memory issue. If I try tracing it further, it&#39;s something in the sendNow command.&nbsp;</p>
<p>I am using Arduino 1.5.2, Mac, and the latest&nbsp;RFu_JeeLib.h library. Any suggestions?</p>
<p>Or, I am debugging using a second emonTx and the same problem occurs.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13460"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 06/07/2013 - 12:38.</div>
    <div class="content">
     <p>Wait a moment! What hardware do you have? emonTxV3 is for the new 4-ct emonTx that uses the RF&micro; module, not the Atmel328P.&nbsp; I didn&#39;t think there were any emonTxV3&#39;s available yet.</p>
<p>(I see what you&#39;ve done - mistaken the emonTx V2.3 for emonTx3 ! ! !)</p>
<p>If you have the 3 current, 1 voltage, pulse and temperature input emonTx (<a href="../sites/default/files/emonTx_web.png">this one</a>) then you should be using one of the emonTx_CT123.... sketches and the <strong>original</strong> JeeLib library.</p>
<p>(For what it&#39;s worth, my emonTx locks up instantly with the RF&micro; library, and the standard JeeLib library puts the RF&micro;&#39;s bootloader into an infinite loop and effectively &#39;bricks&#39; it, so Glyn tells me).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13740"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2872.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Marquis27&#039;s picture" title="Marquis27&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Sun, 21/07/2013 - 19:42.</div>
    <div class="content">
     <p>Hi.. Thanks a lot. I didn&#39;t realize that a new hardware version of the emonTx is out. That was indeed was that problem.&nbsp;</p>
<p>My initial problem seems to have been solved by changing the low voltage cut-off and dealing with the issue related to the sendNow function in the rfm library.&nbsp;Thanks a lot for solving that one. Read that whole thread and was very impressed how that turned out.&nbsp;</p>
<p>Thanks again.&nbsp;</p>
<p>Is there any problem setting the low voltage down to 2.7 volts or so? I basically don&#39;t want it to come on, since I&#39;ll receive a notice to change the battery well before that.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13742"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 21/07/2013 - 23:12.</div>
    <div class="content">
     <p>The RFM12B is specified to work down to 2.2 V, and the AVR down to 1.8 V.</p>
<p>Bear in mind your battery voltage is measured relative to the internal reference, which has a 9.1% tolerance (1.0 - 1.2 V), so you need to measure the actual battery voltage and scale the voltage you are reading to match.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13800"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2872.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Marquis27&#039;s picture" title="Marquis27&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Thu, 25/07/2013 - 02:33.</div>
    <div class="content">
     <p>Okay, good point. But even with the 9.1% tolerance, I should be good down to well below 2.7 volts before I have problems. Likely, I should be able to hit 2.5 with no issues. Perhaps even 2.3 or 2.4 volts. Thanks.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13804"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2872.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Marquis27&#039;s picture" title="Marquis27&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Thu, 25/07/2013 - 05:43.</div>
    <div class="content">
     <p>Sorry, going through the code on the emonTx examples, I see that the emonTxV3 uses the new&nbsp;sendNow function while the emonTx&nbsp;uses the sendStart function. For those of us still using v1.3 and v1.4 hardware, should the emonTx&nbsp;code on Github be changed to use the sendNow?&nbsp;</p>
<p>Or is this only important in the emonGLCD&nbsp;sketch which has already been changed?&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13810"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: System is Freezing regularily.. Help? </h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 25/07/2013 - 09:32.</div>
    <div class="content">
     <p>The problem was only seen with the GLCD. I suggest using the GLCD code throughout. You can find the thread about the problem with the GLCD locking up, you can read all about it.</p>
<p>Also, don&#39;t forget that transmitting uses a quite high current and as the battery becomes exhausted, the internal resistance rises and so the voltage you measure might not reflect the actual voltage whilst transmitting.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2435"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-hXkSvO_d_IIC9NvHZW9zecnQvh7Ad_CPZ8ZyApWL0A8" value="form-hXkSvO_d_IIC9NvHZW9zecnQvh7Ad_CPZ8ZyApWL0A8"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
