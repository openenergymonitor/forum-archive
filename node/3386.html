<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3386 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:28:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Phase Error in Voltage and Current Sensors | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Phase Error in Voltage and Current Sensors</h3>
        <span class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 21/12/2013 - 17:55</span>
        <div class="content"><p>I have updated the test reports on the Ideal AC-AC adapter and the YHDC current transformer.</p>
<p>Some months ago, there was much discussion about the effects of phase error on power measurements, and Martin Roberts developed a sketch for the emonTx in which he calculated the phase shift by comparing with a synthesised sine wave, only to realise that he had re-invented the Discrete Fourier Transform. With the code converted by Martin into a spreadsheet, I applied it to the AC adapter quite easily, but with the different and very wide range of signal levels available from the current transformer, I ran into severe problems. It took me a long time to realise that at low currents, I was actually measuring the phase shift of crosstalk inside the soundcard that I was using as an oscilloscope. Once the problem was identified, a pair of op-amp &#39;followers with gain&#39; introduced in front of the soundcard to keep the input there at a reasonable level and constant removed that part of the problem completely, but still left the difficulty of ensuring both halves of the c.t. core were mated correctly when the c.t. was closed around the cable. Judicious gentle tapping on the c.t. casing has proved to be the best method to get consistent results.</p>
<p>The spreadsheet works on one cycle of the waveform and calculates the amplitude and phase of the desired harmonic component, the phase of course being relative to the sampling window. This inherently rejects the contribution of higher order harmonics that can shift the zero crossing and so confuse the measurement that the X-Y &#39;scope method gave, the method that I had used initially. And as the DFT effectively averages a whole cycle&#39;s worth of samples (882), it is capable of much greater precision.</p>
<p>Using only the fundamental frequency component and two channels, it is easy (if somewhat laborious) to derive the relative phase across a wide range of currents; and by varying number of turns of the primary winding and varying the amplifier gain I managed to get credible measurements over the range 100 mA - 100 A, and an indication of the error down to 40 mA (around 10 W). The results are presented in the updated reports.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="3404.html" class="topic-previous" title="Go to previous forum topic">‹ 4x Multiplexed RTD Temperature sensor module</a>
              <a href="3381.html" class="topic-next" title="Go to next forum topic">CT Sensor in a distribution board ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
