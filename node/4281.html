<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/4281 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:23:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>V8.0 Multigraph line colours | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">V8.0 Multigraph line colours</h3>
        <span class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Fri, 21/03/2014 - 17:01</span>
        <div class="content"><p>In the new v8.0, there is a function to change the line colours in the vis/multigraph, but if you change a colour, save &amp; view the multigraph, I find that it has disappeared!</p>
<p>Example, I&#39;ve created this multigraph;</p>
<p><img alt="" src="../sites/default/files/Emoncms_2.png" style="width: 700px; height: 418px;" /></p>
<p>That works fine, and can see it in a dashboard &nbsp;view.<br />
	But, now gone back into vis/multigraph/3, and change the line colours;</p>
<p><img alt="" src="../sites/default/files/Emoncms%20(1)_1.png" style="width: 700px; height: 621px;" /></p>
<p>Save &amp; exit as before, but the graph has now disappeared from my dashboard, so if I go back to vis/multigraph/3 as before;</p>
<p><img alt="" src="../sites/default/files/Emoncms%20(2)_0.png" style="width: 700px; height: 428px;" /></p>
<p>...as you can see, all the settings have gone!</p>
<p>&nbsp;</p>
<p>Paul</p>
  <div class="forum-topic-navigation clear-block">
          <a href="4074.html" class="topic-previous" title="Go to previous forum topic">‹ New rock solid image...SYNC wont work? Ideas?</a>
              <a href="4143.html" class="topic-next" title="Go to next forum topic">Replication script not working with PHP timestore feeds ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-19594"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: V8.0 Multigraph line colours</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sat, 22/03/2014 - 09:40.</div>
    <div class="content">
     <p>Strange, I only see a &#39;#&#39; character instead of the real colours in &#39;Line colour:&#39; If I change this # to something else, the colour changes to something grey.</p>
<p>And then, in the Visualizations menu while defining the multigraph I can see the &#39;zoom&#39; range in a sort of orange as usual, but later on the dashboard no zoom range is shown with pressed mouse key (but zooming works ok).</p>
<p>And, Tooltips does not work at all in multigraph.</p>
<p>Why do these things behave so differently for different people? I am pretty sure I did not change anything in the sources.</p>
<p>&nbsp;</p>
<p>EDIT: colours in &#39;Line colour:&#39; works with Chrome! Does not work with Firefox 27.0.1 (Windows).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19595"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: V8.0 Multigraph line colours</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sat, 22/03/2014 - 09:44.</div>
    <div class="content">
     <p>..but if I view the vis/multigraph&nbsp;page via my iphone, I too see the &#39;#&#39;! - so it &nbsp;depends upon the browser too...</p>
<p><img alt="" src="../sites/default/files/photo_2.png" style="width: 320px; height: 480px;" /></p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19597"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1332.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1332.jpg" alt="JBecker&#039;s picture" title="JBecker&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: V8.0 Multigraph line colours</h3>

    <div class="submitted">Submitted by <a href="../user/1332.html" title="View user profile.">JBecker</a> on Sat, 22/03/2014 - 10:57.</div>
    <div class="content">
     <p>Yes!</p>
<p>And:</p>
<p>If I define a multigraph in Chrome (Windows), it is not stored correctly and I am unable to place it on a dashboard at all. Nothing is shown, just the empty window. If I go back to the definition again (in Visualizations), the multigraph is not existent any more (not quite correct, the number is shown as &#39;multigraph: 1&#39;, but it is completely empty again).</p>
<p>Edit: I just see that this is the same behavior that Paul described above. Sorry, I thought he was talking about the colors disappear only.</p>
<p>But what can also be seen in Pauls first screenshot is, that the color is always shown as black in &#39;Line colour:&#39; although it has different value in the graph.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19615"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Tom&#039;s picture" title="Tom&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: V8.0 Multigraph line colours</h3>

    <div class="submitted">Submitted by Tom (not verified) on Sat, 22/03/2014 - 14:56.</div>
    <div class="content">
     <p>I discovered I have exactly the same issue with the multigraph. When you choose a different color than the default one and click save, the multigraph object itself is saved, but not its contents.</p>
<p>It seems I also have a problem with the &quot;input on-time&quot; input processing. Normally when a new day begins the counter should be set to zero again, so you can see, as for example in my case, how long the heating was on each day. This morning, according to my bargraph, the heating had already ran for more than six hours, although this was certainly not the case. &nbsp;<br />
	But I have to tell the whole story: I made a little modification to &quot;bargraph.php&quot;. I changed the function vis_feed_data() a little bit so that instead of DAILY SECONDS ON, the bargraph would display DAILY HOURS ON :</p>
<p>function vis_feed_data()<br />
	{<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (valid) graph_data = get_feed_data(feedid,start,end,500);<br />
	&nbsp; &nbsp; &nbsp; &nbsp; var sum = 0;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (z in graph_data)<br />
	&nbsp; &nbsp; &nbsp; &nbsp; {<br />
	&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;graph_data[z][1] = graph_data[z][1]<strong>/3600</strong>; &nbsp;<strong>//Display daily hours ON instead of daily seconds ON</strong><br />
	&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sum += graph_data[z][1];<br />
	&nbsp; &nbsp; &nbsp; &nbsp; }<br />
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; console.log(&quot;Total kWh in window: &quot;+sum);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; plot();<br />
	}</p>
<p>However I can&#39;t see that this can be the cause for not resetting the counter, as graph_data is just a local array in &quot;bargraph.php&quot; that gets his values from a call to get_feed_data. So I didn&#39;t change nothing to the values that are in the feed or to the internal working of &quot;input on-time&quot;.&nbsp;</p>
<p>Tom</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19627"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: V8.0 Multigraph line colours</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 22/03/2014 - 18:13.</div>
    <div class="content">
     <p>Hello Tom, the daily feed types such as input-ontime not resetting bug is now fixed as of version 8.0.1 <a href="https://github.com/emoncms/emoncms/releases/tag/8.0.1" title="https://github.com/emoncms/emoncms/releases/tag/8.0.1">https://github.com/emoncms/emoncms/releases/tag/8.0.1</a></p>
<p>Not sure about the multigraph color&#39;s, Il have a look.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19629"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: V8.0 Multigraph line colours</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 22/03/2014 - 18:53.</div>
    <div class="content">
     <p>Found it, the problem was due to the # color character causing the URL fields to terminate at that point. The settings string needed to be passed through the function encodeURIcomponent, I&#39;ve added this in and pushed it to the Develop branch, Il merge into the next sub release 8.0.2</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19632"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: V8.0 Multigraph line colours</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 22/03/2014 - 19:59.</div>
    <div class="content">
     <p>I&#39;ve merged the fix into the master branch and incremented the version number to 8.0.2</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/4281"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-MPgEsLu4nubQi58u-daZ4NOZsjgxc3j8hV7kUZdg344" value="form-MPgEsLu4nubQi58u-daZ4NOZsjgxc3j8hV7kUZdg344"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/4281 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:23:48 GMT -->
</html>
