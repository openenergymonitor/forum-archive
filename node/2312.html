<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2312 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:26:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Emoncms - SD cards / usb flash / spinning disk recommendations? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/4.html">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>
        <span class="submitted">Submitted by <a href="../user/1510.html" title="View user profile.">matt-carbon-coop</a> on Mon, 29/04/2013 - 12:32</span>
        <div class="content"><p>There has been a lot of discussion on the forum as to the suitability of SD cards due to the limited number of writes it can do, but the individual experience seems very varied.</p>
<p>I have 18 raspis running emoncms since January and have so far had 5 SD card failures (corruption which is not fixed by reimaging) - I&#39;m using <a href="http://www.amazon.co.uk/Sandisk-Ultra-30MB-SDHC-Card/dp/B00812K4V4/ref=pd_sim_computers_5">Sandisk Ultra 8GB </a>(a class 10 card). One of the cards lasted less than a month. I&#39;m told that some SD cards have better &#39;<a href="http://en.wikipedia.org/wiki/Wear_leveling">wear leveling</a>&#39; than others, anyone have any recommendations for replacement?</p>
<p><a href="../user/3196.html">Barry Broom</a> has recommended using a non-journaling file system such as ext2 to decrease disk writes, so I&#39;m giving that a go on a couple of replacements now - will feedback results.</p>
<p>I&#39;ve also seen recommendations on pi forums to move the swap and log files to a usb flash, obviously they have similar limited write problems, but are cheaper (so an identical spare could be left with each pi) and with better write leveling, couldn&#39;t that extend SD life dramatically? Are there other things we could do in software such as increasing cache size or even removing caching?</p>
<p>I understand the ultimate solution would be a read only boot partition on the SD and a usb spinning disk for data logging - but most of the drives available are overspec&#39;d (250GB+) and too expensive to roll out over multiple installations. Does anyone have recommendations on cheaper hard drives? The ubiquitous <a href="http://www.amazon.co.uk/BIPRA-100Gb-External-Drive-Portable/dp/B005FKM8KK/ref=sr_1_47?s=electronics&amp;ie=UTF8&amp;qid=1367237978&amp;sr=1-47&amp;keywords=bipra+usb+drive">BIFRA</a> are the cheapest general usb but seem poorly made with secondhand disks. I&#39;m also concerned about power draw from the pi as I don&#39;t want to use seperate power leads or powered USB hubs, anyone got something already working?</p>
<p>Sorry for the barrage of questions, I feedback results as I get them.</p>
<p>Mx</p>
  <div class="forum-topic-navigation clear-block">
          <a href="3339.html" class="topic-previous" title="Go to previous forum topic">‹ Which CT sensor for EmonTx?</a>
              <a href="3326.html" class="topic-next" title="Go to next forum topic">40% packet loss from emonGLCDs ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-11702"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Mon, 29/04/2013 - 16:40.</div>
    <div class="content">
     <p>Hi</p>
<p>I don&#39;t think you will have any success without a powered USB Hub. I tried to get a hard disk running without a hub and ran into problems. The Pi kept hanging. I had another Pi with a powered USB hub that also powered the Pi off a very short gold USB lead. This worked perfectly without a hard disk. I then added the hard drive and the Pi started hanging. I had to end up with 2 power supplies. One for the hub and one for the Pi. I was trying to use a single power supply as my setup runs off a 24V&nbsp;solar system and I wanted to use a single 24V to 5V&nbsp; DC to DC adaptor. Having searched online it seems many others have found that for reliable operation you have to use a powered hub on a supply &nbsp;independent to the Pi.</p>
<p>The one thing I intend to try is running the hub and Pi of a single DC DC adaptor each with their own individual connection as the DC DC adaptors I use handle up to 2.5amps.</p>
<p>Regards</p>
<p>Ian</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11710"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Mon, 29/04/2013 - 21:35.</div>
    <div class="content">
     <p>Interesting to hear your experiences Matt. It&#39;s a good question you have raised. I know this would defeat the point of using a Pi but it would be possible for the Pi to relay the data straight to emoncms.org or another emoncms&nbsp;server without also logging locally. This will require an edit to the Raspberry Pi emoncms module.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11725"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Tue, 30/04/2013 - 08:20.</div>
    <div class="content">
     <p>Yes, this is the approach I was suggesting here : <a href="2292.html" title="http://openenergymonitor.org/emon/node/2292">http://openenergymonitor.org/emon/node/2292</a></p>
<p>This might make the Pi less interesting for a large scale usage, if a Nanode is a simple solution.</p>
<p>But it still has pros : possibility to use it for other tasks as well, remote access through ssh to work on it, even reprogram the RFM2Pi since v2.</p>
<p>I could try to propose a patch, but I think it would make sense to rethink the logic of the module and its GUI (see the other thread mentioned above), so I wanted to have other opinions before diving into it. Besides, it is quite possible that I&#39;d need a bit of help with the php. If Trystan is interested, I&#39;d like to have a design discussion before going down to the code. Perhaps github is a more advised place for these discussions.</p>
<p>BTW, I heard about&nbsp;<a href="https://www.olimex.com/Products/OLinuXino/">Olinuxino</a>, which could be a cheaper alternative to the Pi with equivalent features. Not sure what it implies for the RFM2Pi. After all, it is just serial communication.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11741"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1510.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="matt-carbon-coop&#039;s picture" title="matt-carbon-coop&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1510.html" title="View user profile.">matt-carbon-coop</a> on Tue, 30/04/2013 - 11:43.</div>
    <div class="content">
     <p>Thanks Ian, that&#39;s really useful information, so any spinning disk model needs to factor in powered usb hub cost and socket availability. It certainly makes the system more intrusive in the living room.</p>
<p>J&eacute;r&ocirc;me this is a very interesting proposal, I&#39;m also doing the data collection and analysis on a remote server, though personally I like the local server &#39;backup&#39; of feeds for when the internet connection goes down (alarmingly regularly in some cases). I agree even without this there are some advantages of the pi over the nanode. Olinuxino is an interesting prospect if only for its greater openness.</p>
<p>Just spoke to Trystan about this, it seems they&#39;ve not had problems with SD card corruption using a lower cost Sandisk than the one I&#39;m currently using - which is positive. He also noted that v5 of emoncms executes far fewer mysql queries which may help. One suggestion he made was that perhaps all logging for apache, mysql etc should be turned off by default with documentation on how to enable them for troubleshooting.</p>
<p>With wear leveling on an oversized (8GB) card should be lasting a good deal longer - if we&#39;re looking at 2 years+ as people on the raspberry forum suggest, that wouldn&#39;t be a problem. In terms of Sandisk SDs only the &#39;<a href="http://www.sandisk.com/products/memory-cards/sd/extremepro-sdxc-sdhc-uhs-1-95mbs/?capacity=8GB">Extreme Pro</a>&#39; specifically mentions wear leveling, there have been questions on the Sandisk forum about <a href="http://forums.sandisk.com/t5/Mobile-memory-professional-cards/Which-SanDisk-cards-support-wear-leveling/td-p/282756">which models support wear leveling</a> and <a href="http://forums.sandisk.com/t5/Mobile-memory-professional-cards/SD-card-wear-leveling/td-p/292873">specific requests for documentation</a> but they have not received replies.</p>
<p>I understand the swap file is not used greatly under raspbian, but I&#39;d like to start looking at that and perhaps moving to a swap partition on usb flash - as it&#39;s faster, cheaper, better documented (in terms of static wear leveling capabilities) and could wear out without immediately bringing the system down.</p>
<p>Thanks for you replies, I recognise that my use case - multiple geographically disparate installs without local support - is a bit marginal, so I really appreciate you taking the time.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11750"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Tue, 30/04/2013 - 14:27.</div>
    <div class="content">
     <p>As an update to this I have just modified my DC DC converter and wired in a chopped off micro usb to power the Pi. So I have 2 connections. One is plugged into the PI and the second is plugged into the USB hub. I have a wireless Wifi, a pen drive and a hard drive all on the hub. It has all booted up without any problems and is running as I type this. I will report back if I have any long term problems. It suggests there is a market for a Wallwart&nbsp; with 2 leads, 1 a plug and 1 a&nbsp;microUSB.</p>
<p>Or maybe a small junction box with multiple connections.</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11754"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Tue, 30/04/2013 - 19:56.</div>
    <div class="content">
     <p>Ian, I <a href="http://www.ebay.co.uk/itm/White-Mains-Dual-USB-2A-AC-Wall-Charger-Samsung-Galaxy-Note-2-II-N7100-/121018992230?pt=UK_MobilePhones_MobilePhoneAccessories_MobilePhoneChargers&amp;hash=item1c2d4b4666">bought one of these</a> which works quite well.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11761"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 30/04/2013 - 23:18.</div>
    <div class="content">
     <p>Hello, As Matt and Jerome mentioned above I think the best way to start is to disable all the logs as default, apache access log, apache error log, mysql, pi gateway script log, this should reduce writes as much as possible and preserve precious disk space, then as you mentioned Jerome have the option for remote forwarding only without any local inputs being written to, although I think this happens already if no inputs are configured (apart from the initial write that creates the input). We may be able to reduce further writes with continued optimization of input processing to reduce number of mysql queries which will be good for performance in general.</p>
<p>There is also the complicating factor of what happens when a pi is powered up and down without a full halt, restart, could the corrupted cards that are going after a short time be due partly to this? We corrupted a card here today by accidently shorting the pi 2 or 3 times. The SD card did work again though after a fresh image was put on it...</p>
<p>Jerome: I thought Id remove the default logging from the php&nbsp;gateway script tomorrow, I wonder whats the best way to configure it to turn logging on if needed? shall we work on this and then update the documentation with steps for turning off all logs as default and enabling only for troubleshooting purposes.&nbsp;Id be happy then do an an updated image with these changes.</p>
<p>Trystan</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11772"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Wed, 01/05/2013 - 11:12.</div>
    <div class="content">
     <p>Hi Trystan</p>
<p>My 2 SD failures (after several months in each case)&nbsp;occurred&nbsp;on a Pi that has never been powered down as far as I know. Running from a battery solar system and the controller logs have no power shutdowns recorded.&nbsp;</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11773"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1510.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="matt-carbon-coop&#039;s picture" title="matt-carbon-coop&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1510.html" title="View user profile.">matt-carbon-coop</a> on Wed, 01/05/2013 - 11:50.</div>
    <div class="content">
     <p>Hi Trystan,</p>
<p>Data corruption due to power loss is an interesting point, I was looking at that very issue yesterday when assessing whether to turn off Journaling on the ext4 file system - which would reduce writes but make the data far more vulnerable in the case of power loss. I was also reading that types of static wear leveling can make the data more vulnerable on power loss but I don&#39;t think these apply in our case, very readable explanation of some of the issues and tested cards <a href="https://wiki.linaro.org/WorkingGroups/KernelArchived/Projects/FlashCardSurvey">here</a>.</p>
<p>I can&#39;t be assured that pis haven&#39;t had the power pulled, but on 2 of the cards re-imaging the cards gives disk errors and on a third the SD fails again after a few hours, which makes me think it&#39;s a hardware issue rather than just dataloss. None of this is more than anecdotal though I&#39;m afraid...</p>
<p>Mx</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11799"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 02/05/2013 - 10:26.</div>
    <div class="content">
     <p>Made some progress on disabling all logs as default, just creating a new ready to go image for download at the moment.</p>
<p>So for existing installations:</p>
<p><strong>Turning off apache logs</strong></p>
<p>I&#39;ve documented all the steps in the raspberry pi build from scratch guide here <a href="http://emoncms.org/site/docs/raspberrypibuild">http://emoncms.org/site/docs/raspberrypibuild</a></p>
<p>There are 3 different files that need to be edited to turn off all apache logging:</p>
<p>1) In apache2.conf:</p>
<pre>
sudo nano /etc/apache2/apache2.conf</pre><p>Replace the ErrorLog line:</p>
<pre>
ErrorLog ${APACHE_LOG_DIR}/error.log</pre><p>with:</p>
<pre>
ErrorLog /dev/null</pre><p>Comment out the line:</p>
<pre>
# LogLevel warn</pre><p>2) In /etc/apache2/conf.d/other-vhosts-access-log</p>
<pre>
sudo nano /etc/apache2/conf.d/other-vhosts-access-log</pre><p>Comment out:</p>
<pre>
# CustomLog ${APACHE_LOG_DIR}/other_vhosts_access.log vhost_combined</pre><p>3) In /etc/apache2/sites-enabled/000-default</p>
<pre>
$ sudo nano /etc/apache2/sites-enabled/000-default</pre><p>Comment out:</p>
<pre>
# ErrorLog ${APACHE_LOG_DIR}/error.log
# LogLevel warn
# CustomLog ${APACHE_LOG_DIR}/access.log combined</pre><p>Restart apache to complete:</p>
<pre>
sudo /etc/init.d/apache2 restart</pre><p><strong>Turning off rfm12piphp logging:</strong></p>
<p>I&#39;ve updated the bash script to take an argument that turns logging on and off so the first step is to download the latest raspberrypi module from github</p>
<pre>
cd /var/www/emoncms/Modules/raspberrypi
git pull origin master</pre><p>to update exisiting module installed via git.</p>
<p>Next re-copy the rfm12piphp bash script to /etc/init.d:</p>
<pre>
sudo cp /var/www/emoncms/Modules/raspberrypi/rfm12piphp /etc/init.d/
sudo chmod 755 /etc/init.d/rfm12piphp
sudo update-rc.d rfm12piphp defaults</pre><p>To complete restart the rfm12piphp script:</p>
<pre>
sudo service rfm12piphp restart</pre><p><strong>Check that the logging is all off</strong></p>
<p>If you call any of the following they should either report a missing file or if the file already existed before turning logging off, no new entries should appear in the terminal window:</p>
<pre>
tail -f  /var/log/rfm12piphp.log

tail -f  /var/log/apache2/access.log

tail -f  /var/log/apache2/error.log

tail -f  /var/log/apache2/other_vhosts_access.log</pre><p>You may want to delete any exisiting logs to save on disk space:</p>
<pre>
sudo rm /var/log/rfm12piphp.log</pre><p>Both the apache access log and the rfm12pi log are frequently updated logs so turning these logs of should reduce disk writes significantly and also freeup disk space.&nbsp;</p>
<p>Jerome, would you be able to implement this feature in the python gateway and document how to update and turn off the logs?</p>
<p>Il update when the ready-to-go image is up.</p>
<p>Trystan</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11800"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1894.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Ian Eagland&#039;s picture" title="Ian Eagland&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1894.html" title="View user profile.">Ian Eagland</a> on Thu, 02/05/2013 - 11:43.</div>
    <div class="content">
     <p>Hi Trystan</p>
<p>Which directory do you need to be in when&nbsp;you do the <strong><em>git pull origin master &nbsp;</em></strong>command?</p>
<p>Regards</p>
<p>Ian</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11801"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Thu, 02/05/2013 - 11:48.</div>
    <div class="content">
     <p>a yes:</p>
<p>cd /var/www/emoncms/Modules/raspberrypi</p>
<p>Il copy that in above</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11802"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 02/05/2013 - 12:26.</div>
    <div class="content">
     <p>&gt; Jerome, would you be able to implement this feature in the python gateway and document how to update and turn off the logs?</p>
<p>In the init file, there&#39;s this line:</p>
<pre>
DAEMON_ARGS=&quot;--logfile /var/log/rfm2pigateway/rfm2pigateway.log&quot;</pre><p>If replaced by</p>
<pre>
DAEMON_ARGS=&quot;&quot;</pre><p>the logs go to standard output. I suppose this is /dev/null if launched as a service. We could check that.</p>
<p>Besides, the .py gateway is designed with more granularity in the logging. I was planning to add a multiple-choice selector in the GUI to allow for the choice of the logging level : DEBUG, WARNING, INFO, CRITICAL, NO, etc.</p>
<p>I haven&#39;t done it yet because it may be confusing since the php gateway does not have this feature. We could consider all messages in the php interface are of level DEBUG and modify the php script accordingly...</p>
<p>Maintaining both scripts not only means&nbsp; more work but sometimes it can slow down the pace, as each modification will have to be done for both and were the logic differs, it can be painful.</p>
<p>The other reason it is not done yet is that I&#39;d like to propose a new design for the Raspberry Pi module, with</p>
<p>- a part for the radio config and emonGLCD sending and other general settings</p>
<p>- a part for the emoncms target servers (any number of servers, local or remote treated the same way, local being just a particular case)</p>
<p>- a window for the log to be displayed, as you suggested</p>
<p>I think this is worth doing in a dev branch.</p>
<p>I should try to produce a pseudo-screenshot of what I&#39;m thinking of and we could discuss this before I start coding.</p>
<p>I&#39;m being out of topic. Where should we discuss this ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11854"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 04/05/2013 - 11:55.</div>
    <div class="content">
     <p>Hello Jerome, I&#39;ve opened an issue in the raspberrypi github repo to discuss further&nbsp;<a href="https://github.com/emoncms/raspberrypi/issues/30">https://github.com/emoncms/raspberrypi/issues/30</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16714"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sebastian.gallehr&#039;s picture" title="sebastian.gallehr&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by sebastian.gallehr (not verified) on Wed, 11/12/2013 - 13:53.</div>
    <div class="content">
     <p>We have tried a lot of different SD cards incl. class 10 SanDisk on a non gateway Raspi based emonCMS. We want to have local dashboards so it will not be sufficient for us to use the gateway approach. After app. 3 month all SD cards where dead exept one:</p>
<p><strong>Transcend Ultimate-Speed SDHC Class 10 UHS-1 8GB</strong></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16764"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1747.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1747.jpg" alt="Petrik&#039;s picture" title="Petrik&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1747.html" title="View user profile.">Petrik</a> on Sat, 14/12/2013 - 08:48.</div>
    <div class="content">
     <p>&nbsp;</p>
<p>After changing the polyfuse I am able to run a 3.5&quot; 500mb&nbsp;usb hard disc without a need for extra PSU.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16768"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Sat, 14/12/2013 - 11:06.</div>
    <div class="content">
     <p>Petrik: thats interesting, could you share some pictures of what you did?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16775"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1747.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1747.jpg" alt="Petrik&#039;s picture" title="Petrik&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Emoncms - SD cards / usb flash / spinning disk recommendations?</h3>

    <div class="submitted">Submitted by <a href="../user/1747.html" title="View user profile.">Petrik</a> on Sat, 14/12/2013 - 12:50.</div>
    <div class="content">
     <p>Changed polyfuse to 3A version, if I remember correctly the original is 700mA - polyfuse resistance increases when current limit is reached which in practise means that voltage is dropping too low for disc to operate. With 3A polyfuse disc seems to be operating as the polyfuse current limit is not reached.</p>
<p>Bought from ebay link below, these are a bit bigger than original - but could be fitted.</p>
<p><a href="http://www.ebay.com/itm/350680862214">http://www.ebay.com/itm/350680862214</a></p>
<p>Here is a piccie...</p>
<p><img alt="" height="228" src="../../../www.macmadigan.com/mk2i/polyfuse.jpg" style="width: 332px; height: 228px;" width="302" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2312"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-Rew29eZG-FHKwqSQQG2UwxuY8W1SMVqRif7hyB-VGWo" value="form-Rew29eZG-FHKwqSQQG2UwxuY8W1SMVqRif7hyB-VGWo"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/2312 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:28:44 GMT -->
</html>
