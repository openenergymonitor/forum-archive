<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2823 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:05:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>emonTX shield issue | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">emonTX shield issue</h3>
        <span class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Sat, 14/09/2013 - 02:33</span>
        <div class="content"><p>Hello,</p>
<p>I&#39;ve received my OpenEnergyMonitor kit, I&#39;ve soldered the shield, and modified&nbsp;RF12.cpp file. After solve some issues with libraries, I&#39;ve uploaded the default sketch for the shield (with the emontx_lib in a second tab). Compile is ok, and sketch uploaded. After upload (I upload with de shield plugged), green led at the shield turns on (no blink). If I unplug USB and plug again, green led isn&#39;t on, and in my Arduino UNO &quot;L&quot; red led turns on (no blink).</p>
<p>I supose I&#39;m doing something wrong, because green led at the shield must blink, but not, It&#39;s still (no blink) and if I unplug and plug USB no will turn on.</p>
<p>Here is my RF12.cpp&nbsp;http://pastebin.com/NsxFd4Nn</p>
<p>And this is the sketch I&#39;m trying:&nbsp;http://pastebin.com/mUvXMYKJ</p>
<p>&nbsp;</p>
<p>Any idea?&nbsp;</p>
<p>Thanks in advance!</p>
  <div class="forum-topic-navigation clear-block">
          <a href="3031.html" class="topic-previous" title="Go to previous forum topic">‹ Emoncms multiple users with same inputs and feeds</a>
              <a href="1149.html" class="topic-next" title="Go to next forum topic">MODIFY THE PRODUCT (For use in INDIA) ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-15149"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 14/09/2013 - 22:48.</div>
    <div class="content">
     <p>I suggest you test your assembly with the standard example sketch from Github. That is proven. If the example sketch does not function, then either you are not understanding what it should do or you have an assembly fault somewhere. If it does work and does what you expect, then the problem lies with your sketch.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15151"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Sat, 14/09/2013 - 23:44.</div>
    <div class="content">
     <p>Thanks!</p>
<p>with the sample, I can see this on Serial Monitor just after upload sketch (no CT plugged):</p>
<p>em<br />
	OpenEnergyMonitor.org<br />
	Node: 15 Freq: 868Mhz Network: 210<br />
	9774 9733 9733 9677<br />
	6 22 22 10<br />
	18emonTX Shield CT123 example<br />
	OpenEnergyMonitor.org<br />
	Node: 15 Freq: 868Mhz Network: 210<br />
	9765 9740 9740 9642<br />
	36 38 39 40<br />
	36 41 43 41<br />
	34 39 39 42<br />
	33 34 39 40<br />
	54 46 47 48<br />
	35 41 43 42<br />
	35 38 41 43<br />
	...</p>
<p>but if I unplug/plug again, nothing happens, and in screen:</p>
<p>emonTX Shield CT123 example<br />
	OpenEnergyMonitor.org<br />
	Node: 15 Freq: 868Mhz Network: 210</p>
<p>and stops there, no void loop.</p>
<p>If I press reset at Arduino, again the same</p>
<p>emonTX Shield CT123 example<br />
	OpenEnergyMonitor.org<br />
	Node: 15 Freq: 868Mhz Network: 210</p>
<p>and no more.</p>
<p>&nbsp;</p>
<p>Sketches (only changed freq and nodeID)</p>
<p>emonTxShield_CT1234 <a href="http://pastebin.com/8zNhf45p" title="http://pastebin.com/8zNhf45p">http://pastebin.com/8zNhf45p</a></p>
<p>emontx_lib.ino&nbsp;http://pastebin.com/19U6xY3D</p>
<p>&nbsp;</p>
<p>In the other hand, I have a Raspberry Pi with the RFM12 module, and minicom&nbsp;shows something like:</p>
<p>
	&nbsp;-&gt; 4 b<br />
	&gt; 0s<br />
	-&gt; 4 b<br />
	&gt; 0s<br />
	-&gt; 4 b<br />
	&gt; 8b</p>
<p>&gt; 0s<br />
	-&gt; 4 b<br />
	&gt; 0s<br />
	-&gt; 4 b<br />
	&gt; 0s<br />
	-&gt; 4 b</p>
<p>But no input is added in emoncms. I can add inputs via json, but nothing about RF.</p>
<p>&nbsp;</p>
<p>Thanks</p>
<p>
	&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15152"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Sun, 15/09/2013 - 00:08.</div>
    <div class="content">
     <p>Hello again,</p>
<p>I&#39;ve seen that after upload sketch, when I can see correct data in Monitor, green led in the shield blinks, and green led blinks too in the Arduino (TX), but after unplug and plug again, no void loop, no green led blinks in the shield, and in the Arduino, red L led instead TX.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15160"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 15/09/2013 - 11:18.</div>
    <div class="content">
     <p>That seems to me to be a problem with the Arduino rather than with the shield, which is giving believable readings (I expect numbers like that from digital noise from the processor). Is power being supplied by the USB lead? If no, then I think the serial link is blocking. You can prove that by commenting all the Serial.print statements in loop(&nbsp; ), if it continues flashing the green LED (and transmitting), then it is the serial port that is causing the sketch to stop. You could look into &quot;if (Serial)&quot; in the Arduino documentation to see if that would help. I&#39;ve no experience with native Arduinos, so I can&#39;t help much more. I also don&#39;t have a RPi, so the same applies there.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15162"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Sun, 15/09/2013 - 13:32.</div>
    <div class="content">
     <p>Hello,<br />
	Serial.print commented, no data over serial monitor, but green led bliks. Desconnect USB, connect again, and no more blinks, same red &quot;L&quot; led in Arduino. Using external power adaptor, the same.<br />
	Better to buy an emonTx (not a shield)? better support perhaps?</p>
<p>
	Thaks in advance!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15163"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 15/09/2013 - 14:25.</div>
    <div class="content">
     <p>Calypso_rae mentioned a day or two ago that he&#39;s experienced problems with the RFM12B not initialising. Plus I understand some versions of the Arduino perform a reset when you connect the serial port. Try introducing a delay of a couple of seconds at the top of setup( ) before anything else to allow the RFM12B to establish itself before the sketch initialises it.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15165"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Sun, 15/09/2013 - 17:02.</div>
    <div class="content">
     <p>Thank you very much for your interest, it&#39;s a little frustrating and your help is very appreciated.</p>
<p>Delay didn&#39;t help, &nbsp;after upload green blinks, after, &quot;L&quot; led in Arduino.</p>
<p>When green led is on (suppose working) no input shown at emoncms, so double fail. EmonTx&nbsp;and emonBase is more like &quot;working out the box&quot;?</p>
<p>&nbsp;</p>
<p>Thanks!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15171"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 15/09/2013 - 20:50.</div>
    <div class="content">
     <p>If you remove the shield, and load (say) the &quot;blink&quot; sketch (or write your own!), do you observe the same behaviour?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15173"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Sun, 15/09/2013 - 21:35.</div>
    <div class="content">
     <p>If I load the example sketch, and change the led number (to use the shield&#39;s one), unplug, plug... and keep working.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15176"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 16/09/2013 - 00:42.</div>
    <div class="content">
     <p>So let&#39;s get this right: when you use the example sketch for the shield from Github which has the correct IO port for the LED on the shield, it works?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15178"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Mon, 16/09/2013 - 07:18.</div>
    <div class="content">
     <p>When I use the sample sketch for the shield, only change ID and freq, and led works ok, unplug and plug, and doesn't work and no void loop. When I use Arduinos's sample (basic>blink), change de led to the shield's one, works fine, unplug/plug, and keeps working.<br />
I think that I'm going to buy emonTx (not the shield) and nanode...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15181"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 16/09/2013 - 12:28.</div>
    <div class="content">
     <p>Ah, now I understand. I suggest you wait a little longer before you spend more money. I still think the problem might lie with the RFM12B. If you use the Github shield sketch but comment out everything concerning the RFM12B, do you still have the problem?</p>
<p>What were the problems that you had with the libraries? Did you set up your system according to <a href="https://learn.openenergymonitor.org/?redirect=installing-arduino-libraries">this</a>?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15184"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Mon, 16/09/2013 - 13:14.</div>
    <div class="content">
     <p>I&#39;m at work now and I can&#39;t test it now. I think that libraries are ok, if didn&#39;t I supose that could not compile.</p>
<p>Related with libraries, I&#39;ve seen that a had to modify (and I did) a function in RF12.cpp file:</p>
<p>&quot;If you&#39;re using an Arduino Uno (ATmega328) add the following to the #elif defined(__AVR_ATmega168__) || defined(__AVR_ATmega328__) section of void rf12_set_cs(uint8_t pin) function in RF12.cpp file:<br />
	if (pin==5)<br />
	{<br />
	&nbsp;&nbsp; cs_pin = 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //PD5<br />
	&nbsp; #define SS_DDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DDRD<br />
	&nbsp; #define SS_PORT&nbsp;&nbsp;&nbsp;&nbsp; PORTD<br />
	&nbsp; }<br />
	If you&#39;re using an Arduino Leonardo (ATmega32u4) add the following to the #elif defined(__AVR_ATmega168__) || defined(__AVR_ATmega328__) section of void rf12_set_cs(uint8_t pin) function in RF12.cpp file:<br />
	if (pin==5)<br />
	{<br />
	&nbsp;&nbsp; cs_pin = 6;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //PC6<br />
	&nbsp; #define SS_DDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DDRC<br />
	&nbsp; #define SS_PORT&nbsp;&nbsp;&nbsp;&nbsp; PORTC<br />
	&nbsp; }<br />
	&quot;</p>
<p>I have seen the emonTx guide (not the shield one), and nothing is said about this modification, and if I&#39;m not wrong, It uses the same library and a ATmega328 (like my Arduino)</p>
<p>Do I have to do this modification or not? ...I will tray without edit anyway.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15185"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Mon, 16/09/2013 - 13:30.</div>
    <div class="content">
     <p>I&#39;ve read it again, and only have to edit the library if I&#39;m going to use other shield over the emonTx shield, so perhaps this is the mistake. I don&#39;t know what happens if I edit the library but don&#39;t use another shield else; I suppose that must work anyway, but who knows.</p>
<p>...I hope that so much, and everything was ok (...but my English)&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15186"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 16/09/2013 - 13:37.</div>
    <div class="content">
     <p>The full details of the modifications you need to the library and/or hardware are in <a href="http://wiki.openenergymonitor.org/index.php?title=EmonTx_Arduino_Shield">the Wiki</a>.&nbsp;&quot;RFM12B Slave Select (SS) Solder Jumper Setting&quot;. Which you choose will depend on what other hardware you have.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15195"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Mon, 16/09/2013 - 18:20.</div>
    <div class="content">
     <p>If I comment &quot;rf12_initialize(node, freq, networkGroup);&nbsp;&nbsp;&quot; I can plug/unplug and green led keeps working.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15198"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 16/09/2013 - 19:31.</div>
    <div class="content">
     <p>Carefully check the RFM12B module. The connections on the module should line up exactly with those on the PCB. Check that the solder has flowed into the joints and there are no solder bridges between adjacent pads.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15200"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 16/09/2013 - 22:26.</div>
    <div class="content">
     <p>Don&#39;t worry about your English - it is much better than my French.</p>
<p>For the hardware links, because you do not have another shield, you must:</p>
<p>1. For the RFM12B Slave Select (SS) solder jumper setting, connect the solder jumper to 10 by connecting the middle pad to the left pad shown in <a href="../../../wiki.openenergymonitor.org/index.php/File_EmonTx_Shield_top2D.html?title=File:EmonTx_Shield_top2D.png">this image</a>.</p>
<p>2. For the RFM12B Interrupt solder jumper setting, because you have an Arduino Uno, you must connect the right hand solder jumper to Digital 2.</p>
<p>In the RF12.cpp file, because you have an Arduino Uno, find the function &quot;void rf12_set_cs(uint8_t pin)&quot; (near to line 149).&nbsp; Change that function to become</p>
<pre>
void rf12_set_cs(uint8_t pin)
{
#if defined(__AVR_ATmega32U4__)     //Arduino Leonardo
  if (pin==10) cs_pin=6;      // Dig10, PB6    
  if (pin==9)  cs_pin=5;      // Dig9,  PB5
  if (pin==8)  cs_pin=4;      // Dig8,  PB4           
#elif defined(__AVR_ATmega168__) || defined(__AVR_ATmega328__) || defined (__AVR_ATmega328P__) // ATmega168, ATmega328
  if (pin==10) cs_pin = 2;      // Dig10, PB2
  if (pin==9) cs_pin = 1;       // Dig9,  PB1
  if (pin==8) cs_pin = 0;       // Dig8,  PB0
  if (pin==5)
  {
     cs_pin = 5;         //PD5
    #define SS_DDR      DDRD
    #define SS_PORT     PORTD
  }

#endif
}</pre><p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15209"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Tue, 17/09/2013 - 10:16.</div>
    <div class="content">
     <p>Hello,</p>
<p>a friend has checked resistors and solder points, and everything seems to be ok. He has suggested a fail RF12 module. Is there any way to check it? I bought another RF module, but I don&#39;t feel capable of desolder and solder again.</p>
<p>Jumper settings are OK, and checked with library as original and edited.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15210"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 17/09/2013 - 10:40.</div>
    <div class="content">
     <p>The part I cannot understand is, when you leave the serial monitor/USB connected, the RFM12B appears to not lock up, even though you do not detect any messages in the Raspberry Pi. That says to me it is not totally dead.</p>
<p>Sorry, but I don&#39;t know of a way to check the RFM12B. I&#39;ve asked Glyn Hudson to look at this thread, he should know more than me and maybe he can suggest a solution. I think without professional desoldering tools, you would not be able to remove the RFM12B without damaging the main PCB.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15212"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Tue, 17/09/2013 - 11:53.</div>
    <div class="content">
     <p>When I upload the sketch, and green led blinks, I can see valid data over the monitor (if I use a temp sketch, for example, I can see how changes the temp), but I suppose that that is what is sent to serial, but it doesn&#39;t mean (I suppose) that this data is sent to RF correctly. But as you say, not seems to be locked just after upload sketch. Perhaps some &quot;kind of thing&quot; that allows RF to initialize is sent when uploading.</p>
<p>I can bring the board to my work to somebody desolder the RF&nbsp;pcb, but better another sollution.</p>
<p>When I got some time, I would like to try the other RF12&nbsp;pcb&nbsp;connected to an Arduino, and see if my RF12B Pi Board receive some data (help welcome!)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15221"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 17/09/2013 - 20:02.</div>
    <div class="content">
     <p>Back in March, I was struggling to get any kind of RF link to work.&nbsp; At that time, I didn&#39;t know about the pair of test sketches that Glyn had put onto Github.&nbsp; When I eventually managed to get a pair of simple sketches working for myself, I posted them on a thread that I&#39;d already started, <a href="2084.html">Simple test Rig for RFM12Bs</a> (on Tue, 05/03/2013 - 16:55)</p>
<p>These two sketches (<a href="../sites/default/files/RF_checker_tx.ino_.zip"><span style="font-weight: bold;">RF</span>_checker_tx.ino</a> and <a href="../sites/default/files/RF_checker_rx.ino_.zip">RF_checker_rx.ino</a>) require no libraries other than Jeelib and are as simple as they can be.&nbsp; If the LEDs at both ends are flashing in synch, then the RF link is working.</p>
<p>Might be worth giving these sketches a try before reaching for the soldering iron ...</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15227"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 17/09/2013 - 20:43.</div>
    <div class="content">
     <p>Ah, but KiZD can only do that at one end, the other is a Raspberry Pi and that needs a different script to read the data. I think the receiver LED should respond though.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15232"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Wed, 18/09/2013 - 08:11.</div>
    <div class="content">
     <p>Hello,</p>
<p>As Robert said, I only have an Arduino, emonTx shield, RF12B PCB and RF12BPi&nbsp;board (...and a Raspberry Pi). I&#39;m waiting to receive an Arduino mini (it was cheaper than a spare Atmega328PU), but it cames from Asia, so... a couple of weeks.</p>
<p>I&#39;m going to have a look at Martin&#39;s corner, perhaps I can find in his firsts&nbsp;RF12Pi&nbsp;posts some test related that could help me.</p>
<p>I have ordered an emonTx&nbsp;(not the shield), wich I will receive next week. In my &quot;final&quot; setup I want to measure three mains and optical meter, and spare plugs in the kitchen, but I didn&#39;t want to buy all boards at the beginning without any testing; but I can&#39;t stop at this point with any good test; I have spent a lot of money and this has to work.</p>
<p>&nbsp;</p>
<p>Thanks!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15236"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 18/09/2013 - 10:32.</div>
    <div class="content">
     <p>OK, so the various physical parameters (voltage, current, meter flashes etc.) are conditioned via the emonTx shield.&nbsp; The relevant signals are sampled/captured by the Uno and the resulting data is transmitted by RF via the RFM12B board.&nbsp; I think I understand this part OK.&nbsp; For the purpose of checking the operation of the RF link, the Uno could simply be running my <strong>RF_checker_tx.ino</strong> sketch, or any other similar tool.</p>
<p>The equipment at the receiving end is &quot;RF12B PCB and RF12BPi&nbsp;board (...and a Raspberry Pi).&quot;&nbsp; I&#39;ve not used any of these items myself, but is there not some simple means by which a specified data byte in each transmitted message can be made to toggle an LED on and off (or some equivalent indication as to what&#39;s happening within the RF paylaod)?&nbsp; That&#39;s all my <strong>RF_checker_rx.ino</strong>&nbsp; does.</p>
<p>Using a simple RF checker tool at the transmit end is surely an excellent way to check all subsequent components in the data path, such as emonCMS.&nbsp; Suitable test data can then by synthesised without the bother of setting up all the right physical conditions.&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15242"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Wed, 18/09/2013 - 18:46.</div>
    <div class="content">
     <p>I&#39;ve loaded&nbsp;RF_checker_tx.ino in emonTx&nbsp;Shield. As I don&#39;t have at the moment another Arduino, I can&#39;t do the test, but I don&#39;t have the red &quot;L&quot; led at Arduino&nbsp;when I unplug/plug. &nbsp;I don&#39;t know what does it mean.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15247"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Wed, 18/09/2013 - 20:27.</div>
    <div class="content">
     <p>OK, so you&#39;ve loaded this sketch into your Arduino.&nbsp; The emonTx Shield does not have a processor and is not playing any part in this test.&nbsp; The sole purpose of this test is to check that your RF link is working.&nbsp;</p>
<p>If a simple example sketch such as blink.ino runs correctly on your Arduino, then my RF_checker_tx.ino sketch should be running correctly too.&nbsp; You should be able to see the on-board LED blinking in both cases.&nbsp; If the LED is not blinking when the&nbsp; RF_checker_tx program is loaded, that could be because the RFM12B has not been connected correctly.&nbsp; The Arduino needs to get an answer from the RFM12B whenever one is expected, otherwise the sketch will wait for ever and nothing will happen.</p>
<p>Note:&nbsp; In each of my checker sketches, the LED_pin is defined as &quot;5&quot;.&nbsp; For a Uno, the on-board LED is driven from digital pin 13, so you will need to change the LED_pin definition to &quot;13&quot;.&nbsp; Otherwise, the on-board LED will not blink.</p>
<p>Next you will need to find out how to extract data from RF messages that are received at your &quot;RF12BPi&nbsp;board&quot;.&nbsp;&nbsp; I&#39;ve no idea how to communicate with this board, but it can&#39;t be all that difficult.&nbsp; Hopefully someone will be able to help at this stage ...</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15270"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 19/09/2013 - 10:42.</div>
    <div class="content">
     <p>I&#39;ve asked Paul Reed, who knows about the Pi, he says he&#39;ll have a look here this evening.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15284"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 19/09/2013 - 18:52.</div>
    <div class="content">
     <p>Hi KiZD</p>
<p>I can&#39;t help with the Arduino/Shield side of things, but we could try a few things with the Raspberry Pi, to try and find out what is going on.</p>
<p>Firstly, check the status of your rfm12pi module;</p>
<pre>
$ sudo service rfm12piphp status</pre><p>does it say that the &#39;Log is turned off&#39; and that the service is &#39;running&#39;?</p>
<p>If so, try turning the logging on by;</p>
<pre>
$&nbsp;sudo service rfm12piphp restart log</pre><p>and then have a look at the log by;</p>
<pre>
$ tail -F -n 40&nbsp; /var/log/rfm12piphp.log</pre><p>..and you should then see the configuration details of your RasPi module, frequency, etc, followed by a stream of data being received in real time. I&#39;ve shown my log below.</p>
<p>To exit the log type Ctrl-C and to switch off the logging type;</p>
<pre>
$&nbsp;sudo service rfm12piphp restart</pre><p>Can you copy your log and post it so Robert, Robin and myself can try and assist further.</p>
<p>Paul</p>
<p>--------------------</p>
<p>$ tail -F -n 40&nbsp; /var/log/rfm12piphp.log<br />
	MESSAGE RX:&gt; 15i<br />
	BASEID SET CORRECTLY<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 8b<br />
	FREQUENCY SET CORRECTLY<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 210g<br />
	GROUP SET CORRECTLY<br />
	DATA RX:<br />
	DATA RX: 10 28 2 21 0 0 0 47 95 220 6<br />
	DATA RX: 18 201 5 56 12<br />
	DATA RX: 10 33 2 21 0 0 0 69 95 220 6<br />
	DATA RX: 10 55 2 20 0 0 0 102 95 220 6<br />
	DATA RX: 10 39 2 21 0 0 0 49 95 220 6<br />
	DATA RX: 10 42 2 21 0 0 0 31 95 220 6<br />
	DATA RX: 10 48 2 20 0 0 0 49 95 220 6<br />
	DATA RX: 18 201 5 39 12<br />
	Sending remote dataDATA RX: 10 50 2 20 0 0 0 96 95 220 6</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15468"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4258.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="KiZD&#039;s picture" title="KiZD&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/4258.html" title="View user profile.">KiZD</a> on Sun, 29/09/2013 - 00:10.</div>
    <div class="content">
     <p>Thank you all</p>
<p>I&#39;ve received an emonTx (not the shield) and another RF module. I&#39;ve desoldered&nbsp;RF, and solder the new one, but this time using little pieces of wire. Sketch runs ok, and data is received. Turn off, turn on... and keeps running; so there was some issue with the RF. I&#39;ll try to check it using another Arduino and the test sketch posted above.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Thanks!!!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16017"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3648.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="geurink33&#039;s picture" title="geurink33&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: emonTX shield issue</h3>

    <div class="submitted">Submitted by <a href="../user/3648.html" title="View user profile.">geurink33</a> on Tue, 29/10/2013 - 20:18.</div>
    <div class="content">
     <p>Hello,</p>
<p>&nbsp;</p>
<p>I have a same kind of problem. When i give the tail command its gives everything corretly.</p>
<p>Group set correctly</p>
<p>data rx: (in a to small square) 0001</p>
<p>root@raspberrypi:/home/pi/RFM2Pi# tail -F -n 40 /var/log/rfm12piphp.log</p>
<p>DATA RX:<br />
	MESSAGE RX:&gt; 8b<br />
	FREQUENCY SET CORRECTLY<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 210g<br />
	GROUP SET CORRECTLY<br />
	DATA RX:<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 8b<br />
	FREQUENCY SET CORRECTLY<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 210g<br />
	GROUP SET CORRECTLY<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 8b<br />
	FREQUENCY SET CORRECTLY<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 210g<br />
	GROUP SET CORRECTLY<br />
	DATA RX:<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 210g<br />
	GROUP SET CORRECTLY<br />
	DATA RX:<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 210g<br />
	GROUP SET CORRECTLY<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 8b<br />
	FREQUENCY SET CORRECTLY<br />
	DATA RX:<br />
	MESSAGE RX:&gt; 210g<br />
	GROUP SET CORRECTLY<br />
	DATA RX:</p>
<p>when i connect the same EmonTX on Arduino and look at the serial monitor i get all the data</p>
<p>regards Frans</p>
<p>&nbsp;</p>
<p>
	&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2823"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-_2n22mO1NBli0QQtH8t-skvHbz4KjbBN4ZAtumShVEU" value="form-_2n22mO1NBli0QQtH8t-skvHbz4KjbBN4ZAtumShVEU"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/2823 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:05:31 GMT -->
</html>
