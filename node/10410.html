<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10410 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:01:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Energy Monitoring Challenges | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Energy Monitoring Challenges</h3>
        <span class="submitted">Submitted by <a href="../user/7929.html" title="View user profile.">phethuk</a> on Mon, 30/03/2015 - 14:30</span>
        <div class="content"><p>I am very keen to start a energy monitoring project, but I have a couple of questions/challenges which I hope I can get some advice on.</p>
<p>First, a bit of background context. I have a solar PV system consisting of 14 x 280W panels with 14 Enphase 250 micro inverters, monitored by an Enphase Envoy controller which sends data to the manufacturer&#39;s data warehouse which I can access and view my historical production data. The Envoy also has a local web access to show status and current production. I screen scrape this local website and use it to graphically display current production on a Raspberry Pi with a 2.8&quot; Adafruit TFT screen. I also have an OWL energy monitor, supplied by the installer, which is almost entirely useless as it cannot distinguish between import/export. The utility meter is in a cupboard mounted on an outside wall and has no access to consumer mains power. The consumer unit is on the inside of the same wall in the downstairs lavatory (again no accessible power). The solar PV is wired through the wall to the generation meter then to the consumer unit, these two are flush against each other. I assume that this is a &quot;Type 2&quot; system.</p>
<p>I would dearly like to integrate consumption/import/export, on my own version of &quot;emonGLCD&quot;. However, to the questions/challenges:</p>
<p>1. From what I read, in order to distinguish import from export emonTX needs the AC-AC voltage sensor, but I do not have access to the domestic mains in a convenient manner. Is there another off the shelf way of doing this?<br />
2. I did think of pulse counting on the utility meter and emonTX supports this, I believe. Would this be an adequate substitute?<br />
3. It occurs to me that the Solar iBoost is already doing this detection and has a CT which is directional (it even has an arrow on it). Is this sort of CT available for emonTX?<br />
4. The Solar iBoost uses a wireless sender to communicate with its immersion controller, would it be possible to &quot;listen in&quot; to the traffic and use this information?</p>
<p>
Anyway, enough rambling. I would be grateful for any thoughts/advice.</p>
<p>Regards,</p>
<p>Paul</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10423.html" class="topic-previous" title="Go to previous forum topic">‹ 3 Phase Monitoring using 3 EmonTX V3&#039;s - some questions</a>
              <a href="10417.html" class="topic-next" title="Go to next forum topic">No Input in Emoncms ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-29199"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy Monitoring Challenges</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 30/03/2015 - 16:34.</div>
    <div class="content">
     <p>The short answers:<br />
1. No.<br />
2. No.<br />
3. Probably not.<br />
4. Probably not.</p>
<p>Now the long answers:</p>
<p>1.There is no other way to detect the relationship between current and voltage, and that is what you need to determine the direction of power flow. If you can measure only the PV generation, then you can assume you know the direction of power flow (not counting a small loss overnight when the inverters consume power). If you can measure only the rest of the house, you can assume you know the direction of power flow there, because everything only consumes power. (This is essentially the definition of a Type 1 system, which does not absolutely need a voltage monitor.)</p>
<p>2. As far as I'm aware, no electricity meter emits pulses when exporting, unless it does not distinguish between import and export, in which case you might to be charged for the energy you export!  </p>
<p>3. I doubt very much that you could tap across the other CT, but even when you do, you still need the voltage signal to compare it against, and there's the complication of not knowing the calibration so it won't actually help. The arrow is telling you the phase of the output in relation to the input - when the instantaneous current is in the direction of the arrow, the phase dot on the secondary winding denotes positive current out of that end.</p>
<p>4. You would need to know the frequency and the protocol that it uses. Someone might have tried to do this, but a quick search revealed nothing. I wouldn't be too hopeful of finding anything, as manufacturers tend to keep a very tight hold on that sort of information.</p>
<p>I think the pragmatic answer is to have a socket outlet fitted conveniently close to the consumer unit, having checked that there's enough room inside to put CTs on the relevant cables.<br />
Or is there anywhere else conveniently close to the cable runs? You need one CT on the feed from the meter (this need not be inside the consumer unit, neither does it matter which side of the meter or the wall it is), and one on the PV infeed (again, this need not be inside the consumer unit), for your "Type 2" installation. How far away is the nearest place for a socket outlet? My thinking is it's relatively easy to extend the CT cables, and will probably be better than installing a socket in a questionable location.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-29232"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7929.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="phethuk&#039;s picture" title="phethuk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy Monitoring Challenges</h3>

    <div class="submitted">Submitted by <a href="../user/7929.html" title="View user profile.">phethuk</a> on Tue, 31/03/2015 - 19:23.</div>
    <div class="content">
     <p>Thanks for the comprehensive reply. One slight misunderstanding, although it would be ideal to measure import/export/consumption/production in an integrated manner, it would be sufficient for me at this stage to establish import. I already have production via the Enphase Envoy and if I have import I can indicate the surplus available, if any. Hence, it looks to me that pulse counting on the utility meter will show when I am importing, which will do while I decide whether major building work to put power outside is worth it!</p>
<p>So, I suppose I shall order an emonTx V3, the optical pulse counting kit and the base station components.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-29256"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7706.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="coldpenguin&#039;s picture" title="coldpenguin&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy Monitoring Challenges</h3>

    <div class="submitted">Submitted by <a href="../user/7706.html" title="View user profile.">coldpenguin</a> on Wed, 01/04/2015 - 09:05.</div>
    <div class="content">
     <p>I too have the iBoost, and a similar setup. It can determine the direction of the current flow, although I have found that it appears to err on the side of caution and doesn't cut in that often for me. I suspect that it does this by using a combination of the left and right hand rules for magnetic induction of current. Haven't looked into it that far. </p>
<p>Image 1 shows two blocks where my export is almost 0 when the iBoost kicked in.</p>
<p>Otherwise in theory, if you measure one circuit where you know the direction all the time, then you can infer the direction of other circuits. i.e. your sockets will always be importing. Your solar will almost always be exporting (small import overnight with these inverters).</p>
<p>If you are up for modifying how your network works, there are methods where you can import the per-panel information into emonCMS 'directly' rather than a screen scrape. I have been playing with it the last two days trying to decide how best to graph it.</p>
<p>I have panels in different aspects, and get different shading etc. at different times of the day. Image 2 shows how they have started to react this morning. Half of the panels are yet to start really generating, the other half started perking up between 7:30 and 8:30</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-29300"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7929.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="phethuk&#039;s picture" title="phethuk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy Monitoring Challenges</h3>

    <div class="submitted">Submitted by <a href="../user/7929.html" title="View user profile.">phethuk</a> on Wed, 01/04/2015 - 22:36.</div>
    <div class="content">
     <p>Interesting. Of course, I could use the Enphase API, may be in the next phase of development. I would be interested in how you have modified the grid operation. Like you I have different sets of panels, two sets on five either side of the gable on the main roof and four on the garage.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-29314"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7706.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="coldpenguin&#039;s picture" title="coldpenguin&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy Monitoring Challenges</h3>

    <div class="submitted">Submitted by <a href="../user/7706.html" title="View user profile.">coldpenguin</a> on Thu, 02/04/2015 - 07:36.</div>
    <div class="content">
     <p>Please don't misunderstand me, you should NEVER change the grid settings unless directed to by emphases or a qualified electrician. They form part of the safety configuration of your solar panel configuration, including disconnection times and anti-islanding precautions.</p>
<p>My issue with the emphases API is that one day it may be withdrawn, charged for, or the connection to emphases might disappear.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-29326"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7929.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="phethuk&#039;s picture" title="phethuk&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy Monitoring Challenges</h3>

    <div class="submitted">Submitted by <a href="../user/7929.html" title="View user profile.">phethuk</a> on Thu, 02/04/2015 - 09:38.</div>
    <div class="content">
     <p>I was only asking about &quot;<em>If you are up for modifying how your network works, there are methods where you can import the per-panel information into emonCMS &#39;directly&#39; rather than a screen scrape&quot;</em>, please could clarify what was meant by that?</p>
<p>I agree with the remarks about the Enphase API, they do have a history of modifying the terms &amp; conditions after the event.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10410"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-98VcAY40uWjxZYAeTcvVQdWAZoIcRbZN-F222FHGcQ0" value="form-98VcAY40uWjxZYAeTcvVQdWAZoIcRbZN-F222FHGcQ0"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
