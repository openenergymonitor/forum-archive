<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Is there a way of testing the EmonTX shield? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/emon/sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="/emon/modules/node/node.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/defaults.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/system.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/system-menus.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/user/user.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/modules/mollom/mollom.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/forum/forum.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/modules/views/css/views.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/comment/comment.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/themes/emon3/style.css?r" />
<style type="text/css" media="all">@import "/emon/sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="/emon/" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="/emon/">Home</a> » <a href="/emon/forum">Forums</a> » <a href="/emon/forum/4">Archived: Hardware</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Is there a way of testing the EmonTX shield?</h3>
        <span class="submitted">Submitted by Guest on Thu, 26/09/2013 - 21:28</span>
        <div class="content"><p>I&#39;ve just finished building my EmonTX shield for my Arduino&nbsp;Uno. I *think* I soldered everything right (this is my first hardware project). My base station is a Raspberry Pi with the RFM12Pi expansion board.&nbsp;</p>
<p>Unfortunately, after firing everything up I don&#39;t see any input nodes on my&nbsp;econcms website and looking at the logs for RFM12Pi I can see that it&#39;s not receiving any data from my shield.</p>
<p>I&#39;m using this sketch for the arduino with shield:&nbsp;https://github.com/openenergymonitor/emonTxFirmware/blob/master/emonTxShield/emonTxShield_CT1234/emonTxShield_CT1234.ino</p>
<p>Here&#39;s the output I get from the serial port when running the script:</p>
<blockquote><pre>
emonTX Shield CT123 example
OpenEnergyMonitor.org
Node: 10 Freq: 433Mhz Network: 210
10134 10084 0 10174
27 35 0 46
7 15 0 39
7 17 0 39
15 20 0 39</pre></blockquote>
<p>Then it just seems to hang there. So here&#39;s my question:&nbsp;</p>
<p>How can I test whether my shield is actually soldered up right, and the components are working correctly? Sorry if this is a really dumb question, am very new to anything hardware related (am a software developer by trade).&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="/emon/node/2890" class="topic-previous" title="Go to previous forum topic">‹ Short circuit issue on EmonTx2.2 board</a>
              <a href="/emon/node/2763" class="topic-next" title="Go to next forum topic">clip CT installation ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-15444"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/924" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Is there a way of testing the EmonTX shield?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/924" title="View user profile.">Robert Wall</a> on Fri, 27/09/2013 - 11:41.</div>
    <div class="content">
     <p>It would appear that the problem lies with your RFM12B module. It has run through the initialisation apparently correctly, and started running the main loop (because it has produced numbers to the serial output), but it has hung when it entered the branch to send the data by radio. I&#39;m betting that it is not returning from send_rf_data();</p>
<p>Have you soldered the links on the shield p.c.b. (see the <a href="http://wiki.openenergymonitor.org/index.php?title=EmonTx_Arduino_Shield#emonTx_Arduino_Shield">assembly instructions in the build guide</a> for pictures), and are all the soldered joints around the RFM12B module good - look particularly for whiskers of solder bridging adjacent pads.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15478"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/default_0.png" alt="donturner&#039;s picture" title="donturner&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Is there a way of testing the EmonTX shield?</h3>

    <div class="submitted">Submitted by donturner (not verified) on Sun, 29/09/2013 - 20:07.</div>
    <div class="content">
     <p>Many thanks for your response Robert. You&#39;re right, there&#39;s definitely a problem calling send_rf_data(). Commenting out that line and the loop runs correctly.&nbsp;</p>
<p>Thing is, I&#39;ve checked all the solder joints around the RFM12B and very carefully cleaned them with a razor blade so there shouldn&#39;t be any whiskers of solder between them.&nbsp;</p>
<p>To be honest, I don&#39;t know where to start with debugging it further. Is there a way I can test each of the links using a sketch for the RFM12B? Or delve into send_rf_data() to see exactly where it&#39;s failing?&nbsp;</p>
<p>Or should I put it down to my inexperience and buy another shield hoping that my soldering is better next time round?</p>
<p>Many thanks for your help thus far.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-15482"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/default_0.png" alt="donturner&#039;s picture" title="donturner&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Is there a way of testing the EmonTX shield?</h3>

    <div class="submitted">Submitted by donturner (not verified) on Sun, 29/09/2013 - 21:40.</div>
    <div class="content">
     <p>Quick update. I resoldered all the joints round the RFM12B and the jumpers and guess what....it works! Must&#39;ve been a dodgy contact somewhere. Thanks again for your help, the pointer to the RFM12B&nbsp;helped me narrow down the problem.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="/emon/node/2877"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-Owlf1p2jJvmedTTv2RuXoA_A1t_xUuTHcoC7iZ_7ozs" value="form-Owlf1p2jJvmedTTv2RuXoA_A1t_xUuTHcoC7iZ_7ozs"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org">https://community.openenergymonitor.org</a></p>
   
</div>

<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
