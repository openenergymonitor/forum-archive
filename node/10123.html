<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10123 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:46:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Application specific dashboards: Heatpump | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Application specific dashboards: Heatpump</h3>
        <span class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 03/02/2015 - 18:02</span>
        <div class="content"><p>I&#39;ve been experimenting with the idea of a pre-built heatpump dashboard - a bit like the myelectric module for home energy monitoring.</p>
<p>The initial concept is up on emoncms.org under the Extras &gt; heatpump tab. The heatpump fan turns in relation to power input a bit like the <a href="http://winderful.diascreative.net/">winderful</a> windturbine :)</p>
<p>Configuration is by naming convention at the moment, the dashboard looks automatically for feeds named or containing the words: heatpump_power, heatpump_kwh, heatpump_flow_temp, heatpump_return_temp, ambient_temp and room_temp, using these if present.</p>
<p>
<a href="../sites/default/files/myheatpump.png"><img alt="" src="../sites/default/files/myheatpump.png" style="height:353px; width:400px" /></a></p>
<p>Next I plan to extend this for heatpump monitors that also monitor either flow rate or heat output in order to show COP information including a daily power input/ heat output bar graph below the heatpump graphic.</p>
<p>I&#39;ve been doing this work with<a href="../user/53.html"> John Cantor</a> who is using the OpenEnergyMonitor system for heatpump monitoring.</p>
<p>The source code for this can be found here if youd like to try it on your own install, just drop the folder heatpump into your emoncms modules directory: <a href="https://github.com/emoncms/development/tree/master/Modules/heatpump" title="https://github.com/emoncms/development/tree/master/Modules/heatpump">https://github.com/emoncms/development/tree/master/Modules/heatpump</a></p>
  <div class="forum-topic-navigation clear-block">
          <a href="10296.html" class="topic-previous" title="Go to previous forum topic">‹ Watt hour bargraph on web hosted emoncms change yesterday seems to cause a problem</a>
              <a href="10280.html" class="topic-next" title="Go to next forum topic">can not connect to wifi ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-27375"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Tue, 03/02/2015 - 19:25.</div>
    <div class="content">
     <p>This is pretty cool Trystan/John - well done. Any chance the module will be configurable (rather than looking for &#39;named&#39; feeds)?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27383"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Tue, 03/02/2015 - 20:58.</div>
    <div class="content">
     <p>Thanks Ben, yes possibly in future versions maybe it could use naming convention to start with and then have the option to configure, I think it could get interesting when node:input names are set in emonhub possibly connected to firmware version on remote node then those names could carry all the way through so that a set of standard dashboards just work out of the box with particular firmware/hardware setups.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27421"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5437.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="EmilianoM&#039;s picture" title="EmilianoM&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/5437.html" title="View user profile.">EmilianoM</a> on Wed, 04/02/2015 - 19:22.</div>
    <div class="content">
     <p>Very nice.</p>
<p>What would be the minimum OEM standard hardware to support it ?</p>
<p>I currently own emontx + 2 emonth. How to measure 2 additional temperatures of the heath pump ?</p>
<p>Thanks,</p>
<p>Emiliano.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27861"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Wed, 18/02/2015 - 13:03.</div>
    <div class="content">
     <p>Hello Emiliano, the dashboard makes use of:</p>
<p>1 AC Power measurement of Heatpump input and 4x temperature measurements:</p>
<p>- Flow temperature sensor<br />
- Return temperature sensor<br />
- Ambient temperature<br />
- Internal temperature</p>
<p>You could do this with one emontx with the 4 temperature sensors connected in parallel to the emontx DS18B20 temperature sensing port.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28432"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Sat, 07/03/2015 - 00:48.</div>
    <div class="content">
     <p>Hi Trystan, thought I would let you know I have just extended one of my Arduino nodes (next to my underfloor heating manifold) to include temp measurements of the flow/return feeds from the heatpump. The pipe length from the manifold to the heatpump is only about 5-6m but goes thru my concrete slab and then underground/outside before reaching the outdoor unit. So ideally the temp measurements would be done at the heatpump itself but this will have to do for now.</p>
<p>So I have your heatpump dashboard up and running with all inputs configured. Unfortunately (or fortunately ;)) it is still very warm here (early autumn) so no need for underfloor heating.&nbsp;</p>
<p>Starting to build up quite an impressive array of dashboards now, thanks to your excellent work! Looking forward to seeing what is next ;).</p>
<p>Once I have some decent data, i.e. once the heatpump is turned on, I will let you know how it looks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28439"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5437.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="EmilianoM&#039;s picture" title="EmilianoM&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/5437.html" title="View user profile.">EmilianoM</a> on Sat, 07/03/2015 - 14:58.</div>
    <div class="content">
     <blockquote><p>You could do this with one emontx with the 4 temperature sensors connected in parallel to the emontx DS18B20 temperature sensing port.</p>
</blockquote>
<p>Is there a standard way to do it with a pre-built emonTx&nbsp;(I bought it about 13 months ago).</p>
<p>I am not an Arduino genius :-)&nbsp;</p>
<p>Thanks again for you reply.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28442"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 07/03/2015 - 16:27.</div>
    <div class="content">
     <p>There are notes and links for further reading in Building Blocks > DS18B20 temperature sensing</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28445"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5437.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="EmilianoM&#039;s picture" title="EmilianoM&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/5437.html" title="View user profile.">EmilianoM</a> on Sat, 07/03/2015 - 17:21.</div>
    <div class="content">
     <p>The bad point, at least for me, is here:</p>
<blockquote><p>A DS18B20 digital temperature sensor can easily be connected by the <strong>emonTx V3</strong> by connecting the sensor into the emonTx V3&#39;s screw terminal block.&nbsp;<strong>The default firmware supports auto-detecting one DS18B20 sensor</strong>. Many DS18B20&#39;s can be daisy-chained but this will <strong>require changes being made to the pre-installed emonTx firmware</strong></p>
</blockquote>
<p>How to do it in a supported way ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28447"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 07/03/2015 - 19:31.</div>
    <div class="content">
     <p>Do you mean "supports auto-detecting 4 sensors?"</p>
<p><strike>That generally does not work well because the order in which the sensors respond, therefore in emonCMS the order in which they ultimately appear, is not defined.</strike> [See the edit below.] The safe way is to use the test sketch to read back the serial number of each sensor, hard code those numbers into your sketch and then address the sensors individually (as in the emonCMS V2 sketch).</p>
<p>Beware also that you might need a separate 5 V dc power supply for your emonTx V3 as the ac adapter power supply was not designed for, and is not guaranteed to operate correctly with, 4 sensors. </p>
<p>Edit:<br />
After closely studying the search algorithm, it appears that the order in which the sensors are found <i>is</i> deterministic, but the order is not obvious. The order would appear to be from lowest address to highest address <u>when the bit order of the address is reversed</u>.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28470"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7229.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="truzzman&#039;s picture" title="truzzman&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Application specific dashboards: Heatpump</h3>

    <div class="submitted">Submitted by <a href="../user/7229.html" title="View user profile.">truzzman</a> on Sun, 08/03/2015 - 19:31.</div>
    <div class="content">
     <p><a href="10233.html" title="http://openenergymonitor.org/emon/node/10233">http://openenergymonitor.org/emon/node/10233</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10123"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-n8Q_YFrRRrAnIJLOp9sN28FlcDG5qVodQO2O4UBWOaM" value="form-n8Q_YFrRRrAnIJLOp9sN28FlcDG5qVodQO2O4UBWOaM"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
