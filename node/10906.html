<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10906 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:47:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Can anyone suggest a way of getting a power is over x reading out to IFTTT | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/5.html">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>
        <span class="submitted">Submitted by <a href="../user/7997.html" title="View user profile.">sheppy</a> on Fri, 26/06/2015 - 07:08</span>
        <div class="content"><p>Its the middle of winter down in New Zealand and I am planning ahead to summer and when I will have spare solar available. Can anyone suggest a way of getting a spare power is available and is not available message into IFTTT?</p>
<p>Later in the day once the HWC has reached its thermostat limit and the Spa is up to temperature I&#39;d like to trigger a few appliances including the Bedroom Aircon&nbsp;to mop up any spare power rather than sell it back to the grid at the pittifull&nbsp;rate we get down here.</p>
<p>I have both MQTTWarn and OpenHAB running on the pi so it should be possible somehow.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11275.html" class="topic-previous" title="Go to previous forum topic">‹ JSON api - multiple IDs</a>
              <a href="11290.html" class="topic-next" title="Go to next forum topic">emoncms base MQTT topic ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-31758"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Sat, 27/06/2015 - 22:07.</div>
    <div class="content">
     <p>What or how do you control the air conditioner?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31759"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7997.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sheppy&#039;s picture" title="sheppy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7997.html" title="View user profile.">sheppy</a> on Sat, 27/06/2015 - 22:13.</div>
    <div class="content">
     <p>Bedroom one via IFTTT and Sensibo which is an internet connected smart&nbsp;controller,</p>
<p>rest of house via IFTTT and Ecobee&#39;s&nbsp;which is another internet connected smart thermostat</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31760"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Sat, 27/06/2015 - 22:20.</div>
    <div class="content">
     <p>I had wondered if you were using WeMo as there is a Linux support system for that now.</p>
<p>Linux to IFTTT looks challenging though.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31761"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7997.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sheppy&#039;s picture" title="sheppy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7997.html" title="View user profile.">sheppy</a> on Sun, 28/06/2015 - 06:08.</div>
    <div class="content">
     <p>Nope I&#39;m not using that.</p>
<p>I haven&#39;t seen an obvious route yet between EMONCMS&nbsp;and IFTTT&nbsp;apart from publishing it to something like Twitter. I&#39;m hoping someone will have an answer. I&#39;m thinking a combination of adding feeds together in EMONCMS, then removing a calibration value followed by allow positive to create the spare power available signal, but I&#39;m unsure where to go from there.</p>
<p>suggestions&nbsp;anyone?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31776"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Mon, 29/06/2015 - 05:11.</div>
    <div class="content">
     <p>I&#39;d say use Node-RED and IFTT&#39;s new &quot;Maker&quot; channel to cook up a recipe that integrates emoncms and IFTT.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31779"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7997.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sheppy&#039;s picture" title="sheppy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7997.html" title="View user profile.">sheppy</a> on Mon, 29/06/2015 - 07:05.</div>
    <div class="content">
     <p>Thanks for the reply, do you know if it uses many resources?&nbsp;I&#39;ve already got MQTTWarn running to translate MQTT&nbsp;topics into a form that EMONCMS can see and OPENHAB&nbsp;which is written in Java to talk to my ECOBEE thermostat. I&#39;m guessing they&#39;ll all play nicely together but I&#39;m concerned the pi2&nbsp;may run out of power or memory.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31793"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Mon, 29/06/2015 - 19:23.</div>
    <div class="content">
     <p>It can be demanding on memory especially that you have so many things running already. I believe the way to go is for a cloud VM, running all these things and&nbsp;then use the RPi as a dummy forwarder only. There are pretty darn cheap deals on digitalocean for example.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-31794"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7997.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sheppy&#039;s picture" title="sheppy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7997.html" title="View user profile.">sheppy</a> on Mon, 29/06/2015 - 22:17.</div>
    <div class="content">
     <p>Thanks, I did wonder. Maybe I can do something with MQTTWarn and a dummy twitter account. I&#39;ll experiment further. A cloud account could work however it does add an extra layer of complication into things that&#39;s not under my control.</p>
<p>Can anyone suggest any way other than through Node Red to get a&nbsp;EMONCMS&nbsp;feed into IFTTT?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34185"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Wed, 16/09/2015 - 10:26.</div>
    <div class="content">
     <p>There is now IFTTT Maker which allows the sending of data or simply the on, off or toggle command.</p>
<p>I have a &quot;working&quot; system using php to send the on or off command. However today the system sent&nbsp;the command, IFTTT&nbsp;received and logged it, but the mode on the WeMo switch didn&#39;t change. There is also appears to be a significant delay between the command being sent and the switch changing.</p>
<p>The best option is to use the open source python code run on your local RPi to do the controlling, however I haven&#39;t yet integrated this into my project yet. I am using for a pool pump.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34186"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7997.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sheppy&#039;s picture" title="sheppy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7997.html" title="View user profile.">sheppy</a> on Wed, 16/09/2015 - 10:37.</div>
    <div class="content">
     <p>Things have moved on a bit since I last posted in this thread. I now use Openhab&nbsp;on the pi taking MQTT inputs from Emonhub and controlling things including my pool pump which turns on when the sun is out and turns off when it goes in with the aim of completing my daily filtering cycle using spare solar power. It works well. Openhab talks direct to wimo&nbsp;I believe if you are interested in a non cloud solution.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34222"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Thu, 17/09/2015 - 00:03.</div>
    <div class="content">
     <p>This OpenHab looks like it could be a good solution.</p>
<p>Have you had any experience integrating IR remote controls with it?<br />
The only two I found listed that it supports are very expensive.</p>
<p>Are there any good threads on here or blogs else where on the integration of EMONCMS and Openhab?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34223"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7997.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sheppy&#039;s picture" title="sheppy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7997.html" title="View user profile.">sheppy</a> on Thu, 17/09/2015 - 00:23.</div>
    <div class="content">
     <p>I use a 433mhz transceiver with it and a home easy (trust home automation, previously known as Coco in Australia / NZ)&nbsp;remote control as well as the&nbsp;iPhone app to switch things on and off. Can&#39;t comment on the IR kit as I&#39;ve not tried any.&nbsp;</p>
<p>There is an EMONCMS binding but it didn&#39;t seem to work with my emonpi image so I used the raw MQTT&nbsp;messages from the Emonhub part of EMONCMS&nbsp;as inputs. It may work with the normal installation but I&#39;ve never tried it.</p>
<p>For basic Openhab&nbsp;installation take a look at <a href="http://www.homeautomationforgeeks.com/" title="www.homeautomationforgeeks.com">www.homeautomationforgeeks.com</a> i modified the instructions by installing it into /home/pi/data/Openhab&nbsp;as Openhab likes to be able to write to its directory tree and by default the low write raspberry pi install only allows writing into a small number of locations. You&#39;ll also need to type rpi-rw&nbsp;before you install to allow writing to the rest of the file&nbsp;system.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34390"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Wed, 23/09/2015 - 05:32.</div>
    <div class="content">
     <p>Thanks for this.</p>
<p>When you say you installed it to the&nbsp;/home/pi/data/Openhab folder, do you mean you copied all the contents of the&nbsp;distribution-1.7.0-runtime.zip into this folder?</p>
<p>I tried this, but I receive the command not found when I try to run the start.sh file.</p>
<p>Also if you could provide a copy of your default.sitemap and default.items files that would be very helpful.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34399"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7997.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="sheppy&#039;s picture" title="sheppy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Can anyone suggest a way of getting a power is over x reading out to IFTTT</h3>

    <div class="submitted">Submitted by <a href="../user/7997.html" title="View user profile.">sheppy</a> on Wed, 23/09/2015 - 10:05.</div>
    <div class="content">
     <p>Simply copying the runtime should get you a working system, although you need to add in the demo sitemap and items files which are seperate&nbsp;downloads and a good place to start. My items and sitemap is very large and would make no real sense unless you know my setup and what I do with it.</p>
<p>To get the start.sh to run you need to change permissions and I&#39;d strongly recommend following the info on the homeautomationforgeeks site, albeit with a different directory holding the openhab files.</p>
<p>Mine is started using&nbsp;&quot;sudo /etc/init.d/openhab start&quot; which is all documented on there. Basically you need to install the script in /etc/init.d, then make it executable, and from memory a couple of other things before it works.</p>
<p>Good luck!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10906"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-rpZGc2ekHoQTepjc77LtUGuRwOUEPvzDhXQq1FKBONQ" value="form-rpZGc2ekHoQTepjc77LtUGuRwOUEPvzDhXQq1FKBONQ"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
