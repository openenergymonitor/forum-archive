<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11068 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:46:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>how to handle voltage fluctuation | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">how to handle voltage fluctuation</h3>
        <span class="submitted">Submitted by <a href="../user/7764.html" title="View user profile.">hercules71035</a> on Sun, 02/08/2015 - 11:09</span>
        <div class="content"><p>Hi there,&nbsp;</p>
<p>I have a general&nbsp;question about voltage fluctuation&nbsp;and measurement accuracy. I noticed that the voltage in my house come from 210&nbsp;V to 245 V, based on the house&nbsp;consumption (high consumption -&gt; low voltage, low consumption&nbsp;-&gt; high voltage) and I don&#39;t know if this behavior is normal. BTW, the measurement change as well as the house&nbsp;consumption changes. I have done this trial: I measured a light when the voltage was 230&nbsp;V and the measurement&nbsp;was correct (103 Watt. I tested&nbsp;it using a multimeter). As&nbsp;the house consumption increases, then&nbsp;the measured consumption of the light&nbsp;increases as well, up to 115-120 Watts. Obviously, also the reverse appears.&nbsp;</p>
<p>I know that the error is very low, from 95 to 120 W, but I think that with high&nbsp;values the error increases.<br />
The question is born because I have a pv system of 6 kWp&nbsp;and, sometimes, it measure 6500 - 6900 Watts.</p>
<p>Can you give me an explanation of that phenomena?<br />
It seems that the firmware does not check the real Volts, but uses a standard measure.</p>
<p>PS: I use this firmware&nbsp;<a href="https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTxV3/RFM/emonTxV3.2/emonTxV3_2_continous_kwhtotals">https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTxV3/RFM/emonTxV3.2/emonTxV3_2_continous_kwhtotals</a>. I used also this&nbsp;<a href="https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTxV3/RFM/emonTxV3.2/emonTxV3_2_DiscreteSampling">https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTxV3/RFM/emonTxV3.2/emonTxV3_2_DiscreteSampling</a>&nbsp;but the result is the same.</p>
<p>Therefore, I use the AC-AC adapter.</p>
<p>Thanks</p>
  <div class="forum-topic-navigation clear-block">
          <a href="11081.html" class="topic-previous" title="Go to previous forum topic">‹ Resistor Current?</a>
              <a href="11070.html" class="topic-next" title="Go to next forum topic">Temp sensor circuit error codes. ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-32916"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: how to handle voltage fluctuation</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 02/08/2015 - 11:34.</div>
    <div class="content">
     <p>Voltage fluctuations are quite normal. They result from the changing load on the supply system.</p>
<p>Every component of your public electricity supply, the generator, the transformers and the cables all the way to your lamp, has a property called "impedance". There will be two parts to this, a physical property of the metal itself, the resistance, and for transformers particularly there is also inductance because the wire is coiled up on an iron core inside to form windings. Together, these <i>impede</i> the flow of current and in doing so a voltage appears across them. It is this voltage that is lost in the supply and causes the voltage at your lamp to drop when the greatest load is on the system. You've probably noticed that the voltage is high when most people are not using electricity, for example late at night.</p>
<p>Now your lamp (if it is an incandescent tungsten filament lamp) has resistance, if you measure it with a multimeter you will get confused because the resistance depends on the temperature of the filament (and that changes from say 20&deg;C when the lamp is off to around 2500&deg;C when it is on, and the resistance hot will be about 12 &times; the resistance cold, so it is a bad example. But if you measure a water heater (a kettle) the resistance varies little, because the temperature change is much smaller. The current drawn by your kettle is directly proportional to voltage - it is known as "Ohms Law", and the power is proportional to both current and voltage. Therefore if your voltage increases by 10%, the current will increase by 10% also, and the power will increase by 21% (1.1 &times; 1.1 = 1.21).</p>
<p>Finally, your firmware <i><u>does</u></i> use the voltage measurement to compute the real power. If you look at the sketch, you can see it happening in line 634:</p>
<p>634&nbsp;&nbsp;&nbsp;long instP_CT1 = filtV_div4_CT1 * filtI_div4_CT1;</p>
<p>because "instP" is the instantaneous power, "filtV" is the voltage and "filtI" is the current.</p>
<p>All this is very basic electrical theory and you will find plenty of information on the Web and in text books.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32917"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7764.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="hercules71035&#039;s picture" title="hercules71035&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: how to handle voltage fluctuation</h3>

    <div class="submitted">Submitted by <a href="../user/7764.html" title="View user profile.">hercules71035</a> on Sun, 02/08/2015 - 12:16.</div>
    <div class="content">
     <p>Hi Robert,<br />
Thanks for the answer, it is very exhaustive. </p>
<p>So, if the (theoretical) power consumption of a light (or something else) is 100W it is not always equal. If the house voltage is high the overall power consumption is high as well. Am I correct?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32918"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: how to handle voltage fluctuation</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 02/08/2015 - 12:43.</div>
    <div class="content">
     <p>That is (generally) correct.</p>
<p>There is one common exception: switched-mode power supplies such as you will find in your computer or TV. Those will probably be "constant power" because the power needed by the computer or TV does not change (or it changes, but not as a result of the mains voltage changing) and so the current will <i>fall</i> as the voltage rises. But these will be only a small part of your total load so overall you will see that the power consumption will be roughly proportional to voltage<sup>2</sup>.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32919"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7764.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="hercules71035&#039;s picture" title="hercules71035&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: how to handle voltage fluctuation</h3>

    <div class="submitted">Submitted by <a href="../user/7764.html" title="View user profile.">hercules71035</a> on Sun, 02/08/2015 - 13:04.</div>
    <div class="content">
     <p>Thanks Robert,<br />
you are great! :)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-32942"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: how to handle voltage fluctuation</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Sun, 02/08/2015 - 22:35.</div>
    <div class="content">
     <p>That ohmic drop you see when your house is consuming 6kW will, all else being equal, turn into an ohmic rise of the same value when your house is exporting 6kW. &nbsp;If you live in an area with widespread rooftop solar like I do, it&#39;s more common to see the voltage peaks in the middle of the day and the troughs at night. &nbsp;In the chart below the vertical grid-lines represent midnight.</p>
<p>While everyone is at work and school&nbsp;there are a lot of empty houses dumping power out onto the grid, and that power might have to travel quite a ways before it finds a shopping centre, factory, school or office block to consume it. &nbsp;Around here it&#39;s not uncommon&nbsp;to have 11kV feeders running backwards in the middle of the day.</p>
<p>&nbsp;</p>
<p><em>The question is born because I have a pv system of 6 kWp and, sometimes, it measure 6500 - 6900 Watts.</em></p>
<p>That&#39;s probably not directly related to grid voltage. &nbsp;I think a lot of inverters can go 10% over their rated output. &nbsp;I have a 3kW inverter and 4kW worth of panels and when the conditions are right I see it output 3.3kW.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11068"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-t0BJA0bkTL19RDaLwkP-h06K610bZJ0XoGXu5SN6BSk" value="form-t0BJA0bkTL19RDaLwkP-h06K610bZJ0XoGXu5SN6BSk"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
