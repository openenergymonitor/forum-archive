<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/1963 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:07:51 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>minicom trouble | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">minicom trouble</h3>
        <span class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Sun, 27/01/2013 - 00:26</span>
        <div class="content"><p>Hi all.</p>
<p>I&#39;m using a RFM12Pi I soldered as indicated <a href="http://wiki.openenergymonitor.org/index.php?title=Raspberry_Pi">here</a>, on a Rasp with an SD card installed &quot;from scratch&quot;.</p>
<p>Before doing any emoncms installation, I would like to see if I receive anything from the emonTX. So I jumped straight from &quot;Configuring from scratch&quot; to&nbsp;RFM12Pi Setup.</p>
<p>I modified cmdline.txt as suggested. I did not install the php libraries, yet.</p>
<p>When I launch minicom, it exits after like one second without outputing anything.</p>
<p>If I launch it as root, I get</p>
<blockquote><p>Welcome to minicom 2.6.1</p>
<p>		OPTIONS: I18n<br />
		Compiled on Apr 28 2012, 19:24:31.<br />
		Port /dev/ttyAMA0</p>
<p>		Press CTRL-A Z for help on special keys</p>
</blockquote>
<p>but no prompt : no &quot;&gt;&quot; sign and I can&#39;t write. I can Ctrl+Z A, though.</p>
<p>The serial port should not be taken, as no emoncms cron job has been set.</p>
<p>I don&#39;t understand why minicom does not provide any prompt. Any idea ?</p>
<p>Besides, I&#39;m concerned by the fact I had to run it as root. Does this mean I&#39;ll have permissions issues when trying to read data from the radio ?</p>
<p>Here is the result of the groups command :</p>
<blockquote><p>pi adm dialout cdrom sudo audio video plugdev games users netdev input indiecity</p>
</blockquote>
<p>Thanks.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2748.html" class="topic-previous" title="Go to previous forum topic">‹ First build questions - operating voltage and &#039;floating&#039; CT measurement</a>
              <a href="2744.html" class="topic-next" title="Go to next forum topic">Generate random feed data and commercial use ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-9430"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2676.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-2676.jpg" alt="jonbev&#039;s picture" title="jonbev&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: minicom trouble</h3>

    <div class="submitted">Submitted by <a href="../user/2676.html" title="View user profile.">jonbev</a> on Sun, 27/01/2013 - 08:54.</div>
    <div class="content">
     <p>Did you also do the change to the inittab and reboot afterwards?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-9434"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: minicom trouble</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Sun, 27/01/2013 - 11:15.</div>
    <div class="content">
     <p>/me feels stupid...</p>
<p>Thanks, now it works.</p>
<p>I edited the wiki to make the inittab step more visible.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13169"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2872.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Marquis27&#039;s picture" title="Marquis27&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: minicom trouble</h3>

    <div class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Mon, 24/06/2013 - 00:35.</div>
    <div class="content">
     <p>&nbsp;</p>
<p>I am having a similar problem. I have a new raspberry pi, with the raspberrypi rfm12b module v1. I have done the cmdline and the inittab&nbsp;swtich. My rfm module has the green light on solidly.&nbsp;</p>
<p>When I try to use minicom, I get:</p>
<p>Welcome to minicom 2.6.1</p>
<p>OPTIONS: I18n<br />
	Compiled on Apr 28 2012, 19:24:31.<br />
	Port /dev/ttyAMA0</p>
<p>Press CTRL-A Z for help on special keys</p>
<p>&nbsp;</p>
<p>But it says offline at the bottom and there is no command promt. Is my rfm12b module not talking to my RPI? What does the solid green light indicate? Any suggestions?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13172"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3.jpg" alt="TrystanLea&#039;s picture" title="TrystanLea&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: minicom trouble</h3>

    <div class="submitted">Submitted by <a href="../user/3.html" title="View user profile.">TrystanLea</a> on Mon, 24/06/2013 - 07:56.</div>
    <div class="content">
     <p>Marquis27, Do you see anything in the log file?&nbsp;</p>
<p>Try:</p>
<p>sudo service rfm12piphp restart log</p>
<p>and then</p>
<p>tail -F -n 40&nbsp; /var/log/rfm12piphp.log</p>
<p>As documented here:</p>
<p><a href="https://github.com/emoncms/raspberrypi" title="https://github.com/emoncms/raspberrypi">https://github.com/emoncms/raspberrypi</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13187"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2872.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Marquis27&#039;s picture" title="Marquis27&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: minicom trouble</h3>

    <div class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Mon, 24/06/2013 - 15:58.</div>
    <div class="content">
     <p>Sorry, I haven&#39;t installed the emoncms on the RPI&nbsp;yet. I was actually planning to just modify the python script to send the data to my remote emonCMS&nbsp;installation without doing the whole RPI install.&nbsp;</p>
<p>My understanding is that the rfm12b v1&nbsp;would be able to output to the serial without doing all the install. Is that incorrect? I have basically a clean RPI&nbsp;install, with the two UART&nbsp;modifications done, with a rfm12b module on it. I thought that would be enough to talk to emontx.</p>
<p>Is there any other way I can test the module without installing everything? Thanks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13190"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: minicom trouble</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Mon, 24/06/2013 - 17:17.</div>
    <div class="content">
     <p>Currently, the gateway is designed to be configured through emoncms as a GUI. It has been pointed out already that the whole emoncms local install just for the sake of configuring the gateway with three parameters is a bit overkill, and I&#39;m working on a new implementation with configuration through a config file.</p>
<p>It is still work in progress, not stabilized, and all, but if you want to catch a glimpse, here it is:</p>
<p><a href="https://github.com/Jerome-github/oem_gateway" title="https://github.com/Jerome-github/oem_gateway">https://github.com/Jerome-github/oem_gateway</a></p>
<p>Anyway, if your module is receiving anything, you should at least see something in minicom.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14367"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/2872.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Marquis27&#039;s picture" title="Marquis27&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: minicom trouble</h3>

    <div class="submitted">Submitted by <a href="../user/2872.html" title="View user profile.">Marquis27</a> on Fri, 16/08/2013 - 04:04.</div>
    <div class="content">
     <p>Hi Jerome.. The Python gateway you wrote looks to be ideal. I am still reading thought it trying to understand it all. Do you have an example on reading say a tx or a temp. I take it I basically need to create a subclass for node?&nbsp;</p>
<p>Thanks for sharing this.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-14645"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: minicom trouble</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 28/08/2013 - 09:26.</div>
    <div class="content">
     <p>Hi.</p>
<p>I need to add examples / documentation...</p>
<p>Not sure what you mean by &quot;read a tx&quot; but if you mean listening to an emonTX through the RFM2Pi card, then it should be easy, just adapt the example config file to your configuration. You can remove the socket listener, it is then useless.</p>
<p>&quot;reading a temp&quot;. If you mean reading a temp from a sensor on the Pi itself, then you need to either create a specific subclass, or create a small program (any language, but I could provide a 4 line python example) that reads the sensor, then sends data to the gateaway via a socket. In this case, in the gateway config, keep the socket listener, and of course, make sure the port number is the same in the gateway and the sensor reader.</p>
<p>Please ask for more help if any thing is unclear. I just got back from holidays, and I may be more responsive.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/1963"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-C2vGSNdcRzBDL4X5-hIiv8uOoondKn5M3hA3bfRuuk0" value="form-C2vGSNdcRzBDL4X5-hIiv8uOoondKn5M3hA3bfRuuk0"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/1963 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:07:51 GMT -->
</html>
