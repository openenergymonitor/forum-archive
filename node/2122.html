<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2122 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:18:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Inside a EDMI - Smart Meter | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Inside a EDMI - Smart Meter</h3>
        <span class="submitted">Submitted by <a href="../user/905.html" title="View user profile.">robw</a> on Thu, 14/03/2013 - 14:03</span>
        <div class="content"><p>I found this interesting at least i thought it may prove interesting to you guys looking to improve on the design of the emontx or how the energy co meters are reading what we are using.. Maybe even for the mk2 pv solar diverter.</p>
<p>i know the guy is annoying but he is ripping apart a EDMI&nbsp;UK smart meter and does explain parts of it that even a simple person like me can understand.</p>
<p><a href="http://www.youtube.com/watch?v=dm-yZ1N3xmc">http://www.youtube.com/watch?v=dm-yZ1N3xmc</a></p>
<p>&nbsp;</p>
<p>Rob.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="2144.html" class="topic-previous" title="Go to previous forum topic">‹ CurrentCost IAM decoding</a>
              <a href="2117.html" class="topic-next" title="Go to next forum topic">Implementing Heating Degree Days ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-10469"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1824.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="MartinR&#039;s picture" title="MartinR&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/1824.html" title="View user profile.">MartinR</a> on Thu, 14/03/2013 - 19:25.</div>
    <div class="content">
     <p>Thanks for that Rob. I have one of those meters for my PV total generation meter so despite the annoying bloke I found it very interesting.</p>
<p>It is a really nicely made meter and shows all sorts of useful stuff like power factor and per-phase current&nbsp;on the display.</p>
<p>cheers</p>
<p>Martin</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10480"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 15/03/2013 - 13:58.</div>
    <div class="content">
     <p>Annoying indeed. What he failed to realise is the voltage inputs are there for when you&#39;re using the same basic meter with external current transformers - when you lift the link so that the c.t. isn&#39;t at line voltage. Nor did he know how to read a meter&#39;s spec. sheet!&nbsp; Heigh-ho.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10494"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Fri, 15/03/2013 - 22:48.</div>
    <div class="content">
     <p>Pretty big phase errors on those CTs; &nbsp;up around 5 degrees. &nbsp;Although as he points out it&#39;s nice and linear so can be calibrated away. &nbsp;That massive phase error seems to be down to the requirement that the CTs&nbsp;inside revenue meters have to be DC tolerant. &nbsp;Anyone know why? &nbsp; I wonder if the hackers found a way to saturate conventional CTs with some DC and use that to steal electricity?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10495"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 16/03/2013 - 00:32.</div>
    <div class="content">
     <p>Most likely the reason is people can and do (though shouldn&#39;t) connect half-wave rectifiers - I&#39;ve seen it advocated in these forums as a means of reducing the power drawn by a water heater in order to better balance the PV generation (this was prior to Robin&#39;s Mk1 &amp; Mk2).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10496"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Sat, 16/03/2013 - 05:00.</div>
    <div class="content">
     <p>So does that confuse lesser CTs?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10498"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 16/03/2013 - 15:57.</div>
    <div class="content">
     <p>Indeed - if it&#39;s got a standing current = flux = it&#39;s part-way up the B-H curve, it will hit saturation in the direction of the d.c. much earlier than it otherwise would, so the range over which it will measure accurately is reduced. Very much like biasing the Arduino a.c. input at 712 instead of 512 - you can only measure to 60% of what you could before.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10499"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1165.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="richmc&#039;s picture" title="richmc&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/1165.html" title="View user profile.">richmc</a> on Sat, 16/03/2013 - 18:11.</div>
    <div class="content">
     <p>I lasted 23 seconds.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10502"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Sat, 16/03/2013 - 21:38.</div>
    <div class="content">
     <p>So a DC-tolerant CT still measures the DC, but does so in a way that doesn&#39;t shift it up the B-H curve?</p>
<p>And speaking of DC, can I use the types of CTs&nbsp;everyone uses for energy monitoring in my car? &nbsp;Can I wrap one around my battery lead for example and use it to determine if it&#39;s charging or discharging, and by how much? &nbsp; &nbsp;Obviously subject to it being able to cope with the much higher amps. &nbsp;Or would I need one of these DC-tolerant CTs to do that?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10505"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 16/03/2013 - 22:14.</div>
    <div class="content">
     <p>NO! How can a transformer - any transformer - pass d.c?&nbsp; The primary current sets up a magnetic flux in the core, the output voltage is proportional to the <em>rate of change</em> of<em> </em>flux, so if the flux isn&#39;t changing, you get nothing out.&nbsp; D.C tolerant means exactly what it says.</p>
<p>For your car, the best choice would probably be a Hall-effect device. Those <u>can</u> give an output when a direct current is being sensed.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10506"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1165.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="richmc&#039;s picture" title="richmc&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/1165.html" title="View user profile.">richmc</a> on Sun, 17/03/2013 - 10:18.</div>
    <div class="content">
     <p>Just go to eBay and type in car ammeter, they&#39;ve been around years.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10508"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 17/03/2013 - 12:39.</div>
    <div class="content">
     <p><em>Just go to eBay and type in car ammeter, they&#39;ve been around years.</em> Moving magnet type no doubt. Rugged, not fantastically accurate but fit for purpose. An interesting project though to calculate (or do I mean estimate?) the energy in the battery taking starting current into account. No car ammeter measures that.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10514"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Sun, 17/03/2013 - 21:15.</div>
    <div class="content">
     <p>Yep, it&#39;s actually my auxiliary &nbsp;(camping) battery I&#39;m more interested in monitoring. &nbsp;It never sees cranking amps, in fact probably never sees much more of a draw then about 10A (fridge, lights etc). &nbsp; Currently, I guestimate it&#39;s remaining capacity by watching it&#39;s unloaded voltage: &nbsp;12.6V full, 12V about 50% full etc. &nbsp; &nbsp;I&#39;m not sure watching amps in and amps out over time would produce a better result, but it&#39;d be an interesting experiment.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10515"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sun, 17/03/2013 - 22:26.</div>
    <div class="content">
     <p>There you are, then. Hall effect sensor - though if you&#39;re limited to 10 A a shunt followed by an op.amp with some gain (to reduce voltage you need to drop across the shunt, hence reduce the shunt resistance) might be better and cheaper, voltage input to cross-check against and determine &quot;fully charged&quot;, maybe battery temperature as well and you could add a real-time clock to check the age of the battery (or maybe not! - this could get silly), an Arduino and <strong>a lot</strong> of experimentation and research to get the algorithm correct.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10517"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Inside a EDMI - Smart Meter</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Sun, 17/03/2013 - 23:01.</div>
    <div class="content">
     <p>10A on the consumption side but the alternator can dump quite a bit more in when it first fires up, especially when the battery is low. &nbsp; They are different wires, so I could potentially use different measuring technology on each, or maybe not even worry too much about the alternator feed. &nbsp; When an alternator dumps 90A into a battery it all gets very non-linear anyway. &nbsp;One day I might replace the alternator feed with a proper DC-DC smart battery charger.</p>
<p>Wh consumed (and Wh produced from the solar PV) since setting up camp might be more useful, in which case a 10A design is probably fine.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2122"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-AqRn8TZ2qVikRaB93QX3FHxOn6pSKpDwHLYyvcWA6x4" value="form-AqRn8TZ2qVikRaB93QX3FHxOn6pSKpDwHLYyvcWA6x4"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/2122 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:18:37 GMT -->
</html>
