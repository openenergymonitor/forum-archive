<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/11182 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:45:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Openhab nRF24L01+ energy monitor | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Openhab nRF24L01+ energy monitor</h3>
        <span class="submitted">Submitted by <a href="../user/8641.html" title="View user profile.">DragosC</a> on Fri, 28/08/2015 - 16:13</span>
        <div class="content"><p>Hello All,</p>
<p>First of all i would like you to know that i am a very beginner&nbsp;in programming and making different circuits using Arduino, Rasberry Pi and so on.</p>
<p>In the same time i would like to ask the Admin to move this post / topic or to delete it if is discussed somewhere else and to lead me through a link to it.</p>
<p>I have the following mats:</p>
<p>-SCT-013-000 - 1 piece</p>
<p>- Arduino&nbsp;-2 pieces (Mega and UNO)</p>
<p>-NRF24L01&nbsp;radio modules -2 pieces</p>
<p>-Rasberry Pi model 2 - 1 piece</p>
<p>What I would like to do?</p>
<p>Using the above mats to monitor the energy consumption in my house and to export this to Openhab&nbsp;(which already is showing me the temp and humid) and to display the following:</p>
<p>1. the instant watts consumption</p>
<p>2. the Kwh consumption calculated from a certain date as for example starting from the beginning&nbsp;to the end of the current moth and to start counting from the beginning when the nest month begins</p>
<p>3. to display the total Kwh since the program was uploaded in the Arduino.</p>
<p>&nbsp;</p>
<p>To accomplish this do i need to use only the SCT sensor or is necessary to use the AC-AC transformer too according to the diagrams shown&nbsp;on the site.</p>
<p>&nbsp;</p>
<p>Any advice, link, suggestion, example&nbsp;will be kindly appreciated.</p>
<p>&nbsp;</p>
<p>Thanks in advace,</p>
<p>&nbsp;</p>
<p>DragosC</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5391.html" class="topic-previous" title="Go to previous forum topic">‹ Smarter Ways of using Dump-loads</a>
              <a href="11157.html" class="topic-next" title="Go to next forum topic">Converting optical kWh pulse count into power reading ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-33678"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Fri, 28/08/2015 - 22:08.</div>
    <div class="content">
     <p>I shall only answer this one question: <i>"do I need to use only the SCT sensor or is necessary to use the AC-AC transformer too?"</i>. There are others here who can answer the other questions better than I can.</p>
<p>NO, you do not <i>need</i> to use a transformer to measure the voltage, but this is what happens:</p>
<p>The voltage at your house will vary according to how much power you and your neighbours are taking from the supply, and 'neighbours' may include your city or a large part of your country. </p>
<p>With a transformer, you know the voltage all of the time. Also, you know the phase relationship between the voltage and the current. Taken together, these things mean that you can calculate power, and therefore energy, to the best accuracy. </p>
<p>Without a transformer, you must guess the average voltage that you receive, and you must guess the power factor (see Building Blocks if I use a term you do not understand) and so the power you calculate will be less accurate. Over time, and by carefully adjusting the calibration, the inaccuracies might even out.</p>
<p>You do not say anything about your electricity supply or which country you are in, so I cannot guess what sort of supply you have. I do guess that you have only a single phase supply because you have only one current transformer. If you have a three-phase supply, you really must measure the current of each phase, that means 3 CTs, and ideally you measure the voltage of each phase also (but many people are happy to measure only the voltage of one phase because generally the three vary together).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33683"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8641.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DragosC&#039;s picture" title="DragosC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/8641.html" title="View user profile.">DragosC</a> on Sat, 29/08/2015 - 11:40.</div>
    <div class="content">
     <p>Thanks for the answer Robert.</p>
<p>As you already guessed i live in my apartment and i have a single phase power supply but this is not the point.</p>
<p>I asked if i may use only the CT without the transformer because transformer i bought even if it is labeled to convert 240V-9V Ac-Ac when i measure it with my tester it shows me 12V on the output so i was afraid not to burn the Arduino board using it! On the other hand if you use a transformer than you need to use another analog pin of Arduino and so less memory available.</p>
<p>​I know very well that this topic is a very complex one because it suppose that you need to combine and to know two different things like: Programming the Arduino board, programming the rules in Openhab which is different than Arduino.</p>
<p>I want to use the serial gateway communication between the two Arduinos&nbsp;(those who worked already with Openhab know what is all about) so my ask would be that if can i find somewhere here or else an example for this kind of request: instant power consumption, kwh to date, total kwh.</p>
<p>The second part although I know this is not maybe the right forum to ask (Openhab)&nbsp;would be to find some Openhab rule example for this Arduino code thinking that in this huge community maybe there is one guy who did it.</p>
<p>&nbsp;</p>
<p>Thanks All!&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33685"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 29/08/2015 - 14:17.</div>
    <div class="content">
     <p>No, you won't harm your Arduino. The input circuit in <a href="https://learn.openenergymonitor.org/?redirect=measuring-voltage-with-an-acac-power-adapter">Building Blocks</a> is designed for that 12 V output on no load, which is quite normal for a small 9 V transformer! The transformer is designed to give you 9 V at full load, and without a load the voltage will rise significantly, as you've found.</p>
<p>Hopefully, someone who knows Openhab will answer your other questions. I think you should be able to use emonHub on your Raspberry Pi. EmonHub is designed to accept radio (with an RFM69Pi module from our shop) or wired data from your emonTx/Arduino and send it via Ethernet to your router and then to emoncms.org. But I know that it can be used to send data to other places too. Hopefully Paul "pb66" will tell you about that.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33806"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8641.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DragosC&#039;s picture" title="DragosC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/8641.html" title="View user profile.">DragosC</a> on Wed, 02/09/2015 - 12:03.</div>
    <div class="content">
     <p>Thanks again for your reply, ill try to use this schemes found on this site to see what can i read on the Arduino serial monitor using this CT sensor.&nbsp;</p>
<p>The bad thing is that i don&#39;t know how to make the Arduino sketch to display these three values: instant watts, kwh to date and total kwh!</p>
<p>Please i&nbsp;need a little&nbsp;help here from those who tried this combination of Openhab, nrf24l01&nbsp;Arduino&nbsp;and serial &nbsp;gateway communication!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-33820"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 03/09/2015 - 08:41.</div>
    <div class="content">
     <p>I haven&#39;t been around much and I missed this thread (sorry Robert) In theory it is possible to write a reporter for openHab and I would be keen to do so but I do not use openHab and therefore have zero experience of using it.</p>
<p>I would be happy to assist an experienced&nbsp;openHab&#39;er bring openHab to emonHub but wouldn&#39;t try and tackle it alone. I recently looked into it and it appears each value would need sending individually (happy to be corrected there) when using the htttp/rest api and since openHan is on the cusp of v2 (as is emonHub) I felt it would be better to see how that panned out and try to implement a v2 to v2 solution at a later date.</p>
<p>If you or anyone wants to pursue this now though I will chip in where I can :-)</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34136"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8641.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DragosC&#039;s picture" title="DragosC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/8641.html" title="View user profile.">DragosC</a> on Mon, 14/09/2015 - 14:16.</div>
    <div class="content">
     <p>Hi guys, I&#39;ve managed to display instant power in Openhab, don&#39;t ask me how, long story.</p>
<p>I&nbsp;would like to ask you why when i test the current only sketch with every thing connected according to the diagram when i turn on the bulb which is labeled with 46W i get some values between 46 and 98 or near and when i turn of the bulb i get around 59-61!</p>
<p>All the mats are those explained on the site except that there no explanation how many volts the capacitor has to have but it is 10uf and so i bought some with 63 volts. The sensor is SCT-013-000.</p>
<p>How to calibrate the CT sensor to see on the serial monitor that when the bulb is off the displaied&nbsp;value is zero and when ON to see the right value?</p>
<p>UPDATE: i saw now if even the SCT is not connected to any wire it still display some values for the aparent power and Irms! It should show zero, isn&#39;t so?</p>
<p>Thank you!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34140"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 14/09/2015 - 15:13.</div>
    <div class="content">
     <p>See the new FAQ page for the answers to your questions.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34413"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8641.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DragosC&#039;s picture" title="DragosC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/8641.html" title="View user profile.">DragosC</a> on Wed, 23/09/2015 - 19:45.</div>
    <div class="content">
     <p>I&#39;m sorry, i read everything on get started and I know that all people ask different questions but I really don&#39;t understand how to calibrate this sensor.&nbsp;</p>
<p>If the diagram is ok and I test the current only eg, in my opinion it should display the right values! Right?</p>
<p>i really don&#39;t know what to change in the code! I tried to change different values according to my current 220v but nothing, I tried to make more spires on the sensor, still wrong values...</p>
<p>how is possible that without having anything connected to the sensor to get values like 15-25w&nbsp;?</p>
<p>&nbsp;</p>
<p>please help, this forum is to big to find the right answer soon.</p>
<p>thanks.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34417"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Wed, 23/09/2015 - 20:34.</div>
    <div class="content">
     <p>Just a note about openHAB integration. I don&#39;t think we need to do anything special, since openHAB already has MQTT support. In my view MQTT is the perfect conduit for getting data from EmonCMS into openHAB and vice versa. I am currently doing this and it works very well. There is no need for either of the two systems to *know* about one another - they just have to publish/subscribe to the appropriate topics and that is it.</p>
<p>So my 2c would be, don&#39;t worry about any specific openHAB integration, but just focus on getting the MQTT&nbsp;side of things working so it is nice and easy for users to setup/configure/use. It also then becomes very easy to access that data in other systems, via MQTT as well (e.g. logging or monitoring systems).</p>
<p>I know there will be users who don&#39;t want the overhead of running their own broker and would like some sort of direct interface between the two systems, but as I say, that is just my 2c.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34418"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8641.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DragosC&#039;s picture" title="DragosC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/8641.html" title="View user profile.">DragosC</a> on Wed, 23/09/2015 - 20:50.</div>
    <div class="content">
     <p>I&#39;m using OPENHAB&nbsp;with mqtt and I can get some data sensors from my arduino through nrf24l01&nbsp;to my raspberry but I don&#39;t know any programming.&nbsp;</p>
<p>I have this sct sensor for more than 1 year and I wasn&#39;t able to make it work well!</p>
<p>hobestly&nbsp;I didn&#39;t understand how did u make the connection between OH and Emoncms! Do you have the both software installed on your pi or how? Where are you connecting the sensor? To any arduino or directly to your pi?&nbsp;</p>
<p>Your answer is a general one, more like an idea.</p>
<p>as I said here somewhere above, I have no programming knowledge, the only thing I can do is to work with them.</p>
<p>could you please come with more details? I need to know how to get the kWh in OH.</p>
<p>thanks.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34420"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Wed, 23/09/2015 - 23:49.</div>
    <div class="content">
     <p>I have an Arduino&nbsp;Uno with an ethernet shield and the EmonTx&nbsp;shield on top. This is running a slightly modified sketch which takes sensor readings as normal, and then publishes them to my MQTT broker (on a different machine) over ethernet.</p>
<p>Once you get this working then it is a very simple task to setup an MQTT item binding in openHAB to subscribe to those topics and voila, you have your sensor data in openHAB.</p>
<p>In my case I don&#39;t actually send anything from EmonCMS to openHAB - I send the data to MQTT directly from my sensors (in my case the EmonTX Arduino). I then have another python script which monitors the same MQTT topics and forwards the sensor readings to EmonCMS via HTTP requests (using mqttwarn).</p>
<p>This is not the simplest system to explain, but it works very well since the sensor data is only published once by my EmonTX, but is consumed by both EmonCMS and openHAB.</p>
<p>There is work being done at the moment to add MQTT support to EmonCMS, which I haven&#39;t tried myself. But the idea should be that you get your sensor data into EmonCMS (which I presume you have working?) and then EmonCMS is responsible for publishing it out onto an MQTT topic. Slightly different to my approach, but no different in terms of how openHAB will receive the data - i.e. on an MQTT topic.</p>
<p>Edited: typo -&gt; I HAVEN&#39;T tried the MQTT&nbsp;support in EmonCMS.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34423"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 23/09/2015 - 23:22.</div>
    <div class="content">
     <p><i>"how is possible that without having anything connected to the sensor to get values like 15-25w ?"</i></p>
<p>The analogue part of the ATMega 328P is picking up electrical noise from the digital part. It cannot tell the difference between that and the the signal you want from the CT.</p>
<p>Remember that the maximum you can measure is 100 A, which is equivalent to about 23 kW, therefore the 20 W you are seeing is only 0.1% of the maximum reading. You cannot expect accurate values below 200-300 W.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34435"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8641.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DragosC&#039;s picture" title="DragosC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/8641.html" title="View user profile.">DragosC</a> on Thu, 24/09/2015 - 08:00.</div>
    <div class="content">
     <p>@Robert Wall</p>
<p>Oh, so you say whatever I&#39;ll do I can&#39;t loose this noise?&nbsp;</p>
<p>At 23kw&nbsp;total, 0,1 noise is not so much but on my test with this 46w bulb to have 24w noise its a huge difference more like 50% error!</p>
<p>I saw a lot of movies on different sites where people tested the sct sensor with different apps and on their tests if the devices is unplugged the sct display 0 wh consumption and when plugged in whatever power the devices had, but they never show how they did the sensor calibration, only links to open energy (here) or nothing on the description.</p>
<p>@sumnerboy you use the Emontx&nbsp;and so you have a different approach on you installation. I want to use only the Arduino&nbsp;board directly to my Rasberry through this wireless nRF24L01&nbsp;devices using the RF24&nbsp;available libraries on git.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34437"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 24/09/2015 - 08:49.</div>
    <div class="content">
     <p>There is probably very little that you can do about the noise. If you make sure that you have good grounding, good screening for your (sensitive) analogue front end, a good noise-free power supply, that is probably all that you can do. I understand that some Arduino boards have a filter in the 5 V power supply between the analogue and digital sections, but that most do not.</p>
<p>If your noise value is always the same number (or nearly), you could subtract that number in the sketch.</p>
<p>Alternatively, you can use a multi-turn primary winding with your CT - you loop the wire through many times, and that multiplies the current that you read <i>but not the noise</i> (then of course you divide the answer in the sketch to give the correct result).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34470"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/8641.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="DragosC&#039;s picture" title="DragosC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/8641.html" title="View user profile.">DragosC</a> on Fri, 25/09/2015 - 06:24.</div>
    <div class="content">
     <p>I am testing this on two different boards, Arduino&nbsp;Uno and Arduino Mega, both original bought from the official supplier.&nbsp;</p>
<p>Tell me please how can I substract&nbsp;this difference in the current only example? It should be something like minus the difference that the CT is showing without being connected to any alive wire?</p>
<p>I tried also multi-turn but still this huge noise and to do this in a panel where all cables are FYY = 8 or 10 it&#39;s kinda&nbsp;of impossible.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-34476"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Openhab nRF24L01+ energy monitor</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Fri, 25/09/2015 - 06:47.</div>
    <div class="content">
     <p>How are you powering the Arduinos? &nbsp;A ripply 5V supply is a&nbsp;common cause for ADC noice. &nbsp;Check out this thread too: &nbsp;<a href="10111.html">http://openenergymonitor.org/emon/node/10111</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/11182"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-s0cPgpjssDUlaAGpOO8e-ud0Ys6AFkQXQt6UOZzQsTg" value="form-s0cPgpjssDUlaAGpOO8e-ud0Ys6AFkQXQt6UOZzQsTg"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
