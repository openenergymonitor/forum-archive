<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/5892 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:24:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>My Net Costs dashboard | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/7.html">Archived:  Emoncms Showcase</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">My Net Costs dashboard</h3>
        <span class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Mon, 06/10/2014 - 07:18</span>
        <div class="content"><p>Gotta&#39; love those generous feed in tariffs...</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5439.html" class="topic-previous" title="Go to previous forum topic">‹ Notify module</a>
              <a href="5826.html" class="topic-next" title="Go to next forum topic">Feature Request: Emoncms Event Module - support for MQTT ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-24318"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: My Net Costs dashboard</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Mon, 06/10/2014 - 08:46.</div>
    <div class="content">
     <p>Not as pretty as yours...but still gives me warm fuzzies!</p>
<p>BTW - this graph is being rendered using Grafana&nbsp;on top of an InfluxDB database. My EmonTX is publishing&nbsp;MQTT messages which EmonCMS receives (via mqttwarn) and generates my solar &#39;dial&#39; widgets and daily bar graphs. But openHAB also subscribes to the same topics and logs all the readings to its persistence engine (in my case I am using InfluxDb), which I can graph using Grafana.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24320"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: My Net Costs dashboard</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Mon, 06/10/2014 - 09:30.</div>
    <div class="content">
     <p>Very similar actually. &nbsp;That evening peak seems pretty much universal. &nbsp;I&#39;m not even going to pretend to know what your last paragraph means, but it sounds great ;-).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-24329"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: My Net Costs dashboard</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Mon, 06/10/2014 - 19:37.</div>
    <div class="content">
     <p>Ha - sorry - was just trying to show the benefit of using MQTT as a message delivery protocol. By configuring my EmonTX to publish MQTT messages rather than direct updates to EmonCMS, I can configure multiple systems to consume those readings.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26247"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5906.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Keen2bGreen&#039;s picture" title="Keen2bGreen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: My Net Costs dashboard</h3>

    <div class="submitted">Submitted by <a href="../user/5906.html" title="View user profile.">Keen2bGreen</a> on Tue, 30/12/2014 - 11:33.</div>
    <div class="content">
     <p>SummerBoy - Nice Post.</p>
<p>Grafana and InfluxDB look very interesting to me.</p>
<p>I&#39;m keen to learn more about how you generate your feeds to a InfluxDB&nbsp;server. &nbsp;I have InfluxDB running on my Pi. &nbsp;My gut feeling is that this is a much more flexible and powerful place to store timeseries&nbsp;data from my OpenEnergy Monitors than using EmonCms, Personally I&#39;m not a big fan of FLOT - it&#39;s pretty out-dated and ugly in my opinion.&nbsp;</p>
<p>Also querying InfluxDB&nbsp;and using its aggregation features could be really cool - especially if you have some r/rstudio skill (which is an ambition/work in progress for me). &nbsp;As a side topic I do have EmonCMS data passing into RStudio via the Average API. &nbsp;This can produce some interesting visuals with the rCharts&nbsp;module,</p>
<p>Anyway - If you could post a tutorial on getting the feeds into InfluxDB - I&#39;d be very grateful.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26795"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: My Net Costs dashboard</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Thu, 15/01/2015 - 22:02.</div>
    <div class="content">
     <p>Hi Keen2bGreen - sorry I missed your post - the lack of notifications on this forum is very frustrating.</p>
<p>I am using openHAB (<a href="http://www.openhab.org/" title="www.openhab.org">www.openhab.org</a>) as my central home automation controller. This has a binding for MQTT which means all the values published by my EmonTX can be subscribed to directly by openHAB. openHAB also has support for persisting values to InfluxDB. Therefore my system looks a little like;</p>
<p>&nbsp;</p>
<p>&nbsp; [EmonTX] &nbsp;------ MQTT -----&gt; &nbsp;[*EmonCMS]</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;-----&gt; &nbsp;[openHAB] &nbsp;-----&gt; &nbsp;[InfluxDB] &nbsp;-----&gt; &nbsp;[Grafana]</p>
<p>* via&nbsp;mqttwarn&nbsp;- a python script which subscribes to&nbsp;MQTT&nbsp;topics and republishes the values to&nbsp;EmonCMS&nbsp;in the appropriate format</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27097"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5906.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Keen2bGreen&#039;s picture" title="Keen2bGreen&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: My Net Costs dashboard</h3>

    <div class="submitted">Submitted by <a href="../user/5906.html" title="View user profile.">Keen2bGreen</a> on Mon, 26/01/2015 - 16:28.</div>
    <div class="content">
     <p>Thanks Ben - that is helpful.&nbsp; Actually I have cracked on and setup those components - all on my trusty little Pi (with a 1TB HDD).&nbsp; It is amazing what the Pi can do.</p>
<p>My current config is EmonTX-&gt;EmonCMS (via EmonHub)-&gt;Mosquitto (via MQTT Event)-&gt;OpenHAB (via MQTT binding)-&gt;InfluxDB (via InfluxDB persist)-&gt;Grafana</p>
<p>I&#39;m not aware of MQTTwarn, so will dig into that option - as I think the Event module on EmonCMS could be quite an overhead if I were to have many of my feeds replicate into OpenHAB/InfluxDB.</p>
<p>I&#39;ve seen you are very active on many of the openHAB communities - so thanks from me on that.&nbsp; openHAB is quickly becoming my new obsession... being able to take automated action from events and data monitored by many of my smart devices, plus EmonCMS is lots of fun, and potentially quite valuable - time will tell.</p>
<p>Thanks again - no doubt I&#39;ll be in touch with more questions/clarifications (openHAB has been a pig to wrestle with - but I&#39;m getting the hang of the basics now)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27129"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6498.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6498.jpg" alt="sumnerboy&#039;s picture" title="sumnerboy&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: My Net Costs dashboard</h3>

    <div class="submitted">Submitted by <a href="../user/6498.html" title="View user profile.">sumnerboy</a> on Tue, 27/01/2015 - 00:38.</div>
    <div class="content">
     <p>Yep openHAB&nbsp;can be a struggle to get going initially - it is far from a finished/polished&nbsp;product yet - but once you get control of it the possibilities are endless!</p>
<p>If you are transmitting your sensor readings via RF then you will need something like EmonHub to translate those to something. I am using a custom version of the EmonTX (actually Robins PV diverter) sketch which publishes readings directly to MQTT - so no RF at all. This means openHAB and EmonCMS (via mqttwarn) both subscribe to the one feed and (I think) simplifies things a bit.</p>
<p>The downside is you need an ethernet connected EmonTX which I realise is not standard. Otherwise your scheme of using EmonHub to forward to EmonCMS is fine. If you could tweak EmonHub to also generate the MQTT publishes you would eliminate the need for EmonCMS to be doing this.</p>
<p>Fun and games to be had!</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/5892"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-zAGeV3oajLfKZ8BsRjt872BE9zwCWgi9LW4qN77qozs" value="form-zAGeV3oajLfKZ8BsRjt872BE9zwCWgi9LW4qN77qozs"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/5892 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:24:05 GMT -->
</html>
