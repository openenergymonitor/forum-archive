<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10040 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:11:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>update image file (dashboard) | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">update image file (dashboard)</h3>
        <span class="submitted">Submitted by <a href="../user/6460.html" title="View user profile.">raspiprof</a> on Wed, 21/01/2015 - 18:49</span>
        <div class="content"><p>Hallo,</p>
<p>&nbsp;</p>
<p>I am using images for tthe weather conditions beeing sent by wunderground. The images (gif files) are updated via a crontab job and I tried to overwrite the files on my raspberry server. Unfortunatly&nbsp;thr raspberry is read only. (Fortunatly this is the case, otherwise I would have killed the raspi many times!!)</p>
<p>My questions now are:</p>
<p>Is it possible &quot;free&quot; files&nbsp;</p>
<p>or</p>
<p>ist it possible to allow write access to a whole folder.</p>
<p>Regards Walter</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10145.html" class="topic-previous" title="Go to previous forum topic">‹ GLCD - missing guide videos</a>
              <a href="10135.html" class="topic-next" title="Go to next forum topic">emocms - No data has been recieved from the RFM12Pi in the last 30s. ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-26950"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: update image file (dashboard)</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 21/01/2015 - 20:00.</div>
    <div class="content">
     <p>I&#39;m not that familiar with the low write version of emoncms, but isn&#39;t it only the OS which is read-only?<br />
Could you not&nbsp;use one of the other partitions on the SD card which is rw to store the image file, such as where the database folders are sited?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26958"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6460.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6460.jpg" alt="raspiprof&#039;s picture" title="raspiprof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: update image file (dashboard)</h3>

    <div class="submitted">Submitted by <a href="../user/6460.html" title="View user profile.">raspiprof</a> on Wed, 21/01/2015 - 20:57.</div>
    <div class="content">
     <p>Thanks Paul! That may be true, I did not try another &nbsp;area/partion. I of course tried to make the folder with read write access. I will come back as soon as I have tried to move the image folder I am using to the database folder.</p>
<p>Walter</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26960"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: update image file (dashboard)</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Wed, 21/01/2015 - 21:12.</div>
    <div class="content">
     <p>I wouldn&#39;t&nbsp;put the image folder IN the database folder, but in the same volume where the database folders are.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-26995"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: update image file (dashboard)</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Thu, 22/01/2015 - 14:31.</div>
    <div class="content">
     <p>As Paul suggested there is a 3rd &quot;data&quot; partition on the SD image which is not read-only&nbsp;and you can put files there if you need full read and write access whilst running the OS read-only.</p>
<p>The data partition is mounted as /home/pi/data so you can relocate you files in there using&nbsp;</p>
<p><strong>sudo&nbsp;mv /existing/path/to/fileorfolder&nbsp;/home/pi/data/fileorfolder</strong></p>
<p><strong>​</strong>You can move sub-folders rather than individual files to keep it neat and/or create a new folder in &quot;data&quot;</p>
<p>You can add symlinks if you need those files or folders to &quot;appear&quot; to remain in their&nbsp;current locations eg</p>
<p><strong>sudo ln -s&nbsp;/home/pi/data/fileorfolder<span style="line-height: 20.7999992370605px;">&nbsp;</span><span style="line-height: 20.7999992370605px;">/existing/path/to/</span>fileorfolder</strong></p>
<p><strong>​</strong>will make&nbsp;&quot;fileorfolder&quot; accessible by either path.</p>
<p>Paul&nbsp;&nbsp;</p>
<p>EDIT - obviously this will need to be done while in RW mode by using <strong>rpi-rw</strong>&nbsp;first.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27516"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/6460.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-6460.jpg" alt="raspiprof&#039;s picture" title="raspiprof&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: update image file (dashboard)</h3>

    <div class="submitted">Submitted by <a href="../user/6460.html" title="View user profile.">raspiprof</a> on Sun, 08/02/2015 - 17:39.</div>
    <div class="content">
     <p>Hallo Paul</p>
<p>as you suggested I am saving the files in the partition which is not read only: /home/pi/data/images.This folder is mounted (I do hope this is the right wording)&nbsp;and now can be seen and is updated in /var/www/emoncms/images using a crontab job.</p>
<p>Thanks for this help!</p>
<p>Now I do have the problem that the images are not updated in the dashboard. Thus I do need some sort of refresh command. I do not know whether and how often the feed data are automatically updated within the dashboard. This of course would be nice.</p>
<p>If I may ask even another question. How can I put time stamps (something like last updated) on the dashboard for the images or the other widgets.</p>
<p>I hope my questions do not annoy you. I am totally aware that these questions are Mainly on how to build a webpage, but I must say that I am an old newbee and try to get forward in small steps.</p>
<p>Once agin thank you for your help.</p>
<p>Walter</p>
<p><i>[2 near-duplicates deleted by moderator - RW]</i></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27521"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: update image file (dashboard)</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 08/02/2015 - 18:05.</div>
    <div class="content">
     <p>This isn&#39;t something I&#39;ve tried to do so I&#39;m guessing a little here but I suspect your images are being cached by the browser and because the image&#39;s file&nbsp; name doesn&#39;t change the browser doesn&#39;t know to download it again. Maybe there is an html&nbsp;option you can set for the image that forces the image to be refreshed eg &quot;no-cache&quot; or you can add a ever changing part to the image name eg a timestamp&nbsp;something along the lines of&nbsp;<br />
img src=&quot;/path/to/image/image.jpg?&lt;?php echo time(); ?&gt;/&gt; might work if it&#39;s&nbsp;recognised as a different file but reaches&nbsp;the same image.</p>
<p>Worth a try ?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27522"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: update image file (dashboard)</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Sun, 08/02/2015 - 18:06.</div>
    <div class="content">
     <p>Hi Walter, I am doing the very same thing except instead of using cron, I&#39;m using a task in node-red, which I suppose amounts to the same process.</p>
<p>I presume that you are saving the image file to the same name, such as weather.gif and overwriting the previous file? (as Wunderground&nbsp;call their image files by different names cloudy_nt.gif etc, depending upon the conditions).</p>
<p>How are you presenting the image in your dashboard?<br />
I use a Text/paragraph box and use;</p>
<pre>
&lt;img src=&quot;/images/weather.gif&quot; alt=&quot;Current Conditions&quot;&gt;</pre><p>to pull the current image held in my images folder into the dashboard, and it updates fine.</p>
<p>As for the timestamp, no immediate ideas.</p>
<p>Paul<br />
PS I&#39;ll PM you a link.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27523"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: update image file (dashboard)</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 08/02/2015 - 18:12.</div>
    <div class="content">
     <p>Just found this so it should be possible</p>
<p><a href="http://www.willmaster.com/library/web-content-prep/preventing-browser-cache.php">http://www.willmaster.com/library/web-content-prep/preventing-browser-cache.php</a></p>
<p>and if you can get the timestamp into an element to cause a refresh it can&#39;t be much harder to display the time, or can it ?</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27526"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: update image file (dashboard)</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Sun, 08/02/2015 - 18:49.</div>
    <div class="content">
     <p>Or try adding something like</p>
<blockquote><p>Updated:<br />
&lt;script language=&quot;JavaScript&quot;&gt;<br />
document.write(document.lastModified);<br />
&lt;/script&gt;</p>
</blockquote>
<p>in a text box,</p>
<p><a href="http://www.javascriptsource.com/time-date/determine-page-update-date-by-brad-jones-120319200005.html">http://www.javascriptsource.com/time-date/determine-page-update-date-by-brad-jones-120319200005.html</a></p>
<p>&nbsp;</p>
<p>EDIT - just tries this and it works as a stand alone page but I couldn&#39;t get it into a text box maybe someone with more website knowledge can chip in, a &quot;updated at&quot; could be a useful addition</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10040"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-RCqgaSq3GfgqMiCCps11rE0QttYBECV5czfQUGJNeFA" value="form-RCqgaSq3GfgqMiCCps11rE0QttYBECV5czfQUGJNeFA"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
