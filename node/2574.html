<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2574 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 13:24:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Energy monitor, weather data and more | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/7.html">Archived:  Emoncms Showcase</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Energy monitor, weather data and more</h3>
        <span class="submitted">Submitted by <a href="../user/3657.html" title="View user profile.">Mattia Rossi</a> on Thu, 11/07/2013 - 15:06</span>
        <div class="content"><p>Hey guys,</p>
<p>just wanted to add my setup to the showcase.</p>
<p>I ended up creating a dedicated blog post here:</p>
<p><a href="http://blog.mrossi.com/2013/07/open-energy-monitor-and-home-automation.html" title="http://blog.mrossi.com/2013/07/open-energy-monitor-and-home-automation.html">http://blog.mrossi.com/2013/07/open-energy-monitor-and-home-automation.html</a></p>
<p>In short, my setup consists of two emonTx nodes (868Mhz), a raspberry pi, some weather sensors and a relay control board to activate flood pupms when needed</p>
<p>I used the&nbsp;<a href="https://https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTx_CT123_Voltage" target="_blank">https://github.com/openenergymonitor/emonTxFirmware/tree/master/emonTx_CT123_Voltage</a>&nbsp;sketch as a base and added the temperature monitoring parts and the optical sensor parts.</p>
<p>Also, I added the ability to request data (thorugh I2C and Wire calls) to a slave board that has no wireless capability&nbsp;</p>
<p>&nbsp;</p>
<p>Regards</p>
<p>&nbsp;</p>
<p>Mattia</p>
  <div class="forum-topic-navigation clear-block">
          <a href="4946.html" class="topic-previous" title="Go to previous forum topic">‹ My Main Dashboard</a>
              <a href="2837.html" class="topic-next" title="Go to next forum topic">Mobile Power Dials ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-13568"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/238.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy monitor, weather data and more</h3>

    <div class="submitted">Submitted by <a href="../user/238.html" title="View user profile.">Paul Reed</a> on Thu, 11/07/2013 - 23:44.</div>
    <div class="content">
     <p>Very impressive Mattia.</p>
<p>With so many feeds, how are managing long-term data storage, or are you weeding data after &#39;x&#39; months.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13572"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3657.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3657.jpg" alt="Mattia Rossi&#039;s picture" title="Mattia Rossi&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy monitor, weather data and more</h3>

    <div class="submitted">Submitted by <a href="../user/3657.html" title="View user profile.">Mattia Rossi</a> on Fri, 12/07/2013 - 07:23.</div>
    <div class="content">
     <p>Hi Paul,</p>
<p>at the moment no weeding, and waiting for further experiments from Trystan on the new ways to store and use&nbsp;timedata series.</p>
<p>As for occupied space I decided to kill two birds with one stone and moved all frequently changing folders off the sd card on a network drive (mysql data, apache&nbsp;logs, weather station data and all other stuff that could wear down the sd card with too many writes).</p>
<p>At the moment (and it&#39;s been running with all the feeds for almost two months) the total space used by the emoncms schema is around 200MB, so it will need around 1-1.5GB per year of space. Unless the increasing rows in the feed tables cause a noticeable slowdown I don&#39;t think I&#39;ll ever need to prune them.</p>
<p>What I did to achieve this was mapping on boot some directories via nfs to my NAS, and change mysql to use the networked data directory and apache to write the logs on it&#39;s dedicated network mounted dir.</p>
<p>It&#39;s not a completely read only solution, but I think it reduces the writes by a lot and (Murphy notwihtstanding) should lenghten the life of the SD card. And even if it doesn&#39;t, all the data and the config&nbsp;files are on the network drive (that has mirrored drives) and with a little reconfiguration could be brought back online in a not too long time. As you can probably tell I&#39;m much more experienced in using linux systems than fiddling with electronics stuff so for me it&#39;s the best balance between flexibility (not having a completely read only system that cannot change unless you recreate the image) and data security.</p>
<p>&nbsp;</p>
<p>Regards&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13590"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3763.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3763.jpg" alt="farmsid&#039;s picture" title="farmsid&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy monitor, weather data and more</h3>

    <div class="submitted">Submitted by <a href="../user/3763.html" title="View user profile.">farmsid</a> on Fri, 12/07/2013 - 20:22.</div>
    <div class="content">
     <p>I found your fantastic project.</p>
<p>You&#39;ve made many interesting changes. Also accompany the site openenergymonitor and have some applications. Nothing as professional as yours. I&#39;m learning a lot in recent times. One of the coolest things I found was the arduino. I have a RS485 network connecting multiple slaves (Arduinos) and everyone talking to a supervisor opensource called scadabr. I live in Brazil and I&#39;m using the google translator. Forgive me if I do not understand something.<br />
	I&#39;ll wait for you to post your photos of the assembly.<br />
	Congratulations.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13604"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3657.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3657.jpg" alt="Mattia Rossi&#039;s picture" title="Mattia Rossi&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy monitor, weather data and more</h3>

    <div class="submitted">Submitted by <a href="../user/3657.html" title="View user profile.">Mattia Rossi</a> on Sat, 13/07/2013 - 12:04.</div>
    <div class="content">
     <p>Thanks farmsid,</p>
<p>I&#39;m on vacation right now,but as soon as i get back I&#39;ll definitely have some photos to back up the post.</p>
<p>Take care</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13923"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3657.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3657.jpg" alt="Mattia Rossi&#039;s picture" title="Mattia Rossi&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy monitor, weather data and more</h3>

    <div class="submitted">Submitted by <a href="../user/3657.html" title="View user profile.">Mattia Rossi</a> on Mon, 29/07/2013 - 11:56.</div>
    <div class="content">
     <p>Hey guys, just added a new post that details the other part of my arduino home projects, as soon as I put it online (that will require to do some rewiring) I&#39;ll take some photos also of the OEM stuff</p>
<p><a href="http://blog.mrossi.com/2013/07/arduino-relay-board-to-drive-two-flood.html" title="http://blog.mrossi.com/2013/07/arduino-relay-board-to-drive-two-flood.html">http://blog.mrossi.com/2013/07/arduino-relay-board-to-drive-two-flood.html</a></p>
<p>Regards</p>
<p>Mattia</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13926"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/317.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-317.jpg" alt="Sergegsx&#039;s picture" title="Sergegsx&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy monitor, weather data and more</h3>

    <div class="submitted">Submitted by <a href="../user/317.html" title="View user profile.">Sergegsx</a> on Mon, 29/07/2013 - 19:51.</div>
    <div class="content">
     <p>Congrats, great work on the setup and on the reporting !!</p>
<p>&nbsp;</p>
<p>Thanks for sharing.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-19406"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5763.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-5763.jpg" alt="sferrol&#039;s picture" title="sferrol&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Energy monitor, weather data and more</h3>

    <div class="submitted">Submitted by <a href="../user/5763.html" title="View user profile.">sferrol</a> on Tue, 18/03/2014 - 23:03.</div>
    <div class="content">
     <p>Hi Mattia,<br />
	Excelent&nbsp;proyect and apoprtations to SWPI</p>
<p>I have the next configuration:<br />
	Base EmonBase (Raspberry)<br />
	&nbsp; RFM01&nbsp;&nbsp;&nbsp; 868 - Receive data from wheader station<br />
	&nbsp; RFM12Pi 868 - Recive data from EmonTX<br />
	Emontx<br />
	&nbsp; RFM12 868<br />
	Weather station: PCE-FW20</p>
<p>I would like to know how you connect EmonTx with EmonBase</p>
<p>My problem:<br />
	I have connected he RFM01(868) and RFM12PI_V2(868) at the same time<br />
	When alone connect, work perfectly, but when I connect them together, one does not work.<br />
	Both share the GPIO1 (3.3V) and GPIO6 (GND) of the raspberry.<br />
	They may interfere with each other?</p>
<p>how can you recommended for avoid this problem?</p>
<p>I understand you use a wire connection for emonBase (Raspberry) to emontx<br />
	thanks</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2574"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-j3eovsE6HPIkrpBXsVTATIqfAgiSYuA7SYvali8am_g" value="form-j3eovsE6HPIkrpBXsVTATIqfAgiSYuA7SYvali8am_g"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
