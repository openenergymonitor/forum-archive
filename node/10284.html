<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10284 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:11:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>RFM12Pi V2 replace RFM12B with RFM69CW | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">RFM12Pi V2 replace RFM12B with RFM69CW</h3>
        <span class="submitted">Submitted by <a href="../user/7802.html" title="View user profile.">gab.lau</a> on Sun, 08/03/2015 - 13:21</span>
        <div class="content"><p>Hello,<br />
are now three months that I have the emontx v3 with emoncms on rpi, now I want to put the sensor out of the house, to monitor the gas and water but the signal of RFM12PI is not powerful enough.<br />
I have bought a couple of modules RFM69CW and can replace them directly on RFM12PI V2 ??</p>
<p>What is the firmware to be loaded and the procedure to load ??</p>
<p>i&#39;m using Emonhub version rc1.2 <a href="https://github.com/emonhub/emonhub/tree/development" title="https://github.com/emonhub/emonhub/tree/development">https://github.com/emonhub/emonhub/tree/development</a><br />
is the correct version?</p>
<p>Regards<br />
Gabriele</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10221.html" class="topic-previous" title="Go to previous forum topic">‹ importing or exporting</a>
              <a href="10319.html" class="topic-next" title="Go to next forum topic">Emoncms Input API ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-28465"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/380.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-380.jpg" alt="mharizanov&#039;s picture" title="mharizanov&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi V2 replace RFM12B with RFM69CW</h3>

    <div class="submitted">Submitted by <a href="../user/380.html" title="View user profile.">mharizanov</a> on Sun, 08/03/2015 - 13:54.</div>
    <div class="content">
     <p>You will need to swap couple of the 100nF caps to 10uF, otherwise the RFM69CW will brown out the ATMega328 at startup. Just leave the 100nF cap on the DTR line, the other two (side ones) need replacement.</p>
<p>Other than that, it is pretty straight&nbsp;forward, load this sketch and you are good to go:</p>
<p><a href="https://github.com/openenergymonitor/RFM2Pi/tree/master/firmware/RFM69CW_RF_Demo_ATmega328/RFM69CW_RF12_Demo_ATmega328" title="https://github.com/openenergymonitor/RFM2Pi/tree/master/firmware/RFM69CW_RF_Demo_ATmega328/RFM69CW_RF12_Demo_ATmega328">https://github.com/openenergymonitor/RFM2Pi/tree/master/firmware/RFM69CW...</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28466"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi V2 replace RFM12B with RFM69CW</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Sun, 08/03/2015 - 14:22.</div>
    <div class="content">
     <p>Yes, the RFM69CW can be used on the RFM12Pi V2 PCB. Make sure the Arduino bootloder in in place before attaching the RFM69CW module as ISP flashing will not be possible afterwards. Code can be uploaded in the usual way via serial from Raspberry Pi GPIO, this is documented in the technical wiki: <a href="http://wiki.openenergymonitor.org/index.php?title=RFM12Pi_V2">http://wiki.openenergymonitor.org/index.php?title=RFM12Pi_V2</a></p>
<p>You should use this firmware the the 69:&nbsp;<a href="https://github.com/openenergymonitor/RFM2Pi/tree/master/firmware/RFM69CW_RF_Demo_ATmega328">https://github.com/openenergymonitor/RFM2Pi/tree/master/firmware/RFM69CW_RF_Demo_ATmega328</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28488"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi V2 replace RFM12B with RFM69CW</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 09/03/2015 - 10:11.</div>
    <div class="content">
     <p><em>&quot;Make sure the Arduino bootloader in in place before attaching the RFM69CW module as ISP flashing will not be possible afterwards.&quot;</em></p>
<p>Hi Glyn, That&#39;s interesting ! Why is ISP&nbsp;flashing not possible with a rfm69 fitted?</p>
<p>Is it a hardware thing or a firmware thing? Just wondering if it&nbsp;effects other devices being programmed via ISP if a rfm69 is fitted&nbsp;and whether it&nbsp;means the rfm module must be removed if the bootloader&nbsp;gets&nbsp;corrupted.</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28492"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi V2 replace RFM12B with RFM69CW</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Mon, 09/03/2015 - 10:30.</div>
    <div class="content">
     <p>The RFM69CW&nbsp;requires a&nbsp;10K-100K pull-up resistor on the SEL to de-select it from the SPI bus to allow ISP uploading:&nbsp;<a href="https://learn.openenergymonitor.org/?redirect=rfm69cw">http://openenergymonitor.org/emon/buildingblocks/rfm69cw</a></p>
<p>​The RFM69Pi has got this extra pull-up resistor included on board.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28494"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/4440.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-4440.jpg" alt="pb66&#039;s picture" title="pb66&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi V2 replace RFM12B with RFM69CW</h3>

    <div class="submitted">Submitted by <a href="../user/4440.html" title="View user profile.">pb66</a> on Mon, 09/03/2015 - 11:03.</div>
    <div class="content">
     <p>Fantastic! So the emonTx v3.4 already&nbsp;has a 120k&nbsp;fitted and the&nbsp;emonTx v2 would need one installed as would&nbsp;the RFM2Pi&nbsp;v2. got it! Thanks.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28499"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/10.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-10.jpg" alt="glyn.hudson&#039;s picture" title="glyn.hudson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi V2 replace RFM12B with RFM69CW</h3>

    <div class="submitted">Submitted by <a href="../user/10.html" title="View user profile.">glyn.hudson</a> on Mon, 09/03/2015 - 12:35.</div>
    <div class="content">
     <p>Yup, correct. This little bug has me stumped for a while trying to ISP flash an RFM12Pi with an RFM69CW fitted!&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28570"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7802.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7802.jpg" alt="gab.lau&#039;s picture" title="gab.lau&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi V2 replace RFM12B with RFM69CW</h3>

    <div class="submitted">Submitted by <a href="../user/7802.html" title="View user profile.">gab.lau</a> on Wed, 11/03/2015 - 07:16.</div>
    <div class="content">
     <p>Thanks to everyone for the help, but I bought the wrong card :(<br />
The RFM69W is compatible with the CW version but is not pin compatible<br />
Now I&#39;m waiting for the arrival of the card right !!</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-28706"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7802.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-7802.jpg" alt="gab.lau&#039;s picture" title="gab.lau&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: RFM12Pi V2 replace RFM12B with RFM69CW</h3>

    <div class="submitted">Submitted by <a href="../user/7802.html" title="View user profile.">gab.lau</a> on Sun, 15/03/2015 - 22:10.</div>
    <div class="content">
     <p>Yesterday I received the proper cards RFM69CW!<br />
Last night I first sent the correct firmware for the new board, then turned off the RPI and I unsoldered the old RFM12B and I replaced it with the new RFM69CW. after restarting the RPI, the emonhub did not work but after commenting the line: com_baud = 9600 in the file /etc/emonhub/hmenohub.conf and restarted the service it worked !!<br />
Thanks to everyone !!!</p>
<p>Another question:<br />
RSSI that the range of values has ?? the datasheet is written -115dBm, it is right ??<br />
I have the emontx v3 which is about -90 / -97 of rssi is a problem ??<br />
hopefully I can do the same thing to replace the RFM12B with RFM69CW on emontx v3 ??</p>
<p>greetings</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10284"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-6I2exxf-s06Ku4CPgmUAplnbiI4vhJQsBA_SIz22nmg" value="form-6I2exxf-s06Ku4CPgmUAplnbiI4vhJQsBA_SIz22nmg"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
