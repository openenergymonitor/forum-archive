<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/2164 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 15:05:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Battery powered emonTX | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/3.html">Archived: General Discussion</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Battery powered emonTX</h3>
        <span class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Tue, 26/03/2013 - 21:13</span>
        <div class="content"><p>Hi.</p>
<p>I power my emonTX with a 5V adapter. I&#39;d like to power it with batteries to let it run outside the house.</p>
<p>It worked with two 1.5V batteries, but I&#39;d rather use rechargeable batteries.</p>
<p>My accumulators are NiMH (1.2 V). When using these, the ATMega does not seem to run. It is said to run at (Operating Voltage: 1,8V - 5.5V) but I guess the rest of the board needs power as well.</p>
<p>NiZn are apparently more expensive but should work : 1.6 V.</p>
<p>What kind of battery do you guys use to power your TX ?</p>
  <div class="forum-topic-navigation clear-block">
          <a href="5165.html" class="topic-previous" title="Go to previous forum topic">‹ Energy Monitor Accuracy</a>
              <a href="5163.html" class="topic-next" title="Go to next forum topic">Hello - Advice on implementation of control applications ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-10657"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Tue, 26/03/2013 - 22:11.</div>
    <div class="content">
     <p>What about a LiPo which is 3.7-4.2V. I ordered a few of these to do some tests: <a href="http://hobbyking.com/hobbyking/store/uh_viewItem.asp?idProduct=20386" title="http://hobbyking.com/hobbyking/store/uh_viewItem.asp?idProduct=20386">http://hobbyking.com/hobbyking/store/uh_viewItem.asp?idProduct=20386</a></p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10666"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/905.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="robw&#039;s picture" title="robw&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/905.html" title="View user profile.">robw</a> on Wed, 27/03/2013 - 07:54.</div>
    <div class="content">
     <p>I run my glcd&nbsp;from a 3.7v lipo pack with great success. So can&#39;t see why this would not work.</p>
<p>just make sure you charge them correctly.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10668"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1774.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1774.jpg" alt="PaulOckenden&#039;s picture" title="PaulOckenden&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1774.html" title="View user profile.">PaulOckenden</a> on Wed, 27/03/2013 - 08:37.</div>
    <div class="content">
     <p><em>I run my glcd from a 3.7v lipo pack with great success.</em></p>
<p>How long does it last between charges?</p>
<p>P.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10669"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/905.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="robw&#039;s picture" title="robw&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/905.html" title="View user profile.">robw</a> on Wed, 27/03/2013 - 08:45.</div>
    <div class="content">
     <p>Over a week between charges and even more if I connect a solar cell to the lipo charger on board. &nbsp; I should be able to get more but have not optimised the code at all.&nbsp;</p>
<p>Will take some pics.&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10670"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1958.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1958.png" alt="fluppie007&#039;s picture" title="fluppie007&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1958.html" title="View user profile.">fluppie007</a> on Wed, 27/03/2013 - 08:47.</div>
    <div class="content">
     <p>I&#39;m also interested in what LiPo you use, which charger etc :-).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10672"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 27/03/2013 - 09:03.</div>
    <div class="content">
     <p>I&#39;m interested in references as well.</p>
<p>Does it fit nice inside the TX case ?</p>
<p>(BTW, the case is provided with metal contacts for the batteries but only at the battery/wire interface. I had to stuff some sort of tin foil on the over end to connect the two batteries together.)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-10677"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/905.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="robw&#039;s picture" title="robw&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/905.html" title="View user profile.">robw</a> on Wed, 27/03/2013 - 11:16.</div>
    <div class="content">
     <p>This is for the emonGLCD only.. My TX is powered by a usb charger as it monitors Voltage as well as current so has to be next to a power point any way..</p>
<p>The Charger is a lipo charger from&nbsp;<a href="https://www.adafruit.com/products/390">https://www.adafruit.com/products/390</a></p>
<p>the battery is a 6000mah battery.. Iv also used a 2000 and 2700mah&nbsp;with great success.. 5days and 6days ish with some code changes.. &nbsp;Could get more but i was new at ardunio programming then.. Must revisit this. got side tracked because of the crashing issue and throught it was my bad code..&nbsp;</p>
<p>See thread for some pics (very early stages and lipo run time tests.</p>
<p><a href="541.html#comment-4430" title="http://openenergymonitor.org/emon/node/541#comment-4430">http://openenergymonitor.org/emon/node/541#comment-4430</a></p>
<p>All of my Jeenodes are also Lipo powered and run happly on this.. Will make a post about the other to save clogging up this one..</p>
<p>Pics attached.</p>
<p>Rob</p>
<p>Forgot to say the solar panel just connects to the lipo&nbsp;charger and is a cheep 1w 5v (ish) panel. Seems to do the job fine.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-11313"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Mon, 15/04/2013 - 20:40.</div>
    <div class="content">
     <p>Do you think it would be possible to reach several weeks/months autonomy ? What if you want to instrument a building for several weeks, even months, but you can&#39;t go there every three days to replace the batteries, or ask your client to do it ?</p>
<p>Some USB keys can record the temperature during two years (or so they say). They don&#39;t transmit anything, though. They are useful for the study of a building&#39;s behavior in time, but not for remote supervision.</p>
<p>Apart from instrumenting your own house, I don&#39;t see use cases where you can afford to replace the battery so often.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12631"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 05/06/2013 - 17:56.</div>
    <div class="content">
     <p>I got a 3.7 V LiPo battery and a <a href="https://www.sparkfun.com/products/10401">mini usb charger</a>:</p>
<p><img alt="Mini USB LiPo charger" src="../../../dlnmh9ip6v2uc.cloudfront.net/images/products/1/0/4/0/1/10401-05_i_ma.jpg" style="width: 188px; height: 188px;" /></p>
<p>This should allow me to charge the battery in place, with the charger feeding both the battery and the emonTX, and the battery taking over when the system is taken off grid.</p>
<p>The output of the device is 4V. For those who didn&#39;t know it either, it only works with a battery plugged in, even if it is plugged to an energy source. In other words, the grid (through the USB adapter) fills the battery which in turns feeds the circuit.</p>
<p>I didn&#39;t dare connecting it to the battery input of the emonTX, the one that is labeled&quot; max 3.3 V, so I did an ugly soldering to the mini USB input pins on the TX. I get 4 V instead of 5V, but it seems to work.</p>
<p>Is that the right way or should I use the battery input ? Or do it completely differently ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12662"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <img src="../sites/default/files/imagecache/avatar/default_0.png" alt="ToF&#039;s picture" title="ToF&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by ToF (not verified) on Thu, 06/06/2013 - 01:37.</div>
    <div class="content">
     <p>6000 mAh for less than a week?</p>
<p>Is the backlight of your display always on, the RF-Chip always in tranceiver mode and the Arduino running at full speed?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-12842"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Tue, 11/06/2013 - 08:25.</div>
    <div class="content">
     <p>I&#39;m rephrasing in case my question went unnoticed.</p>
<p>Where on the TX would you plug a LiPo battery charger ?</p>
<p>The battery input is clearly labeled Max 3.3 V so the obvious answer might be not here.</p>
<p>So I decided to solder the wires to the USB alim socket, but that makes a bit of a dodgy connection. I could take a photo but I suppose you get the idea.</p>
<p>I didn&#39;t know if I could use the pinholes around the ATMega (JeePorts). Could I ?</p>
<p>&nbsp;</p>
<p><img alt="" src="../sites/default/files/emonTx_V2.0%20overview.png" style="width: 852px; height: 622px;" /></p>
<p>&nbsp;</p>
<p>I saw on the post &quot;<a href="642.html">emonTx New Dev Ideas</a>&quot; that a LiPo charger might be added. I think it could be a good idea. This is what I want to check by testing the autonomy with mine.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13236"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 26/06/2013 - 09:43.</div>
    <div class="content">
     <p>As a follow up, see <a href="2331.html">this thread</a> with another suggestion:</p>
<p>A <a href="https://www.sparkfun.com/products/10967">step-up regulator</a> can be used to provide a constant 3.3 V from AA batteries.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13242"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 26/06/2013 - 13:11.</div>
    <div class="content">
     <p>In deciding where to connect an external supply, you must take account of the maximum voltage of the various components present in your configuration.</p>
<p>The most obvious limit is the RFM12B, at 3.8 V, followed by DS18B20 (if fitted) at 5.5 V, then the ATmega at 6.0 V, then the MCP1702 at 14.5 V but this might also have a maximum power limitation that will apply at a lower voltage.</p>
<p>Clearly, you cannot apply greater than 3.8 V to the 3.3 V battery connection without risking maloperation or damage to the RFM12B. If you use the nominal 5 V input (via the USB connector or indeed any point labelled PWR, then the upper limit is set by anything (possibly DS18B20 temperature sensors) connected to the PWR (nominally 5 V) rail or the regulator, whichever is the lower; and the lower limit is set by the drop-out voltage of the regulator, which could be as high as 4.275 V.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13245"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 26/06/2013 - 13:29.</div>
    <div class="content">
     <p>Thanks you Robert for making that clear.</p>
<p>So if my understanding is correct, there is a regulator that cuts everything off when the input power goes under a given level. If that level is around 4V, then I&#39;m in trouble, since the {LiPo battery + charge} provides 4 V.</p>
<p>Which means that my 4 V source is not fitted either for the &quot;battery&quot; 3.3 V input or for the 5 V input.</p>
<p>In practice it seems to work well. But maybe the drop-out voltage is a bit lower than what I get from my source. Except it may cut anytime if the source weakens a bit.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13251"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 26/06/2013 - 15:27.</div>
    <div class="content">
     <p>&quot;<em>So if my understanding is correct, there is a regulator that cuts everything off when the input power goes under a given level</em>.&quot;</p>
<p>NO!&nbsp; The regulator doesn&#39;t operate correctly (i.e. it won&#39;t regulate) if it hasn&#39;t got enough voltage across it. Typically, the output voltage will drop and will be subject to large changes due to load variations and supply variations.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13252"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 26/06/2013 - 15:50.</div>
    <div class="content">
     <p>OK, now I&#39;m lost. Sorry. I supposed I misunderstood this sentence:</p>
<blockquote><p>the lower limit is set by the drop-out voltage of the regulator, which could be as high as 4.275 V</p>
</blockquote>
<p>Which regulator are you talking about. Is it something inside the TX or in the charger I&#39;m referring to in this post ?</p>
<p>I realized afterwards that there is a regulator in the charger, that ensures a constant voltage (I think the voltage is hardcoded):</p>
<pre>
Four Voltage Regulation Options:
-  4.20V, 4.35V, 4.40V, 4.50V
</pre><p>This specific part aside, what happens to the TX when supply voltage goes down ? At some point the ATMega stops working, but before that, it works with sensors potentially providing stupid values, and all ?</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13253"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 26/06/2013 - 16:36.</div>
    <div class="content">
     <p>I&#39;m not surprised you&#39;re lost - it is a minefield!</p>
<p>The &quot;5 V&quot; supply to the emonTx goes to some peripherals - as selected by solderable links - and feeds a MCP1702 regulator that provides the 3.3 V to everything else on the board. It is that regulator that I am referring to. I misread the data sheet, I looked at the wrong line - the &quot;dropout voltage&quot; below which it will not regulate is 0.725 V maximum, typically 0.525 V, and no minimum is specified. So if the &quot;5 V&quot; supply drops below the maximum output voltage + 0.725 V (which ought to be 3.3 V + 0.725 V = 4.025 V), correct operation is not guaranteed. But &quot;typically&quot; it will work down to 3.825 V ( = 3.3 V + 0.525 V), which explains why yours works</p>
<p>Most parameters of the ATmega are specified down to 1.8 V. The emonTx will not operate correctly at that, the inputs will clip to start with - you could only measure mains voltage below 140 V. If you do want to run the ATmega below 3.3 V, then all the resistors that scale the inputs will need changing to deliver a lower voltage.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13254"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 26/06/2013 - 18:04.</div>
    <div class="content">
     <p>Thank you, Robert.</p>
<p>So when using the battery input, you need to solder the links to as to use 3.3 V for peripherals, and ensure this voltage is sufficient for the sensors you use.</p>
<p>For instance, when using AA batteries, as proposed by John in <a href="2331.html">that other thread</a>, either choose the <a href="https://www.sparkfun.com/products/10967">3.3 V regulator</a> and connect it to battery input, or if it is not enough for the sensors and more than 3.3 V is needed, pick the <a href="https://www.sparkfun.com/products/10968">5 V</a>, and solder it to a PWR pin.</p>
<p>If this feature (the step-up regulator) is to be added to the next TX, the 5 V might be a safer choice, but perhaps does it mean more power loss, because the 5 V needs to go through the MCP1702.</p>
<p>The picture is much clearer now. I largely overlooked the electronics in the TX, as the code was enough to worry about. I shouldn&#39;t lean over that to much, it may become addictive...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13255"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3240.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="john.b&#039;s picture" title="john.b&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/3240.html" title="View user profile.">john.b</a> on Wed, 26/06/2013 - 18:13.</div>
    <div class="content">
     <p>How will it work reliably when not charging?&nbsp; A Li-Po cell is nominally 3.7 V and 2.7 V when discharged.&nbsp; I know you shouldn&#39;t fully discharge the cell, but even so it seems the nominal cell voltage is below the specified range of the MCP1702.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13256"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 26/06/2013 - 18:34.</div>
    <div class="content">
     <p>Well, here&#39;s a picture to make things clearer (click to enlarge):</p>
<p><a href="../../../jolimont.fr/openenergymonitor/LiPo.jpg"><img alt="LiPo" src="../../../jolimont.fr/openenergymonitor/LiPo_s.jpg" style="width: 400px; height: 253px;" /></a></p>
<p>Even when not charging, the battery is connected through the regulator of the charger (MCP73831T).</p>
<p>I reckon that because of the regulator, the fact that the LiPo keeps a relatively constant voltage is not relevant.</p>
<p>The capacity of the LiPo is not that great (850 mAh), but it fits inside the box, even with the charger. I can close the box when not charging.</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13257"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3240.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="john.b&#039;s picture" title="john.b&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/3240.html" title="View user profile.">john.b</a> on Wed, 26/06/2013 - 19:45.</div>
    <div class="content">
     <p>I&#39;ve read the <a href="https://www.sparkfun.com/datasheets/Prototyping/Batteries/MCP73831T.pdf">data sheet</a> for the charger and see no mention of voltage regulation <em>when not charging.</em>&nbsp; So my understanding is that the output voltage will be the battery voltage when not charging i.e a nominal 3.7 V.</p>
<p>The voltage regulation referred to in the data sheet is part of the charging cycle.&nbsp; It goes through constant current charging and then continues with constant voltage charging.</p>
<p>So my point is that the battery voltage when not charging will quickly go below the specified range of the MCP1702.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13258"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 26/06/2013 - 19:51.</div>
    <div class="content">
     <p>If you look very carefully, the temperature link is pre-made to 5 V with a thin track between the solderable pads, which can be cut if not required, and soldered to 3.3 V instead. The pulse/IRQ input needs to be soldered in each case.</p>
<p>If you don&#39;t have anything that requires 5 V ( temperature sensors on long leads?), a clean 3.3 V feed from an external step-up/step down switching regulator would be my choice, and leave out the MCP1702.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13260"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 26/06/2013 - 21:15.</div>
    <div class="content">
     <p>Please consider me as a noob when it comes to electronics. I almost didn&#39;t read the datasheet (shame on me) but 4,2 V is what I measure even when not charging (unplugged from the grid).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-13271"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3240.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="john.b&#039;s picture" title="john.b&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/3240.html" title="View user profile.">john.b</a> on Thu, 27/06/2013 - 08:00.</div>
    <div class="content">
     <p>I think 4.2 V&nbsp; is typical for a fully charged Li-Po cell, but it drops fairly quickly.&nbsp; I don&#39;t know what cell you&#39;re using but here is a typical performance curve.</p>
<p><img alt="" src="../sites/default/files/Li-Po.png" style="width: 300px; height: 240px;" /></p>
<p>It would seem that around 30% depth of discharge the voltage might be close to or below the range of the MCP1702.&nbsp; That&#39;s only 255 mAh i.e. 30% x 850 mAh.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16522"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Sat, 30/11/2013 - 22:11.</div>
    <div class="content">
     <p>I&#39;ve been running a TX on LiPo for a few weeks now.</p>
<p>At some point, I begun missing a lot of data frames. I checked the voltage and it was still more than 4 V.</p>
<p>I think it might be due to the cold. It seems to operate better on daytime.</p>
<p>This would be a noticeable drawback to the LiPo.</p>
<p>I shall investigate the step-up regulator lead.</p>
<p>Alternatively, I could use 3 AA accumulators (but that does not fit in the case).</p>
<p>I also have a rectangular 8.4 V accumulator. I could solder the links to have everything go through the MCP1702, which accepts up to 13.2 V, and feed the sensors with 3.3 V, I suppose.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16551"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Wed, 04/12/2013 - 22:19.</div>
    <div class="content">
     <p>A friend gave me a little explanation about the cold affecting the battery. Basically, the cold increases the Thevenin&#39;s resistance of the battery (a non-ideal voltage source can be seen as an ideal voltage source in series connection with a resistance).</p>
<p>Without load (without current), the measured voltage is normal, but when loaded (when the circuit asks for current, in my case when the RF module transmits), the current increases, and the resistance wastes voltage, therefore the voltage outside the battery is limited. To verify this, I&#39;d need to measure the voltage just when the RF module is emitting.</p>
<p>Anyway.</p>
<p>I could try a 9V battery. I might have temperature issues, I don&#39;t know. I&#39;m not sure I&#39;ll do that, but I think this is possible if plugged not to the battery input, but to any PWR line (see message submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 26/06/2013 - 15:11.) provided the sensors are on the 3.3V line, not the 5V (this is not the default connection !). For any noobier than me here, this means soldering wires somewhere. The TX (at least for v1) is not sold so as to do this.</p>
<p>I like the idea of the step-up. Seems safer. Can be <a href="https://www.sparkfun.com/products/10967">3.3 V</a> or <a href="https://www.sparkfun.com/products/10968">5 V</a>. Perhaps if 5V is not needed, 3.3V will have better efficiency. I think I&#39;ll go for this. The examples I&#39;m providing are 6&euro; breakout board with a few additional components but a naked step-up is much cheaper (around 1 or 2 &euro;). Perhaps would that be a nice add to the TX (or perhaps is there already something similar on the new version).</p>
<p>Edit: Searching the internet to get the step-up regulator from a reseller in France, I found an equivalent product, the&nbsp; <a href="http://shop.ciseco.co.uk/powerpod-ncp1402-3v3/">PowerPOD NCP1402 3V3</a>, that is sold by Ciseco, in UK, who also produces the Open Kontrol Gateway.</p>
<p>Edit 2: An equivalent product, <a href="http://www.pololu.com/product/2114">Polulu NCP1402</a>, and another one, a bit different, the <a href="http://www.pololu.com/product/2561">U1V11F3</a>. The latter seems more featured and more powerful, but has a lower efficiency in the low current range which I think is ours.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-16575"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/1531.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-1531.gif" alt="Jérôme&#039;s picture" title="Jérôme&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/1531.html" title="View user profile.">Jérôme</a> on Thu, 05/12/2013 - 22:20.</div>
    <div class="content">
     <p>I just ordered the 5V step-up from Sparkfun. The maximal input voltage to it is 4V, but someone says the 4.2V of my LiPo won&#39;t hurt it. I should be able to use either AA batteries or the LiPo.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21364"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3375.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-3375.jpg" alt="tomtobback&#039;s picture" title="tomtobback&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/3375.html" title="View user profile.">tomtobback</a> on Wed, 14/05/2014 - 12:44.</div>
    <div class="content">
     <p>Hi, i am powering my 2 emonTx&#39;s&nbsp;from a LiPo&nbsp;battery being charged by a solar panel, with Seeedstudio&#39;s LiPo Rider Pro as charger. The system works (see details <a href="http://lantaukwcounter.blogspot.hk/2014/05/running-emontx-sensors-on-solarlipo.html">here</a>), but i get a very low efficiency (2 days on a 1600mAh cell), and i assume it is because the charger has a step-up to 5V&nbsp;which the emonTx&#39;s then regulate down to 3.3V.</p>
<p>I am considering to connect the LiPo directly to the&nbsp;emonTx&#39;s, but if i would use the onboard&nbsp;MCP1702&nbsp;voltage regulator it will only work as long as the LiPo voltage is above 3.825 V ( = 3.3 V + 0.525 V) as Robert pointed out above. Without regulator the RFM12B&nbsp;might burn above 3.8V. And using a step-up to 5V, as in my current setup (LiPo Rider charger) seems to lead to very low efficiencies. Any suggestions?</p>
<p>As the emonTx seems to work very well with around 3V&nbsp;from AA batteries, i think a solution could be to replace the 3.3V voltage regulator to one of&nbsp;3V, then the LiPo voltage can go down to 3 + 0.525 V before the regulator stops working; does that make sense?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-21373"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Battery powered emonTX</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 14/05/2014 - 14:26.</div>
    <div class="content">
     <p>I would look at replacing the regulator in the emonTx (or bypassing it) and use a single buck-boost converter that is capable of accepting an input that ranges from the minimum voltage of your cell up to the maximum voltage on charge (plus a little for safety). Some claim 96% efficiency, which should be seriously better than the combination of a boost converter followed by a linear regulator.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/2164"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-p8Mj_A1b9iQojRJQbuOO0eweRdaZWbvT_mPVWMY7OhA" value="form-p8Mj_A1b9iQojRJQbuOO0eweRdaZWbvT_mPVWMY7OhA"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
