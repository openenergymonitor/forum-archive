<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/3614 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:05:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Dump load - closed loop control - an alternative control system for surplus power ? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Dump load - closed loop control - an alternative control system for surplus power ?</h3>
        <span class="submitted">Submitted by <a href="../user/5088.html" title="View user profile.">frasenci</a> on Mon, 13/01/2014 - 01:03</span>
        <div class="content"><p>Dear all,</p>
<p>I am still waiting for emonTx to arrive. In the meantime I continue to read again and again the various descriptions of hardware and software about all of this.</p>
<p>I am not absolutely shure that I understand the concept of &quot;controlling the energy packet buildup &quot; in the meter by firing the dumpload in a precise way....</p>
<p>As I know I have surplus PV energy during a good sunny day, my first objective for getting into this theme is to stop paying for the surplus as I do not have net-metering in my country yet.</p>
<p>According to my experimentation, cutting all consumption in my house down , leaving only the PV generating ( controlled only say 200 watt ) y can read the ampmeter ( clamp to the incoming wire from the meter ) , about 1 Ampere. i,e, app 200 watt by 220 Volt main supply. If I connect a big soldering iron ( 200 watt ) to one of house outlet , the ampmeter goes nearly to 0 (cero).</p>
<p>I understand the new consumption is preventing this 200 watt to go trough the meter and out to the world ( and me to pay for it ) The concept of the dumpload as I have understood it...</p>
<p>If this is true, If I am understanding it right , would it be possible to control de dumpload only by measuring the current at the meter ? i.e. if it is outgoing ( 180 phase shift to voltage ) then trigger the dumpload ,</p>
<p>I am thinking about a closed loop control system that modulates the dumpload as to maintain 0 ampere at the incoming wire ( only if it is outgoing ) .... and this could be easy to do with PWM to the opto-Triac. Dumping takes place everytime it starts exporting.......</p>
<p>Thank you for your comments.</p>
<p>Greetings from Chile</p>
<p>Francisco</p>
<p>&nbsp;</p>
  <div class="forum-topic-navigation clear-block">
          <a href="1468.html" class="topic-previous" title="Go to previous forum topic">‹ SOLVED - Another stk500_getsync() issue</a>
              <a href="3637.html" class="topic-next" title="Go to next forum topic">feeds from multiple emontx ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-17557"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Dump load - closed loop control - an alternative control system for surplus power ?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Mon, 13/01/2014 - 02:18.</div>
    <div class="content">
     <p>Francisco,</p>
<p>The system you describe is exactly how these two projects</p>
<p><a href="../mk2.html">Diverting surplus PV Power: MK2</a><br />
	<a href="https://learn.openenergymonitor.org/?redirect=pll">Diverting surplus PV Power: PLL</a></p>
<p>work. The current flowing in or out of your house is measured and the dump load turned on so that - if possible - it exactly balances the surplus PV energy and the current to the grid is zero.</p>
<p>If you want the &quot;MK2&quot;, you can use an emonTx V2 or V3 and buy a triac firing circuit board from Robin Emley (&quot;calypso_rae&quot;), or use an Arduino and the triac firing circuit board plus an input circuit, or you will soon be able to buy a kit from Robin.<br />
	If you want the &quot;PLL&quot;, you can use an emonTx V2 or V3 and buy the same triac firing circuit board from Robin Emley (&quot;calypso_rae&quot;).<br />
	&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17600"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5088.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="frasenci&#039;s picture" title="frasenci&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Dump load - closed loop control - an alternative control system for surplus power ?</h3>

    <div class="submitted">Submitted by <a href="../user/5088.html" title="View user profile.">frasenci</a> on Tue, 14/01/2014 - 12:54.</div>
    <div class="content">
     <p>Thank you very much Robert,</p>
<p>you forced me to read the contents once more.</p>
<p>I think I got it clear this time , what I was proposing is nothing other than the &quot;simple&quot; approach ( for pretty much steady consumption , on/off only on over longer periods of time like the fridge, watering pump at home, etc) Which is my case, thus the &quot;predictive&quot; reaction will be enough.</p>
<p>I am thinking about the simplest possible hardware arrangement, i.e. in this case only 2 AD inputs( the AC input and 1 CT for the meter current ) and 1 output for the Triac (Dumpload).</p>
<p>No calculations , only verify if Current is or not in phase with voltage.</p>
<p>I hope my emonTx / emonGLCD order arrives soon so I can begin experimenting hands on.So far I have only been simulating hardware/software on the Pc.</p>
<p>&nbsp;</p>
<p>Greetings</p>
<p>Francisco</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17609"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/956.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/pictures/picture-956.jpg" alt="calypso_rae&#039;s picture" title="calypso_rae&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Dump load - closed loop control - an alternative control system for surplus power ?</h3>

    <div class="submitted">Submitted by <a href="../user/956.html" title="View user profile.">calypso_rae</a> on Tue, 14/01/2014 - 21:45.</div>
    <div class="content">
     <p>Hi Fransisco,</p>
<p>I think the system that you are looking for is very similar to my original Mk2 PV Router.&nbsp; This is a &quot;reactive&quot; system, which has negative feedback.</p>
<p>When the Router is working in &quot;normal&quot; mode, the energy bucket (accumulator) only has one threshold.&nbsp; Whenever the energy level is above the half-way point, the dump load is turned on.&nbsp; This immediately causes more power to be consumed, and the energy level soon starts to fall.&nbsp; When the energy level drops below the half-way point, the dump load turns off again.&nbsp; This allows the energy level in your house to rise (while the PV panels are still generating surplus power), and the cycle repeats itself.&nbsp;</p>
<p>The net effect of this behaviour is that the dump load cycles rapidly on and off so that the net flow of energy at the meter is zero.&nbsp; Because the balance between importing and exporting energy is accurately controlled, the user is not charged for any flow of energy through the meter. &nbsp;</p>
<p>In my original circuit schematic, the processor only has three connections, as you have said.&nbsp; These are for the voltage sensor, the current sensor, and the pin which drives the output stage.&nbsp; Additional pins are used for in later versions to provide extra features, but the basic 3-connection arrangement is all that you need to reliably divert your surplus energy.</p>
<p>When the level of the energy bucket is rising, that means that power is being exported.&nbsp; The current will be in the opposite sense to the voltage because the house is acting as a source of power rather than as a load.&nbsp; Then, when the dump load turns on, the flow of current at the supply point will change direction.&nbsp; The current will then be in-phase with the voltage, and the energy bucket level will start to fall.&nbsp; As soon as the dump-load goes off again, the flow of the current at the supply point will change direction again, and so on.</p>
<p>The maths within the sketch multiplies &quot;voltage&quot; by &quot;current&quot; to get &quot;power&quot;, and then integrates &quot;power&quot; over &quot;time&quot; to get &quot;energy&quot;.&nbsp; Unless you use a system which works in this way, you will only be able to tell when you are importing or exporting, not the rate at which energy is flowing.</p>
<p>I look forward to hearing about how your project develops.&nbsp; There are several sketches <a href="1757.html">here</a> which you may find helpful during your initial test stage.&nbsp; These tools will allow you to demonstrate that your hardware is working correctly.&nbsp; Then you can run whichever final program you wish.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17613"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Dump load - closed loop control - an alternative control system for surplus power ?</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Tue, 14/01/2014 - 22:57.</div>
    <div class="content">
     <p><em>&quot;on/off only on over longer periods of time like the fridge,&quot;</em></p>
<p>That might not work to your best advantage. It depends on how your energy meter is set up and how your electricity company charges for energy it supplies and how it pays for energy it buys from you.</p>
<p>Robin&#39;s (calypso_rae) and MartinR&#39;s designs both use a characteristic of the energy meter which means you can import and export very small quantities of energy - often 3600 J - and it is never recorded. Therefore by switching on and off within this limit, you can make best use of your PV energy without ( as in the UK) selling it back at a lower price than you bought it, or worse still, being charged for sending it back into the electricity grid.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-17721"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/5088.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="frasenci&#039;s picture" title="frasenci&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Dump load - closed loop control - an alternative control system for surplus power ?</h3>

    <div class="submitted">Submitted by <a href="../user/5088.html" title="View user profile.">frasenci</a> on Sat, 18/01/2014 - 11:26.</div>
    <div class="content">
     <p>Thank you very much for your writing Robert.</p>
<p>Much clearer picture about the system now.</p>
<p>I will report back about my findings as soon as I get my hardware.</p>
<p>Greetings from Chile</p>
<p>Francisco</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/3614"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-kW4YD3IYI3jLsBpDBTshETvcHI4B-jDE4Vh5Ppde7Fo" value="form-kW4YD3IYI3jLsBpDBTshETvcHI4B-jDE4Vh5Ppde7Fo"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
<div style="margin:0 auto;width:1000px;">
  <div style ="float:right;width:400px;padding-right:20px;">
    <script>
      (function() {
        var cx = '006198118389747886812:rtaoc3wurta';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script>
    <gcse:searchbox-only></gcse:searchbox-only>
  </div>
</div>

</body>
</html>
