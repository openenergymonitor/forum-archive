<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Why does Emoncms require &quot;swift mailer&quot; ? | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="/emon/sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="/emon/modules/node/node.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/defaults.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/system.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/system/system-menus.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/user/user.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/modules/mollom/mollom.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/forum/forum.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/modules/views/css/views.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/modules/comment/comment.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="/emon/sites/all/themes/emon3/style.css?r" />
<style type="text/css" media="all">@import "/emon/sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="/emon/" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="/emon/">Home</a> » <a href="/emon/forum">Forums</a> » <a href="/emon/forum/5">Archived: Software</a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Why does Emoncms require &quot;swift mailer&quot; ?</h3>
        <span class="submitted">Submitted by <a href="/emon/user/8188" title="View user profile.">Chewie</a> on Tue, 19/05/2015 - 19:16</span>
        <div class="content"><p>Hi</p>
<p>I'm getting ready for my EmonPi. I'm planning on running Emoncms locally on my energy efficient server that is running linux and is currently serving as my mail server, file server, htpc with all my movies and music on etc etc.</p>
<p>Running Emoncms that machine instead of on the EmonPi would also solve the potential problem of wearing out the SD card. However I notice Emoncms requires "swift mailer", now I'm loathed to run unnecessary services and I don't want to mess up my email setup so can Emoncms be configured to run without email ?</p>
<p>Thanks for any advise.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="/emon/node/10709" class="topic-previous" title="Go to previous forum topic">‹ Emoncms on shared linux hosting - requires redis-server</a>
              <a href="/emon/node/10732" class="topic-next" title="Go to next forum topic">Using Emonpi features in v8.5 ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-30516"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/238" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/238" title="View user profile.">Paul Reed</a> on Tue, 19/05/2015 - 19:50.</div>
    <div class="content">
     <p>As far as I&#39;m aware it&#39;s optional, but if you don&#39;t install it, you will not be able reset your emoncms&nbsp;password if you ever forget it (because it will not be able to email you the link). Also, any&nbsp;add-ons such as the event module would also not send email alerts (I use &#39;push&#39; messaging anyway!).</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30521"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/8188" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-8188.jpg" alt="Chewie&#039;s picture" title="Chewie&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/8188" title="View user profile.">Chewie</a> on Tue, 19/05/2015 - 22:08.</div>
    <div class="content">
     <p>Do you need email to reset emoncms password? surely you can just SSH into the box and edit files directly ?</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30522"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/238" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/238" title="View user profile.">Paul Reed</a> on Tue, 19/05/2015 - 22:09.</div>
    <div class="content">
     <p>Yes! correct.</p>
<p>By editing the MYSQL database, with a little work you can overwrite the password.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30525"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/3426" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/3426" title="View user profile.">Bill Thomson</a> on Wed, 20/05/2015 - 00:25.</div>
    <div class="content">
     <p>If, for some reason, you don&#39;t want to, or can&#39;t, edit the database directly, here&#39;s how to reset the <em><strong>emoncms MySQL</strong></em> password from the command line: (can be done locally, or via SSH)</p>
<p>Log on to MySQL as the MySQL root user<br />
<strong>mysql</strong> <strong>-u root -p</strong></p>
<p>Enter the MySQL root password, then issue the command:<br />
<strong>SET PASSWORD FOR &#39;user-name-here&#39;@&#39;hostname-name-here&#39; = PASSWORD(&#39;new-password-here&#39;);</strong></p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30530"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/238" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/238" title="View user profile.">Paul Reed</a> on Wed, 20/05/2015 - 08:59.</div>
    <div class="content">
     <p>Bill, we&#39;re talking about resetting&nbsp;the <u>emoncms</u> password, not the MYSQL root password.<br />
See<a href="http://openenergymonitor.org/emon/node/2345#comment-11904"> this post</a> for resetting the emoncms password via editing MYSQL.</p>
<p>Paul</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30535"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/3426" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/3426" title="View user profile.">Bill Thomson</a> on Wed, 20/05/2015 - 11:53.</div>
    <div class="content">
     <p>OK. Post updated with info on how to change the <em>emoncms MySQL</em> password...</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30536"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/238" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-238.jpg" alt="Paul Reed&#039;s picture" title="Paul Reed&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/238" title="View user profile.">Paul Reed</a> on Wed, 20/05/2015 - 12:44.</div>
    <div class="content">
     <p>Bill, sorry, we are still talking different passwords.</p>
<p>We are discussing the emoncms&nbsp;&#39;user&#39; password - the one which you login to the ui, when accessing emoncms from a desktop, and not the MYSQL root or emoncms password.</p>
<p>The emoncms&nbsp;user password is stored in encrypted format in a MYSQL table, and is usually recovered by clicking &#39;forgot password&#39; and swift mailer emails you a recovery link.</p>
<p>Paul</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30539"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/3426" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/3426" title="View user profile.">Bill Thomson</a> on Wed, 20/05/2015 - 18:57.</div>
    <div class="content">
     <p>Right. I was working on a method of resetting <em>that</em> password (emoncms user) via the command line when I got sidetracked by some flash flooding we had last night and this morning. (had to go out and buy a pump and some hose)</p>
<p>&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30548"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/3426" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-3426.jpg" alt="Bill Thomson&#039;s picture" title="Bill Thomson&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/3426" title="View user profile.">Bill Thomson</a> on Wed, 20/05/2015 - 23:08.</div>
    <div class="content">
     <p>Got it worked out. Here&#39;s how to reset the emoncms user password from the MySQL command line: (can be done locally, or via SSH)</p>
<p>N.B. This assumes your emoncms admin account user name, <strong><em>and</em></strong> your database, are both named emoncms. If not, substitute <em><strong>your</strong></em> <em><strong>admin account username</strong></em> where you see the <em><strong>emoncms</strong></em> <em><strong>username</strong></em>, and <em><strong>your database name</strong></em> where you see the <em><strong>emoncms database name</strong></em>.</p>
<p>Create a new user from the emoncms login screen. For this example, we&#39;ll give that user the name emontemp.<br />
Take note of the password you gave the emontemp user.</p>
<p>run Mysql as the MySQL root user:<br />
<strong>mysql -u root -p</strong> (you&#39;ll be prompted for the MySQL root user password)</p>
<p>Switch to your database. (Substitute your database name if it&#39;s not emoncms) issue the command:<br />
<strong>use emoncms;</strong></p>
<p>To copy emontemp&#39;s password to the emoncms user account, issue the command:<br />
<strong>update users set password=(select * from (select password from users where username=&#39;emontemp&#39;) x) where username=&#39;emoncms&#39;;</strong></p>
<p>To copy emontemp&#39;s password salt to the emoncms user account, issue the command:<br />
<strong>update users set salt=(select * from (select salt from users where username=&#39;emontemp&#39;) x) where username=&#39;emoncms&#39;;</strong></p>
<p><em>Time saver tip: The two commands are the same save for the words password and salt. After you issue the first command, hit the up arrow key, change the two instances of password to salt, hit enter.</em></p>
<p>That&#39;s it. You should be able to log on to your emoncms admin account with the password you gave emontemp.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-30567"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="/emon/user/8188" title="View user profile."><img src="http://openenergymonitor.org/emon/sites/default/files/imagecache/avatar/pictures/picture-8188.jpg" alt="Chewie&#039;s picture" title="Chewie&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Why does Emoncms require "swift mailer" ?</h3>

    <div class="submitted">Submitted by <a href="/emon/user/8188" title="View user profile.">Chewie</a> on Thu, 21/05/2015 - 19:03.</div>
    <div class="content">
     <p>Brilliant, thanks Bill. I&#39;ve cut &amp; pasted your advice and saved so if I ever need to do it I don&#39;t need to ask.... just waiting on my EmonPi now :-)</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="/emon/node/10726"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-Didt1HrlAFnZdvGnz3F1zba1cBv0gYfsA3HarhZipm4" value="form-Didt1HrlAFnZdvGnz3F1zba1cBv0gYfsA3HarhZipm4"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>

</html>
