<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en" dir="ltr">


<!-- Mirrored from openenergymonitor.org/emon/node/10155 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:11:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Sensor error or calibration problem - Real beginner | Archived Forum</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/default/files/emon3_favicon.png" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="all" href="../modules/node/node4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/mollom/mollom4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment4b43.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/themes/emon3/style4b43.css?r" />
<style type="text/css" media="all">@import "../sites/all/themes/emon3/user_bar.css";</style>
    <script type="text/javascript"> </script>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>

<body>

<div id="box">

<table border="0" cellpadding="0" cellspacing="0" id="header">
  <tr>
    <td id="logo">
       <h1 class='site-name'><a href="../index.html" title="Home">Archived Forum</a></h1>    </td>
    <td id="menu">
      
                  
      
    </td>
  </tr>
  <tr>
    <td colspan="2"><div></div></td>
</tr>
</table>
<!--<div style="background-color:#444444; border-top: 1px solid #888; height:32px;">-->

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
            <div id="main">
        <div class="breadcrumb"><a href="../index.html">Home</a> » <a href="../forum.html">Forums</a> » <a href="../forum/6.html">Archived: Questions and support </a></div>     
        <div class="tabs"></div>
                          <div class="node">

    
    
          <div class="comment" >
                <h3 class="title" style="">Sensor error or calibration problem - Real beginner</h3>
        <span class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Wed, 11/02/2015 - 06:11</span>
        <div class="content"><p>Ok, I now have CT sensors feeding to a local verion of EMONCMS running a RPi as supplied a few weeks ago by the store. The CT Sensors were from ebay, but are branded the same as the ones from the store.</p>
<p>I don&#39;t have a 9V transformer connected, so for the moment an estimated voltage will need to be used. My inverter has a data feed of&nbsp;the exact voltage, which I had intended to use, but for the moment it is looking too complicated.</p>
<p>Now I have 4 CT clips all connected on the active wire of a small load, around 60W to 120W. However the values shown in the EMONCMS don&#39;t agree with the load as measured by what is considered to be a reasonable accurate power meter. It is showing about half the reading.</p>
<p>I can&#39;t understand where to put in a fixed Voltage to calibrate the readings in EMONCMS.</p>
<p>Now the key 5, which I assume is meant to be the voltage, is showing 550 to 560, which would account for the power variation, given that the voltage is roughly 240.</p>
<p>Of course I could be completely misunderstanding this and the output from the CT sensors is a current value.</p>
  <div class="forum-topic-navigation clear-block">
          <a href="10180.html" class="topic-previous" title="Go to previous forum topic">‹ Solar Set Up - Using Addition of Input/Feed Process</a>
              <a href="10089.html" class="topic-next" title="Go to next forum topic">CT3 delayed readings? ›</a>
      </div>
</div>
      </div>
    
    <div class="links">&raquo; <ul class="links inline"><li class="comment_forbidden first last"></li>
</ul></div>  </div>
<div id="comments">
  <a id="comment-27597"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 11/02/2015 - 12:46.</div>
    <div class="content">
     <p>I think there's something missing here. You don't connect a CT to a Raspberry Pi. There's something in between. We need to know what - in detail. Telling us half the story isn't enough for anyone to be of much help. </p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27616"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Wed, 11/02/2015 - 21:12.</div>
    <div class="content">
     <p>Sorry, I forgot to mention that the CT are connected to the&nbsp;emonTx V3, which is connected via RF to the RPi as per the standard set up supplied from the shop.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27621"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Wed, 11/02/2015 - 23:05.</div>
    <div class="content">
     <p>The fixed voltage is set in the sketch in the emonTx.</p>
<p>However, you cannot expect accurate current readings at that level. The CT - all CTs - become inaccurate at very low currents due to losses, and yours (assuming they are the standard shop ones) are designed for 100 A maximum, as is the input circuit of your emonTx. So you are running them at well below 1%. Plus you're expecting a lot out of a 10-bit ADC, because that's running at well below 1% too. The accuracy will improve as the power increases.</p>
<p>The emonTx gives you power in Watts (or in your case, VA).<br />
If you don't have a programmer to change the voltage (it's 230 V) in the emonTx sketch, you can in emonCMS, in the feed, multiply the power by 0.00435 (= 1/230) then multiply by your voltage, either as a constant or if you can get that into emonCMS, by the actual value. But that still only gives you apparent power (VA).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27625"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Thu, 12/02/2015 - 06:37.</div>
    <div class="content">
     <p>Thanks for your help.</p>
<p>I understand better how the system works.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27626"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/3016.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="dBC&#039;s picture" title="dBC&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/3016.html" title="View user profile.">dBC</a> on Thu, 12/02/2015 - 08:49.</div>
    <div class="content">
     <p><em>The CT - all CTs - become inaccurate at very low currents due to losses</em></p>
<p>Yes, but some are a whole lot better than others. &nbsp;While not suitable for the standard OEM design, the 333mV ones I use have an impressive dynamic range. &nbsp;I just re-tested a 20A CT, with the meter last calibrated over a year ago at 2A.</p>
<table border="1" cellpadding="1" cellspacing="1" style="width:500px">
<thead>
<tr>
<th scope="col">Primary Current (A)</th>
<th scope="col">Meter Reading (A)</th>
<th scope="col">Phase Error (relative to 2A phase error) (&deg;)</th>
</tr>
</thead>
<tbody>
<tr>
<td>0.05</td>
<td>0.04980</td>
<td>0.07</td>
</tr>
<tr>
<td>0.1</td>
<td>0.09984</td>
<td>0.19</td>
</tr>
<tr>
<td>2</td>
<td>1.99972</td>
<td>0.09</td>
</tr>
<tr>
<td>20</td>
<td>19.9794</td>
<td>0.12</td>
</tr>
</tbody>
</table>
<p>Much below 50mA and it starts to go off into the weeds on the phase error, but the amplitude stays half decent.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27646"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Thu, 12/02/2015 - 17:10.</div>
    <div class="content">
     <p><i>"Yes, but some are a whole lot better than others."</i></p>
<p>True, but those generally cost a whole lot more too. If you don't need the split-core construction, performance of a ring-core is generally better.</p>
<p>And I'd expect performance to generally be better the closer it is working into a short circuit (i.e. the smallest possible value of burden resistor).</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27691"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Fri, 13/02/2015 - 23:32.</div>
    <div class="content">
     <p>May be I should have bought some ring core transformers. Is there a particular model to order?</p>
<p>Can the lower capacity CT used with Emon?<br />
​I assume some adjustments would need to be made to the setup. Is this a hardware issue or just software changes?</p>
<p>&nbsp;</p>
<p>I suspect the 100A&nbsp;CT have a systemic error at low power errors as all four I was test had readings very close to each other +/-6% or less. It might be possible to include a calibration off set into the system.&nbsp;</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27694"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 14/02/2015 - 00:32.</div>
    <div class="content">
     <p>With the trouble (and small cost) of replacing the burden resistor, you can use any suitable CT with the emonTx. The devil is in 'suitable', because for best resolution we need the burden resistor to develop about 1.1 V rms at maximum current. Many CTs are designed for only 0.333 V and have a built-in burden, so those are not suitable. But a 'current output' type (i.e just a CT with nothing added) should be suitable, even if you need to derate it to get enough output voltage (see the parallel thread about the USA).</p>
<p>What is the maximum current that you want to measure? If I knew that, it would help.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27696"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/7605.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="craigfryer&#039;s picture" title="craigfryer&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/7605.html" title="View user profile.">craigfryer</a> on Sat, 14/02/2015 - 01:01.</div>
    <div class="content">
     <p>ok, it is starting to sound more complex than is worth the effort. Thank you for your answer Robert.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<a id="comment-27699"></a>
  <div class="comment comment-published" >
    <div class="picture">
  <a href="../user/924.html" title="View user profile."><img src="../sites/default/files/imagecache/avatar/default_0.png" alt="Robert Wall&#039;s picture" title="Robert Wall&#039;s picture" width="50" height="50" class="imagecache imagecache-avatar"/></a></div>

<h3 class="title" style="padding-bottom:5px">Re: Sensor error or calibration problem - Real beginner</h3>

    <div class="submitted">Submitted by <a href="../user/924.html" title="View user profile.">Robert Wall</a> on Sat, 14/02/2015 - 01:21.</div>
    <div class="content">
     <p>If you add a voltage input (so that you are not squaring noise along with the signal in the rms calculation, you should see better accuracy down at those low levels. The other trick you can employ, if you have the wire, is use a multi-turn primary winding for your CT. A 10-turn primary will give you 10 A max reading, which you can correct either with the emonTx calibration factor or in emonCMS. </p>
<p>Therefore, given the numbers you've mentioned, a 10-turn primary would mean you would run at 5% of full range, rather than 0.5%. And the accuracy will be a whole lot better there.</p>
         </div>
    <div class="links">&raquo; <ul class="links"><li class="comment_forbidden first last"></li>
</ul></div>
  </div>
<form action="https://openenergymonitor.org/emon/node/10155"  accept-charset="UTF-8" method="post" id="comment-controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input type="hidden" name="form_build_id" id="form-zKy5asGKUyLr5Aob7p8PT00uDd5eicS3_k5-o8PHsHo" value="form-zKy5asGKUyLr5Aob7p8PT00uDd5eicS3_k5-o8PHsHo"  />
<input type="hidden" name="form_id" id="edit-comment-controls" value="comment_controls"  />
<div class="form-item" id="edit-mode-wrapper">
 <select name="mode" class="form-select" id="edit-mode" ><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item" id="edit-order-wrapper">
 <select name="order" class="form-select" id="edit-order" ><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item" id="edit-comments-per-page-wrapper">
 <select name="comments_per_page" class="form-select" id="edit-comments-per-page" ><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300" selected="selected">300 comments per page</option></select>
</div>
<input type="submit" name="op" id="edit-submit" value="Save settings"  class="form-submit" />
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
</div>
      
              </div>
    </td>
      </tr>
</table>

<div id="footer">
  <p>Open-source tools for energy monitoring and analysis.&nbsp;Forum has moved to: <a href="https://community.openenergymonitor.org/">https://community.openenergymonitor.org</a></p>
   
</div>


</div>
</body>


<!-- Mirrored from openenergymonitor.org/emon/node/10155 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 20 Feb 2017 16:11:01 GMT -->
</html>
